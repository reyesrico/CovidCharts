(this["webpackJsonpcovid-charts"]=this["webpackJsonpcovid-charts"]||[]).push([[0],{187:function(e,t,a){e.exports=a(390)},192:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),o=a.n(c),l=(a(192),a(7)),i=a(11),s=a(12),u=a(14),d=a(13),m=a(46),h=a(9),f=a(24),p=(a(369),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",null,"Covid Charts\u2122 is a platform coded by \xa0",r.a.createElement("a",{href:"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html",target:"_blank",rel:"noopener noreferrer"},"Carlos Reyes-Rico"),"."),r.a.createElement("div",null,"Why?: Click ",r.a.createElement("a",{href:"https://github.com/reyesrico/CovidCharts/blob/master/README.md"},"here")),r.a.createElement("div",null,"Code: ",r.a.createElement("a",{href:"https://github.com/reyesrico/CovidCharts"},"https://github.com/reyesrico/CovidCharts")),r.a.createElement("div",null,"Contact and Follow Me! Twitter: ",r.a.createElement("a",{href:"https://twitter.com/reyesrico"},"@reyesrico")))}}]),a}(n.Component)),v=(a(370),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.countrySelected;return r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",{className:"instructions__title"},"Instructions"),r.a.createElement("ol",{className:"instructions__list"},r.a.createElement("li",null,"Select a country"),r.a.createElement("li",null,"If country has states data: select a state"),r.a.createElement("li",null,"If country has cities data: select a city")),r.a.createElement("div",{className:"instructions__examples"},r.a.createElement("div",null,"Flatten Curves Examples: ",r.a.createElement("b",null,"Germany, Korea (South), United States (NY, NY)")),r.a.createElement("button",{className:"instructions__button",onClick:function(t){return t&&localStorage.setItem("country",e.value)}},"Save Default Country")))}}]),a}(n.Component)),y=a(155),E=a.n(y),C=(a(371),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return r.a.createElement("div",{className:"stuffie-loading"},r.a.createElement(E.a,{type:"spin",color:"#00f",height:t,width:t}),e&&r.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),a}(n.Component)),b=a(16),O=a(85),g=a.n(O),D=a(156),S=a.n(D),j=a(15),_=a.n(j),k={chart:{height:250,zoomType:"x"},title:{text:""},legend:{enabled:!1},xAxis:{type:"datetime"},tooltip:{shared:!0},credits:{enabled:!1},plotOptions:{areaspline:{fillOpacity:.1}}},w=(a(372),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={series:{},yValues:{Confirmed:!0,Deaths:!1,Recovered:!1,ConfirmedInc:!1,DeathsInc:!1,RecoveredInc:!1}},e.clearYValues=function(){var t={};Object.keys(e.state.yValues).forEach((function(e){var a="Confirmed"===e;t=Object(l.a)(Object(l.a)({},t),{},Object(b.a)({},e,a))})),e.setState({yValues:t})},e.yValuesFalse=function(){return!Object.values(e.state.yValues).reduce((function(e,t){return e||t}))},e.renderOptions=function(){var t=e.state.yValues;return r.a.createElement("div",{className:"make-chart__options"},r.a.createElement("div",{className:"make-chart__values"},"Values (Y Axis)"),Object.keys(t).map((function(a,n){var c=t[a];return r.a.createElement("div",{key:n},r.a.createElement("input",{checked:c,type:"checkbox",name:"yaxis",value:a,id:a,onChange:function(t){return t&&e.changeInput(a)}}),a)})))},e.getData=function(){var t=e.props.data,a=e.state.yValues;if(!e.yValuesFalse()){var n=[],r=[],c=[],o=[],l=[],i=[];t.forEach((function(e,s){if(a.Confirmed&&n.push([_()(e.Date).valueOf(),e.Confirmed]),a.Deaths&&r.push([_()(e.Date).valueOf(),e.Deaths]),a.Recovered&&c.push([_()(e.Date).valueOf(),e.Recovered]),0===s)a.ConfirmedInc&&o.push([_()(e.Date).valueOf(),0]),a.DeathsInc&&l.push([_()(e.Date).valueOf(),0]),a.RecoveredInc&&i.push([_()(e.Date).valueOf(),0]);else{var u=t[s-1];a.ConfirmedInc&&o.push([_()(e.Date).valueOf(),e.Confirmed-u.Confirmed]),a.DeathsInc&&l.push([_()(e.Date).valueOf(),e.Deaths-u.Deaths]),a.RecoveredInc&&i.push([_()(e.Date).valueOf(),e.Recovered-u.Recovered])}}));var s=[];a.Confirmed&&s.push({type:"area",name:"Confirmed",data:n}),a.Deaths&&s.push({type:"area",name:"Deaths",data:r}),a.Recovered&&s.push({type:"area",name:"Recovered",data:c}),a.ConfirmedInc&&s.push({type:"area",name:"ConfirmedInc",data:o}),a.DeathsInc&&s.push({type:"area",name:"DeathsInc",data:l}),a.RecoveredInc&&s.push({type:"area",name:"RecoveredInc",data:i}),e.setState({series:s})}},e.renderChart=function(){var t=e.props.width,a=e.state.series,n=Object(l.a)(Object(l.a)({},k),{},{chart:Object(l.a)(Object(l.a)({},k.chart),{},{width:t}),series:a});if(!Object(f.isEmpty)(a))return r.a.createElement(S.a,{highcharts:g.a,options:n})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.yValues;Object(f.isEqual)(t.yValues,a)||(this.yValuesFalse()?this.clearYValues():this.getData())}},{key:"changeInput",value:function(e){var t=this.state.yValues[e],a=Object(l.a)({},this.state.yValues);a[e]=!t,this.setState({yValues:a})}},{key:"render",value:function(){return r.a.createElement("div",{className:"make-chart"},this.renderOptions(),r.a.createElement("hr",null),this.renderChart())}}]),a}(n.Component)),I=function(e){return e&&e.some((function(e){return""!==e.Province}))},x=function(e){return e&&e.some((function(e){return""!==e.City}))},N=function(e){var t={};return e.forEach((function(e){var a=""===e.Province?"Undefined":e.Province,n=""===e.City?"Undefined":e.City,r=Object(l.a)(Object(l.a)({},e),{},{Province:a,City:n});Object.keys(t).includes(r.Province)?t[r.Province].push(r):t=Object(l.a)(Object(l.a)({},t),{},Object(b.a)({},r.Province,[r]))})),t},V=function(e,t){return e[t.label].map((function(e){return e.City})).filter((function(e,t,a){return a.indexOf(e)===t})).sort().map((function(e){return{value:e,name:e,label:e}}))},M=function(e,t,a){return e[t.label].filter((function(e){return e.City===a.label}))},R=function(e){if(e.length){for(var t=e[0],a=[t.Confirmed],n=[t.Deaths],r=1;r<e.length;r++){t=e[r];var c=e[r-1];a[r]=t.Confirmed-c.Confirmed,n[r]=t.Deaths-c.Deaths}return e.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{Confirmed:a[t]})}))}},P=function(e){return Object.keys(e).sort().map((function(e){return{name:e,label:e,value:e}}))},L=function(e){return e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{Date:_()(e.Date).format("MMM Do")})}))},K=a(45),z=a.n(K),A={"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},G=function(){return"https://api.covid19api.com/countries"},U=function(e){return"https://api.covid19api.com/dayone/country/".concat(e)},Y=function(e){return z.a.get(U(e),{headers:A})},F=(a(389),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={isLoading:!1,countryData:[]},e.getCountryInfo=function(){var t=e.props,a=t.countryCompare,n=t.hasProvinces;e.setState({countryData:[]}),n||(e.setState({isLoading:!0}),Y(a.value).then((function(t){return e.setState({countryData:t.data})})).finally((function(){return e.setState({isLoading:!1})})))},e.getData=function(){var t=e.props,a=t.data,n=t.countryCompare,r=e.state.countryData,c=[];if(a.length&&r.length){var o={};r.forEach((function(e){o=Object(l.a)(Object(l.a)({},o),{},Object(b.a)({},e.Date,e))})),c=a.map((function(e){var t,a=o[e.Date];return t={},Object(b.a)(t,e.Country,e.Confirmed),Object(b.a)(t,n.label,a?a.Confirmed:0),Object(b.a)(t,"Date",e.Date),t}))}return c},e.renderChart=function(){var t=e.props.width,a=e.getData();if(!a||!a.length)return r.a.createElement("div",null,"Data no available");a=L(a);var n=Object.keys(a[0]);return r.a.createElement(h.b,{width:t,height:250,data:a,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"color1",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})),r.a.createElement("linearGradient",{id:"color2",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0}))),r.a.createElement(h.e,{dataKey:"Date"}),r.a.createElement(h.f,null),r.a.createElement(h.c,{strokeDasharray:"3 3"}),r.a.createElement(h.d,null),r.a.createElement(h.a,{type:"monotone",dataKey:n[0],stroke:"#82ca9d",fillOpacity:1,fill:"url(#color1)"}),r.a.createElement(h.a,{type:"monotone",dataKey:n[1],stroke:"#8884d8",fillOpacity:1,fill:"url(#color2)"}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getCountryInfo()}},{key:"componentDidUpdate",value:function(e){var t=this.props.countryCompare;Object(f.isEqual)(e.countryCompare,t)||this.getCountryInfo()}},{key:"render",value:function(){return this.props.hasProvinces?r.a.createElement("div",null,"Country not available to compare"):r.a.createElement("div",null,this.renderChart())}}]),a}(n.Component)),q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={defaultCountrySlug:localStorage.getItem("country")||"mexico",menu:{fn:null},all:null,country:[],countryData:[],countries:[],countrySelected:{name:null,Country:"",value:"",label:null},countryCompare:{name:null,Country:"",value:"",label:null},isLoading:!1,provinces:[],provinceData:[],provinceSelected:{name:null,value:"",label:null},cities:[],citySelected:{name:null,value:"",label:null},usMap:{},width:500},e.getCountryInfo=function(){var t=e.state.countrySelected;e.setState({isLoading:!0}),Y(t.value).then((function(t){var a,n,r,c,o,l=t.data;I(l)?(a=N(l),r=(n=P(a))[0],x(l)&&(o=(c=V(a,r))[0]),e.setState({usMap:a,country:l,cities:c,provinces:n,provinceSelected:r,citySelected:o})):e.setState({country:l,usMap:{},provinceSelected:{name:null},provinces:[],provinceData:[],citySelected:{name:null},cities:[]})})).finally((function(){return e.setState({isLoading:!1})}))},e.getData=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state,c=r.usMap,o=r.citySelected,l=r.provinceSelected,i=x(t)?M(c,l,o):I(t)?c[l.label]:t;return i=n?L(i):i,a?R(i):i},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.defaultCountrySlug,a=window.innerWidth,n=a>=500?500:.8*a;z.a.get(G(),{headers:A}).then((function(a){var r=Object(f.sortBy)(a.data,["Slug"]),c=0,o=r.map((function(e,a){return e.Slug===t&&(c=a),Object(l.a)(Object(l.a)({},e),{},{value:e.Slug,label:e.Country,name:e.Slug})}));e.setState({countries:o,countrySelected:o[c],countryCompare:o[0],width:n})}))}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.isLoading)if(Object(f.isEqual)(t.countrySelected,this.state.countrySelected)){if(!Object(f.isEqual)(t.provinceSelected,this.state.provinceSelected)&&x(this.state.country)){var a=V(this.state.usMap,this.state.provinceSelected);this.setState({cities:a,citySelected:a[0]})}}else this.getCountryInfo()}},{key:"renderChart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.state.width,n=this.getData(e,t);return n&&n.length?r.a.createElement(h.b,{width:a,height:250,data:n,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorDeaths",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorConfirmed",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(h.e,{dataKey:"Date"}),r.a.createElement(h.f,null),r.a.createElement(h.c,{strokeDasharray:"3 3"}),r.a.createElement(h.d,null),r.a.createElement(h.a,{type:"monotone",dataKey:"Confirmed",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorConfirmed)"}),r.a.createElement(h.a,{type:"monotone",dataKey:"Deaths",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorDeaths)"})):r.a.createElement("div",null,"No data")}},{key:"renderCompareChart",value:function(e){var t=this,a=this.state,n=a.country,c=a.countries,o=a.countryCompare,l=a.width;return r.a.createElement("div",{className:"covid__chart"},r.a.createElement("h3",{className:"covid__chart-text"},"Compare Confirmed with other country"),r.a.createElement("div",{className:"covid__chart-select"},r.a.createElement(m.a,{onChange:function(e){return t.setState({countryCompare:e})},options:c,value:o})),n.length&&r.a.createElement(F,{data:this.getData(n,!1,!1),width:l,countryCompare:o,hasProvinces:e}))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.country,c=a.countries,o=a.countrySelected,l=a.isLoading,i=a.provinces,s=a.provinceSelected,u=a.cities,d=a.citySelected,h=a.usMap,f=a.width,y=null!==(e=o.label)&&void 0!==e?e:"Country";if(!c.length||l)return r.a.createElement(C,{size:"xl",message:"Loading ".concat(y," Data")});var E=I(n),b=x(n);return r.a.createElement("div",{className:"covid"},r.a.createElement("h2",{className:"covid__title"},"COVID ",o.label," Charts"),r.a.createElement("h3",{className:"covid__subtitle"},"Data Source: ",r.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19"},"Johns Hopkins CSSE")),r.a.createElement(v,{countrySelected:o}),r.a.createElement("div",{className:"covid__dropdowns"},r.a.createElement(m.a,{onChange:function(e){return t.setState({countrySelected:e})},options:c,value:o}),E&&r.a.createElement(m.a,{onChange:function(e){return t.setState({provinceSelected:e})},options:i,value:s}),b&&r.a.createElement(m.a,{onChange:function(e){return t.setState({citySelected:e})},options:u,value:d})),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__charts"},r.a.createElement("h3",{className:"covid__chart-text"},"Total Confirmed and Deaths"),this.renderChart(n),r.a.createElement("hr",null),r.a.createElement("h3",{className:"covid__chart-text"},"Incremental Confirmed (To Date - One Day Before) and Deaths"),this.renderChart(n,!0),r.a.createElement("hr",null),!E&&this.renderCompareChart(E),r.a.createElement("hr",null),r.a.createElement("h3",{className:"covid__chart-text"},"Make Your Own Chart"),r.a.createElement(w,{countries:c,data:this.getData(n,!1,!1),map:h,width:f}),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__texts"},r.a.createElement("div",{className:"covid__text"},o.label),E&&r.a.createElement("div",{className:"covid__text"},null===s||void 0===s?void 0:s.label),b&&r.a.createElement("div",{className:"covid__text"},null===d||void 0===d?void 0:d.label))),r.a.createElement(p,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[187,1,2]]]);
//# sourceMappingURL=main.74eb99b3.chunk.js.map