/*! For license information please see 2.5ea9a69d.chunk.js.LICENSE.txt */
(this["webpackJsonpcovid-charts"]=this["webpackJsonpcovid-charts"]||[]).push([[2],[function(t,e,n){"use strict";n.d(e,"i",(function(){return gs})),n.d(e,"l",(function(){return z.a})),n.d(e,"m",(function(){return z.b})),n.d(e,"jd",(function(){return Es.a})),n.d(e,"yd",(function(){return Es.b})),n.d(e,"r",(function(){return fe})),n.d(e,"s",(function(){return va})),n.d(e,"K",(function(){return Sn})),n.d(e,"G",(function(){return ga})),n.d(e,"H",(function(){return ya})),n.d(e,"I",(function(){return ba})),n.d(e,"J",(function(){return xa})),n.d(e,"R",(function(){return Z})),n.d(e,"S",(function(){return ka})),n.d(e,"T",(function(){return Sa})),n.d(e,"U",(function(){return Ea})),n.d(e,"V",(function(){return Ca})),n.d(e,"W",(function(){return ja})),n.d(e,"X",(function(){return Xt})),n.d(e,"Y",(function(){return Ta})),n.d(e,"Z",(function(){return Aa})),n.d(e,"cb",(function(){return Ma})),n.d(e,"db",(function(){return Na})),n.d(e,"gb",(function(){return ln})),n.d(e,"hb",(function(){return Ua})),n.d(e,"mb",(function(){return Ha})),n.d(e,"rb",(function(){return Ga})),n.d(e,"zb",(function(){return Ya})),n.d(e,"Ab",(function(){return qa})),n.d(e,"Jb",(function(){return Xa})),n.d(e,"Kb",(function(){return Ka})),n.d(e,"Nb",(function(){return $a})),n.d(e,"Ub",(function(){return lt})),n.d(e,"Vb",(function(){return Ja})),n.d(e,"hc",(function(){return Za})),n.d(e,"kc",(function(){return Qa})),n.d(e,"lc",(function(){return ta})),n.d(e,"oc",(function(){return _n})),n.d(e,"sc",(function(){return hi})),n.d(e,"tc",(function(){return fi})),n.d(e,"Ic",(function(){return pi})),n.d(e,"Yc",(function(){return ft})),n.d(e,"ad",(function(){return At})),n.d(e,"cd",(function(){return hn})),n.d(e,"dd",(function(){return di})),n.d(e,"hd",(function(){return pn})),n.d(e,"sd",(function(){return dn})),n.d(e,"wd",(function(){return vi})),n.d(e,"Q",(function(){return ji.a})),n.d(e,"vc",(function(){return ji.c})),n.d(e,"Cb",(function(){return ji.b})),n.d(e,"Bc",(function(){return Ti})),n.d(e,"Wb",(function(){return Fi})),n.d(e,"C",(function(){return Li})),n.d(e,"Xb",(function(){return Bi})),n.d(e,"D",(function(){return Wi})),n.d(e,"Yb",(function(){return Ui})),n.d(e,"Qc",(function(){return Ln})),n.d(e,"Rc",(function(){return zn})),n.d(e,"Sc",(function(){return Bn})),n.d(e,"Tc",(function(){return Wn})),n.d(e,"Uc",(function(){return Un})),n.d(e,"o",(function(){return pe})),n.d(e,"p",(function(){return de})),n.d(e,"q",(function(){return ve})),n.d(e,"x",(function(){return me})),n.d(e,"y",(function(){return ge})),n.d(e,"z",(function(){return ye})),n.d(e,"B",(function(){return be})),n.d(e,"O",(function(){return xe})),n.d(e,"P",(function(){return we})),n.d(e,"ab",(function(){return Oe})),n.d(e,"bb",(function(){return ke})),n.d(e,"nb",(function(){return Se})),n.d(e,"ob",(function(){return Ee})),n.d(e,"qb",(function(){return Ce})),n.d(e,"ub",(function(){return je})),n.d(e,"Ob",(function(){return Te})),n.d(e,"Pb",(function(){return Ae})),n.d(e,"ic",(function(){return Me})),n.d(e,"wc",(function(){return Ne})),n.d(e,"Dc",(function(){return Ie})),n.d(e,"Ec",(function(){return De})),n.d(e,"Mc",(function(){return Re})),n.d(e,"Nc",(function(){return Pe})),n.d(e,"Oc",(function(){return Be})),n.d(e,"Pc",(function(){return We})),n.d(e,"Xc",(function(){return Ue})),n.d(e,"bd",(function(){return Ve})),n.d(e,"kd",(function(){return Ge})),n.d(e,"ld",(function(){return Ye})),n.d(e,"t",(function(){return yt})),n.d(e,"u",(function(){return bt})),n.d(e,"v",(function(){return xt})),n.d(e,"w",(function(){return wt})),n.d(e,"ac",(function(){return kt})),n.d(e,"cc",(function(){return St})),n.d(e,"fc",(function(){return Et})),n.d(e,"id",(function(){return Ct})),n.d(e,"rc",(function(){return jt})),n.d(e,"A",(function(){return Xe})),n.d(e,"vb",(function(){return $e})),n.d(e,"Zb",(function(){return Je})),n.d(e,"dc",(function(){return Qe})),n.d(e,"ec",(function(){return en})),n.d(e,"gc",(function(){return rn})),n.d(e,"pc",(function(){return on})),n.d(e,"jb",(function(){return Ji})),n.d(e,"Ib",(function(){return Zi})),n.d(e,"qc",(function(){return Qi})),n.d(e,"zc",(function(){return to})),n.d(e,"Hc",(function(){return no})),n.d(e,"Rb",(function(){return Pa})),n.d(e,"Sb",(function(){return Fa})),n.d(e,"Tb",(function(){return La})),n.d(e,"Dd",(function(){return Ba})),n.d(e,"Ed",(function(){return Wa})),n.d(e,"M",(function(){return tt})),n.d(e,"N",(function(){return nt})),n.d(e,"pb",(function(){return at})),n.d(e,"Ac",(function(){return it})),n.d(e,"ed",(function(){return ot})),n.d(e,"fd",(function(){return st})),n.d(e,"xd",(function(){return ut})),n.d(e,"Lc",(function(){return ct})),n.d(e,"tb",(function(){return J.a})),n.d(e,"Mb",(function(){return J.b})),n.d(e,"mc",(function(){return J.c})),n.d(e,"uc",(function(){return J.e})),n.d(e,"Fc",(function(){return J.f})),n.d(e,"md",(function(){return J.g})),n.d(e,"nd",(function(){return J.h})),n.d(e,"od",(function(){return J.i})),n.d(e,"pd",(function(){return J.k})),n.d(e,"Ad",(function(){return J.n})),n.d(e,"Fd",(function(){return J.o})),n.d(e,"nc",(function(){return J.d})),n.d(e,"Gd",(function(){return J.p})),n.d(e,"vd",(function(){return xn})),n.d(e,"Wc",(function(){return ro})),n.d(e,"Qb",(function(){return ao})),n.d(e,"xb",(function(){return ki})),n.d(e,"gd",(function(){return lo})),n.d(e,"td",(function(){return ho})),n.d(e,"Gc",(function(){return fo})),n.d(e,"sb",(function(){return po})),n.d(e,"Bb",(function(){return vo})),n.d(e,"Cc",(function(){return mo})),n.d(e,"Fb",(function(){return go})),n.d(e,"Zc",(function(){return bo})),n.d(e,"yb",(function(){return xo})),n.d(e,"ib",(function(){return wo})),n.d(e,"Db",(function(){return f})),n.d(e,"Lb",(function(){return h})),n.d(e,"wb",(function(){return p})),n.d(e,"ud",(function(){return js})),n.d(e,"kb",(function(){return ae})),n.d(e,"bc",(function(){return ie})),n.d(e,"rd",(function(){return oe})),n.d(e,"fb",(function(){return se})),n.d(e,"Gb",(function(){return ue})),n.d(e,"Kc",(function(){return ce})),n.d(e,"xc",(function(){return le})),n.d(e,"E",(function(){return he})),n.d(e,"yc",(function(){return Gn.e})),n.d(e,"Bd",(function(){return vt})),n.d(e,"lb",(function(){return ne.b})),n.d(e,"Cd",(function(){return fa})),n.d(e,"jc",(function(){return Ts.a})),n.d(e,"L",(function(){return i})),n.d(e,"Eb",(function(){return a})),n.d(e,"Jc",(function(){return o})),n.d(e,"zd",(function(){return R})),n.d(e,"F",(function(){return v})),n.d(e,"qd",(function(){return I})),n.d(e,"Vc",(function(){return r})),n.d(e,"eb",(function(){return Qs})),n.d(e,"Hb",(function(){return m})),n.d(e,"d",(function(){return au})),n.d(e,"a",(function(){return ru})),n.d(e,"b",(function(){return b})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return O})),n.d(e,"e",(function(){return k})),n.d(e,"k",(function(){return S})),n.d(e,"j",(function(){return E})),n.d(e,"n",(function(){return C})),n.d(e,"c",(function(){return j}));var r={};n.r(r),n.d(r,"assertParamsValid",(function(){return Mn})),n.d(r,"maskToAxes",(function(){return Nn})),n.d(r,"computeOutShape",(function(){return In})),n.d(r,"startForAxis",(function(){return Dn})),n.d(r,"stopForAxis",(function(){return Rn})),n.d(r,"isSliceContinous",(function(){return Pn})),n.d(r,"computeFlatOffset",(function(){return Fn}));var a={};n.r(a),n.d(a,"copyModel",(function(){return pr})),n.d(a,"listModels",(function(){return cr})),n.d(a,"moveModel",(function(){return vr})),n.d(a,"removeModel",(function(){return hr})),n.d(a,"browserFiles",(function(){return Pr})),n.d(a,"browserHTTPRequest",(function(){return Kr})),n.d(a,"concatenateArrayBuffers",(function(){return Qn.d})),n.d(a,"decodeWeights",(function(){return Qn.e})),n.d(a,"encodeWeights",(function(){return Qn.f})),n.d(a,"fromMemory",(function(){return Zr})),n.d(a,"getLoadHandlers",(function(){return ar})),n.d(a,"getModelArtifactsInfoForJSON",(function(){return Qn.g})),n.d(a,"getSaveHandlers",(function(){return rr})),n.d(a,"http",(function(){return Xr})),n.d(a,"isHTTPScheme",(function(){return Yr})),n.d(a,"loadWeights",(function(){return Wr})),n.d(a,"registerLoadRouter",(function(){return nr})),n.d(a,"registerSaveRouter",(function(){return er})),n.d(a,"weightsLoaderFactory",(function(){return Vr})),n.d(a,"withSaveHandler",(function(){return Qr}));var i={};n.r(i),n.d(i,"toPixels",(function(){return na})),n.d(i,"fromPixels",(function(){return aa}));var o={};n.r(o),n.d(o,"Serializable",(function(){return ca})),n.d(o,"SerializationMap",(function(){return la})),n.d(o,"registerClass",(function(){return ha}));var s={};n.r(s),n.d(s,"segOpComputeOptimalWindowSize",(function(){return yi})),n.d(s,"computeOutShape",(function(){return bi})),n.d(s,"collectGatherOpShapeInfo",(function(){return xi}));var u={};n.r(u),n.d(u,"fft",(function(){return po})),n.d(u,"ifft",(function(){return vo})),n.d(u,"rfft",(function(){return mo})),n.d(u,"irfft",(function(){return go}));var c={};n.r(c),n.d(c,"hannWindow",(function(){return So})),n.d(c,"hammingWindow",(function(){return Eo})),n.d(c,"frame",(function(){return Co})),n.d(c,"stft",(function(){return jo}));var l={};n.r(l),n.d(l,"Reduction",(function(){return Ao})),n.d(l,"absoluteDifference",(function(){return Io})),n.d(l,"computeWeightedLoss",(function(){return Do})),n.d(l,"cosineDistance",(function(){return Ro})),n.d(l,"hingeLoss",(function(){return Po})),n.d(l,"huberLoss",(function(){return Fo})),n.d(l,"logLoss",(function(){return Lo})),n.d(l,"meanSquaredError",(function(){return zo})),n.d(l,"sigmoidCrossEntropy",(function(){return Bo})),n.d(l,"softmaxCrossEntropy",(function(){return Wo}));var h={};n.r(h),n.d(h,"bandPart",(function(){return Vo})),n.d(h,"gramSchmidt",(function(){return Ho})),n.d(h,"qr",(function(){return Go}));var f={};n.r(f),n.d(f,"nonMaxSuppression",(function(){return es})),n.d(f,"resizeBilinear",(function(){return as})),n.d(f,"resizeNearestNeighbor",(function(){return is})),n.d(f,"nonMaxSuppressionAsync",(function(){return os})),n.d(f,"nonMaxSuppressionWithScore",(function(){return ss})),n.d(f,"nonMaxSuppressionWithScoreAsync",(function(){return us})),n.d(f,"cropAndResize",(function(){return cs}));var p={};n.r(p),n.d(p,"matMul",(function(){return ds})),n.d(p,"conv2d",(function(){return vs})),n.d(p,"depthwiseConv2d",(function(){return ms}));var d={};n.r(d),n.d(d,"add",(function(){return fe})),n.d(d,"addN",(function(){return va})),n.d(d,"batchToSpaceND",(function(){return Sn})),n.d(d,"batchNorm",(function(){return ga})),n.d(d,"batchNorm2d",(function(){return ya})),n.d(d,"batchNorm3d",(function(){return ba})),n.d(d,"batchNorm4d",(function(){return xa})),n.d(d,"broadcastTo",(function(){return Oa})),n.d(d,"clone",(function(){return wa})),n.d(d,"concat",(function(){return Z})),n.d(d,"concat1d",(function(){return ka})),n.d(d,"concat2d",(function(){return Sa})),n.d(d,"concat3d",(function(){return Ea})),n.d(d,"concat4d",(function(){return Ca})),n.d(d,"conv1d",(function(){return ja})),n.d(d,"conv2d",(function(){return Xt})),n.d(d,"conv2dTranspose",(function(){return Ta})),n.d(d,"conv3d",(function(){return Aa})),n.d(d,"conv3dTranspose",(function(){return _a})),n.d(d,"depthToSpace",(function(){return Ma})),n.d(d,"depthwiseConv2d",(function(){return Na})),n.d(d,"diag",(function(){return Ia})),n.d(d,"div",(function(){return ln})),n.d(d,"divNoNan",(function(){return Ua})),n.d(d,"dot",(function(){return Va})),n.d(d,"equal",(function(){return Ha})),n.d(d,"eye",(function(){return Ga})),n.d(d,"greater",(function(){return Ya})),n.d(d,"greaterEqual",(function(){return qa})),n.d(d,"less",(function(){return Xa})),n.d(d,"lessEqual",(function(){return Ka})),n.d(d,"localResponseNormalization",(function(){return $a})),n.d(d,"matMul",(function(){return lt})),n.d(d,"max",(function(){return Ja})),n.d(d,"multinomial",(function(){return Za})),n.d(d,"notEqual",(function(){return Qa})),n.d(d,"oneHot",(function(){return ta})),n.d(d,"outerProduct",(function(){return ti})),n.d(d,"pad",(function(){return _n})),n.d(d,"pad1d",(function(){return ei})),n.d(d,"pad2d",(function(){return ni})),n.d(d,"pad3d",(function(){return ri})),n.d(d,"pad4d",(function(){return ai})),n.d(d,"rand",(function(){return ii})),n.d(d,"randomGamma",(function(){return li})),n.d(d,"randomNormal",(function(){return hi})),n.d(d,"randomUniform",(function(){return fi})),n.d(d,"separableConv2d",(function(){return pi})),n.d(d,"spaceToBatchND",(function(){return ft})),n.d(d,"split",(function(){return At})),n.d(d,"square",(function(){return hn})),n.d(d,"squaredDifference",(function(){return di})),n.d(d,"sub",(function(){return pn})),n.d(d,"tile",(function(){return dn})),n.d(d,"truncatedNormal",(function(){return vi})),n.d(d,"booleanMaskAsync",(function(){return Ci})),n.d(d,"complex",(function(){return ji.a})),n.d(d,"real",(function(){return ji.c})),n.d(d,"imag",(function(){return ji.b})),n.d(d,"reverse",(function(){return Ti})),n.d(d,"reverse1d",(function(){return Ai})),n.d(d,"reverse2d",(function(){return _i})),n.d(d,"reverse3d",(function(){return Mi})),n.d(d,"reverse4d",(function(){return Ni})),n.d(d,"maxPool",(function(){return Fi})),n.d(d,"avgPool",(function(){return Li})),n.d(d,"pool",(function(){return zi})),n.d(d,"maxPool3d",(function(){return Bi})),n.d(d,"avgPool3d",(function(){return Wi})),n.d(d,"maxPoolWithArgmax",(function(){return Ui})),n.d(d,"slice",(function(){return Ln})),n.d(d,"slice1d",(function(){return zn})),n.d(d,"slice2d",(function(){return Bn})),n.d(d,"slice3d",(function(){return Wn})),n.d(d,"slice4d",(function(){return Un})),n.d(d,"abs",(function(){return pe})),n.d(d,"acos",(function(){return de})),n.d(d,"acosh",(function(){return ve})),n.d(d,"asin",(function(){return me})),n.d(d,"asinh",(function(){return ge})),n.d(d,"atan",(function(){return ye})),n.d(d,"atanh",(function(){return be})),n.d(d,"ceil",(function(){return xe})),n.d(d,"clipByValue",(function(){return we})),n.d(d,"cos",(function(){return Oe})),n.d(d,"cosh",(function(){return ke})),n.d(d,"erf",(function(){return Se})),n.d(d,"exp",(function(){return Ee})),n.d(d,"expm1",(function(){return Ce})),n.d(d,"floor",(function(){return je})),n.d(d,"log",(function(){return Te})),n.d(d,"log1p",(function(){return Ae})),n.d(d,"logSigmoid",(function(){return _e})),n.d(d,"neg",(function(){return Me})),n.d(d,"reciprocal",(function(){return Ne})),n.d(d,"round",(function(){return Ie})),n.d(d,"rsqrt",(function(){return De})),n.d(d,"sigmoid",(function(){return Re})),n.d(d,"sign",(function(){return Pe})),n.d(d,"isNaN",(function(){return Fe})),n.d(d,"isInf",(function(){return Le})),n.d(d,"isFinite",(function(){return ze})),n.d(d,"sin",(function(){return Be})),n.d(d,"sinh",(function(){return We})),n.d(d,"softplus",(function(){return Ue})),n.d(d,"sqrt",(function(){return Ve})),n.d(d,"step",(function(){return He})),n.d(d,"tan",(function(){return Ge})),n.d(d,"tanh",(function(){return Ye})),n.d(d,"all",(function(){return yt})),n.d(d,"any",(function(){return bt})),n.d(d,"argMax",(function(){return xt})),n.d(d,"argMin",(function(){return wt})),n.d(d,"logSumExp",(function(){return Ot})),n.d(d,"mean",(function(){return kt})),n.d(d,"min",(function(){return St})),n.d(d,"moments",(function(){return Et})),n.d(d,"sum",(function(){return Ct})),n.d(d,"prod",(function(){return jt})),n.d(d,"equalStrict",(function(){return Vi})),n.d(d,"greaterEqualStrict",(function(){return Hi})),n.d(d,"greaterStrict",(function(){return Gi})),n.d(d,"lessEqualStrict",(function(){return Yi})),n.d(d,"lessStrict",(function(){return qi})),n.d(d,"notEqualStrict",(function(){return Xi})),n.d(d,"addStrict",(function(){return qe})),n.d(d,"atan2",(function(){return Xe})),n.d(d,"divStrict",(function(){return Ke})),n.d(d,"floorDiv",(function(){return $e})),n.d(d,"maximum",(function(){return Je})),n.d(d,"maximumStrict",(function(){return Ze})),n.d(d,"minimum",(function(){return Qe})),n.d(d,"minimumStrict",(function(){return tn})),n.d(d,"mod",(function(){return en})),n.d(d,"modStrict",(function(){return nn})),n.d(d,"mul",(function(){return rn})),n.d(d,"mulStrict",(function(){return an})),n.d(d,"pow",(function(){return on})),n.d(d,"powStrict",(function(){return sn})),n.d(d,"squaredDifferenceStrict",(function(){return un})),n.d(d,"subStrict",(function(){return cn})),n.d(d,"elu",(function(){return Ji})),n.d(d,"leakyRelu",(function(){return Zi})),n.d(d,"prelu",(function(){return Qi})),n.d(d,"relu",(function(){return to})),n.d(d,"relu6",(function(){return eo})),n.d(d,"selu",(function(){return no})),n.d(d,"logicalAnd",(function(){return Pa})),n.d(d,"logicalNot",(function(){return Fa})),n.d(d,"logicalOr",(function(){return La})),n.d(d,"logicalXor",(function(){return za})),n.d(d,"where",(function(){return Ba})),n.d(d,"whereAsync",(function(){return Wa})),n.d(d,"buffer",(function(){return tt})),n.d(d,"print",(function(){return et})),n.d(d,"cast",(function(){return nt})),n.d(d,"cumsum",(function(){return rt})),n.d(d,"expandDims",(function(){return at})),n.d(d,"reshape",(function(){return it})),n.d(d,"squeeze",(function(){return ot})),n.d(d,"stack",(function(){return st})),n.d(d,"unstack",(function(){return ut})),n.d(d,"setdiff1dAsync",(function(){return ct})),n.d(d,"fill",(function(){return J.a})),n.d(d,"linspace",(function(){return J.b})),n.d(d,"ones",(function(){return J.c})),n.d(d,"range",(function(){return J.e})),n.d(d,"scalar",(function(){return J.f})),n.d(d,"tensor",(function(){return J.g})),n.d(d,"tensor1d",(function(){return J.h})),n.d(d,"tensor2d",(function(){return J.i})),n.d(d,"tensor3d",(function(){return J.j})),n.d(d,"tensor4d",(function(){return J.k})),n.d(d,"tensor5d",(function(){return J.l})),n.d(d,"tensor6d",(function(){return J.m})),n.d(d,"variable",(function(){return J.n})),n.d(d,"zeros",(function(){return J.o})),n.d(d,"onesLike",(function(){return J.d})),n.d(d,"zerosLike",(function(){return J.p})),n.d(d,"transpose",(function(){return xn})),n.d(d,"softmax",(function(){return ro})),n.d(d,"logSoftmax",(function(){return ao})),n.d(d,"norm",(function(){return oo})),n.d(d,"gather",(function(){return ki})),n.d(d,"unsortedSegmentSum",(function(){return Si})),n.d(d,"basicLSTMCell",(function(){return so})),n.d(d,"multiRNNCell",(function(){return uo})),n.d(d,"movingAverage",(function(){return co})),n.d(d,"stridedSlice",(function(){return lo})),n.d(d,"topk",(function(){return ho})),n.d(d,"scatterND",(function(){return fo})),n.d(d,"fft",(function(){return po})),n.d(d,"ifft",(function(){return vo})),n.d(d,"rfft",(function(){return mo})),n.d(d,"irfft",(function(){return go})),n.d(d,"sparseToDense",(function(){return bo})),n.d(d,"gatherND",(function(){return xo})),n.d(d,"dropout",(function(){return wo})),n.d(d,"hannWindow",(function(){return So})),n.d(d,"hammingWindow",(function(){return Eo})),n.d(d,"frame",(function(){return Co})),n.d(d,"stft",(function(){return jo})),n.d(d,"inTopKAsync",(function(){return _o})),n.d(d,"op",(function(){return $.a})),n.d(d,"image",(function(){return f})),n.d(d,"linalg",(function(){return h})),n.d(d,"losses",(function(){return l})),n.d(d,"spectral",(function(){return u})),n.d(d,"fused",(function(){return p})),n.d(d,"signal",(function(){return c}));var v={};n.r(v),n.d(v,"axesAreInnerMostDims",(function(){return B})),n.d(v,"combineLocations",(function(){return W})),n.d(v,"computeOutAndReduceShapes",(function(){return U})),n.d(v,"expandShapeToKeepDim",(function(){return V})),n.d(v,"assertAxesAreInnerMostDims",(function(){return H})),n.d(v,"getAxesPermutation",(function(){return G})),n.d(v,"getUndoAxesPermutation",(function(){return Y})),n.d(v,"getInnerMostAxes",(function(){return q})),n.d(v,"getBroadcastDims",(function(){return T})),n.d(v,"getReductionAxes",(function(){return A})),n.d(v,"assertAndGetBroadcastShape",(function(){return _})),n.d(v,"assertParamsConsistent",(function(){return X})),n.d(v,"computeOutShape",(function(){return K})),n.d(v,"computePool2DInfo",(function(){return Mt})),n.d(v,"computePool3DInfo",(function(){return Nt})),n.d(v,"computeConv2DInfo",(function(){return It})),n.d(v,"computeConv3DInfo",(function(){return Dt})),n.d(v,"computeDefaultPad",(function(){return Rt})),n.d(v,"tupleValuesAreOne",(function(){return Ut})),n.d(v,"eitherStridesOrDilationsAreOne",(function(){return Vt})),n.d(v,"convertConv2DDataFormat",(function(){return Ht})),n.d(v,"PARALLELIZE_THRESHOLD",(function(){return mi})),n.d(v,"computeOptimalWindowSize",(function(){return gi})),n.d(v,"nonMaxSuppressionV3",(function(){return Xo})),n.d(v,"nonMaxSuppressionV5",(function(){return Ko})),n.d(v,"upcastType",(function(){return Es.b})),n.d(v,"getReshaped",(function(){return As})),n.d(v,"getPermuted",(function(){return _s})),n.d(v,"getReshapedPermuted",(function(){return Ms})),n.d(v,"getSliceBeginCoords",(function(){return Ns})),n.d(v,"getSliceSize",(function(){return Is})),n.d(v,"prepareAndValidate",(function(){return ia})),n.d(v,"validateUpdateShape",(function(){return oa})),n.d(v,"validateInput",(function(){return sa})),n.d(v,"calculateShapes",(function(){return ua})),n.d(v,"SELU_SCALEALPHA",(function(){return Ki})),n.d(v,"SELU_SCALE",(function(){return $i})),n.d(v,"shouldFuse",(function(){return ls})),n.d(v,"ERF_P",(function(){return Ds})),n.d(v,"ERF_A1",(function(){return Rs})),n.d(v,"ERF_A2",(function(){return Ps})),n.d(v,"ERF_A3",(function(){return Fs})),n.d(v,"ERF_A4",(function(){return Ls})),n.d(v,"ERF_A5",(function(){return zs})),n.d(v,"warn",(function(){return Bs})),n.d(v,"log",(function(){return Ws})),n.d(v,"mergeRealAndImagArrays",(function(){return Us})),n.d(v,"splitRealAndImagArrays",(function(){return Vs})),n.d(v,"complexWithEvenIndex",(function(){return Hs})),n.d(v,"complexWithOddIndex",(function(){return Gs})),n.d(v,"getComplexWithIndex",(function(){return Ys})),n.d(v,"assignToTypedArray",(function(){return qs})),n.d(v,"exponents",(function(){return Xs})),n.d(v,"exponent",(function(){return Ks})),n.d(v,"segment_util",(function(){return s})),n.d(v,"castTensor",(function(){return $s})),n.d(v,"reshapeTensor",(function(){return Js})),n.d(v,"linspaceImpl",(function(){return Zs}));var m={};n.r(m),n.d(m,"nonMaxSuppressionV3",(function(){return Xo})),n.d(m,"nonMaxSuppressionV5",(function(){return Ko})),n.d(m,"split",(function(){return tu})),n.d(m,"tile",(function(){return eu})),n.d(m,"topkImpl",(function(){return nu})),n.d(m,"whereImpl",(function(){return Da}));var g=n(11),y=(n(446),n(10)),b="Div",x="MaxPoolWithArgmax",w="NonMaxSuppressionV3",O="NonMaxSuppressionV5",k="Max",S="SquaredDifference",E="Square",C="Transpose",j="FromPixels";function T(t,e){for(var n=t.length,r=[],a=0;a<n;a++){var i=n-1-a,o=t[i]||1;(e[e.length-1-a]||1)>1&&1===o&&r.unshift(i)}return r}function A(t,e){for(var n=[],r=0;r<e.length;r++){var a=t[t.length-r-1],i=e.length-r-1,o=e[i];(null==a||1===a&&o>1)&&n.unshift(i)}return n}function _(t,e){for(var n=[],r=Math.max(t.length,e.length),a=0;a<r;a++){var i=t[t.length-a-1];null==i&&(i=1);var o=e[e.length-a-1];if(null==o&&(o=1),1===i)n.unshift(o);else if(1===o)n.unshift(i);else{if(i!==o){var s="Operands could not be broadcast together with shapes "+"".concat(t," and ").concat(e,".");throw Error(s)}n.unshift(i)}}return n}var M={kernelName:"Add",inputsToSave:["a","b"],gradFunc:function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1],i=_(r.shape,a.shape);return{a:function(){var e=t,n=A(r.shape,i);return n.length>0&&(e=e.sum(n)),e.reshape(r.shape)},b:function(){var e=t,n=A(a.shape,i);return n.length>0&&(e=e.sum(n)),e.reshape(a.shape)}}}},N={kernelName:"AddN",saveAllInputs:!0,gradFunc:function(t,e){var n={};return e.forEach((function(e,r){n[r]=function(){return t.clone()}})),n}},I=n(24),D=n(7),R=n(2),P=n(4),F=n.n(P),L=n(12),z=n(18);function B(t,e){for(var n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function W(t,e,n){for(var r=t.length+e.length,a=[],i=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(t[i++]):a.push(e[o++]);return a}function U(t,e){for(var n=[],r=t.length,a=0;a<r;a++)-1===e.indexOf(a)&&n.push(t[a]);return[n,e.map((function(e){return t[e]}))]}function V(t,e){return W(t,e.map((function(t){return 1})),e)}function H(t,e,n){R.assert(B(e,n),(function(){return"".concat(t," supports only inner-most axes for now. ")+"Got axes ".concat(e," and rank-").concat(n," input.")}))}function G(t,e){if(B(t,e))return null;for(var n=[],r=0;r<e;++r)-1===t.indexOf(r)&&n.push(r);return t.forEach((function(t){return n.push(t)})),n}function Y(t){return t.map((function(t,e){return[e,t]})).sort((function(t,e){return t[1]-e[1]})).map((function(t){return t[0]}))}function q(t,e){for(var n=[],r=e-t;r<e;++r)n.push(r);return n}function X(t,e){var n=t[0].length;t.forEach((function(t,e){R.assert(t.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(e,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),R.assert(e>=0&&e<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=t[0];t.forEach((function(t,a){for(var i=0;i<n;i++)R.assert(i===e||t[i]===r[i],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(t,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")}))}))}function K(t,e){for(var n=t[0].slice(),r=1;r<t.length;r++)n[e]+=t[r][e];return n}var $=n(8),J=n(17);var Z=Object($.a)({concat_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(R.assert)(t.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=Object(D.b)(t,"tensors","concat");"complex64"===n[0].dtype&&n.forEach((function(t){if("complex64"!==t.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(t.dtype,". "))}));var r=Object(R.parseAxisParam)(e,n[0].shape)[0],a=K(n.map((function(t){return t.shape})),r);if(0===Object(R.sizeFromShape)(a))return Object(J.g)([],a);if(1===(n=n.filter((function(t){return t.size>0}))).length)return n[0];var i=n.map((function(t){return t.shape}));X(i,r);var o=function(t,r){var a=Object(R.parseAxisParam)(e,n[0].shape)[0],i=t.concat(n,a);return r(n),i},s=n,u={axis:e};return g.a.runKernelFunc(o,s,null,"Concat",u)}});function Q(){return(Q=Object(L.a)(F.a.mark((function t(e,n){var r,a,i,o,s,u,c,l,h,f,p;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(D.a)(e,"x","setdiff1d"),a=Object(D.a)(n,"y","setdiff1d"),R.assert(r.dtype===a.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")})),R.assert(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),R.assert(1===a.rank,(function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")})),t.next=7,r.data();case 7:return i=t.sent,t.next=10,a.data();case 10:for(o=t.sent,s=new Set(o),u=0,c=0;c<i.length;c++)s.has(i[c])||u++;for(l=new z.b([u],r.dtype),h=new z.b([u],"int32"),f=0,p=0;f<i.length;f++)s.has(i[f])||(l.values[p]=i[f],h.values[p]=f,p++);return t.abrupt("return",[l.toTensor(),h.toTensor()]);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return e=e||"float32",R.assertNonNegativeIntegerDimensions(t),new z.b(t,e,n)}function et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(t.toString(e))}var nt=Object($.a)({cast_:function(t,e){var n=Object(D.a)(t,"x","cast");if(!R.isValidDtype(e))throw new Error("Failed to cast to unknown dtype ".concat(e));if("string"===e&&"string"!==n.dtype||"string"!==e&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:e};return g.a.runKernelFunc((function(t){return t.cast(n,e)}),{x:n},(function(t){return{x:function(){return t.clone()}}}),"Cast",r)}}),rt=Object($.a)({cumsum_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object(D.a)(t,"x","cumsum"),i=G([e|=0],a.rank),o=a;null!=i&&(o=a.transpose(i));var s=q(1,a.rank)[0],u=function(t){return{permutedX:function(){return t.cumsum(e,n,!r)}}},c=g.a.runKernelFunc((function(t){return t.cumsum(o,s,n,r)}),{permutedX:o},u);return null!=i&&(c=c.transpose(i)),c}}),at=Object($.a)({expandDims_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null,r=Object(D.a)(t,"x","expandDims",n);R.assert(e<=r.rank,(function(){return"Axis must be <= rank of the tensor"}));var a=r.shape.slice();return e<0&&(R.assert(-(r.rank+1)<=e,(function(){return"Axis must be in the interval [".concat(-(r.rank+1),", ").concat(r.rank,"]")})),e=r.rank+e+1),a.splice(e,0,1),it(r,a)}}),it=Object($.a)({reshape_:function(t,e){var n=Object(D.a)(t,"x","reshape",null);e=R.inferFromImplicitShape(e,n.size),R.assert(n.size===R.sizeFromShape(e),(function(){return"new shape and old shape must have the same number of elements."}));var r={shape:e};return g.a.runKernelFunc((function(t){return t.reshape(n,e)}),{x:n},(function(t){return{x:function(){return t.reshape(n.shape)}}}),"Reshape",r)}}),ot=Object($.a)({squeeze_:function(t,e){var n=Object(D.a)(t,"x","squeeze");return it(n,R.squeezeShape(n.shape,e).newShape)}}),st=Object($.a)({stack_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(D.b)(t,"tensors","stack");if(R.assert(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),1===n.length)return n[0].expandDims(e);var r=n[0].rank,a=n[0].shape,i=n[0].dtype;R.assert(e<=r,(function(){return"Axis must be <= rank of the tensor"})),n.forEach((function(t){R.assertShapesMatch(a,t.shape,"All tensors passed to stack must have matching shapes")})),n.forEach((function(t){R.assert(i===t.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=n.map((function(t){return t.expandDims(e)}));return Z(o,e)}}),ut=Object($.a)({unstack_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=e||0;var n=Object(D.a)(t,"x","unstack");R.assert(e>=-n.shape.length&&e<n.shape.length,(function(){return"Axis = ".concat(e," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")})),e<0&&(e+=n.shape.length);var r=function(t){return{x:function(){return st(t,e)}}},a={axis:e};return g.a.runKernelFunc((function(t){return t.unstack(n,e)}),{x:n},r,"Unpack",a)}}),ct=function(t,e){return Q.apply(this,arguments)};var lt=Object($.a)({matMul_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object(D.a)(t,"a","matMul"),i=Object(D.a)(e,"b","matMul"),o=Object(I.makeTypesMatch)(a,i),s=Object(y.a)(o,2);a=s[0],i=s[1],R.assert(a.rank>=2&&i.rank>=2&&a.rank===i.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, "+"got ranks ".concat(a.rank," and ").concat(i.rank,".")}));var u=n?a.shape[a.rank-2]:a.shape[a.rank-1],c=r?i.shape[i.rank-1]:i.shape[i.rank-2],l=n?a.shape[a.rank-1]:a.shape[a.rank-2],h=r?i.shape[i.rank-2]:i.shape[i.rank-1],f=a.shape.slice(0,-2),p=i.shape.slice(0,-2),d=R.sizeFromShape(f),v=R.sizeFromShape(p);R.assert(R.arraysEqual(f,p),(function(){return"Error in matMul: outer dimensions (".concat(f,") and (")+"".concat(p,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(i.shape," must match.")})),R.assert(u===c,(function(){return"Error in matMul: inner shapes (".concat(u,") and (")+"".concat(c,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(i.shape," and transposeA=").concat(n)+" and transposeB=".concat(r," must match.")}));var m=a.shape.slice(0,-2).concat([l,h]),b=it(a,n?[d,u,l]:[d,l,u]),x=it(i,r?[v,h,c]:[v,c,h]),w=function(t,e){return e([b,x]),t.batchMatMul(b,x,n,r)},O={a:b,b:x},k={transposeA:n,transposeB:r},S=g.a.runKernelFunc(w,O,null,"BatchMatMul",k);return it(S,m)}}),ht={kernelName:"BatchMatMul",inputsToSave:["a","b"],gradFunc:function(t,e,n){var r=Object(y.a)(e,2),a=r[0],i=r[1],o=n.transposeA,s=n.transposeB;return o||s?!o&&s?{a:function(){return lt(t,i,!1,!1)},b:function(){return lt(t,a,!0,!1)}}:o&&!s?{a:function(){return lt(i,t,!1,!0)},b:function(){return lt(a,t,!1,!1)}}:{a:function(){return lt(i,t,!0,!0)},b:function(){return lt(t,a,!0,!0)}}:{a:function(){return lt(t,i,!1,!0)},b:function(){return lt(a,t,!0,!1)}}}};var ft=Object($.a)({spaceToBatchND_:function(t,e,n){var r=Object(D.a)(t,"x","spaceToBatchND");R.assert(r.rank>=1+e.length,(function(){return"input rank ".concat(r.rank," should be > than [blockShape] ").concat(e.length)})),R.assert(n.length===e.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(e.length)})),R.assert(r.shape.reduce((function(t,r,a){return a>0&&a<=e.length?t&&(r+n[a-1][0]+n[a-1][1])%e[a-1]===0:t}),!0),(function(){return"input spatial dimensions ".concat(r.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(e.toString())}));var a={x:r},i={blockShape:e,paddings:n};return g.a.runKernelFunc((function(t){return t.spaceToBatchND(r,e,n)}),a,null,"SpaceToBatchND",i)}}),pt={kernelName:"BatchToSpaceND",gradFunc:function(t,e,n){var r=n.blockShape,a=n.crops;return{x:function(){return ft(t,r,a)}}}},dt=n(16);function vt(t,e){R.assert(R.isFunction(t),(function(){return"The f passed in variableGrads(f) must be a function"})),R.assert(null==e||Array.isArray(e)&&e.every((function(t){return t instanceof z.c})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=e;if(!n)for(var r in e=[],g.a.registeredVariables)e.push(g.a.registeredVariables[r]);var a=n?e.filter((function(t){return!t.trainable})):null,i=e.length;e=e.filter((function(t){return t.trainable})),R.assert(e.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(i," variables is ")+"trainable."}));var o=g.a.gradients(t,e,null,!0),s=o.value,u=o.grads;R.assert(u.some((function(t){return null!=t})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),R.assert(0===s.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(s.rank," tensor")}));var c={};return e.forEach((function(t,e){null!=u[e]&&(c[t.name]=u[e])})),null!=a&&a.forEach((function(t){return c[t.name]=null})),{value:s,grads:c}}function mt(t){return g.a.customGrad(t)}function gt(t,e,n,r,a){return e.rank<n.rank&&(e=e.reshape(V(e.shape,r))),t.rank<n.rank&&(t=t.reshape(V(t.shape,r))),{x:function(){var r=t.mul(n.equal(e).cast(t.dtype));return null==a?r:r.transpose(a)}}}var yt=Object($.a)({all_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"x","all","bool"),a=R.parseAxisParam(e,r.shape),i=a,o=G(i,r.rank);null!=o&&(r=r.transpose(o),i=q(i.length,r.rank));var s=g.a.runKernelFunc((function(t){return t.all(r,i)}),{$x:r});if(n){var u=V(s.shape,a);return s.reshape(u)}return s}}),bt=Object($.a)({any_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"x","any","bool"),a=R.parseAxisParam(e,r.shape),i=a,o=G(i,r.rank);null!=o&&(r=r.transpose(o),i=q(i.length,r.rank));var s=g.a.runKernelFunc((function(t){return t.any(r,i)}),{$x:r});if(n){var u=V(s.shape,a);return s.reshape(u)}return s}}),xt=Object($.a)({argMax_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(D.a)(t,"x","argMax");null==e&&(e=0);var r=R.parseAxisParam(e,n.shape),a=G(r,n.rank);null!=a&&(n=n.transpose(a),r=q(r.length,n.rank));var i=function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return Object(J.p)(n)}}},o={axis:r[0]},s=[n];return g.a.runKernelFunc((function(t,e){var a=t.argMax(n,r[0]);return e([n]),a}),{x:n},i,"ArgMax",o,s)}}),wt=Object($.a)({argMin_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(D.a)(t,"x","argMin");null==e&&(e=0);var r=R.parseAxisParam(e,n.shape),a=G(r,n.rank);null!=a&&(n=n.transpose(a),r=q(r.length,n.rank));var i=function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return Object(J.p)(n)}}};return g.a.runKernelFunc((function(t,e){var a=t.argMin(n,r[0]);return e([n]),a}),{$x:n},i)}}),Ot=Object($.a)({logSumExp_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"x","logSumExp"),a=R.parseAxisParam(e,r.shape),i=r.max(a,!0),o=r.sub(i),s=o.exp(),u=s.sum(a),c=u.log(),l=i.reshape(c.shape).add(c);if(n){var h=V(l.shape,a);return l.reshape(h)}return l}}),kt=Object($.a)({mean_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"x","mean"),a=R.parseAxisParam(e,r.shape),i=U(r.shape,a),o=i[1],s=R.sizeFromShape(o),u=mt((function(t){var r=Object(J.f)(s);return{value:(r.dtype===t.dtype?t:t.cast(r.dtype)).div(r).sum(e,n),gradFunc:function(e){var n=t.shape.slice();return a.forEach((function(t){n[t]=1})),e.reshape(n).mul(Object(J.c)(t.shape,"float32")).div(s)}}}));return u(r)}}),St=Object($.a)({min_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"x","min"),a=r,i=R.parseAxisParam(e,r.shape),o=i,s=G(o,r.rank);null!=s&&(r=r.transpose(s),o=q(o.length,r.rank));var u=function(t,e){return gt(t,e[1],e[0],i,s)},c=[r],l=[!0],h=g.a.runKernelFunc((function(t,e){var n=t.min(r,o);return e([a,n]),n}),{x:r},u,"Min",{axes:o},c,l);if(n){var f=V(h.shape,i);h=h.reshape(f)}return h}}),Et=Object($.a)({moments_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=Object(D.a)(t,"x","moments");var r=R.parseAxisParam(e,t.shape),a=t.mean(r,n),i=a.shape;n||(i=V(a.shape,r));var o=t.toFloat().sub(a.reshape(i)).square(),s=o.mean(r,n);return{mean:a,variance:s}}}),Ct=Object($.a)({sum_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"x","sum");"bool"===r.dtype&&(r=r.toInt());var a=R.parseAxisParam(e,r.shape),i=mt((function(t){var e=G(a,t.rank),r=a,i=t;null!=e&&(i=t.transpose(e),r=q(r.length,t.rank));var o=function(e){var n=t.shape.slice();return a.forEach((function(t){n[t]=1})),e.reshape(n).mul(Object(J.c)(t.shape,"float32"))},s={axes:r},u=g.a.runKernelFunc((function(t){return t.sum(i,r)}),{x:i},(function(t){return{x:function(){return o(t)}}}),"Sum",s);if(n){var c=V(u.shape,a);u=u.reshape(c)}return{value:u,gradFunc:o}}));return i(r)}}),jt=Object($.a)({prod_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"x","prod");"bool"===r.dtype&&(r=r.toInt());var a=R.parseAxisParam(e,r.shape),i=G(a,r.rank),o=a,s=r;null!=i&&(s=r.transpose(i),o=q(o.length,r.rank));var u=g.a.runKernelFunc((function(t){return t.prod(s,o)}),{permutedX:s});if(n){var c=V(u.shape,a);u=u.reshape(c)}return u}}),Tt={kernelName:"BroadcastTo",gradFunc:function(t,e,n){for(var r=n,a=r.inputShape,i=r.shape,o=Array.from(i),s=a.length-1;s>=0;s--)if(a[s]===i[s])o[s]=1;else if(1!==a[s])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(i,"]."));for(var u=[],c=0;c<o.length;c++)o[c]>1&&u.push(c);return{x:function(){return Ct(t,u,!0)}}}};var At=Object($.a)({split_:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=Object(D.a)(t,"x","split"),i=Object(R.parseAxisParam)(r,a.shape)[0];"number"===typeof e?(Object(R.assert)(a.shape[i]%e===0,(function(){return"Number of splits must evenly divide the axis."})),n=new Array(e).fill(a.shape[i]/e)):(Object(R.assert)(a.shape[i]===e.reduce((function(t,e){return t+e})),(function(){return"The sum of sizes must match the size of the axis dimension."})),n=e);var o=function(t,e){return t.split(a,n,i)},s={x:a},u={numOrSizeSplits:e,axis:r};return g.a.runKernelFunc(o,s,null,"SplitV",u)}}),_t={kernelName:"Concat",saveAllInputs:!0,gradFunc:function(t,e,n){var r=e.map((function(t){return t.shape})),a=n.axis,i=Object(R.parseAxisParam)(a,e[0].shape)[0],o=r.map((function(t){return t[i]}));return At(t,o,i).map((function(t){return function(){return t}}))}};function Mt(t,e,n,r,a,i){var o,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=Pt(e),c=Object(y.a)(u,2),l=c[0],h=c[1];if("channelsLast"===s)o=[l,h,t[3],t[3]];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));o=[l,h,t[1],t[1]]}return It(t,o,n,r,a,i,!1,s)}function Nt(t,e,n,r,a,i){var o,s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",c=Ft(e),l=Object(y.a)(c,3),h=l[0],f=l[1],p=l[2];if("NDHWC"===u)s="channelsLast",o=[h,f,p,t[4],t[4]];else{if("NCDHW"!==u)throw new Error("Unknown dataFormat ".concat(u));s="channelsFirst",o=[h,f,p,t[1],t[1]]}return Dt(t,o,n,r,a,!1,s,i)}function It(t,e,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",u=-1,c=-1,l=-1,h=-1;if("channelsLast"===s){var f=Object(y.a)(t,4);u=f[0],c=f[1],l=f[2],h=f[3]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var p=Object(y.a)(t,4);u=p[0],h=p[1],c=p[2],l=p[3]}var d,v=Object(y.a)(e,4),m=v[0],g=v[1],b=v[3],x=Pt(n),w=Object(y.a)(x,2),O=w[0],k=w[1],S=Pt(r),E=Object(y.a)(S,2),C=E[0],j=E[1],T=Lt(m,C),A=Lt(g,j),_=zt(a,c,l,O,k,T,A,i),M=_.padInfo,N=_.outHeight,I=_.outWidth,D=o?b*h:b;return"channelsFirst"===s?d=[u,D,N,I]:"channelsLast"===s&&(d=[u,N,I,D]),{batchSize:u,dataFormat:s,inHeight:c,inWidth:l,inChannels:h,outHeight:N,outWidth:I,outChannels:D,padInfo:M,strideHeight:O,strideWidth:k,filterHeight:m,filterWidth:g,effectiveFilterHeight:T,effectiveFilterWidth:A,dilationHeight:C,dilationWidth:j,inShape:t,outShape:d,filterShape:e}}function Dt(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,u=-1,c=-1,l=-1,h=-1,f=-1;if("channelsLast"===o){var p=Object(y.a)(t,5);u=p[0],c=p[1],l=p[2],h=p[3],f=p[4]}else{if("channelsFirst"!==o)throw new Error("Unknown dataFormat ".concat(o));var d=Object(y.a)(t,5);u=d[0],f=d[1],c=d[2],l=d[3],h=d[4]}var v,m=Object(y.a)(e,5),g=m[0],b=m[1],x=m[2],w=m[4],O=Ft(n),k=Object(y.a)(O,3),S=k[0],E=k[1],C=k[2],j=Ft(r),T=Object(y.a)(j,3),A=T[0],_=T[1],M=T[2],N=Lt(g,A),I=Lt(b,_),D=Lt(x,M),R=Bt(a,c,l,h,S,E,C,N,I,D,s),P=R.padInfo,F=R.outDepth,L=R.outHeight,z=R.outWidth,B=i?w*f:w;return"channelsFirst"===o?v=[u,B,F,L,z]:"channelsLast"===o&&(v=[u,F,L,z,B]),{batchSize:u,dataFormat:o,inDepth:c,inHeight:l,inWidth:h,inChannels:f,outDepth:F,outHeight:L,outWidth:z,outChannels:B,padInfo:P,strideDepth:S,strideHeight:E,strideWidth:C,filterDepth:g,filterHeight:b,filterWidth:x,effectiveFilterDepth:N,effectiveFilterHeight:I,effectiveFilterWidth:D,dilationDepth:A,dilationHeight:_,dilationWidth:M,inShape:t,outShape:v,filterShape:e}}function Rt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=Lt(e,r);return Math.floor((t[0]*(n-1)-n+a)/2)}function Pt(t){return"number"===typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}function Ft(t){return"number"===typeof t?[t,t,t]:t}function Lt(t,e){return e<=1?t:t+(t-1)*(e-1)}function zt(t,e,n,r,a,i,o,s){var u,c,l;if("number"===typeof t){u={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};var h=function(t,e,n,r,a){null==r&&(r=Rt(t,e,n));var i=t[0],o=t[1],s=Wt((i-e+2*r)/n+1,a);R.assert(R.isInt(s),(function(){return"The output # of rows (".concat(s,") must be an integer. ")+"Change the stride and/or zero pad parameters"}));var u=Wt((o-e+2*r)/n+1,a);return R.assert(R.isInt(u),(function(){return"The output # of columns (".concat(u,") must be an integer. ")+"Change the stride and/or zero pad parameters"})),[s,u]}([e,n],i,r,t,s);c=h[0],l=h[1]}else if("same"===t){c=Math.ceil(e/r),l=Math.ceil(n/a);var f=Math.max(0,(c-1)*r+i-e),p=Math.max(0,(l-1)*a+o-n),d=Math.floor(f/2),v=f-d,m=Math.floor(p/2);u={top:d,bottom:v,left:m,right:p-m,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: ".concat(t));u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-i+1)/r),l=Math.ceil((n-o+1)/a)}return{padInfo:u,outHeight:c,outWidth:l}}function Bt(t,e,n,r,a,i,o,s,u,c,l){var h,f,p,d;if("number"===typeof t){h={top:t,bottom:t,left:t,right:t,front:t,back:t,type:0===t?"VALID":"NUMBER"};var v=function(t,e,n,r,a,i){null==a&&(a=Rt(t,e,r));var o=t[0],s=t[1],u=t[2],c=Wt((o-e+2*a)/r+1,i);R.assert(R.isInt(c),(function(){return"The output # of depths (".concat(c,") must be an integer. ")+"Change the stride and/or zero pad parameters"}));var l=Wt((s-e+2*a)/r+1,i);R.assert(R.isInt(l),(function(){return"The output # of rows (".concat(l,") must be an integer. ")+"Change the stride and/or zero pad parameters"}));var h=Wt((u-e+2*a)/r+1,i);return R.assert(R.isInt(h),(function(){return"The output # of columns (".concat(h,") must be an integer. ")+"Change the stride and/or zero pad parameters"})),[c,l,h,n]}([e,n,r,1],s,1,a,t,l);f=v[0],p=v[1],d=v[2]}else if("same"===t){var m=((f=Math.ceil(e/a))-1)*a+s-e,g=((p=Math.ceil(n/i))-1)*i+u-n,y=((d=Math.ceil(r/o))-1)*o+c-r,b=Math.floor(m/2),x=m-b,w=Math.floor(g/2),O=g-w,k=Math.floor(y/2);h={top:w,bottom:O,left:k,right:y-k,front:b,back:x,type:"SAME"}}else{if("valid"!==t)throw Error("Unknown padding parameter: ".concat(t));h={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((e-s+1)/a),p=Math.ceil((n-u+1)/i),d=Math.ceil((r-c+1)/o)}return{padInfo:h,outDepth:f,outHeight:p,outWidth:d}}function Wt(t,e){if(!e)return t;switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error("Unknown roundingMode ".concat(e))}}function Ut(t){var e=Pt(t),n=Object(y.a)(e,3),r=n[0],a=n[1],i=n[2];return 1===r&&1===a&&1===i}function Vt(t,e){return Ut(t)||Ut(e)}function Ht(t){if("NHWC"===t)return"channelsLast";if("NCHW"===t)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(t))}var Gt=Object($.a)({conv2DBackpropFilter_:function(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0,s=t;3===t.rank&&(s=it(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var u=e;3===u.rank&&(u=it(e,[1,e.shape[0],e.shape[1],e.shape[2]])),R.assert(4===s.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(s.shape,".")})),R.assert(4===u.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(u.shape,".")})),R.assert(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var c="NHWC"===i?s.shape[3]:s.shape[1],l="NHWC"===i?u.shape[3]:u.shape[1];R.assert(c===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(c,") must ")+"match input depth in filter (".concat(n[2],".")})),R.assert(l===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(l,") must ")+"match output depth for filter (".concat(n[3],").")})),null!=o&&R.assert(R.isInt(a),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(a,".")}));var h=function(t){var e=Ht(i),c=It(s.shape,n,r,1,a,o,!1,e);return t.conv2dDerFilter(s,u,c)},f={x:s,dy:u},p={strides:r,pad:a,dataFormat:i,dimRoundingMode:o};return g.a.runKernelFunc(h,f,null,"Conv2DBackpropFilter",p)}});var Yt=Object($.a)({conv2DBackpropInput_:function(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",o=arguments.length>6?arguments[6]:void 0;R.assert(t.length===e.rank,(function(){return"Length of inShape "+"(".concat(t.length,") and rank of dy (").concat(e.rank,") must match")}));var s=t,u=e,c=!1;3===e.rank&&(c=!0,u=it(e,[1,e.shape[0],e.shape[1],e.shape[2]]),s=[1,t[0],t[1],t[2]]),R.assert(4===s.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(s.length,".")})),R.assert(4===u.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(u.rank)})),R.assert(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var l="NHWC"===i?s[3]:s[1],h="NHWC"===i?u.shape[3]:u.shape[1];R.assert(l===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),R.assert(h===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(h,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),null!=o&&R.assert(R.isInt(a),(function(){return"Error in conv2dDerInput: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(a,".")}));var f=function(t,e){var c=Ht(i),l=It(s,n.shape,r,1,a,o,!1,c),h=t.conv2dDerInput(u,n,l);return e([u,n]),h},p={dy:u,filter:n},d={strides:r,pad:a,dataFormat:i,dimRoundingMode:o},v=g.a.runKernelFunc(f,p,null,"Conv2DBackpropInput",d);return c?it(v,[v.shape[1],v.shape[2],v.shape[3]]):v}}),qt={kernelName:"Conv2D",inputsToSave:["x","filter"],gradFunc:function(t,e,n){var r=Object(y.a)(e,2),a=r[0],i=r[1],o=n.dilations,s=n.strides,u=n.pad,c=n.dataFormat;return R.assert(Ut(o),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'")})),{x:function(){return Yt(a.shape,t,i,s,u,c)},filter:function(){return Gt(a,t,i.shape,s,u,c)}}}};var Xt=Object($.a)({conv2d_:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=Object(D.a)(t,"x","conv2d"),u=Object(D.a)(e,"filter","conv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=it(s,[1,s.shape[0],s.shape[1],s.shape[2]])),R.assert(4===c.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(c.rank,".")})),R.assert(4===u.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(u.rank,".")})),null!=o&&R.assert(R.isInt(r),(function(){return"Error in conv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(r,".")}));var h="NHWC"===a?c.shape[3]:c.shape[1];R.assert(h===u.shape[2],(function(){return"Error in conv2d: depth of input (".concat(h,") must match ")+"input depth for filter ".concat(u.shape[2],".")})),R.assert(Vt(n,i),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(i,"'")}));var f=function(t,e){var s=Ht(a),l=It(c.shape,u.shape,n,i,r,o,!1,s),h=t.conv2d(c,u,l);return e([c,u]),h},p={x:c,filter:u},d={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},v=g.a.runKernelFunc(f,p,null,"Conv2D",d);return l?it(v,[v.shape[1],v.shape[2],v.shape[3]]):v}}),Kt={kernelName:"Conv2DBackpropInput",inputsToSave:["dy","filter"],gradFunc:function(t,e,n){var r=Object(y.a)(e,2),a=r[0],i=r[1],o=n.strides,s=n.pad,u=n.dataFormat,c=n.dimRoundingMode;return{dy:function(){return Xt(t,i,o,s,u,1,c)},filter:function(){return Gt(t,a,i.shape,o,s,u,c)}}}};var $t=Object($.a)({conv3DBackpropFilter_:function(t,e,n,r,a){var i=t;4===t.rank&&(i=it(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));var o=e;4===o.rank&&(o=it(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),R.assert(5===i.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(i.shape,".")})),R.assert(5===o.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(o.shape,".")})),R.assert(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")})),R.assert(i.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input ".concat(i.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")})),R.assert(o.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy (".concat(o.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")}));var s={x:i,y:o},u={strides:r,pad:a};return g.a.runKernelFunc((function(t){var e=Dt(i.shape,n,r,1,a);return t.conv3dDerFilter(i,o,e)}),s,null,"Conv3DBackpropFilterV2",u)}});var Jt=Object($.a)({conv3DBackpropInput_:function(t,e,n,r,a){R.assert(t.length===e.rank,(function(){return"Length of inShape "+"(".concat(t.length,") and rank of dy (").concat(e.rank,") must match")}));var i=t,o=e,s=!1;4===e.rank&&(s=!0,o=it(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,t[0],t[1],t[2],t[3]]);var u=i[4],c=o.shape[4];R.assert(5===i.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(i.length,".")})),R.assert(5===o.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(o.rank)})),R.assert(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),R.assert(u===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),R.assert(c===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var l={dy:o},h={pad:a},f=g.a.runKernelFunc((function(t){var e=Dt(i,n.shape,r,1,a);return t.conv3dDerInput(o,n,e)}),l,null,"Conv3DBackpropInputV2",h);return s?it(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}}),Zt={kernelName:"Conv3D",inputsToSave:["x","filter"],gradFunc:function(t,e,n){var r=n.dilations,a=n.strides,i=n.pad;R.assert(Ut(r),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")}));var o=Object(y.a)(e,2),s=o[0],u=o[1];return{x:function(){return Jt(s.shape,t,u,a,i)},filter:function(){return $t(s,t,u.shape,a,i)}}}};var Qt=Object($.a)({depthwiseConv2dNativeBackpropFilter_:function(t,e,n,r){var a=t;3===t.rank&&(a=it(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var i=e;3===i.rank&&(i=it(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var o={x:a,dy:i};return g.a.runKernelFunc((function(t){return t.depthwiseConv2DDerFilter(a,i,r)}),o,null,"DepthwiseConv2dNativeBackpropFilter")}});var te=Object($.a)({depthwiseConv2dNativeBackpropInput_:function(t,e,n,r){var a=e,i=!1;3===e.rank&&(i=!0,a=it(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var o={dy:a},s=g.a.runKernelFunc((function(t){return t.depthwiseConv2DDerInput(a,n,r)}),o,null,"DepthwiseConv2dNativeBackpropInput");return i?it(s,[s.shape[1],s.shape[2],s.shape[3]]):s}}),ee={kernelName:"DepthwiseConv2dNative",inputsToSave:["x","filter"],gradFunc:function(t,e,n){var r=n.dilations,a=n.strides,i=n.pad,o=n.dimRoundingMode,s=null==r?[1,1]:r;R.assert(Ut(s),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")}));var u=Object(y.a)(e,2),c=u[0],l=u[1];R.assert(4===c.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(c.rank,".")})),R.assert(4===l.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(l.rank,".")})),R.assert(c.shape[3]===l.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(c.shape[3],") must match the inChannels dimension ")+"in filter ".concat(l.shape[2],".")})),R.assert(Vt(a,s),(function(){return"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(a," and dilations ")+"'".concat(s,"'.")})),null!=o&&R.assert(R.isInt(i),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(i,".")}));var h=It(c.shape,l.shape,a,s,i,o,!0);return{x:function(){return te(c.shape,t,l,h)},filter:function(){return Qt(c,t,l.shape,h)}}}},ne=n(23);function re(t){Object(ne.b)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function ae(){return g.a}function ie(){return g.a.memory()}function oe(t,e){return g.a.tidy(t,e)}function se(t){Object(I.getTensorsInContainer)(t).forEach((function(t){return t.dispose()}))}function ue(t){return g.a.keep(t)}function ce(t){return g.a.setBackend(t)}function le(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return g.a.registerBackend(t,e,n)}function he(){return g.a.backend}Object(z.d)(re);var fe=Object($.a)({add_:function(t,e){var n=Object(D.a)(t,"a","add"),r=Object(D.a)(e,"b","add"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1];var o={a:n,b:r};return g.a.runKernelFunc((function(t,e){var a=t.add(n,r);return e([n,r]),a}),o,null,"Add")}});var pe=Object($.a)({abs_:function(t){var e=Object(D.a)(t,"x","abs");return"complex64"===e.dtype?g.a.runKernelFunc((function(t){return t.complexAbs(e)}),{$x:e}):g.a.runKernelFunc((function(t,n){var r=t.abs(e);return n([e]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return t.mul(n.toFloat().step(-1))}}}),"Abs")}}),de=Object($.a)({acos_:function(t){var e=Object(D.a)(t,"x","acos");return g.a.runKernelFunc((function(t,n){var r=t.acos(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){var e=n.toFloat().square(),r=Object(J.f)(1).sub(e).sqrt();return t.div(r).neg()}}}))}}),ve=Object($.a)({acosh_:function(t){var e=Object(D.a)(t,"x","acosh");return g.a.runKernelFunc((function(t,n){var r=t.acosh(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){var e=n.toFloat().square().sub(1).sqrt();return t.div(e)}}}))}}),me=Object($.a)({asin_:function(t){var e=Object(D.a)(t,"x","asin");return g.a.runKernelFunc((function(t,n){var r=t.asin(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.div(Object(J.f)(1).sub(n.toFloat().square()).sqrt())}}}))}}),ge=Object($.a)({asinh_:function(t){var e=Object(D.a)(t,"x","asinh");return g.a.runKernelFunc((function(t,n){var r=t.asinh(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){var e=Object(J.f)(1).add(n.toFloat().square()).sqrt();return t.div(e)}}}))}}),ye=Object($.a)({atan_:function(t){var e=Object(D.a)(t,"x","atan");return g.a.runKernelFunc((function(t,n){var r=t.atan(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.div(n.toFloat().square().add(1))}}}))}}),be=Object($.a)({atanh_:function(t){var e=Object(D.a)(t,"x","atanh");return g.a.runKernelFunc((function(t,n){var r=t.atanh(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.div(Object(J.f)(1).sub(n.toFloat().square()))}}}))}}),xe=Object($.a)({ceil_:function(t){var e=Object(D.a)(t,"x","ceil");return g.a.runKernelFunc((function(t){return t.ceil(e)}),{$x:e},(function(t){return{$x:function(){return Object(J.p)(t)}}}))}}),we=Object($.a)({clipByValue_:function(t,e,n){var r=Object(D.a)(t,"x","clipByValue");R.assert(e<=n,(function(){return"Error in clip: min (".concat(e,") must be ")+"less than or equal to max (".concat(n,").")}));var a=[r],i={min:e,max:n};return g.a.runKernelFunc((function(t,a){var i=t.clip(r,e,n);return a([r]),i}),{x:r},(function(t,r){var a=Object(y.a)(r,1)[0];return{x:function(){return t.where(a.greaterEqual(e).logicalAnd(a.lessEqual(n)),Object(J.p)(t))}}}),"ClipByValue",i,a)}}),Oe=Object($.a)({cos_:function(t){var e=Object(D.a)(t,"x","cos"),n=[e];return g.a.runKernelFunc((function(t,n){var r=t.cos(e);return n([e]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return n.toFloat().sin().neg().mul(t)}}}),"Cos",{},n)}}),ke=Object($.a)({cosh_:function(t){var e=Object(D.a)(t,"x","cosh");return g.a.runKernelFunc((function(t,n){var r=t.cosh(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return n.toFloat().sinh().mul(t)}}}))}}),Se=Object($.a)({erf_:function(t){var e=Object(D.a)(t,"x","erf");return R.assert("int32"===e.dtype||"float32"===e.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===e.dtype&&(e=e.toFloat()),g.a.runKernelFunc((function(t,n){var r=t.erf(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Ee=Object($.a)({exp_:function(t){var e=Object(D.a)(t,"x","exp");return g.a.runKernelFunc((function(t,n){var r=t.exp(e);return n([r]),r}),{x:e},(function(t,e){return{x:function(){return t.mul(e[0])}}}),"Exp",{},[],[!0])}}),Ce=Object($.a)({expm1_:function(t){var e=Object(D.a)(t,"x","expm1");return g.a.runKernelFunc((function(t,n){var r=t.expm1(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.mul(n.exp())}}}))}}),je=Object($.a)({floor_:function(t){var e=Object(D.a)(t,"x","floor");return g.a.runKernelFunc((function(t){return t.floor(e)}),{$x:e},(function(t){return{$x:function(){return Object(J.p)(t)}}}))}}),Te=Object($.a)({log_:function(t){var e=Object(D.a)(t,"x","log"),n=[e];return g.a.runKernelFunc((function(t,n){var r=t.log(e);return n([e]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return t.div(n.toFloat())}}}),"Log",{},n)}}),Ae=Object($.a)({log1p_:function(t){var e=Object(D.a)(t,"x","log1p");return g.a.runKernelFunc((function(t,n){var r=t.log1p(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.div(n.add(1))}}}))}}),_e=Object($.a)({logSigmoid_:function(t){var e=Object(D.a)(t,"x","logSigmoid");return g.a.runKernelFunc((function(t,n){var r=t.softplus(e.neg()).neg();return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.mul(n.neg().sigmoid())}}}))}}),Me=Object($.a)({neg_:function(t){var e=Object(D.a)(t,"x","neg"),n=[e];return g.a.runKernelFunc((function(t){return t.neg(e)}),{x:e},(function(t){return{x:function(){return t.neg()}}}),"Neg",{},n)}}),Ne=Object($.a)({reciprocal_:function(t){var e=Object(D.a)(t,"x","reciprocal");return g.a.runKernelFunc((function(t,n){var r=t.reciprocal(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.div(n.square().neg())}}}))}}),Ie=Object($.a)({round_:function(t){var e=Object(D.a)(t,"x","round");return g.a.runKernelFunc((function(t){return t.round(e)}),{$x:e},(function(t){return{$x:function(){return Object(J.p)(t)}}}))}}),De=Object($.a)({rsqrt_:function(t){var e=Object(D.a)(t,"x","rsqrt"),n=[e];return g.a.runKernelFunc((function(t,n){var r=t.rsqrt(e);return n([e]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return t.div(n.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},n)}}),Re=Object($.a)({sigmoid_:function(t){var e=Object(D.a)(t,"x","sigmoid");return g.a.runKernelFunc((function(t,n){var r=t.sigmoid(e);return n([r]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return t.mul(n.mul(Object(J.f)(1).sub(n)))}}}),"Sigmoid")}}),Pe=Object($.a)({sign_:function(t){var e=Object(D.a)(t,"x","sign");return g.a.runKernelFunc((function(t){return t.sign(e)}),{$x:e},(function(t){return{$x:function(){return Object(J.p)(t)}}}))}}),Fe=Object($.a)({isNaN_:function(t){var e=Object(D.a)(t,"x","isNaN");return g.a.runKernelFunc((function(t){return t.isNaN(e)}),{$x:e},(function(t){return{$x:function(){return Object(J.p)(t)}}}))}}),Le=Object($.a)({isInf_:function(t){var e=Object(D.a)(t,"x","isInf");return g.a.runKernelFunc((function(t){return t.isInf(e)}),{$x:e},(function(t){return{$x:function(){return Object(J.p)(t)}}}))}}),ze=Object($.a)({isFinite_:function(t){var e=Object(D.a)(t,"x","isFinite");return g.a.runKernelFunc((function(t){return t.isFinite(e)}),{$x:e},(function(t){return{$x:function(){return Object(J.p)(t)}}}))}}),Be=Object($.a)({sin_:function(t){var e=Object(D.a)(t,"x","sin"),n=[e];return g.a.runKernelFunc((function(t,n){var r=t.sin(e);return n([e]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return n.toFloat().cos().mul(t)}}}),"Sin",{},n)}}),We=Object($.a)({sinh_:function(t){var e=Object(D.a)(t,"x","sinh");return g.a.runKernelFunc((function(t,n){var r=t.sinh(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return n.toFloat().cosh().mul(t)}}}))}}),Ue=Object($.a)({softplus_:function(t){var e=Object(D.a)(t,"x","softplus");return g.a.runKernelFunc((function(t,n){var r=t.softplus(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.mul(n.sigmoid())}}}))}}),Ve=Object($.a)({sqrt_:function(t){var e=Object(D.a)(t,"x","sqrt");return g.a.runKernelFunc((function(t,n){var r=t.sqrt(e);return n([e]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return t.div(n.toFloat().sqrt().mul(2))}}}),"Sqrt",{})}}),He=Object($.a)({step_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(D.a)(t,"x","step"),r=function(t){return{$x:function(){return Object(J.p)(t)}}};return g.a.runKernelFunc((function(t){return t.step(n,e)}),{$x:n},r)}}),Ge=Object($.a)({tan_:function(t){var e=Object(D.a)(t,"x","tan");return g.a.runKernelFunc((function(t,n){var r=t.tan(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return t.div(n.cos().square())}}}))}}),Ye=Object($.a)({tanh_:function(t){var e=Object(D.a)(t,"x","tanh");return g.a.runKernelFunc((function(t,n){var r=t.tanh(e);return n([r]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return Object(J.f)(1).sub(n.square()).mul(t)}}}),"Tanh",{},null,[!0])}});var qe=Object($.a)({addStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","addStrict"),r=Object(D.a)(e,"b","addStrict");return R.assertShapesMatch(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),Xe=Object($.a)({atan2_:function(t,e){var n=Object(D.a)(t,"a","atan2"),r=Object(D.a)(e,"b","atan2"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1];var o=_(n.shape,r.shape);return g.a.runKernelFunc((function(t,e){var a=t.atan2(n,r);return e([n,r]),a}),{$a:n,$b:r},(function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1];return{$a:function(){var e=fe(r.square(),a.square()),n=t.mul(a.div(e)),i=A(r.shape,o);return i.length>0&&(n=n.sum(i)),n.reshape(r.shape)},$b:function(){var e=fe(r.square(),a.square()),n=Me(t.mul(r.div(e))),i=A(a.shape,o);return i.length>0&&(n=n.sum(i)),n.reshape(a.shape)}}}))}}),Ke=Object($.a)({divStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","div"),r=Object(D.a)(e,"b","div");return R.assertShapesMatch(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),$e=Object($.a)({floorDiv_:function(t,e){var n=Object(D.a)(t,"a","floorDiv"),r=Object(D.a)(e,"b","floorDiv"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1];var o=_(n.shape,r.shape);return g.a.runKernelFunc((function(t,e){var a=t.floorDiv(n,r);return e([n,r]),a}),{a:n,b:r},(function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1];return{a:function(){var e=t.div(a.toFloat()),n=A(r.shape,o);return n.length>0?e.sum(n).reshape(r.shape):e},b:function(){var e=t.mul(r.toFloat()),n=A(a.shape,o);n.length>0&&(e=e.sum(n).reshape(a.shape));var i=a.square();return e.div(i.toFloat()).neg()}}}),"FloorDiv")}}),Je=Object($.a)({maximum_:function(t,e){var n=Object(D.a)(t,"a","maximum"),r=Object(D.a)(e,"b","maximum"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);return n=i[0],r=i[1],"bool"===n.dtype&&(n=n.toInt(),r=r.toInt()),_(n.shape,r.shape),g.a.runKernelFunc((function(t,e){var a=t.maximum(n,r);return e([n,r]),a}),{a:n,b:r},(function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1];return{a:function(){return t.mul(r.greaterEqual(a).toFloat())},b:function(){return t.mul(r.less(a).toFloat())}}}),"Maximum")}}),Ze=Object($.a)({maximumStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","maximumStrict"),r=Object(D.a)(e,"b","maximumStrict");return R.assertShapesMatch(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),Qe=Object($.a)({minimum_:function(t,e){var n=Object(D.a)(t,"a","minimum"),r=Object(D.a)(e,"b","minimum"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);return n=i[0],r=i[1],"bool"===n.dtype&&(n=n.toInt(),r=r.toInt()),_(n.shape,r.shape),g.a.runKernelFunc((function(t,e){var a=t.minimum(n,r);return e([n,r]),a}),{a:n,b:r},(function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1];return{a:function(){return t.mul(r.lessEqual(a).toFloat())},b:function(){return t.mul(r.greater(a).toFloat())}}}),"Minimum")}}),tn=Object($.a)({minimumStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","minimumStrict"),r=Object(D.a)(e,"b","minimumStrict");return R.assertShapesMatch(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),en=Object($.a)({mod_:function(t,e){var n=Object(D.a)(t,"a","mod"),r=Object(D.a)(e,"b","mod"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1];var o=_(n.shape,r.shape);return g.a.runKernelFunc((function(t,e){var a=t.mod(n,r);return e([n,r]),a}),{$a:n,$b:r},(function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1];return{$a:function(){var e=A(r.shape,o);return e.length>0?t.sum(e).reshape(r.shape):t},$b:function(){var e=t.mul(r.div(a).floor().neg()),n=A(a.shape,o);return n.length>0?e.sum(n).reshape(a.shape):e}}}))}}),nn=Object($.a)({modStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","modStrict"),r=Object(D.a)(e,"b","modStrict");return R.assertShapesMatch(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),rn=Object($.a)({mul_:function(t,e){var n=Object(D.a)(t,"a","mul"),r=Object(D.a)(e,"b","mul"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1];var o=_(n.shape,r.shape);return g.a.runKernelFunc((function(t,e){var a=t.multiply(n,r);return e([n,r]),a}),{a:n,b:r},(function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1];return{a:function(){var e=t.mul(a.toFloat()),n=A(r.shape,o);return n.length>0?e.sum(n).reshape(r.shape):e},b:function(){var e=t.mul(r.toFloat()),n=A(a.shape,o);return n.length>0?e.sum(n).reshape(a.shape):e}}}),"Mul")}}),an=Object($.a)({mulStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","mul"),r=Object(D.a)(e,"b","mul");return R.assertShapesMatch(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),on=Object($.a)({pow_:function(t,e){var n=Object(D.a)(t,"base","pow"),r=Object(D.a)(e,"exp","pow"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1];var o=_(n.shape,r.shape),s=[n,r];return g.a.runKernelFunc((function(t,e){var a=t.pow(n,r);return e([n,r,a]),a}),{a:n,b:r},(function(t,e){var n=Object(y.a)(e,3),r=n[0],a=n[1],i=n[2];return{a:function(){var e=a.toFloat(),n=t.mul(e.mul(r.pow(e.sub(Object(J.f)(1))))),i=A(r.shape,o);return i.length>0&&(n=n.sum(i)),n.reshape(r.shape)},b:function(){var e=r.greater(0),n=r.log().where(e,Object(J.p)(r)),s=t.mul(i.mul(n)),u=A(a.shape,o);return u.length>0&&(s=s.sum(u)),s.reshape(a.shape)}}}),"Pow",{},s,[!0])}}),sn=Object($.a)({powStrict_:function(t,e){return re("strict variants of ops have been deprecated and will be removed in future"),R.assertShapesMatch(t.shape,e.shape,"Error in powStrict: "),t.pow(e)}}),un=Object($.a)({squaredDifferenceStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","squaredDifferenceStrict"),r=Object(D.a)(e,"b","squaredDifferenceStrict");return R.assertShapesMatch(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),cn=Object($.a)({subStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","subStrict"),r=Object(D.a)(e,"b","subStrict");return R.assertShapesMatch(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}});var ln=Object($.a)({div_:function(t,e){var n=Object(D.a)(t,"a","div"),r=Object(D.a)(e,"b","div"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);if(n=i[0],r=i[1],"int32"===n.dtype&&"int32"===r.dtype)return $e(n,r);var o={a:n,b:r};return g.a.runKernelFunc((function(t,e){var a=t.realDivide(n,r);return e([n,r]),a}),o,null,b,{})}});var hn=Object($.a)({square_:function(t){var e=Object(D.a)(t,"x","square"),n=[e];return g.a.runKernelFunc((function(t,n){return n([e]),t.square(e)}),{x:e},null,"Square",{},n,[])}}),fn={kernelName:b,inputsToSave:["a","b"],gradFunc:function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1],i=_(r.shape,a.shape);return{a:function(){var e=ln(t,a.toFloat()),n=A(r.shape,i);return n.length>0?Ct(e,n).reshape(r.shape):e},b:function(){var e=rn(t,r.toFloat()),n=A(a.shape,i);n.length>0&&(e=it(Ct(e,n),a.shape));var o=hn(a);return Me(ln(e,o.toFloat()))}}}};var pn=Object($.a)({sub_:function(t,e){var n=Object(D.a)(t,"a","sub"),r=Object(D.a)(e,"b","sub"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1];var o={a:n,b:r};return g.a.runKernelFunc((function(t,e){var a=t.subtract(n,r);return e([n,r]),a}),o,null,"Sub")}});var dn=Object($.a)({tile_:function(t,e){var n=Object(D.a)(t,"x","tile",null);R.assert(n.rank===e.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(e,".")}));var r=[n],a={x:n},i={reps:e};return g.a.runKernelFunc((function(t,r){var a=t.tile(n,e);return r([n]),a}),a,null,"Tile",i,r)}}),vn={kernelName:"FusedBatchNorm",inputsToSave:["x","mean","variance","scale"],gradFunc:function(t,e,n){var r=n.varianceEpsilon,a=Object(y.a)(e,4),i=a[0],o=a[1],s=a[2],u=a[3],c=null==u?Object(J.f)(1):u,l=A(o.shape,i.shape),h=[];if(1===o.rank){for(var f=0;f<i.shape.length-1;++f)h.push(i.shape[f]);h.push(1)}var p=pn(i,o),d=rn(t,c),v=De(fe(s,Object(J.f)(r))),m=rn(rn(rn(v,v),v),Object(J.f)(-.5));return{x:function(){return 1===o.rank?it(rn(rn(t,dn(v.as4D(1,1,1,o.shape[0]),h)),c),i.shape):it(rn(rn(t,v),c),i.shape)},mean:function(){var t=rn(rn(v,Object(J.f)(-1)),d);return 1===o.rank&&(t=Ct(t,l)),it(t,o.shape)},variance:function(){var t=rn(rn(m,p),d);return 1===o.rank&&(t=Ct(t,l)),it(t,o.shape)},scale:function(){var e=rn(p,v),n=rn(t,e);return 1===o.rank&&(n=Ct(n,l)),it(n,o.shape)},offset:function(){var e=t;return 1===o.rank&&(e=Ct(e,l)),it(e,o.shape)}}}},mn={kernelName:"GreaterEqual",inputsToSave:["a","b"],gradFunc:function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1];return{a:function(){return Object(J.p)(r)},b:function(){return Object(J.p)(a)}}}},gn={kernelName:"Identity",gradFunc:function(t){return{x:function(){return t.toFloat()}}}};var yn=Object($.a)({localResponseNormalizationBackprop_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,s=function(s){return s.LRNGrad(n,t,e,r,a,i,o)},u={x:t,y:e,dy:n},c={depthRadius:r,bias:a,alpha:i,beta:o};return g.a.runKernelFunc(s,u,null,"LRNBackprop",c)}}),bn={kernelName:"LRN",inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(t,e,n){var r=Object(y.a)(e,2),a=r[0],i=r[1],o=n.depthRadius,s=n.bias,u=n.alpha,c=n.beta;return{x:function(){return yn(a,i,t,o,s,u,c)}}}};var xn=Object($.a)({transpose_:function(t,e){var n=Object(D.a)(t,"x","transpose");if(null==e&&(e=n.shape.map((function(t,e){return e})).reverse()),R.assert(n.rank===e.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of perm ".concat(e,".")})),e.forEach((function(t){R.assert(t>=0&&t<n.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(n.rank-1)+" but got ".concat(e)}))})),n.rank<=1)return n.clone();var r={perm:e};return g.a.runKernelFunc((function(t){return t.transpose(n,e)}),{x:n},null,"Transpose",r)}}),wn={kernelName:k,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(t,e,n){var r=n.reductionIndices,a=Object(y.a)(e,2),i=a[0],o=a[1],s=R.parseAxisParam(r,i.shape),u=G(s,i.rank),c=gt(t,o,i,s,u);return{x:function(){var t=c.x();return null!=u&&(t=xn(t)),t}}}},On={kernelName:"OneHot",inputsToSave:["indices"],gradFunc:function(t,e){var n=e[0];return{indices:function(){return Object(J.o)(n.shape,"float32")}}}},kn={kernelName:"PadV2",inputsToSave:["x"],gradFunc:function(t,e,n){var r=e[0],a=n.paddings.map((function(t){return t[0]}));return{x:function(){return t.slice(a,r.shape)}}}};var Sn=Object($.a)({batchToSpaceND_:function(t,e,n){var r=Object(D.a)(t,"x","batchToSpaceND"),a=e.reduce((function(t,e){return t*e}));R.assert(r.rank>=1+e.length,(function(){return"input rank is ".concat(r.rank," but should be > than blockShape.length ").concat(e.length)})),R.assert(n.length===e.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(e.length)})),R.assert(r.shape[0]%a===0,(function(){return"input tensor batch is ".concat(r.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(e.join(" * ")," === ").concat(a)}));var i={x:r},o={blockShape:e,crops:n};return g.a.runKernelFunc((function(t){return t.batchToSpaceND(r,e,n)}),i,null,"BatchToSpaceND",o)}}),En={kernelName:"SpaceToBatchND",gradFunc:function(t,e,n){var r=n.blockShape,a=n.paddings;return{x:function(){return Sn(t,r,a)}}}},Cn={kernelName:"SplitV",gradFunc:function(t,e,n){var r=n.axis;return{x:function(){return Z(t,r)}}}},jn={kernelName:E,inputsToSave:["x"],gradFunc:function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return rn(t,rn(n.toFloat(),2))}}}},Tn={kernelName:S,inputsToSave:["a","b"],gradFunc:function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1],i=Object(J.f)(2);return{a:function(){return rn(t,rn(i,pn(r,a)))},b:function(){return rn(t,rn(i,pn(a,r)))}}}},An={kernelName:"Sub",inputsToSave:["a","b"],gradFunc:function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1],i=_(r.shape,a.shape);return{a:function(){var e=t,n=A(r.shape,i);return n.length>0&&(e=Ct(e,n)),it(e,r.shape)},b:function(){var e=t,n=A(a.shape,i);return n.length>0&&(e=Ct(e,n)),it(Me(e),a.shape)}}}};var _n=Object($.a)({pad_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(D.a)(t,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a=function(t,a){return a([r]),t.pad(r,e,n)},i={paddings:e,constantValue:n},o={x:r};return g.a.runKernelFunc(a,o,null,"PadV2",i)}});function Mn(t,e,n){R.assert(t.rank===e.length,(function(){return"Error in slice".concat(t.rank,"D: Length of begin ").concat(e," must ")+"match the rank of the array (".concat(t.rank,").")})),R.assert(t.rank===n.length,(function(){return"Error in slice".concat(t.rank,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(t.rank,").")}));for(var r=function(r){R.assert(e[r]+n[r]<=t.shape[r],(function(){return"Error in slice".concat(t.rank,"D: begin[").concat(r,"] + size[").concat(r,"] ")+"(".concat(e[r]+n[r],") would overflow input.shape[").concat(r,"] (").concat(t.shape[r],")")}))},a=0;a<t.rank;++a)r(a)}function Nn(t){for(var e=[],n=0;t>0;)1&t&&e.push(n),t/=2,n++;return e}function In(t,e,n){for(var r=[],a=0;a<t.length;a++)r[a]=Math.ceil((e[a]-t[a])/n[a]);return r}function Dn(t,e,n,r,a){var i=e[a],o=n[a]||1;(t&1<<a||null==i)&&(i=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[a];return i<0&&(i+=s),i=R.clamp(0,i,s-1)}function Rn(t,e,n,r,a){var i=e[a],o=n[a]||1;(t&1<<a||null==i)&&(i=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[a];return i<0&&(i+=s),i=o>0?R.clamp(0,i,s):R.clamp(-1,i,s-1)}function Pn(t,e,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var i=r+1;i<n.length;i++)if(e[i]>0||n[i]!==t[i])return!1;return!0}function Fn(t,e){for(var n=t.length>0?t[t.length-1]:1,r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}for(var Ln=Object($.a)({slice_:function(t,e,n){var r,a,i=Object(D.a)(t,"x","slice");if(0===i.rank)throw new Error("Slicing scalar is not possible");(r="number"===typeof e?[e].concat(Object(dt.a)(new Array(i.rank-1).fill(0))):e.length<i.rank?e.concat(new Array(i.rank-e.length).fill(0)):e.slice()).forEach((function(t){R.assert(-1!==t,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=null==n?new Array(i.rank).fill(-1):"number"===typeof n?[n].concat(Object(dt.a)(new Array(i.rank-1).fill(-1))):n.length<i.rank?n.concat(new Array(i.rank-n.length).fill(-1)):n).map((function(t,e){return t>=0?t:(R.assert(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(e,".")})),i.shape[e]-r[e])})),Mn(i,r,a);var o=i.shape,s={begin:r,size:a};return g.a.runKernelFunc((function(t){return t.slice(i,r,a)}),{x:i},(function(t){for(var e=[],n=0;n<t.rank;n++)e.push([r[n],o[n]-r[n]-a[n]]);return{x:function(){return _n(t,e)}}}),"Slice",s)}}),zn=Object($.a)({slice1d_:function(t,e,n){var r=Object(D.a)(t,"x","slice1d");return R.assert(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),Ln(r,[e],[n])}}),Bn=Object($.a)({slice2d_:function(t,e,n){var r=Object(D.a)(t,"x","slice2d");return R.assert(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),Ln(r,e,n)}}),Wn=Object($.a)({slice3d_:function(t,e,n){var r=Object(D.a)(t,"x","slice3d");return R.assert(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),Ln(r,e,n)}}),Un=Object($.a)({slice4d_:function(t,e,n){var r=Object(D.a)(t,"x","slice4d");return R.assert(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),Ln(r,e,n)}}),Vn={kernelName:"Tile",inputsToSave:["x"],gradFunc:function(t,e,n){var r=Object(y.a)(e,1)[0],a=n.reps;return{x:function(){var e=Object(J.p)(r);if(1===r.rank)for(var n=0;n<a[0];++n)e=fe(e,Ln(t,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var i=0;i<a[0];++i)for(var o=0;o<a[1];++o)e=fe(e,Ln(t,[i*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var s=0;s<a[0];++s)for(var u=0;u<a[1];++u)for(var c=0;c<a[2];++c)e=fe(e,Ln(t,[s*r.shape[0],u*r.shape[1],c*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(var l=0;l<a[0];++l)for(var h=0;h<a[1];++h)for(var f=0;f<a[2];++f)for(var p=0;p<a[3];++p)e=fe(e,Ln(t,[l*r.shape[0],h*r.shape[1],f*r.shape[2],p*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return e}}}},Hn={kernelName:C,gradFunc:function(t,e,n){var r=Y(n.perm);return{x:function(){return xn(t,r)}}}},Gn=n(42),Yn=0,qn=[M,N,ht,pt,Tt,_t,qt,Kt,Zt,ee,fn,vn,mn,gn,bn,On,kn,Cn,wn,En,jn,Tn,Vn,Hn,An];Yn<qn.length;Yn++){var Xn=qn[Yn];Object(Gn.d)(Xn)}var Kn=n(5),$n=n(9),Jn=function(){function t(){Object(Kn.a)(this,t)}return Object($n.a)(t,[{key:"fetch",value:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return fetch(t,e)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Browser's encoder only supports utf-8, but got ".concat(e));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)}},{key:"decode",value:function(t,e){return new TextDecoder(e).decode(t)}}]),t}();Object(ne.b)().get("IS_BROWSER")&&Object(ne.b)().setPlatform("browser",new Jn);n(447);var Zn=n(15),Qn=n(30),tr=function(){function t(){Object(Kn.a)(this,t),this.saveRouters=[],this.loadRouters=[]}return Object($n.a)(t,null,[{key:"getInstance",value:function(){return null==t.instance&&(t.instance=new t),t.instance}},{key:"registerSaveRouter",value:function(e){t.getInstance().saveRouters.push(e)}},{key:"registerLoadRouter",value:function(e){t.getInstance().loadRouters.push(e)}},{key:"getSaveHandlers",value:function(e){return t.getHandlers(e,"save")}},{key:"getLoadHandlers",value:function(e,n){return t.getHandlers(e,"load",n)}},{key:"getHandlers",value:function(e,n,r){var a=[];return("load"===n?t.getInstance().loadRouters:t.getInstance().saveRouters).forEach((function(t){var n=t(e,r);null!==n&&a.push(n)})),a}}]),t}(),er=function(t){return tr.registerSaveRouter(t)},nr=function(t){return tr.registerLoadRouter(t)},rr=function(t){return tr.getSaveHandlers(t)},ar=function(t,e){return tr.getLoadHandlers(t,e)},ir=function(){function t(){Object(Kn.a)(this,t),this.managers={}}return Object($n.a)(t,null,[{key:"getInstance",value:function(){return null==t.instance&&(t.instance=new t),t.instance}},{key:"registerManager",value:function(e,n){Object(R.assert)(null!=e,(function(){return"scheme must not be undefined or null."})),e.endsWith("://")&&(e=e.slice(0,e.indexOf("://"))),Object(R.assert)(e.length>0,(function(){return"scheme must not be an empty string."}));var r=t.getInstance();Object(R.assert)(null==r.managers[e],(function(){return"A model store manager is already registered for scheme '".concat(e,"'.")})),r.managers[e]=n}},{key:"getManager",value:function(t){var e=this.getInstance().managers[t];if(null==e)throw new Error("Cannot find model manager for scheme '".concat(t,"'"));return e}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),t}();function or(t){if(-1===t.indexOf("://"))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(ir.getSchemes().join(",")));return{scheme:t.split("://")[0],path:t.split("://")[1]}}function sr(t,e){return ur.apply(this,arguments)}function ur(){return(ur=Object(L.a)(F.a.mark((function t(e,n){var r,a,i,o,s,u,c,l,h,f,p=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=p.length>2&&void 0!==p[2]&&p[2],Object(R.assert)(e!==n,(function(){return"Old path and new path are the same: '".concat(e,"'")})),a=tr.getLoadHandlers(e),Object(R.assert)(a.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(e,".")})),Object(R.assert)(a.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"load handlers for source URL ".concat(e,".")})),i=a[0],o=tr.getSaveHandlers(n),Object(R.assert)(o.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),Object(R.assert)(o.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"save handlers for destination URL ".concat(n,".")})),s=o[0],u=or(e).scheme,c=or(e).path,l=u===or(e).scheme,t.next=15,i.load();case 15:if(h=t.sent,!r||!l){t.next=19;break}return t.next=19,ir.getManager(u).removeModel(c);case 19:return t.next=21,s.save(h);case 21:if(f=t.sent,!r||l){t.next=25;break}return t.next=25,ir.getManager(u).removeModel(c);case 25:return t.abrupt("return",f.modelArtifactsInfo);case 26:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function cr(){return lr.apply(this,arguments)}function lr(){return(lr=Object(L.a)(F.a.mark((function t(){var e,n,r,a,i,o,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ir.getSchemes(),n={},r=Object(Zn.a)(e),t.prev=3,r.s();case 5:if((a=r.n()).done){t.next=13;break}return i=a.value,t.next=9,ir.getManager(i).listModels();case 9:for(s in o=t.sent)n[i+"://"+s]=o[s];case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:return t.abrupt("return",n);case 22:case"end":return t.stop()}}),t,null,[[3,15,18,21]])})))).apply(this,arguments)}function hr(t){return fr.apply(this,arguments)}function fr(){return(fr=Object(L.a)(F.a.mark((function t(e){var n,r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=or(e),r=ir.getManager(n.scheme),t.abrupt("return",r.removeModel(n.path));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pr(t,e){return dr.apply(this,arguments)}function dr(){return(dr=Object(L.a)(F.a.mark((function t(e,n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!1,t.abrupt("return",sr(e,n,!1));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vr(t,e){return mr.apply(this,arguments)}function mr(){return(mr=Object(L.a)(F.a.mark((function t(e,n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!0,t.abrupt("return",sr(e,n,!0));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gr(){if(!Object(ne.b)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var t=window||self,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(null==e)throw new Error("The current browser does not appear to support IndexedDB.");return e}function yr(t){var e=t.result;e.createObjectStore("models_store",{keyPath:"modelPath"}),e.createObjectStore("model_info_store",{keyPath:"modelPath"})}var br=function(){function t(e){if(Object(Kn.a)(this,t),this.indexedDB=gr(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return Object($n.a)(t,[{key:"save",value:function(){var t=Object(L.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.modelTopology instanceof ArrayBuffer)){t.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return t.abrupt("return",this.databaseAction(this.modelPath,e));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"load",value:function(){var t=Object(L.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"databaseAction",value:function(t,e){var n=this;return new Promise((function(t,r){var a=n.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return yr(a)},a.onsuccess=function(){var i=a.result;if(null==e){var o=i.transaction("models_store","readonly"),s=o.objectStore("models_store").get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));t(s.result.modelArtifacts)},s.onerror=function(t){return i.close(),r(s.error)},o.oncomplete=function(){return i.close()}}else{var u,c=Object(Qn.g)(e),l=i.transaction("model_info_store","readwrite"),h=l.objectStore("model_info_store"),f=h.put({modelPath:n.modelPath,modelArtifactsInfo:c});f.onsuccess=function(){var a=(u=i.transaction("models_store","readwrite")).objectStore("models_store").put({modelPath:n.modelPath,modelArtifacts:e,modelArtifactsInfo:c});a.onsuccess=function(){return t({modelArtifactsInfo:c})},a.onerror=function(t){var e=(h=l.objectStore("model_info_store")).delete(n.modelPath);e.onsuccess=function(){return i.close(),r(a.error)},e.onerror=function(t){return i.close(),r(a.error)}}},f.onerror=function(t){return i.close(),r(f.error)},l.oncomplete=function(){null==u?i.close():u.oncomplete=function(){return i.close()}}}},a.onerror=function(t){return r(a.error)}}))}}]),t}();br.URL_SCHEME="indexeddb://";var xr=function(t){return Object(ne.b)().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(br.URL_SCHEME)?(e=t.slice(br.URL_SCHEME.length),new br(e)):null;var e};tr.registerSaveRouter(xr),tr.registerLoadRouter(xr);var wr=function(){function t(){Object(Kn.a)(this,t),this.indexedDB=gr()}return Object($n.a)(t,[{key:"listModels",value:function(){var t=Object(L.a)(F.a.mark((function t(){var e=this;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return yr(r)},r.onsuccess=function(){var e=r.result,a=e.transaction("model_info_store","readonly"),i=a.objectStore("model_info_store").getAll();i.onsuccess=function(){var e,n={},r=Object(Zn.a)(i.result);try{for(r.s();!(e=r.n()).done;){var a=e.value;n[a.modelPath]=a.modelArtifactsInfo}}catch(o){r.e(o)}finally{r.f()}t(n)},i.onerror=function(t){return e.close(),n(i.error)},a.oncomplete=function(){return e.close()}},r.onerror=function(t){return n(r.error)}})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"removeModel",value:function(){var t=Object(L.a)(F.a.mark((function t(e){var n=this;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(r=e).startsWith(br.URL_SCHEME)?r.slice(br.URL_SCHEME.length):r,t.abrupt("return",new Promise((function(t,r){var a=n.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return yr(a)},a.onsuccess=function(){var n,i=a.result,o=i.transaction("model_info_store","readwrite"),s=o.objectStore("model_info_store"),u=s.get(e);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));var a=s.delete(e),o=function(){var a=(n=i.transaction("models_store","readwrite")).objectStore("models_store").delete(e);a.onsuccess=function(){return t(u.result.modelArtifactsInfo)},a.onerror=function(t){return r(u.error)}};a.onsuccess=o,a.onerror=function(t){return o(),i.close(),r(u.error)}},u.onerror=function(t){return i.close(),r(u.error)},o.oncomplete=function(){null==n?i.close():n.oncomplete=function(){return i.close()}}},a.onerror=function(t){return r(a.error)}})));case 2:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}();if(Object(ne.b)().getBool("IS_BROWSER"))try{ir.registerManager(br.URL_SCHEME,new wr)}catch(ou){}var Or="tensorflowjs_models",kr="info",Sr="model_topology",Er="weight_specs",Cr="weight_data",jr="model_metadata";function Tr(t){return{info:[Or,t,kr].join("/"),topology:[Or,t,Sr].join("/"),weightSpecs:[Or,t,Er].join("/"),weightData:[Or,t,Cr].join("/"),modelMetadata:[Or,t,jr].join("/")}}function Ar(t){var e=t.split("/");if(e.length<3)throw new Error("Invalid key format: ".concat(t));return e.slice(1,e.length-1).join("/")}var _r=function(){function t(e){if(Object(Kn.a)(this,t),!Object(ne.b)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=Tr(this.modelPath)}return Object($n.a)(t,[{key:"save",value:function(){var t=Object(L.a)(F.a.mark((function t(e){var n,r,a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.modelTopology instanceof ArrayBuffer)){t.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=Object(Qn.g)(e),t.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Object(Qn.a)(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),t.abrupt("return",{modelArtifactsInfo:a});case 16:throw t.prev=16,t.t0=t.catch(7),this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."));case 24:case"end":return t.stop()}}),t,this,[[7,16]])})));return function(e){return t.apply(this,arguments)}}()},{key:"load",value:function(){var t=Object(L.a)(F.a.mark((function t(){var e,n,r,a,i,o,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=JSON.parse(this.LS.getItem(this.keys.info)))){t.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===e.modelTopologyType){t.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){t.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){t.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=a,null!=(i=this.LS.getItem(this.keys.modelMetadata))&&(o=JSON.parse(i),n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,n.userDefinedMetadata=o.userDefinedMetadata),null!=(s=this.LS.getItem(this.keys.weightData))){t.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=Object(Qn.b)(s),t.abrupt("return",n);case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}();_r.URL_SCHEME="localstorage://";var Mr=function(t){return Object(ne.b)().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(_r.URL_SCHEME)?(e=t.slice(_r.URL_SCHEME.length),new _r(e)):null;var e};tr.registerSaveRouter(Mr),tr.registerLoadRouter(Mr);var Nr=function(){function t(){Object(Kn.a)(this,t),Object(R.assert)(Object(ne.b)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),Object(R.assert)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return Object($n.a)(t,[{key:"listModels",value:function(){var t=Object(L.a)(F.a.mark((function t(){var e,n,r,a,i,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e={},n=Or+"/",r="/"+kr,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(n)&&i.endsWith(r)&&(o=Ar(i),e[o]=JSON.parse(this.LS.getItem(i)));return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"removeModel",value:function(){var t=Object(L.a)(F.a.mark((function t(e){var n,r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=(a=e).startsWith(_r.URL_SCHEME)?a.slice(_r.URL_SCHEME.length):a,n=Tr(e),null!=this.LS.getItem(n.info)){t.next=4;break}throw new Error("Cannot find model at path '".concat(e,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),t.abrupt("return",r);case 10:case"end":return t.stop()}var a}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();if(Object(ne.b)().getBool("IS_BROWSER"))try{ir.registerManager(_r.URL_SCHEME,new Nr)}catch(ou){}function Ir(t){return new Promise((function(t){return setTimeout(t)})).then(t)}var Dr=function(){function t(e){if(Object(Kn.a)(this,t),!Object(ne.b)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(t.URL_SCHEME)&&(e=e.slice(t.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelTopologyFileName=e+".json",this.weightDataFileName=e+".weights.bin"}return Object($n.a)(t,[{key:"save",value:function(){var t=Object(L.a)(F.a.mark((function t(e){var n,r,a,i,o,s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!==typeof document){t.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer)){t.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:r},i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(o=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=i,t.next=15,Ir((function(){return o.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==e.weightData){t.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,t.next=21,Ir((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return t.abrupt("return",{modelArtifactsInfo:Object(Qn.g)(e)});case 22:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();Dr.URL_SCHEME="downloads://";var Rr=function(){function t(e){if(Object(Kn.a)(this,t),null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.files=e}return Object($n.a)(t,[{key:"load",value:function(){var t=Object(L.a)(F.a.mark((function t(){var e,n,r=this;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.files[0],n=this.files.slice(1),t.abrupt("return",new Promise((function(t,a){var i=new FileReader;i.onload=function(i){var o=JSON.parse(i.target.result),s=o.modelTopology;if(null!=s){0===n.length&&t({modelTopology:s});var u=o.weightsManifest;if(null!=u){var c;try{c=r.checkManifestAndWeightFiles(u,n)}catch(ou){return void a(ou)}var l=[],h=[],f=[];u.forEach((function(t){t.paths.forEach((function(t){h.push(t),f.push(null)})),l.push.apply(l,Object(dt.a)(t.weights))})),u.forEach((function(e){e.paths.forEach((function(e){var n=new FileReader;n.onload=function(n){var r=n.target.result,a=h.indexOf(e);f[a]=r,-1===f.indexOf(null)&&t({modelTopology:s,weightSpecs:l,weightData:Object(Qn.d)(f),format:o.format,generatedBy:o.generatedBy,convertedBy:o.convertedBy,userDefinedMetadata:o.userDefinedMetadata})},n.onerror=function(t){return a("Failed to weights data from file of path '".concat(e,"'."))},n.readAsArrayBuffer(c[e])}))}))}else a(new Error("weightManifest field is missing from file ".concat(e.name)))}else a(new Error("modelTopology field is missing from file ".concat(e.name)))},i.onerror=function(t){return a("Failed to read model topology and weights manifest JSON "+"from file '".concat(e.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},i.readAsText(e)})));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"checkManifestAndWeightFiles",value:function(t,e){var n,r=[],a=e.map((function(t){return Object(Qn.c)(t.name)})),i={},o=Object(Zn.a)(t);try{for(o.s();!(n=o.n()).done;){n.value.paths.forEach((function(t){var n=Object(Qn.c)(t);if(-1!==r.indexOf(n))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(n,"'"));if(r.push(n),-1===a.indexOf(n))throw new Error("Weight file with basename '".concat(n,"' is not provided."));i[t]=e[a.indexOf(n)]}))}}catch(ou){o.e(ou)}finally{o.f()}if(r.length!==e.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(e.length,")."));return i}}]),t}();function Pr(t){return new Rr(t)}function Fr(t,e,n,r){!function(t){Object(R.assert)(null!=t&&Array.isArray(t)&&t.length>0,(function(){return"promises must be a none empty array"}))}(t),function(t,e){Object(R.assert)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(t)})),Object(R.assert)(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(e)})),Object(R.assert)(e>=t,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(t," and endFraction ")+"".concat(e)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(t.map((function(i){return i.then((function(i){var o=n+ ++a/t.length*(r-n);return e(o),i})),i})))}tr.registerSaveRouter((function(t){return Object(ne.b)().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Dr.URL_SCHEME)?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new Dr(t)}(t.slice(Dr.URL_SCHEME.length)):null}));var Lr=n(84);function zr(t,e){return Br.apply(this,arguments)}function Br(){return(Br=Object(L.a)(F.a.mark((function t(e,n){var r,a,i,o,s,u,c,l,h;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?Object(ne.b)().platform.fetch:n.fetchFunc,a=e.map((function(t){return r(t,n.requestInit,{isBinary:!0})})),i=0,o=.5,null!=n.onProgress){t.next=11;break}return t.next=8,Promise.all(a);case 8:t.t0=t.sent,t.next=14;break;case 11:return t.next=13,Fr(a,n.onProgress,i,o);case 13:t.t0=t.sent;case 14:if(s=t.t0,u=s.map((function(t){return t.arrayBuffer()})),c=.5,l=1,null!=n.onProgress){t.next=24;break}return t.next=21,Promise.all(u);case 21:t.t1=t.sent,t.next=27;break;case 24:return t.next=26,Fr(u,n.onProgress,c,l);case 26:t.t1=t.sent;case 27:return h=t.t1,t.abrupt("return",h);case 29:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wr(t){return Ur.apply(this,arguments)}function Ur(){return(Ur=Object(L.a)(F.a.mark((function t(e){var n,r,a,i,o=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",r=o.length>2?o[2]:void 0,a=o.length>3?o[3]:void 0,i=Vr((function(t){return zr(t,{requestInit:a})})),t.abrupt("return",i(e,n,r));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vr(t){return function(){var e=Object(L.a)(F.a.mark((function e(n){var r,a,i,o,s,u,c,l,h,f,p,d,v=arguments;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:"",a=v.length>2?v[2]:void 0,i=n.map((function(){return!1})),o={},s=null!=a?a.map((function(){return!1})):[],u=[],n.forEach((function(t,e){var n=0;t.weights.forEach((function(t){var r="quantization"in t?t.quantization.dtype:t.dtype,c=Lr.a[r]*R.sizeFromShape(t.shape),l=function(){i[e]=!0,null==o[e]&&(o[e]=[]),o[e].push({manifestEntry:t,groupOffset:n,sizeBytes:c})};null!=a?a.forEach((function(e,n){e===t.name&&(l(),s[n]=!0)})):l(),u.push(t.name),n+=c}))})),s.every((function(t){return t}))){e.next=10;break}throw c=a.filter((function(t,e){return!s[e]})),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(u.join(", "),"."));case 10:return l=i.reduce((function(t,e,n){return e&&t.push(n),t}),[]),h=[],l.forEach((function(t){n[t].paths.forEach((function(t){var e=r+(r.endsWith("/")?"":"/")+t;h.push(e)}))})),e.next=15,t(h);case 15:return f=e.sent,p={},d=0,l.forEach((function(t){for(var e=n[t].paths.length,r=0,a=0;a<e;a++)r+=f[d+a].byteLength;for(var i=new ArrayBuffer(r),s=new Uint8Array(i),u=0,c=0;c<e;c++){var l=new Uint8Array(f[d+c]);s.set(l,u),u+=l.byteLength}o[t].forEach((function(t){var e=i.slice(t.groupOffset,t.groupOffset+t.sizeBytes),n=Object(Qn.e)(e,[t.manifestEntry]);for(var r in n)p[r]=n[r]})),d+=e})),e.abrupt("return",p);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Hr=function(){function t(e,n){if(Object(Kn.a)(this,t),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,null!=n.fetchFunc?(Object(R.assert)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=Object(ne.b)().platform.fetch,Object(R.assert)(null!=e&&e.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(e)&&Object(R.assert)(2===e.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,").")})),this.path=e,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return Object($n.a)(t,[{key:"save",value:function(){var t=Object(L.a)(F.a.mark((function t(e){var n,r,a,i;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.modelTopology instanceof ArrayBuffer)){t.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:r},n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=e.weightData&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),t.next=10,this.fetch(this.path,n);case 10:if(!(i=t.sent).ok){t.next=15;break}return t.abrupt("return",{modelArtifactsInfo:Object(Qn.g)(e),responses:[i]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(i.status,"."));case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"load",value:function(){var t=Object(L.a)(F.a.mark((function t(){var e,n,r,a,i,o,s,u,c,l,h,f,p;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetch(this.path,this.requestInit);case 2:if((e=t.sent).ok){t.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return t.prev=5,t.next=8,e.json();case 8:n=t.sent,t.next=16;break;case 11:throw t.prev=11,t.t0=t.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,i=n.weightsManifest,o=n.generatedBy,s=n.convertedBy,u=n.format,c=n.userDefinedMetadata,null!=a||null!=i){t.next=24;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 24:if(null==i){t.next=31;break}return t.next=27,this.loadWeights(i);case 27:f=t.sent,p=Object(y.a)(f,2),l=p[0],h=p[1];case 31:return t.abrupt("return",{modelTopology:a,weightSpecs:l,weightData:h,userDefinedMetadata:c,generatedBy:o,convertedBy:s,format:u});case 32:case"end":return t.stop()}}),t,this,[[5,11]])})));return function(){return t.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(e){var n,r,a,i,o,s,u,c,l,h,f,p;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=Gr(n),a=Object(y.a)(r,2),i=a[0],o=a[1],s=this.weightPathPrefix||i,u=[],c=Object(Zn.a)(e);try{for(c.s();!(l=c.n()).done;)h=l.value,u.push.apply(u,Object(dt.a)(h.weights))}catch(ou){c.e(ou)}finally{c.f()}return f=[],e.forEach((function(t){t.paths.forEach((function(t){f.push(s+t+o)}))})),t.next=10,zr(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 10:return p=t.sent,t.abrupt("return",[u,Object(Qn.d)(p)]);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();function Gr(t){var e=t.lastIndexOf("/"),n=t.lastIndexOf("?");return[t.substring(0,e)+"/",n>e?t.substring(n):""]}function Yr(t){return null!=t.match(Hr.URL_SCHEME_REGEX)}Hr.URL_SCHEME_REGEX=/^https?:\/\//;var qr=function(t,e){if("undefined"===typeof fetch&&(null==e||null==e.fetchFunc))return null;return(Array.isArray(t)?t.every((function(t){return Yr(t)})):Yr(t))?Xr(t,e):null};function Xr(t,e){return new Hr(t,e)}function Kr(t,e){return Xr(t,e)}tr.registerSaveRouter(qr),tr.registerLoadRouter(qr);var $r=function(){function t(e){Object(Kn.a)(this,t),this.modelArtifacts=e}return Object($n.a)(t,[{key:"load",value:function(){var t=Object(L.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.modelArtifacts);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),Jr=function(){function t(e){Object(Kn.a)(this,t),this.saveHandler=e}return Object($n.a)(t,[{key:"save",value:function(){var t=Object(L.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.saveHandler(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();function Zr(t,e,n,r){if(1===arguments.length){var a=null!=t.modelTopology||null!=t.weightSpecs;return a?new $r(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new $r({modelTopology:t}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new $r({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r})}function Qr(t){return new Jr(t)}var ta=Object($.a)({oneHot_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(e));var a=Object(D.a)(t,"indices","oneHot","int32"),i=[].concat(Object(dt.a)(a.shape),[e]),o=function(t,o){return o([a]),it(t.oneHot(a,e,n,r),i)},s={indices:a=a.flatten()},u={depth:e,onValue:n,offValue:r};return g.a.runKernelFunc(o,s,null,"OneHot",u)}});var ea;Object($.a)({confusionMatrix_:function(t,e,n){var r=Object(D.a)(t,"labels","confusionMatrix"),a=Object(D.a)(e,"predictions","confusionMatrix");R.assert(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(n)})),R.assert(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),R.assert(1===a.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(a.rank)})),R.assert(r.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(a.shape[0],". ")+"Labels and predictions should have the same number of elements."})),R.assert(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(n)}));var i=ta(r.asType("int32"),n),o=ta(a.asType("int32"),n);return i.transpose().matMul(o).asType("int32")}});function na(t,e){return ra.apply(this,arguments)}function ra(){return(ra=Object(L.a)(F.a.mark((function t(e,n){var r,a,i,o,s,u,c,l,h,f,p,d,v,m,g,b,x,w,O,k,S,E,C,j,T;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(D.a)(e,"img","toPixels"),e instanceof z.a||(r=(a=r).toInt(),a.dispose()),2===r.rank||3===r.rank){t.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(i=r.shape.slice(0,2),o=Object(y.a)(i,2),s=o[0],u=o[1],!((c=2===r.rank?1:r.shape[2])>4||2===c)){t.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(c));case 8:return t.next=10,r.data();case 10:return l=t.sent,h=r.min(),f=r.max(),t.next=15,Promise.all([h.data(),f.data()]);case 15:if(p=t.sent,d=p[0],v=p[1],m=d[0],g=v[0],h.dispose(),f.dispose(),"float32"!==r.dtype){t.next=27;break}if(!(m<0||g>1)){t.next=25;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but got range [".concat(m," - ").concat(g,"]."));case 25:t.next=33;break;case 27:if("int32"!==r.dtype){t.next=32;break}if(!(m<0||g>255)){t.next=30;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but got range [".concat(m," - ").concat(g,"]."));case 30:t.next=33;break;case 32:throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 33:for(b="float32"===r.dtype?255:1,x=new Uint8ClampedArray(u*s*4),w=0;w<s*u;++w)O=void 0,k=void 0,S=void 0,E=void 0,1===c?(O=l[w]*b,k=l[w]*b,S=l[w]*b,E=255):3===c?(O=l[3*w]*b,k=l[3*w+1]*b,S=l[3*w+2]*b,E=255):4===c&&(O=l[4*w]*b,k=l[4*w+1]*b,S=l[4*w+2]*b,E=l[4*w+3]*b),x[(C=4*w)+0]=Math.round(O),x[C+1]=Math.round(k),x[C+2]=Math.round(S),x[C+3]=Math.round(E);return null!=n&&(n.width=u,n.height=s,j=n.getContext("2d"),T=new ImageData(x,u,s),j.putImageData(T,0,0)),r!==e&&r.dispose(),t.abrupt("return",x);case 39:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var aa=Object($.a)({fromPixels_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==t)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1;if(t.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&t instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement)i=!0;else{if(null==t.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(t.constructor.name));o=!0}if(a){var s=2;if(a&&t.readyState<s)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var u=Object(Gn.b)("FromPixels",g.a.backendName);if(null!=u)return g.a.runKernel("FromPixels",{pixels:t},{numChannels:e});var c,l,h=a?[t.videoWidth,t.videoHeight]:[t.width,t.height],f=Object(y.a)(h,2),p=f[0],d=f[1];if(o?c=t.getContext("2d").getImageData(0,0,p,d).data:r||n?c=t.data:(i||a)&&(null==ea&&(ea=document.createElement("canvas").getContext("2d")),ea.canvas.width=p,ea.canvas.height=d,ea.drawImage(t,0,0,p,d),c=ea.getImageData(0,0,p,d).data),4===e)l=new Int32Array(c);else{var v=p*d;l=new Int32Array(v*e);for(var m=0;m<v;m++)for(var b=0;b<e;++b)l[m*e+b]=c[4*m+b]}var x=[d,p,e];return Object(J.j)(l,x,"int32")}});function ia(t,e){if(t.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==e.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.shape[e.rank-1]>t.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(e.shape[e.rank-1]," vs. ").concat(t.rank));if(0===t.size)throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(t.shape,"."));for(var n=e.shape,r=n[n.length-1],a=1,i=0;i<n.length-1;++i)a*=n[i];var o=t.shape,s=n.slice();s.pop();for(var u=1,c=r;c<t.rank;++c)u*=o[c],s.push(o[c]);var l=[].concat(Object(dt.a)(Object(R.computeStrides)(t.shape).map((function(t){return t/u}))),[1]).slice(0,r);return[s,a,u,l]}function oa(t,e,n){var r=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(e.shape,", shape: ").concat(t)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(i+" update.rank < ".concat(a,". "));if(t.length<r+(n.rank-a))throw new Error(i+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+t.length-r)throw new Error(i+" update.rank != ".concat(a+t.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==e.shape[o])throw new Error(i+" updates.shape[".concat(o,"] (").concat(n.shape[o],") != indices.shape[").concat(o,"] (").concat(e.shape[o],")."));for(var s=0;s<n.rank-a;++s)if(n.shape[s+a]!==t[s+r])throw new Error(i+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(t[s+a],")"))}function sa(t,e,n){if(e.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if(t.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if("int32"!==e.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(e.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===e.size)throw new Error("Indices specified for empty output. indices shape: ".concat(e.shape));if(0===t.size)throw new Error("Updates specified for empty output. updates shape: ".concat(t.shape))}oa(n,e,t)}function ua(t,e,n){for(var r=e.shape.length,a=r>1?e.shape[r-1]:1,i=n.length,o=1,s=a;s<i;++s)o*=n[s];var u=a<1?1:a;return{sliceRank:a,numUpdates:Object(R.sizeFromShape)(e.shape)/u,sliceSize:o,strides:[].concat(Object(dt.a)(Object(R.computeStrides)(n.slice(0,a))),[1]),outputSize:Object(R.sizeFromShape)(n)}}var ca=function(){function t(){Object(Kn.a)(this,t)}return Object($n.a)(t,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(t,e){return new t(e)}}]),t}(),la=function(){function t(){Object(Kn.a)(this,t),this.classNameMap={}}return Object($n.a)(t,null,[{key:"getMap",value:function(){return null==t.instance&&(t.instance=new t),t.instance}},{key:"register",value:function(e){t.getMap().classNameMap[e.className]=[e,e.fromConfig]}}]),t}();function ha(t){Object(R.assert)(null!=t.className,(function(){return"Class being registered does not have the static className property defined."})),Object(R.assert)("string"===typeof t.className,(function(){return"className is required to be a string, but got type "+typeof t.className})),Object(R.assert)(t.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),la.register(t)}var fa="2.0.0",pa=n(13),da=n(14);var va=Object($.a)({addN_:function(t){R.assert(Array.isArray(t),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),R.assert(t.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(t.length)}));var e=t.map((function(t,e){return Object(D.a)(t,"tensors".concat(e),"addN")})),n=e[0];e.forEach((function(t){if(t.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),e.forEach((function(t){if(!R.arraysEqual(t.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=e;return g.a.runKernelFunc((function(t,n){var r=t.addN(e);return n(e),r}),r,null,"AddN")}});function ma(t){return null==t?null:0===t.rank?t.as1D():1===t.rank?t:2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}var ga=Object($.a)({batchNorm_:function(t,e,n,r,a,i){null==i&&(i=.001);var o,s,u=Object(D.a)(t,"x","batchNorm"),c=Object(D.a)(e,"mean","batchNorm"),l=Object(D.a)(n,"variance","batchNorm");null!=a&&(o=Object(D.a)(a,"scale","batchNorm")),null!=r&&(s=Object(D.a)(r,"offset","batchNorm")),R.assert(c.rank===l.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),R.assert(null==s||c.rank===s.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),R.assert(null==o||c.rank===o.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var h=function(t){return 0===t.rank||1===t.rank?t.as4D(1,1,1,t.size):2===t.rank?t.as4D(1,1,t.shape[0],t.shape[1]):3===t.rank?t.as4D(1,t.shape[0],t.shape[1],t.shape[2]):t}(u),f={x:h,scale:o,offset:s,mean:c,variance:l},p={varianceEpsilon:i},d=g.a.runKernelFunc((function(t,e){return e([h,c,l,o]),t.batchNorm(h,ma(c),ma(l),ma(s),ma(o),i)}),f,null,"FusedBatchNorm",p);return it(d,u.shape)}});var ya=Object($.a)({batchNorm2d_:function(t,e,n,r,a,i){var o,s,u=Object(D.a)(t,"x","batchNorm"),c=Object(D.a)(e,"mean","batchNorm"),l=Object(D.a)(n,"variance","batchNorm");return null!=a&&(o=Object(D.a)(a,"scale","batchNorm")),null!=r&&(s=Object(D.a)(r,"offset","batchNorm")),R.assert(2===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")})),R.assert(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")})),R.assert(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&R.assert(2===o.rank||1===o.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&R.assert(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")})),ga(u,c,l,s,o,i)}});var ba=Object($.a)({batchNorm3d_:function(t,e,n,r,a,i){var o,s,u=Object(D.a)(t,"x","batchNorm"),c=Object(D.a)(e,"mean","batchNorm"),l=Object(D.a)(n,"variance","batchNorm");return null!=a&&(o=Object(D.a)(a,"scale","batchNorm")),null!=r&&(s=Object(D.a)(r,"offset","batchNorm")),R.assert(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")})),R.assert(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")})),R.assert(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&R.assert(3===o.rank||1===o.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&R.assert(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")})),ga(u,c,l,s,o,i)}});var xa=Object($.a)({batchNorm4d_:function(t,e,n,r,a,i){var o,s,u=Object(D.a)(t,"x","batchNorm"),c=Object(D.a)(e,"mean","batchNorm"),l=Object(D.a)(n,"variance","batchNorm");return null!=a&&(o=Object(D.a)(a,"scale","batchNorm")),null!=r&&(s=Object(D.a)(r,"offset","batchNorm")),R.assert(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(u.rank,".")})),R.assert(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")})),R.assert(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=o&&R.assert(4===o.rank||1===o.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(o.rank,".")})),null!=s&&R.assert(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")})),ga(u,c,l,s,o,i)}});var wa=Object($.a)({clone_:function(t){var e=Object(D.a)(t,"x","clone",null);return g.a.runKernelFunc((function(){return g.a.makeTensorFromDataId(e.dataId,e.shape,e.dtype)}),{x:e},null,"Identity")}});var Oa=Object($.a)({broadcastTo_:function(t,e){var n=Object(D.a)(t,"broadcastTo","x"),r=n.shape;if(e.some((function(t){return!(t>0)||t%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(e,"]."));if(e.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(e.length," < input.rank=").concat(n.rank,"."));if(e.length>n.rank){for(var a=n.shape.slice();a.length<e.length;)a.unshift(1);n=it(n,a)}for(var i=n.shape,o=Array.from(e),s=e.length-1;s>=0;s--)if(i[s]===e[s])o[s]=1;else if(1!==n.shape[s])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(e,"]."));if(0===o.map((function(t,e){return t>1?e:-1})).filter((function(t){return t>=0})).length)return wa(n);var u={x:n},c={shape:e,inputShape:i};return g.a.runKernelFunc((function(t){return t.tile(n,o)}),u,null,"BroadcastTo",c)}});var ka=Object($.a)({concat1d_:function(t){return Z(t,0)}});var Sa=Object($.a)({concat2d_:function(t,e){return Z(t,e)}});var Ea=Object($.a)({concat3d_:function(t,e){return Z(t,e)}});var Ca=Object($.a)({concat4d_:function(t,e){return Z(t,e)}});var ja=Object($.a)({conv1d_:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6?arguments[6]:void 0,s=Object(D.a)(t,"x","conv1d"),u=Object(D.a)(e,"filter","conv1d"),c=s,l=!1;2===s.rank&&(l=!0,c=it(s,[1,s.shape[0],s.shape[1]])),R.assert(3===c.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(c.rank,".")})),R.assert(3===u.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(u.rank,".")})),null!=o&&R.assert(R.isInt(r),(function(){return"Error in conv1d: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(r,".")})),R.assert(c.shape[2]===u.shape[1],(function(){return"Error in conv1d: depth of input (".concat(c.shape[2],") must match ")+"input depth for filter ".concat(u.shape[1],".")})),R.assert(Vt(n,i),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(i,"'")})),R.assert("NWC"===a,(function(){return"Error in conv1d: got dataFormat of ".concat(a," but only NWC is currently supported.")}));var h=it(u,[1,u.shape[0],u.shape[1],u.shape[2]]),f=it(c,[c.shape[0],1,c.shape[1],c.shape[2]]),p=[1,n],d=[1,i],v="NHWC",m=Xt(f,h,p,r,v,d,o);return it(m,l?[m.shape[2],m.shape[3]]:[m.shape[0],m.shape[2],m.shape[3]])}});var Ta=Object($.a)({conv2dTranspose_:function(t,e,n,r,a,i){var o=Object(D.a)(t,"x","conv2dTranspose"),s=Object(D.a)(e,"filter","conv2dTranspose");return Yt(n,o,s,r,a,"NHWC",i)}});var Aa=Object($.a)({conv3d_:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],o=Object(D.a)(t,"x","conv3d"),s=Object(D.a)(e,"filter","conv3d"),u=o,c=!1;4===o.rank&&(c=!0,u=it(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),R.assert(5===u.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(u.rank,".")})),R.assert(5===s.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(s.rank,".")})),R.assert(u.shape[4]===s.shape[3],(function(){return"Error in conv3d: depth of input (".concat(u.shape[4],") must match ")+"input depth for filter ".concat(s.shape[3],".")})),R.assert(Vt(n,i),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(i,"'")})),R.assert("NDHWC"===a,(function(){return"Error in conv3d: got dataFormat of ".concat(a," but only NDHWC is currently supported.")}));var l=function(t,e){var a=Dt(u.shape,s.shape,n,i,r),o=t.conv3d(u,s,a);return e([u,s]),o},h={x:u,filter:s},f={strides:n,pad:r,dataFormat:a,dilations:i},p=g.a.runKernelFunc(l,h,null,"Conv3D",f);return c?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}});var _a=Object($.a)({conv3dTranspose_:function(t,e,n,r,a){var i=Object(D.a)(t,"x","conv3dTranspose"),o=Object(D.a)(e,"filter","conv3dTranspose");return Jt(n,i,o,r,a)}});var Ma=Object($.a)({depthToSpace_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",r=Object(D.a)(t,"x","depthToSpace"),a="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],o="NHWC"===n?r.shape[3]:r.shape[1];R.assert(a*e>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(a," and ").concat(e,"  for depthToSpace with input shape\n    ").concat(r.shape)})),R.assert(i*e>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(i," and ").concat(e," for depthToSpace with input shape\n        ").concat(r.shape)})),R.assert(o%(e*e)===0,(function(){return"Dimension size must be evenly divisible by ".concat(e*e," but is ").concat(o," for depthToSpace with input shape ").concat(r.shape)}));var s=function(t){return t.depthToSpace(r,e,n)},u={x:r},c={blockSize:e,dataFormat:n};return g.a.runKernelFunc(s,u,null,"DepthToSpace",c)}});var Na=Object($.a)({depthwiseConv2d_:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6?arguments[6]:void 0,s=Object(D.a)(t,"x","depthwiseConv2d"),u=Object(D.a)(e,"filter","depthwiseConv2d"),c=s,l=!1;3===s.rank&&(l=!0,c=it(s,[1,s.shape[0],s.shape[1],s.shape[2]])),R.assert(4===c.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,".")})),R.assert(4===u.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(u.rank,".")})),R.assert(c.shape[3]===u.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(c.shape[3],") must match the inChannels dimension in ")+"filter ".concat(u.shape[2],".")})),null!=o&&R.assert(R.isInt(r),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(r,".")}));var h=function(t,e){null==i&&(i=[1,1]),R.assert(Vt(n,i),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(n," and dilations '").concat(i,"'")}));var a=It(c.shape,u.shape,n,i,r,o,!0),s=t.depthwiseConv2D(c,u,a);return e([c,u]),s},f={x:c,filter:u},p={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:o},d=g.a.runKernelFunc(h,f,null,"DepthwiseConv2dNative",p);return l?it(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});var Ia=Object($.a)({diag_:function(t){var e=Object(D.a)(t,"x","diag").flatten(),n={x:e};return g.a.runKernelFunc((function(n){var r=n.diag(e),a=[].concat(Object(dt.a)(t.shape),Object(dt.a)(t.shape));return it(r,a)}),n,null,"Diag")}});function Da(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&n.push(r);for(var a=tt(t,"int32"),i=tt([n.length,t.length],"int32"),o=0;o<n.length;o++){var s=a.indexToLoc(n[o]),u=o*t.length;i.values.set(s,u)}return i.toTensor()}function Ra(){return(Ra=Object(L.a)(F.a.mark((function t(e){var n,r,a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(D.a)(e,"condition","whereAsync","bool"),t.next=3,n.data();case 3:return r=t.sent,a=Da(n.shape,r),e!==n&&n.dispose(),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Pa=Object($.a)({logicalAnd_:function(t,e){var n=Object(D.a)(t,"a","logicalAnd","bool"),r=Object(D.a)(e,"b","logicalAnd","bool");return _(n.shape,r.shape),g.a.runKernelFunc((function(t){return t.logicalAnd(n,r)}),{a:n,b:r},null,"LogicalAnd")}}),Fa=Object($.a)({logicalNot_:function(t){var e=Object(D.a)(t,"x","logicalNot","bool");return g.a.runKernelFunc((function(t){return t.logicalNot(e)}),{$x:e})}}),La=Object($.a)({logicalOr_:function(t,e){var n=Object(D.a)(t,"a","logicalOr","bool"),r=Object(D.a)(e,"b","logicalOr","bool");return _(n.shape,r.shape),g.a.runKernelFunc((function(t){return t.logicalOr(n,r)}),{$a:n,$b:r})}}),za=Object($.a)({logicalXor_:function(t,e){var n=Object(D.a)(t,"a","logicalXor","bool"),r=Object(D.a)(e,"b","logicalXor","bool");return _(n.shape,r.shape),La(t,e).logicalAnd(Pa(t,e).logicalNot())}}),Ba=Object($.a)({where_:function(t,e,n){var r=Object(D.a)(e,"a","where"),a=Object(D.a)(n,"b","where"),i=Object(D.a)(t,"condition","where","bool");return Object(R.assertShapesMatch)(r.shape,a.shape,"Error in where: "),1===i.rank?Object(R.assert)(i.shape[0]===r.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):Object(R.assertShapesMatch)(i.shape,a.shape,"Error in where: "),g.a.runKernelFunc((function(t,e){var n=t.select(i,r,a);return e([i]),n}),{$condition:i,$a:r,$b:a},(function(t,e){var n=Object(y.a)(e,1)[0];return{$condition:function(){return Object(J.p)(n).toFloat()},$a:function(){return t.mul(n.cast(t.dtype))},$b:function(){return t.mul(n.logicalNot().cast(t.dtype))}}}))}}),Wa=function(t){return Ra.apply(this,arguments)};var Ua=Object($.a)({divNoNan_:function(t,e){var n=Object(D.a)(t,"a","div"),r=Object(D.a)(e,"b","div"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1];var o=ln(n,r),s=Object(J.p)(o),u=r.equal(s);return Ba(u,s,o)}});var Va=Object($.a)({dot_:function(t,e){var n=Object(D.a)(t,"t1","dot"),r=Object(D.a)(e,"t2","dot");R.assert((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];if(R.assert(a===i,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(a," and ").concat(i,".")})),1===n.rank&&1===r.rank){var o=it(n,[1,-1]),s=it(r,[-1,1]),u=lt(o,s);return it(u,[])}if(1===n.rank&&2===r.rank){var c=it(n,[1,-1]),l=it(r,[r.shape[0],r.shape[1]]),h=lt(c,l);return it(h,[h.size])}if(2===n.rank&&1===r.rank){var f=it(r,[-1,1]),p=lt(n,f);return it(p,[p.size])}var d=it(r,[r.shape[0],r.shape[1]]);return lt(n,d)}});var Ha=Object($.a)({equal_:function(t,e){var n=Object(D.a)(t,"a","equal"),r=Object(D.a)(e,"b","equal"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1],_(n.shape,r.shape);var o={a:n,b:r};return g.a.runKernelFunc((function(t){return t.equal(n,r)}),o,null,"Equal")}});var Ga=Object($.a)({eye_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==e&&(e=t);for(var a=tt([t,e],r),i=t<=e?t:e,o=0;o<i;++o)a.set(1,o,o);var s=a.toTensor().as2D(t,e);if(null==n)return s;if(1===n.length)return dn(at(s,0),[n[0],1,1]);if(2===n.length)return dn(at(at(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return dn(at(at(at(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});var Ya=Object($.a)({greater_:function(t,e){var n=Object(D.a)(t,"a","greater"),r=Object(D.a)(e,"b","greater"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1],_(n.shape,r.shape);var o={a:n,b:r};return g.a.runKernelFunc((function(t){return t.greater(n,r)}),o,null,"Greater")}});var qa=Object($.a)({greaterEqual_:function(t,e){var n=Object(D.a)(t,"a","greaterEqual"),r=Object(D.a)(e,"b","greaterEqual"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1],_(n.shape,r.shape);var o={a:n,b:r};return g.a.runKernelFunc((function(t,e){var a=t.greaterEqual(n,r);return e([n,r]),a}),o,null,"GreaterEqual")}});var Xa=Object($.a)({less_:function(t,e){var n=Object(D.a)(t,"a","less"),r=Object(D.a)(e,"b","less"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1],_(n.shape,r.shape);var o={a:n,b:r};return g.a.runKernelFunc((function(t){return t.less(n,r)}),o,null,"Less")}});var Ka=Object($.a)({lessEqual_:function(t,e){var n=Object(D.a)(t,"a","lessEqual"),r=Object(D.a)(e,"b","lessEqual"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1],_(n.shape,r.shape);var o={a:n,b:r};return g.a.runKernelFunc((function(t,e){var a=t.lessEqual(n,r);return e([n,r]),a}),o,null,"LessEqual")}});var $a=Object($.a)({localResponseNormalization_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,i=Object(D.a)(t,"x","localResponseNormalization");R.assert(4===i.rank||3===i.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(i.rank,".")})),R.assert(R.isInt(e),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(e,".")}));var o=i,s=!1;3===i.rank&&(s=!0,o=it(i,[1,i.shape[0],i.shape[1],i.shape[2]]));var u=function(t,i){var s=t.localResponseNormalization4D(o,e,n,r,a);return i([o,s]),s},c={x:o},l={depthRadius:e,bias:n,alpha:r,beta:a},h=g.a.runKernelFunc(u,c,null,"LRN",l);return s?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}});var Ja=Object($.a)({max_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"x","max"),a=function(t,n){var a=R.parseAxisParam(e,r.shape),i=G(a,r.rank),o=r;null!=i&&(o=xn(r,i),a=q(a.length,o.rank));var s=t.max(o,a);return n([r,s]),null!=i&&t.disposeData(o.dataId),s},i={x:r},o={reductionIndices:e,keepDims:n},s=g.a.runKernelFunc(a,i,null,k,o);return n?it(s,V(s.shape,R.parseAxisParam(e,r.shape))):s}});var Za=Object($.a)({multinomial_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Object(D.a)(t,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(i,"."));if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(o));n=n||Math.random();var s=1===o?a.as2D(1,-1):a,u=g.a.runKernelFunc((function(t){return t.multinomial(s,r,e,n)}),{logits2D:s});return 1===o?u.as1D():u}});var Qa=Object($.a)({notEqual_:function(t,e){var n=Object(D.a)(t,"a","notEqual"),r=Object(D.a)(e,"b","notEqual"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1],_(n.shape,r.shape);var o={a:n,b:r};return g.a.runKernelFunc((function(t){return t.notEqual(n,r)}),o,null,"NotEqual")}});var ti=Object($.a)({outerProduct_:function(t,e){var n=Object(D.a)(t,"v1","outerProduct"),r=Object(D.a)(e,"v2","outerProduct");R.assert(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=it(n,[-1,1]),i=it(r,[1,-1]);return lt(a,i)}});var ei=Object($.a)({pad1d_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(R.assert)(2===e.length,(function(){return"Invalid number of paddings. Must be length of 2."})),_n(t,[e],n)}});var ni=Object($.a)({pad2d_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(R.assert)(2===e.length&&2===e[0].length&&2===e[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),_n(t,e,n)}});var ri=Object($.a)({pad3d_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(R.assert)(3===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),_n(t,e,n)}});var ai=Object($.a)({pad4d_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(R.assert)(4===e.length&&2===e[0].length&&2===e[1].length&&2===e[2].length&&2===e[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),_n(t,e,n)}});var ii=Object($.a)({rand_:function(t,e,n){var r=Object(R.sizeFromShape)(t),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=e();return g.a.makeTensor(a,t,n)}}),oi=n(47),si=function(){function t(e,n,r,a,i){Object(Kn.a)(this,t),this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=oi.alea(o.toString())}return Object($n.a)(t,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var e,n,r=!1;!r;){var a=void 0,i=void 0,o=void 0;do{o=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(e)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(e)}},{key:"convertValue",value:function(t){return null==this.dtype||"float32"===this.dtype?t:Math.round(t)}},{key:"isValidTruncated",value:function(t){return t<=this.upper&&t>=this.lower}}]),t}(),ui=function(){function t(e,n,r,a){Object(Kn.a)(this,t),this.alpha=e,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=oi.alea(i.toString()),this.randn=new si(0,1,r,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return Object($n.a)(t,[{key:"nextValue",value:function(){for(var t,e,n,r,a,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,e=1-.331*(t=r*r)*t,n=.5*t+this.d*(1-i+Math.log(i)),(a=this.randu())<e||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}},{key:"convertValue",value:function(t){return"float32"===this.dtype?t:Math.round(t)}}]),t}(),ci=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(Object(Kn.a)(this,t),this.canReturnFloat=function(){return null==e.dtype||"float32"===e.dtype},this.min=n,this.range=r-n,this.dtype=a,null==i&&(i=Math.random()),"number"===typeof i&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(r," <= 1 and dtype is not float"));this.random=oi.alea(i)}return Object($n.a)(t,[{key:"convertValue",value:function(t){return this.canReturnFloat()?t:Math.round(t)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),t}();var li=Object($.a)({randomGamma_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var i=new ui(e,n,r,a),o=tt(t,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var hi=Object($.a)({randomNormal_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var i=new si(e,n,r,!1,a),o=tt(t,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var fi=Object($.a)({randomUniform_:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0,i=tt(t,r),o=new ci(e,n,null,a),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});var pi=Object($.a)({separableConv2d_:function(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",s=Object(D.a)(t,"x","separableConv2d"),u=Object(D.a)(e,"depthwiseFilter","separableConv2d"),c=Object(D.a)(n,"pointwiseFilter","separableConv2d"),l=s,h=!1;if(3===s.rank&&(h=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===o)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");R.assert(4===l.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(l.rank,".")})),R.assert(4===u.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),R.assert(4===c.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(u.rank,".")})),R.assert(1===c.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],".")})),R.assert(1===c.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],".")}));var f=u.shape[2],p=u.shape[3];R.assert(c.shape[2]===f*p,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(f*p,", ")+"but got ".concat(c.shape[2],".")}));var d=Na(l,u,r,a,o,i),v=1,m=Xt(d,c,v,"valid",o);return h?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}});var di=Object($.a)({squaredDifference_:function(t,e){var n=Object(D.a)(t,"a","squaredDifference"),r=Object(D.a)(e,"b","squaredDifference"),a=Object(I.makeTypesMatch)(n,r),i=Object(y.a)(a,2);n=i[0],r=i[1],_(n.shape,r.shape);var o={a:n,b:r};return g.a.runKernelFunc((function(t,e){var a=t.squaredDifference(n,r);return e([n,r]),a}),o,null,S,{})}});var vi=Object($.a)({truncatedNormal_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var i=new si(e,n,r,!0,a),o=tt(t,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),mi=30;function gi(t){return t<=mi?t:Object(R.nearestDivisor)(t,Math.floor(Math.sqrt(t)))}function yi(t,e){var n,r=!1;for(t<=mi?(n=t,r=!0):n=Object(R.nearestDivisor)(t,Math.floor(Math.sqrt(t)));!r;)n>e||n===t?r=!0:n=Object(R.nearestDivisor)(t,n+1);return n}function bi(t,e,n){for(var r=[],a=t.length,i=0;i<a;i++)i!==e?r.push(t[i]):r.push(n);return r}function xi(t,e,n){for(var r=t.shape[n],a=[],i=1,o=1,s=0;s<n;s++)a.push(t.shape[s]),i*=t.shape[s];for(var u=0;u<e.rank;u++)a.push(e.shape[u]);for(var c=n+1;c<t.rank;c++)a.push(t.shape[c]),o*=t.shape[c];return{batchSize:i,sliceSize:o,dimSize:r,outputShape:a}}function wi(t,e){for(var n=[],r=t;r<e;++r)n.push(r);return n}function Oi(t){for(var e=[],n=0;n<t.length;++n)for(var r=0;r<t[n].length;++r)e.push(t[n][r]);return e}var ki=Object($.a)({gather_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Object(D.a)(t,"x","gather"),a=Object(D.a)(e,"indices","gather","int32");n=Object(R.parseAxisParam)(n,r.shape)[0];var i=xi(r,a,n),o=function(t,e){var a=Object(y.a)(e,1)[0];return{x:function(){var e=r.shape,i=a.size,o=e.slice(0,n),s=o.length,u=e.slice(n,e.length).slice(1),c=u.length,l=wi(0,s),h=wi(s+1,s+1+c),f=Oi([o,[i],u]),p=t.reshape(f),d=a.reshape([i]),v=Oi([[s],l,h]),m=p.transpose(v),g=Si(m,d,r.shape[n]),y=Y(v);return g=g.transpose(y)},indices:function(){return a}}};return g.a.runKernelFunc((function(t,e){var i=t.gather(r,a.flatten(),n);return e([a]),i}),{x:r,indices:a},o,"Gather",{axis:n}).reshape(i.outputShape)}}),Si=Object($.a)({unsortedSegmentSum_:function(t,e,n){var r=Object(D.a)(t,"x","unsortedSegmentSum"),a=Object(D.a)(e,"segmentIds","unsortedSegmentSum","int32");return Object(R.assert)(Object(R.isInt)(n),(function(){return"numSegments must be of dtype int"})),g.a.runKernelFunc((function(t,e){var i=t.unsortedSegmentSum(r,a,n);return e([a]),i}),{$x:r},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return function(t,e){for(var n=Je(e,Object(J.p)(e)),r=ki(t,n),a=qa(e,Object(J.f)(0,"int32")),i=r.rank-a.rank,o=0;o<i;++o)a=at(a,o+1);a=Pa(a,Object(J.c)(r.shape,"bool"));var s=Object(J.p)(r);return Ba(a,r,s)}(t,n)}}}))}});function Ei(){return(Ei=Object(L.a)(F.a.mark((function t(e,n,r){var a,i,o,s,u,c,l,h,f,p,d,v,m;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=Object(D.a)(e,"tensor","boolMask"),i=Object(D.a)(n,"mask","boolMask","bool"),o=null==r?0:r,s=i.rank,u=a.shape,R.assert(s>0,(function(){return"mask cannot be scalar"})),R.assertShapesMatch(u.slice(o,o+s),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=o;l<o+s;l++)c*=u[l];return h=u.slice(0,o).concat([c],u.slice(o+s)),f=a.reshape(h),p=i.reshape([-1]),t.next=14,Wa(p);case 14:return d=t.sent,v=d.squeeze([1]),m=ki(f,v,o),e!==a&&a.dispose(),n!==i&&i.dispose(),v.dispose(),f.dispose(),p.dispose(),d.dispose(),t.abrupt("return",m);case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Ci=function(t,e,n){return Ei.apply(this,arguments)},ji=n(36);var Ti=Object($.a)({reverse_:function(t,e){var n=Object(D.a)(t,"x","reverse");if(0===n.rank)return n.clone();var r=R.parseAxisParam(e,n.shape);return g.a.runKernelFunc((function(t){return t.reverse(n,r)}),{$x:n},(function(t){return{$x:function(){return t.reverse(r)}}})).reshapeAs(n)}}),Ai=Object($.a)({reverse1d_:function(t){var e=Object(D.a)(t,"x","reverse");return R.assert(1===e.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(e.rank,".")})),Ti(e,0)}}),_i=Object($.a)({reverse2d_:function(t,e){var n=Object(D.a)(t,"x","reverse");return R.assert(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),Ti(n,e)}}),Mi=Object($.a)({reverse3d_:function(t,e){var n=Object(D.a)(t,"x","reverse");return R.assert(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),Ti(n,e)}}),Ni=Object($.a)({reverse4d_:function(t,e){var n=Object(D.a)(t,"x","reverse");return R.assert(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),Ti(n,e)}});function Ii(t,e,n,r,a,i){var o=Object(D.a)(t,"x","maxPool"),s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),null==r&&(r=[1,1]),R.assert(4===s.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(s.rank,".")})),R.assert(Vt(n,r),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(r,"'")})),null!=i&&R.assert(R.isInt(a),(function(){return"Error in maxPool: pad must be an integer when using, "+"dimRoundingMode ".concat(i," but got pad ").concat(a,".")}));var c=Mt(s.shape,e,n,r,a,i);if(1===c.filterWidth&&1===c.filterHeight&&R.arraysEqual(c.inShape,c.outShape))return o.clone();var l=[s],h=g.a.runKernelFunc((function(t,e){var n=t.maxPool(s,c);return e([s,n]),n}),{x:s},(function(t,i){var o=Object(y.a)(i,2),s=o[0],u=o[1];return{x:function(){return function(t,e,n,r,a,i,o,s){var u=Object(D.a)(t,"dy","maxPoolBackprop"),c=Object(D.a)(e,"input","maxPoolBackprop"),l=Object(D.a)(n,"output","maxPoolBackprop");R.assert(c.rank===u.rank,(function(){return"Rank of input (".concat(c.rank,") does not match rank of dy ")+"(".concat(u.rank,")")})),null==i&&(i=[1,1]);R.assert(Vt(a,i),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(i,"'")})),R.assert(4===u.rank,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+"".concat(u.rank,".")})),R.assert(4===c.rank,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+"".concat(c.rank,".")})),null!=s&&R.assert(R.isInt(o),(function(){return"Error in maxPoolBackprop: pad must be an integer when using, "+"dimRoundingMode ".concat(s," but got pad ").concat(o,".")}));var h=Mt(c.shape,r,a,i,o,s);return g.a.runKernelFunc((function(t){return t.maxPoolBackprop(u,c,l,h)}),{$dy:u,$input:c})}(t,s,u,e,n,r,a)}}}),"MaxPool",c,l);return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function Di(t,e,n,r,a,i){var o=Object(D.a)(t,"x","avgPool","float32");null==r&&(r=[1,1]),R.assert(Vt(n,r),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(r,"'")}));var s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),R.assert(4===s.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(s.rank,".")})),null!=i&&R.assert(R.isInt(a),(function(){return"Error in avgPool: pad must be an integer when using, "+"dimRoundingMode ".concat(i," but got pad ").concat(a,".")}));var c=Mt(s.shape,e,n,r,a,i);if(1===c.filterWidth&&1===c.filterHeight&&R.arraysEqual(c.inShape,c.outShape))return o.clone();var l=g.a.runKernelFunc((function(t){return t.avgPool(s,c)}),{x:s},(function(t){return{x:function(){return function(t,e,n,r,a,i){var o=Object(D.a)(t,"dy","avgPoolBackprop"),s=Object(D.a)(e,"input","avgPoolBackprop");R.assert(s.rank===o.rank,(function(){return"Rank of input (".concat(s.rank,") does not match rank of dy (").concat(o.rank,")")})),null==a&&(a=[1,1]);R.assert(Vt(r,a),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(a,"'")}));var u=s,c=o,l=!1;3===s.rank&&(l=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),c=o.as4D(1,o.shape[0],o.shape[1],o.shape[2]));R.assert(4===c.rank,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+"".concat(c.rank,".")})),R.assert(4===u.rank,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+"".concat(u.rank,".")}));var h=Mt(u.shape,n,r,a,i),f=g.a.runKernelFunc((function(t){return t.avgPoolBackprop(c,u,h)}),{dy4D:c,input4D:u});if(l)return f.as3D(f.shape[1],f.shape[2],f.shape[3]);return f}(t,s,e,n,r,a)}}}),"AvgPool",c);return l=l.cast(o.dtype),u?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}function Ri(t,e,n,r,a,i,o){var s=Object(D.a)(t,"dy","avgPool3dBackprop"),u=Object(D.a)(e,"input","avgPool3dBackprop"),c=s,l=u,h=!1;4===u.rank&&(h=!0,c=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),l=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3])),R.assert(5===c.rank,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+"".concat(c.rank,".")})),R.assert(5===l.rank,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+"".concat(l.rank,".")})),null==a&&(a=[1,1,1]),R.assert(Vt(r,a),(function(){return"Error in avgPool3dBackprop: Either strides or dilations "+"must be 1. Got strides ".concat(r," and dilations '").concat(a,"'")})),null!=o&&R.assert(R.isInt(i),(function(){return"Error in maxPool3dBackprop: pad must be an integer when "+"using, dimRoundingMode ".concat(o," but got pad ").concat(i,".")}));var f=Nt(l.shape,n,r,a,i,o),p=g.a.runKernelFunc((function(t){return t.avgPool3dBackprop(c,l,f)}),{dy5D:c,input5D:l});return h?p.as4D(p.shape[1],p.shape[2],p.shape[3],p.shape[4]):p}function Pi(t,e,n,r,a,i,o,s){var u=Object(D.a)(t,"dy","maxPool3dBackprop"),c=Object(D.a)(e,"input","maxPool3dBackprop"),l=Object(D.a)(n,"output","maxPool3dBackprop"),h=u,f=c,p=l,d=!1;4===c.rank&&(d=!0,h=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),f=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]),p=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),R.assert(5===h.rank,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+"".concat(h.rank,".")})),R.assert(5===f.rank,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+"".concat(f.rank,".")})),R.assert(5===p.rank,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+"".concat(p.rank,".")})),null==i&&(i=[1,1,1]),R.assert(Vt(a,i),(function(){return"Error in maxPool3dBackprop: Either strides or dilations "+"must be 1. Got strides ".concat(a," and dilations '").concat(i,"'")})),null!=s&&R.assert(R.isInt(o),(function(){return"Error in maxPool3dBackprop: pad must be an integer when "+"using, dimRoundingMode ".concat(s," but got pad ").concat(o,".")}));var v=Nt(f.shape,r,a,i,o,s),m=g.a.runKernelFunc((function(t){return t.maxPool3dBackprop(h,f,p,v)}),{dy5D:h,input5D:f});return d?m.as4D(m.shape[1],m.shape[2],m.shape[3],m.shape[4]):m}var Fi=Object($.a)({maxPool_:function(t,e,n,r,a){return Ii(t,e,n,1,r,a)}}),Li=Object($.a)({avgPool_:function(t,e,n,r,a){return Di(t,e,n,1,r,a)}}),zi=Object($.a)({pool_:function(t,e,n,r,a,i){null==a&&(a=[1,1]),null==i&&(i=1),0===r&&(r="valid");var o=Object(D.a)(t,"x","maxPool"),s=o,u=!1;3===o.rank&&(u=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),R.assert(Vt(i,a),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(a,"'")}));var c,l=Mt(s.shape,e,i,a,r),h=[l.dilationHeight,l.dilationWidth];c="same"===r?function(t,e){var n=t.map((function(t,n){return t+(t-1)*(e[n]-1)})).map((function(t){return t-1})),r=n.map((function(t){return Math.floor(t/2)})),a=n.map((function(t,e){return t-r[e]}));return n.map((function(t,e){return[r[e],a[e]]}))}([l.filterHeight,l.filterWidth],h):[[0,0],[0,0]];var f=1===h[0]&&1===h[1],p=function(t,e,n){var r=n.map((function(t){return t[0]})),a=n.map((function(t){return t[1]})),i=t.concat(r,a),o=e.map((function(t,e){return(t-i[e]%t)%t})),s=a.map((function(t,e){return t+o[e]})),u=e.map((function(t,e){return[r[e],s[e]]})),c=e.map((function(t,e){return[0,o[e]]}));return[u,c]}([l.inHeight,l.inWidth],h,c),d=Object(y.a)(p,2),v=d[0],m=d[1],g=f?r:"valid",b=f?s:ft(s,h,v),x=("avg"===n?function(){return Di(b,e,i,1,g)}:function(){return Ii(b,e,i,1,g)})(),w=f?x:Sn(x,h,m);return u?w.as3D(w.shape[1],w.shape[2],w.shape[3]):w}}),Bi=Object($.a)({maxPool3d_:function(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=arguments.length>6?arguments[6]:void 0,s=Object(D.a)(t,"x","maxPool3d"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),R.assert(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(u.rank,".")})),R.assert("NDHWC"===i,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i)})),R.assert(Vt(n,o),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")})),null!=a&&R.assert(R.isInt(r),(function(){return"Error in maxPool3d: pad must be an integer when using, "+"dimRoundingMode ".concat(a," but got pad ").concat(r,".")}));var l=Nt(u.shape,e,n,o,r,a,i),h=function(t,i){var s=Object(y.a)(i,2),u=s[0],c=s[1];return{x:function(){return Pi(t,u,c,e,n,o,r,a)}}},f=g.a.runKernelFunc((function(t,e){var n=t.maxPool3d(u,l);return e([u,n]),n}),{x:u},h);return c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Wi=Object($.a)({avgPool3d_:function(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=arguments.length>6?arguments[6]:void 0,s=Object(D.a)(t,"x","avgPool3d","float32"),u=s,c=!1;4===s.rank&&(c=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==o&&(o=[1,1,1]),R.assert(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(u.rank,".")})),R.assert("NDHWC"===i,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(i)})),R.assert(Vt(n,o),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'")})),null!=a&&R.assert(R.isInt(r),(function(){return"Error in avgPool3d: pad must be an integer when using, "+"dimRoundingMode ".concat(a," but got pad ").concat(r,".")}));var l=Nt(u.shape,e,n,o,r,a,i),h=function(t){return{x:function(){return Ri(t,u,e,n,o,r,a)}}},f=g.a.runKernelFunc((function(t){return t.avgPool3d(u,l)}),{x:u},h);return f=f.cast(u.dtype),c?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Ui=Object($.a)({maxPoolWithArgmax_:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=Object(D.a)(t,"x","maxPoolWithArgmax"),o={filterSize:e,strides:n,pad:r,includeBatchInIndex:a},s=g.a.runKernel("MaxPoolWithArgmax",{x:i},o);return{result:s[0],indexes:s[1]}}});var Vi=Object($.a)({equalStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","equalStrict"),r=Object(D.a)(e,"b","equalStrict");return Object(R.assertShapesMatch)(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),Hi=Object($.a)({greaterEqualStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","greaterEqualStrict"),r=Object(D.a)(e,"b","greaterEqualStrict");return Object(R.assertShapesMatch)(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),Gi=Object($.a)({greaterStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","greaterStrict"),r=Object(D.a)(e,"b","greaterStrict");return Object(R.assertShapesMatch)(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),Yi=Object($.a)({lessEqualStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","lessEqualStrict"),r=Object(D.a)(e,"b","lessEqualStrict");return Object(R.assertShapesMatch)(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),qi=Object($.a)({lessStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","lessStrict"),r=Object(D.a)(e,"b","lessStrict");return Object(R.assertShapesMatch)(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),Xi=Object($.a)({notEqualStrict_:function(t,e){re("strict variants of ops have been deprecated and will be removed in future");var n=Object(D.a)(t,"a","notEqualStrict"),r=Object(D.a)(e,"b","notEqualStrict");return Object(R.assertShapesMatch)(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}}),Ki=1.7580993408473768,$i=1.0507009873554805;var Ji=Object($.a)({elu_:function(t){var e=Object(D.a)(t,"x","elu");return g.a.runKernelFunc((function(t,n){var r=t.elu(e);return n([r]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){return g.a.runKernelFunc((function(e){return e.eluDer(t,n)}),{dy:t,y:n})}}}))}}),Zi=Object($.a)({leakyRelu_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=Object(D.a)(t,"x","leakyRelu");return Je(Object(J.f)(e).mul(n),n)}}),Qi=Object($.a)({prelu_:function(t,e){var n=Object(D.a)(t,"x","prelu"),r=Object(D.a)(e,"alpha","prelu");return g.a.runKernelFunc((function(t,e){var a=t.prelu(n,r);return e([n,r]),a}),{x:n,alpha:r},(function(t,e){var n=Object(y.a)(e,2),r=n[0],a=n[1],i=r.greater(0);return{x:function(){return Ba(i,t,t.mul(a))},alpha:function(){var e=Ba(i,Object(J.p)(t),t.mul(r)),n=A(a.shape,t.shape);return n.length>0&&(e=e.sum(n)),e.reshape(a.shape)}}}),"Prelu")}}),to=Object($.a)({relu_:function(t){var e=Object(D.a)(t,"x","relu");return"bool"===e.dtype?e.toInt():g.a.runKernelFunc((function(t,n){var r=t.relu(e);return n([e]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{x:function(){return rn(t,n.step().toFloat())}}}),"Relu")}}),eo=Object($.a)({relu6_:function(t){var e=Object(D.a)(t,"x","relu6");return"bool"===e.dtype?e.toInt():g.a.runKernelFunc((function(t,n){var r=t.relu6(e);return n([e]),r}),{x:e},(function(t,e){var n=Object(y.a)(e,1)[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return rn(t,r.toFloat())}}}),"Relu6")}}),no=Object($.a)({selu_:function(t){var e=Object(D.a)(t,"x","selu");return g.a.runKernelFunc((function(t,n){var r=t.selu(e);return n([e]),r}),{$x:e},(function(t,e){var n=Object(y.a)(e,1)[0];return{$x:function(){var e=n.greater(Object(J.f)(0)),r=Object(J.f)(Ki),a=Object(J.f)($i),i=t.mul(a),o=t.mul(r).mul(n.toFloat().exp());return Ba(e,i,o)}}}))}});var ro=Object($.a)({softmax_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(D.a)(t,"logits","softmax","float32");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(e));var r=[],a=[!0];return g.a.runKernelFunc((function(t,r){var a=t.softmax(n,e);return r([a]),a}),{logits:n},(function(t,n){var r=Object(y.a)(n,1)[0],a=t.mul(r);return{logits:function(){return a.sub(a.sum([e],!0).mul(r))}}}),"Softmax",{dim:e},r,a)}}),ao=Object($.a)({logSoftmax_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(D.a)(t,"logits","logSoftmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(e));var r=mt((function(t,n){var r=t.max(e,!0),a=t.sub(r),i=a.toFloat().sub(a.exp().sum(e,!0).log());n([i]);return{value:i,gradFunc:function(t,n){var r=Object(y.a)(n,1)[0].exp();return t.sub(t.sum(e,!0).mul(r))}}}));return r(n)}});function io(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===t.rank)return t.abs();if(1!==t.rank&&null===n)return io(t.reshape([-1]),e,n);if(1===t.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===e)return t.abs().sum(n);if(e===1/0)return t.abs().max(n);if(e===-1/0)return t.abs().min(n);if("euclidean"===e||2===e)return t.abs().pow(Object(J.f)(2,"int32")).sum(n).sqrt();throw new Error("Error in norm: invalid ord value: ".concat(e))}if(Array.isArray(n)&&2===n.length){if(1===e)return t.abs().sum(n[0]).max(n[1]-1);if(e===1/0)return t.abs().sum(n[1]).max(n[0]);if(e===-1/0)return t.abs().sum(n[1]).min(n[0]);if("fro"===e||"euclidean"===e)return t.square().sum(n).sqrt();throw new Error("Error in norm: invalid ord value: ".concat(e))}throw new Error("Error in norm: invalid axis: ".concat(n))}var oo=Object($.a)({norm_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=io(t=Object(D.a)(t,"x","norm"),e,n),i=a.shape;if(r){var o=Object(R.parseAxisParam)(n,t.shape);i=V(a.shape,o)}return a.reshape(i)}});var so=Object($.a)({basicLSTMCell_:function(t,e,n,r,a,i){var o=Object(D.a)(t,"forgetBias","basicLSTMCell"),s=Object(D.a)(e,"lstmKernel","basicLSTMCell"),u=Object(D.a)(n,"lstmBias","basicLSTMCell"),c=Object(D.a)(r,"data","basicLSTMCell"),l=Object(D.a)(a,"c","basicLSTMCell"),h=Object(D.a)(i,"h","basicLSTMCell"),f=c.concat(h,1).matMul(s).add(u),p=f.shape[0],d=f.shape[1]/4,v=[p,d],m=f.slice([0,0],v),g=f.slice([0,d],v),y=f.slice([0,2*d],v),b=f.slice([0,3*d],v),x=m.sigmoid().mul(g.tanh()).add(l.mul(o.add(y).sigmoid())),w=x.tanh().mul(b.sigmoid());return[x,w]}}),uo=Object($.a)({multiRNNCell_:function(t,e,n,r){for(var a=Object(D.a)(e,"data","multiRNNCell"),i=Object(D.b)(n,"c","multiRNNCell"),o=Object(D.b)(r,"h","multiRNNCell"),s=a,u=[],c=0;c<t.length;c++){var l=t[c](s,i[c],o[c]);u.push(l[0]),u.push(l[1]),s=l[1]}for(var h=[],f=[],p=0;p<u.length;p+=2)h.push(u[p]),f.push(u[p+1]);return[h,f]}});var co=Object($.a)({movingAverage_:function(t,e,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=Object(D.a)(t,"v","movingAverage"),o=Object(D.a)(e,"x","movingAverage"),s=Object(D.a)(n,"decay","movingAverage");Object(I.assertTypesMatch)(i,o),R.assert(R.arraysEqual(i.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var u=Object(J.f)(1),c=u.sub(s),l=o.sub(i).mul(c);if(a){R.assert(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var h=Object(D.a)(r,"step","movingAverage");l=l.div(u.sub(on(s,h)))}return i.add(l)}});var lo=Object($.a)({stridedSlice_:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;if(null==r&&(r=new Array(e.length)),0!==o)throw new Error("ellipsis mask is not yet supported");var c=Object(D.a)(t,"x","stridedSlice"),l=Nn(s),h=c.shape.slice();l.forEach((function(t){e[t]=0,n[t]=1,h.splice(t,0,1)})),c=c.reshape(h);for(var f=0;f<c.rank;f++)e[f]=Dn(a,e,r,c.shape,f),n[f]=Rn(i,n,r,c.shape,f),r[f]=r[f]||1;var p=Nn(u);p.forEach((function(t){n[t]=e[t]+1,r[t]=1}));var d=In(e,n,r),v=d.filter((function(t,e){return-1===p.indexOf(e)})),m=r.every((function(t){return 1===t}));if(m)return Ln(c,e,d).reshape(v);var y=g.a.runKernelFunc((function(t){return t.stridedSlice(c,e,n,r)}),{$x:c});return y.reshape(v)}});var ho=Object($.a)({topk_:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(D.a)(t,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var a=r.shape[r.shape.length-1];if(e>a)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(a,") ")+"but got ".concat(e));var i=g.a.runKernelFunc((function(t){return t.topk(r,e,n)}),{$x:r}),o=Object(y.a)(i,2),s=o[0],u=o[1];return{values:s,indices:u}}});var fo=Object($.a)({scatterND_:function(t,e,n){var r=Object(D.a)(t,"indices","scatterND","int32"),a=Object(D.a)(e,"updates","scatterND");return sa(a,r,n),g.a.runKernelFunc((function(t){return t.scatterND(r,a,n)}),{indices:r,updates:a},null,"ScatterNd",{shape:n})}});var po=Object($.a)({fft_:function(t){Object(R.assert)("complex64"===t.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(t.dtype,".")}));var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return g.a.runKernelFunc((function(t){return t.fft(r)}),{input:t}).reshape(t.shape)}}),vo=Object($.a)({ifft_:function(t){Object(R.assert)("complex64"===t.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(t.dtype,".")}));var e=t.shape[t.shape.length-1],n=t.size/e,r=t.as2D(n,e);return g.a.runKernelFunc((function(t){return t.ifft(r)}),{input:t}).reshape(t.shape)}}),mo=Object($.a)({rfft_:function(t,e){Object(R.assert)("float32"===t.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(t.dtype)}));var n,r=t.shape[t.shape.length-1],a=t.size/r;if(null!=e&&e<r){var i=t.shape.map((function(t){return 0})),o=t.shape.map((function(t){return t}));o[t.shape.length-1]=e,n=t.slice(i,o),r=e}else if(null!=e&&e>r){var s=t.shape.map((function(t){return t}));s[t.shape.length-1]=e-r,n=t.concat(Object(J.o)(s),t.shape.length-1),r=e}else n=t;var u=n.zerosLike(),c=Object(ji.a)(n,u).as2D(a,r),l=po(c),h=Math.floor(r/2)+1,f=Object(ji.c)(l),p=Object(ji.b)(l),d=f.split([h,r-h],f.shape.length-1),v=p.split([h,r-h],p.shape.length-1),m=n.shape.slice();return m[n.shape.length-1]=h,Object(ji.a)(d[0],v[0]).reshape(m)}}),go=Object($.a)({irfft_:function(t){var e=t.shape[t.shape.length-1],n=t.size/e;if(e<=2){var r=t.as2D(n,e),a=vo(r);return Object(ji.c)(a)}var i=[n,2*(e-1)],o=Object(ji.c)(t).as2D(n,e),s=Object(ji.b)(t).as2D(n,e),u=o.slice([0,1],[n,e-2]).reverse(1),c=s.slice([0,1],[n,e-2]).reverse(1).mul(Object(J.f)(-1)),l=o.concat(u,1),h=s.concat(c,1),f=Object(ji.a)(l,h).as2D(i[0],i[1]),p=vo(f);return Object(ji.c)(p)}});function yo(t,e,n,r){if("int32"!==t.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(t.shape,"."));var a=t.rank>0?t.shape[0]:1,i=t.rank>1?t.shape[1]:1;if(n.length!==i)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(i,"."));var o=e.size;if(0!==e.rank&&(1!==e.rank||o!==a))throw new Error("sparseValues has incorrect shape "+"".concat(e.shape,", should be [] or [").concat(a,"]"));if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var bo=Object($.a)({sparseToDense_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=Object(D.a)(t,"sparseIndices","sparseToDense","int32"),i=Object(D.a)(e,"sparseValues","sparseToDense"),o=Object(D.a)(r,"defaultValue","sparseToDense",i.dtype);return yo(a,i,n,o),g.a.runKernelFunc((function(t){return t.sparseToDense(a,i,n,o)}),{$sparseIndices:a,$sparseValues:i,$defaultValue:o})}});var xo=Object($.a)({gatherND_:function(t,e){var n=Object(D.a)(e,"indices","gatherND","int32"),r=Object(D.a)(t,"x","gatherND");return g.a.runKernelFunc((function(t){return t.gatherND(r,n)}),{x:r,indices:n},null,"GatherNd")}});var wo=Object($.a)({dropout_:function(t,e,n,r){var a=Object(D.a)(t,"x","dropout");if(R.assert("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")})),R.assert(e>=0&&e<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(e,".")})),0===e)return t instanceof z.a?a.clone():a;var i=function(t,e){if(null==e)return t.shape.slice();if(R.arraysEqual(t.shape,e))return e;if(t.shape.length===e.length){for(var n=[],r=0;r<t.shape.length;r++)null==e[r]&&null!=t.shape[r]?n.push(t.shape[r]):n.push(e[r]);return n}return e}(a,n),o=1-e,s=fi(i,0,1,"float32",r).add(o).floor().div(o);return a.mul(s)}});function Oo(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function ko(t,e,n){for(var r=1-t%2,a=new Float32Array(t),i=0;i<t;++i){var o=2*Math.PI*i/(t+r-1);a[i]=e-n*Math.cos(o)}return Object(J.h)(a,"float32")}var So=Object($.a)({hannWindow_:function(t){return ko(t,.5,.5)}}),Eo=Object($.a)({hammingWindow_:function(t){return ko(t,.54,.46)}}),Co=Object($.a)({frame_:function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,o=[];i+e<=t.size;)o.push(Ln(t,i,e)),i+=n;if(r)for(;i<t.size;){var s=i+e-t.size,u=Z([Ln(t,i,e-s),Object(J.a)([s],a)]);o.push(u),i+=n}return 0===o.length?Object(J.i)([],[0,e]):Z(o).as2D(o.length,e)}}),jo=Object($.a)({stft_:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:So;null==r&&(r=Oo(e));for(var i=Co(t,e,n),o=rn(i,a(e)),s=[],u=0;u<i.shape[0];u++)s.push(mo(o.slice([u,0],[1,e]),r));return Z(s)}});function To(){return(To=Object(L.a)(F.a.mark((function t(e,n){var r,a,i,o,s,u,c,l,h,f,p,d,v,m,g,y=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:1,a=Object(D.a)(e,"predictions","inTopK"),i=Object(D.a)(n,"targets","inTopK"),Object(R.assert)(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)})),Object(R.assert)(a.rank-1===i.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(i.rank)})),Object(R.assertShapesMatch)(a.shape.slice(0,a.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),o=a.shape[a.shape.length-1],Object(R.assert)(r>0&&r<=o,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(r)})),t.next=10,a.data();case 10:return s=t.sent,t.next=13,i.data();case 13:u=t.sent,c=s.length/o,l=o,h=Object(R.getTypedArrayFromDType)("bool",c),f=0;case 17:if(!(f<c)){t.next=35;break}for(p=f*l,d=s.subarray(p,p+l),v=[],m=0;m<d.length;m++)v.push({value:d[m],index:m});v.sort((function(t,e){return e.value-t.value})),h[f]=0,g=0;case 25:if(!(g<r)){t.next=32;break}if(v[g].index!==u[f]){t.next=29;break}return h[f]=1,t.abrupt("break",32);case 29:g++,t.next=25;break;case 32:f++,t.next=17;break;case 35:return e!==a&&a.dispose(),n!==i&&i.dispose(),t.abrupt("return",Object(J.g)(h,i.shape,"bool"));case 38:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Ao,_o=function(t,e){return To.apply(this,arguments)};function Mo(t,e){var n=Object(D.a)(t,"labels","sigmoidCrossEntropyWithLogits"),r=Object(D.a)(e,"logits","sigmoidCrossEntropyWithLogits");Object(R.assertShapesMatch)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var a=r.relu(),i=r.mul(n),o=r.abs().neg().exp().log1p();return a.sub(i).add(o)}function No(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(e.rank," ")+"and dim was ".concat(n));var r=mt((function(t,e,r){var a=e.logSumExp([n],!0),i=e.toFloat().sub(a);r([t,i]);return{value:i.mul(t).neg().sum([n]),gradFunc:function(t,e){var r=Object(y.a)(e,2),a=r[0],i=r[1],o=V(t.shape,[n]);return[t.reshape(o).mul(a.toFloat().sub(i.exp())),t.reshape(o).mul(i.exp().sub(a.toFloat()))]}}}));return r(t,e)}!function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(Ao||(Ao={}));var Io=Object($.a)({absoluteDifference_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ao.SUM_BY_NONZERO_WEIGHTS,a=Object(D.a)(t,"labels","absoluteDifference"),i=Object(D.a)(e,"predictions","absoluteDifference"),o=null;null!=n&&(o=Object(D.a)(n,"weights","absoluteDifference")),Object(R.assertShapesMatch)(a.shape,i.shape,"Error in absoluteDifference: ");var s=a.sub(i).abs();return Do(s,o,r)}}),Do=Object($.a)({computeWeightedLoss_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ao.SUM_BY_NONZERO_WEIGHTS,r=Object(D.a)(t,"losses","computeWeightedLoss"),a=null;null!=e&&(a=Object(D.a)(e,"weights","computeWeightedLoss"));var i=null==a?r:r.mul(a);if(n===Ao.NONE)return i;if(n===Ao.SUM)return i.sum();if(n===Ao.MEAN){if(null==a)return i.mean();var o=r.size/a.size,s=i.sum().div(a.sum());return o>1?s.div(Object(J.f)(o)):s}if(n===Ao.SUM_BY_NONZERO_WEIGHTS){if(null==a)return i.sum().div(Object(J.f)(r.size));var u=a.mul(Object(J.c)(r.shape)),c=u.notEqual(Object(J.f)(0)).sum().toFloat();return i.sum().div(c)}throw Error("Unknown reduction: ".concat(n))}}),Ro=Object($.a)({cosineDistance_:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ao.SUM_BY_NONZERO_WEIGHTS,i=Object(D.a)(t,"labels","cosineDistance"),o=Object(D.a)(e,"predictions","cosineDistance"),s=null;null!=r&&(s=Object(D.a)(r,"weights","cosineDistance")),Object(R.assertShapesMatch)(i.shape,o.shape,"Error in cosineDistance: ");var u=Object(J.f)(1),c=u.sub(i.mul(o).sum(n,!0));return Do(c,s,a)}}),Po=Object($.a)({hingeLoss_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ao.SUM_BY_NONZERO_WEIGHTS,a=Object(D.a)(t,"labels","hingeLoss"),i=Object(D.a)(e,"predictions","hingeLoss"),o=null;null!=n&&(o=Object(D.a)(n,"weights","hingeLoss")),Object(R.assertShapesMatch)(a.shape,i.shape,"Error in hingeLoss: ");var s=Object(J.f)(1);a=Object(J.f)(2).mul(a).sub(s);var u=s.sub(a.mul(i)).relu();return Do(u,o,r)}}),Fo=Object($.a)({huberLoss_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ao.SUM_BY_NONZERO_WEIGHTS,i=Object(D.a)(t,"labels","huberLoss"),o=Object(D.a)(e,"predictions","huberLoss"),s=null;null!=n&&(s=Object(D.a)(n,"weights","huberLoss")),Object(R.assertShapesMatch)(i.shape,o.shape,"Error in huberLoss: ");var u=Object(J.f)(r),c=o.sub(i).abs(),l=Qe(c,u),h=c.sub(l),f=Object(J.f)(.5).mul(l.square()).add(u.mul(h));return Do(f,s,a)}}),Lo=Object($.a)({logLoss_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ao.SUM_BY_NONZERO_WEIGHTS,i=Object(D.a)(t,"labels","logLoss"),o=Object(D.a)(e,"predictions","logLoss"),s=null;null!=n&&(s=Object(D.a)(n,"weights","logLoss")),Object(R.assertShapesMatch)(i.shape,o.shape,"Error in logLoss: ");var u=Object(J.f)(1),c=Object(J.f)(r),l=i.mul(o.add(c).log()).neg().sub(u.sub(i).mul(u.sub(o).add(c).log()));return Do(l,s,a)}}),zo=Object($.a)({meanSquaredError_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ao.SUM_BY_NONZERO_WEIGHTS,a=Object(D.a)(t,"labels","meanSquaredError"),i=Object(D.a)(e,"predictions","meanSquaredError"),o=null;null!=n&&(o=Object(D.a)(n,"weights","meanSquaredError")),Object(R.assertShapesMatch)(a.shape,i.shape,"Error in meanSquaredError: ");var s=a.squaredDifference(i);return Do(s,o,r)}}),Bo=Object($.a)({sigmoidCrossEntropy_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ao.SUM_BY_NONZERO_WEIGHTS,i=Object(D.a)(t,"multiClassLabels","sigmoidCrossEntropy"),o=Object(D.a)(e,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=Object(D.a)(n,"weights","sigmoidCrossEntropy")),Object(R.assertShapesMatch)(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){var u=Object(J.f)(r),c=Object(J.f)(1),l=Object(J.f)(.5);i=i.mul(c.sub(u)).add(l.mul(u))}var h=Mo(i,o);return Do(h,s,a)}}),Wo=Object($.a)({softmaxCrossEntropy_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ao.SUM_BY_NONZERO_WEIGHTS,i=Object(D.a)(t,"onehotLabels","softmaxCrossEntropy"),o=Object(D.a)(e,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=Object(D.a)(n,"weights","softmaxCrossEntropy")),Object(R.assertShapesMatch)(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var u=Object(J.f)(r),c=Object(J.f)(1),l=Object(J.f)(i.shape[1]);i=i.mul(c.sub(u)).add(u.div(l))}var h=No(i,o);return Do(h,s,a)}});function Uo(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g.a.tidy((function(){if(2!==t.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a ".concat(t.shape.length,"D Tensor."));for(var n=t.shape[0],r=t.shape[1],a=Ga(n),i=t.clone(),o=Object(J.i)([[1]],[1,1]),s=o.clone(),u=n>=r?r:n,c=function(t){var e=i,u=s,c=a,l=g.a.tidy((function(){var e=i.slice([t,t],[n-t,1]),u=e.norm(),c=i.slice([t,t],[1,1]),l=Object(J.i)([[-1]]).where(c.greater(0),Object(J.i)([[1]])),h=c.sub(l.mul(u)),f=e.div(h);s=1===f.shape[0]?o.clone():o.concat(f.slice([1,0],[f.shape[0]-1,f.shape[1]]),0);var p=l.matMul(h).div(u).neg(),d=i.slice([t,0],[n-t,r]),v=p.mul(s),m=s.transpose();if(0===t)i=d.sub(v.matMul(m.matMul(d)));else{var g=d.sub(v.matMul(m.matMul(d)));i=i.slice([0,0],[t,r]).concat(g,0)}var y=v.transpose(),b=a.slice([0,t],[n,a.shape[1]-t]);if(0===t)a=b.sub(b.matMul(s).matMul(y));else{var x=b.sub(b.matMul(s).matMul(y));a=a.slice([0,0],[n,t]).concat(x,1)}return[s,i,a]})),h=Object(y.a)(l,3);s=h[0],i=h[1],a=h[2],se([e,u,c])},l=0;l<u;++l)c(l);return!e&&n>r&&(a=a.slice([0,0],[n,r]),i=i.slice([0,0],[r,r])),[a,i]}))}var Vo=Object($.a)({bandPart_:function(t,e,n){if(e%1!==0)throw new Error("bandPart(): numLower must be an integer, got ".concat(e,"."));if(n%1!==0)throw new Error("bandPart(): numUpper must be an integer, got ".concat(n,"."));var r=Object(D.a)(t,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got ".concat(r.rank,"."));var a=r.shape,i=r.shape.slice(-2),o=Object(y.a)(i,2),s=o[0],u=o[1];if(!(e<=s))throw new Error("bandPart(): numLower (".concat(e,")")+" must not be greater than the number of rows (".concat(s,")."));if(!(n<=u))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(u,")."));e<0&&(e=s),n<0&&(n=u);var c=Object(J.e)(0,s,1,"int32").reshape([-1,1]),l=Object(J.e)(0,u,1,"int32"),h=pn(c,l),f=Pa(h.lessEqual(Object(J.f)(+e,"int32")),h.greaterEqual(Object(J.f)(-n,"int32"))),p=Object(J.o)([s,u],r.dtype);return st(ut(r.reshape([-1,s,u])).map((function(t){return Ba(f,t,p)}))).reshape(a)}}),Ho=Object($.a)({gramSchmidt_:function(t){var e;Array.isArray(t)?function(){e=!1,Object(R.assert)(null!=t&&t.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=t[0].shape[0],r=function(e){Object(R.assert)(t[e].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(t[e].shape[0]," vs. ").concat(n,")")}))},a=1;a<t.length;++a)r(a)}():(e=!0,t=At(t,t.shape[0],0).map((function(t){return ot(t,[0])}))),Object(R.assert)(t.length<=t[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(t.length,") exceeds ")+"number of dimensions (".concat(t[0].shape[0],").")}));for(var n=[],r=t,a=function(t){n.push(g.a.tidy((function(){var e=r[t];if(t>0)for(var a=0;a<t;++a){var i=Ct(n[a].mul(e)).mul(n[a]);e=e.sub(i)}return e.div(oo(e,"euclidean"))})))},i=0;i<t.length;++i)a(i);return e?st(n,0):n}}),Go=Object($.a)({qr_:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank ".concat(t.rank));if(2===t.rank)return Uo(t,e);var n=t.shape.slice(0,t.shape.length-2).reduce((function(t,e){return t*e})),r=ut(t.reshape([n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],i=[];r.forEach((function(t){var n=Uo(t,e),r=Object(y.a)(n,2),o=r[0],s=r[1];a.push(o),i.push(s)}));var o=st(a,0).reshape(t.shape),s=st(i,0).reshape(t.shape);return[o,s]}});function Yo(t,e,n){var r=function(t,e,n){return function(t,e,n){var r=0,a=t.length,i=0,o=!1;for(;r<a;){var s=n(e,t[i=r+(a-r>>>1)]);s>0?r=i+1:(a=i,o=!s)}return o?r:-r-1}(t,e,n||qo)}(t,e,n),a=r<0?-(r+1):r;t.splice(a,0,e)}function qo(t,e){return t>e?1:t<e?-1:0}function Xo(t,e,n,r,a){var i=$o(t,e,n,r,a,0);return i.selectedScores.dispose(),i.numValidOutputs.dispose(),i.selectedIndices}function Ko(t,e,n,r,a,i){var o=$o(t,e,n,r,a,i,!0);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function $o(t,e,n,r,a,i){for(var o=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=Array.from(e).map((function(t,e){return{score:t,boxIndex:e,suppressBeginIndex:0}})).filter((function(t){return t.score>a})).sort(Qo),u=i>0?-.5/i:0,c=[],l=[];c.length<n&&s.length>0;){var h=s.pop(),f=h.score,p=h.boxIndex,d=h.suppressBeginIndex;if(f<a)break;for(var v=!1,m=c.length-1;m>=d;--m){var g=Jo(t,p,c[m]);if(g>=r){v=!0;break}if(h.score=h.score*Zo(r,u,g),h.score<=a)break}h.suppressBeginIndex=c.length,v||(h.score===f?(c.push(p),l.push(h.score)):h.score>a&&Yo(s,h,Qo))}var y=c.length;return o&&(c.fill(0,y),l.fill(0,y)),{selectedIndices:Object(J.h)(c,"int32"),selectedScores:Object(J.h)(l,"float32"),numValidOutputs:Object(J.f)(y,"int32")}}function Jo(t,e,n){var r=t.subarray(4*e,4*e+4),a=t.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),h=Math.max(a[0],a[2]),f=Math.max(a[1],a[3]),p=(s-i)*(u-o),d=(h-c)*(f-l);if(p<=0||d<=0)return 0;var v=Math.max(i,c),m=Math.max(o,l),g=Math.min(s,h),y=Math.min(u,f),b=Math.max(g-v,0)*Math.max(y-m,0);return b/(p+d-b)}function Zo(t,e,n){var r=Math.exp(e*n*n);return n<=t?r:0}function Qo(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}function ts(t,e,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);var o=t.shape[0];return n=Math.min(n,o),R.assert(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),R.assert(2===t.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(t.rank,"'")})),R.assert(4===t.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(t.shape[1])})),R.assert(1===e.rank,(function(){return"scores must be a 1D tensor"})),R.assert(e.shape[0]===o,(function(){return"scores has incompatible shape with boxes. Expected ".concat(o,", ")+"but was ".concat(e.shape[0])})),R.assert(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(i,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var es=Object($.a)({nonMaxSuppression_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=Object(D.a)(t,"boxes","nonMaxSuppression"),o=Object(D.a)(e,"scores","nonMaxSuppression"),s=ts(i,o,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;var u={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return g.a.runKernelFunc((function(t){return t.nonMaxSuppression(i,o,n,r,a)}),{boxes:i,scores:o},null,w,u)}});function ns(){return(ns=Object(L.a)(F.a.mark((function t(e,n,r){var a,i,o,s,u,c,l,h,f,p=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=p.length>3&&void 0!==p[3]?p[3]:.5,i=p.length>4&&void 0!==p[4]?p[4]:Number.NEGATIVE_INFINITY,o=Object(D.a)(e,"boxes","nonMaxSuppressionAsync"),s=Object(D.a)(n,"scores","nonMaxSuppressionAsync"),u=ts(o,s,r,a,i),r=u.maxOutputSize,a=u.iouThreshold,i=u.scoreThreshold,t.next=10,Promise.all([o.data(),s.data()]);case 10:return c=t.sent,l=c[0],h=c[1],f=Xo(l,h,r,a,i),o!==e&&o.dispose(),s!==n&&s.dispose(),t.abrupt("return",f);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rs(){return(rs=Object(L.a)(F.a.mark((function t(e,n,r){var a,i,o,s,u,c,l,h,f,p,d=arguments;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:.5,i=d.length>4&&void 0!==d[4]?d[4]:Number.NEGATIVE_INFINITY,o=d.length>5&&void 0!==d[5]?d[5]:0,s=Object(D.a)(e,"boxes","nonMaxSuppressionAsync"),u=Object(D.a)(n,"scores","nonMaxSuppressionAsync"),c=ts(s,u,r,a,i,o),r=c.maxOutputSize,a=c.iouThreshold,i=c.scoreThreshold,o=c.softNmsSigma,t.next=12,Promise.all([s.data(),u.data()]);case 12:return l=t.sent,h=l[0],f=l[1],p=Ko(h,f,r,a,i,o),s!==e&&s.dispose(),u!==n&&u.dispose(),t.abrupt("return",p);case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var as=Object($.a)({resizeBilinear_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"images","resizeBilinear");R.assert(3===r.rank||4===r.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(r.rank,".")})),R.assert(2===e.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(e,".")}));var a=r,i=!1;3===r.rank&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=Object(y.a)(e,2),s=o[0],u=o[1],c=function(t,e){return e([a]),t.resizeBilinear(a,s,u,n)},l=function(t,e){return{x:function(){return g.a.runKernelFunc((function(r){return r.resizeBilinearBackprop(t,e[0],n)}),{})}}},h=g.a.runKernelFunc(c,{x:a},l,"ResizeBilinear",{alignCorners:n,newHeight:s,newWidth:u});return i?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),is=Object($.a)({resizeNearestNeighbor_:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(D.a)(t,"images","resizeNearestNeighbor");R.assert(3===r.rank||4===r.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(r.rank,".")})),R.assert(2===e.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(e,".")})),R.assert("float32"===r.dtype||"int32"===r.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"}));var a=r,i=!1;3===r.rank&&(i=!0,a=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var o=Object(y.a)(e,2),s=o[0],u=o[1],c=function(t,e){return e([a]),t.resizeNearestNeighbor(a,s,u,n)},l=function(t,e){return{batchImages:function(){return g.a.runKernelFunc((function(r){return r.resizeNearestNeighborBackprop(t,e[0],n)}),{})}}},h=g.a.runKernelFunc(c,{batchImages:a},l);return i?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),os=function(t,e,n){return ns.apply(this,arguments)},ss=Object($.a)({nonMaxSuppressionWithScore_:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=Object(D.a)(t,"boxes","nonMaxSuppression"),s=Object(D.a)(e,"scores","nonMaxSuppression"),u=ts(o,s,n,r,a,i),c={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:i=u.softNmsSigma},l=g.a.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},c);return{selectedIndices:l[0],selectedScores:l[1]}}}),us=function(t,e,n){return rs.apply(this,arguments)},cs=Object($.a)({cropAndResize_:function(t,e,n,r,a,i){var o=Object(D.a)(t,"image","cropAndResize"),s=Object(D.a)(e,"boxes","cropAndResize","float32"),u=Object(D.a)(n,"boxInd","cropAndResize","int32");a=a||"bilinear",i=i||0;var c=s.shape[0];return R.assert(4===o.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(o.rank,".")})),R.assert(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(s.shape,".")})),R.assert(1===u.rank&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(s.shape,".")})),R.assert(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),R.assert(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),R.assert("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)})),g.a.runKernelFunc((function(t,e){return t.cropAndResize(o,s,u,r,a,i)}),{images:o,boxes:s,boxInd:u},null,"CropAndResize",{method:a,extrapolationValue:i,cropSize:r})}}),ls=function(t,e){return!(t>0)||"linear"===e},hs=function(t,e,n){if(null==n||"linear"===n)return t;if("relu"===n)return t.mul(e.step());throw new Error("Gradient for activation ".concat(n," has not been ")+"implemented yet.")},fs=function(t,e){var n=e,r=A(t.shape,e.shape);return r.length>0&&(n=n.sum(r)),n.reshape(t.shape)},ps=function(t,e,n){if("linear"===e)return t;if("relu"===e)return to(t);if("elu"===e)return Ji(t);if("relu6"===e)return eo(t);if("prelu"===e)return Qi(t,n);throw new Error("Unknown fused activation ".concat(e,"."))};var ds=Object($.a)({fusedMatMul_:function(t){var e=t.a,n=t.b,r=t.transposeA,a=void 0!==r&&r,i=t.transposeB,o=void 0!==i&&i,s=t.bias,u=t.activation,c=void 0===u?"linear":u,l=t.preluActivationWeights;if(!1===ls(g.a.state.gradientDepth,c)){var h=lt(e,n,a,o);return null!=s&&(h=fe(h,s)),ps(h,c,l)}var f=Object(D.a)(e,"a","fused matMul"),p=Object(D.a)(n,"b","fused matMul"),d=Object(I.makeTypesMatch)(f,p),v=Object(y.a)(d,2);f=v[0],p=v[1];var m=a?f.shape[f.rank-2]:f.shape[f.rank-1],b=o?p.shape[p.rank-1]:p.shape[p.rank-2],x=a?f.shape[f.rank-1]:f.shape[f.rank-2],w=o?p.shape[p.rank-2]:p.shape[p.rank-1],O=f.shape.slice(0,-2),k=p.shape.slice(0,-2),S=R.sizeFromShape(O),E=R.sizeFromShape(k);R.assert(f.rank>=2&&p.rank>=2&&f.rank===p.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least "+"2, got ranks ".concat(f.rank," and ").concat(p.rank,".")})),R.assert(R.arraysEqual(O,k),(function(){return"Error in fused matMul: outer dimensions (".concat(O,") and (")+"".concat(k,") of Tensors with shapes ").concat(f.shape," and ")+"".concat(p.shape," must match.")})),R.assert(m===b,(function(){return"Error in fused matMul: inner shapes (".concat(m,") and (")+"".concat(b,") of Tensors with shapes ").concat(f.shape," and ")+"".concat(p.shape," and transposeA=").concat(a)+" and transposeB=".concat(o," must match.")}));var C,j,T=f.shape.slice(0,-2).concat([x,w]),A=a?f.as3D(S,m,x):f.as3D(S,x,m),M=o?p.as3D(E,w,b):p.as3D(E,b,w);if(null!=s){C=Object(D.a)(s,"bias","fused matMul");var N=Object(I.makeTypesMatch)(C,f),P=Object(y.a)(N,1);_(T,(C=P[0]).shape)}null!=l&&(j=Object(D.a)(l,"prelu weights","fused matMul"));var F={a:A,b:M};null!=s&&(F.bias=C),null!=l&&(F.preluActivationWeights=j);var L=[A,M];return g.a.runKernelFunc((function(t,e){var n=t.fusedBatchMatMul({a:A,b:M,transposeA:a,transposeB:o,bias:C,activation:c,preluActivationWeights:j});return e([A,M,n]),n}),F,(function(t,e){var n=Object(y.a)(e,3),r=n[0],i=n[1],u=n[2],l=hs(t,u,c),h={};return null!=s&&(h={bias:function(){return fs(C,l)}}),a||o?!a&&o?Object.assign({a:function(){return l.matMul(i,!1,!1)},b:function(){return l.matMul(r,!0,!1)}},h):a&&!o?Object.assign({a:function(){return i.matMul(l,!1,!0)},b:function(){return r.matMul(l,!1,!1)}},h):Object.assign({a:function(){return i.matMul(l,!0,!0)},b:function(){return l.matMul(r,!0,!0)}},h):Object.assign({a:function(){return l.matMul(i,!1,!0)},b:function(){return r.matMul(l,!0,!1)}},h)}),"_FusedMatMul",{transposeA:a,transposeB:o,activation:c},L,[!0]).reshape(T)}}),vs=Object($.a)({fusedConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,a=t.pad,i=t.dataFormat,o=void 0===i?"NHWC":i,s=t.dilations,u=void 0===s?[1,1]:s,c=t.dimRoundingMode,l=t.bias,h=t.activation,f=void 0===h?"linear":h,p=t.preluActivationWeights;if(f=f||"linear",!1===ls(g.a.state.gradientDepth,f)){var d=Xt(e,n,r,a,o,u,c);return null!=l&&(d=fe(d,l)),ps(d,f,p)}var v=Object(D.a)(e,"x","conv2d"),m=Object(D.a)(n,"filter","conv2d"),b=v,x=!1;3===v.rank&&(x=!0,b=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),R.assert(4===b.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(b.rank,".")})),R.assert(4===m.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(m.rank,".")})),null!=c&&R.assert(R.isInt(a),(function(){return"Error in fused conv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(c," but got pad ").concat(a,".")})),R.assert(b.shape[3]===m.shape[2],(function(){return"Error in conv2d: depth of input (".concat(b.shape[3],") must match ")+"input depth for filter ".concat(m.shape[2],".")})),R.assert(Vt(r,u),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(u,"'")})),R.assert("NHWC"===o,(function(){return"Error in conv2d: got dataFormat of ".concat(o," but only NHWC is currently supported.")}));var w,O,k=It(b.shape,m.shape,r,u,a,c);if(null!=l){w=Object(D.a)(l,"bias","fused conv2d");var S=Object(I.makeTypesMatch)(w,v),E=Object(y.a)(S,1);w=E[0],_(k.outShape,w.shape)}null!=p&&(O=Object(D.a)(p,"prelu weights","fused conv2d"));var C={x:b,filter:m};null!=l&&(C.bias=w),null!=p&&(C.preluActivationWeights=O);var j=[m,b],T=g.a.runKernelFunc((function(t,e){var n=t.fusedConv2d({input:b,filter:m,convInfo:k,bias:w,activation:f,preluActivationWeights:O});return e([m,b,n]),n}),C,(function(t,e){var n=Object(y.a)(e,3),i=n[0],o=n[1],s=n[2],c=hs(t,s,f);R.assert(Ut(u),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(u,"'")}));var h={};return null!=l&&(h={bias:function(){return fs(w,c)}}),Object.assign({x:function(){return Yt(o.shape,c,i,r,a)},filter:function(){return Gt(o,c,i.shape,r,a)}},h)}),"FusedConv2D",{convInfo:k,activation:f},j,[!0]);return x?T.as3D(T.shape[1],T.shape[2],T.shape[3]):T}}),ms=Object($.a)({fusedDepthwiseConv2d_:function(t){var e=t.x,n=t.filter,r=t.strides,a=t.pad,i=t.dataFormat,o=void 0===i?"NHWC":i,s=t.dilations,u=void 0===s?[1,1]:s,c=t.dimRoundingMode,l=t.bias,h=t.activation,f=void 0===h?"linear":h,p=t.preluActivationWeights;if(!1===ls(g.a.state.gradientDepth,f)){var d=Na(e,n,r,a,o,u,c);return null!=l&&(d=fe(d,l)),ps(d,f,p)}var v=Object(D.a)(e,"x","depthwiseConv2d"),m=Object(D.a)(n,"filter","depthwiseConv2d"),b=v,x=!1;3===v.rank&&(x=!0,b=v.as4D(1,v.shape[0],v.shape[1],v.shape[2])),R.assert(4===b.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(b.rank,".")})),R.assert(4===m.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(m.rank,".")})),R.assert(b.shape[3]===m.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(b.shape[3],") must match the inChannels dimension in ")+"filter ".concat(m.shape[2],".")})),null==u&&(u=[1,1]),R.assert(Vt(r,u),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(r," and dilations '").concat(u,"'")})),null!=c&&R.assert(R.isInt(a),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when "+"using dimRoundingMode ".concat(c," but got pad ").concat(a,".")}));var w,O,k=It(b.shape,m.shape,r,u,a,c,!0);if(null!=l){w=Object(D.a)(l,"bias","fused conv2d");var S=Object(I.makeTypesMatch)(w,v),E=Object(y.a)(S,1);w=E[0],_(k.outShape,w.shape)}null!=p&&(O=Object(D.a)(p,"prelu weights","fused depthwiseConv2d"));var C={x:b,filter:m};null!=l&&(C.bias=w),null!=p&&(C.preluActivationWeights=O);var j=[m,b],T=g.a.runKernelFunc((function(t,e){var n=t.fusedDepthwiseConv2D({input:b,filter:m,convInfo:k,bias:w,activation:f,preluActivationWeights:O});return e([m,b,n]),n}),C,(function(t,e){R.assert(Ut(u),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(u,"'")}));var n=Object(y.a)(e,3),r=n[0],a=n[1],i=n[2],o=hs(t,i,f),s={};return null!=l&&(s={bias:function(){return fs(w,o)}}),Object.assign({x:function(){return te(a.shape,o,r,k)},filter:function(){return Qt(a,o,r.shape,k)}},s)}),"FusedDepthwiseConv2D",{convInfo:k,activation:f},j,[!0]);return x?T.as3D(T.shape[1],T.shape[2],T.shape[3]):T}}),gs=function(t){Object(pa.a)(n,t);var e=Object(da.a)(n);function n(){return Object(Kn.a)(this,n),e.apply(this,arguments)}return Object($n.a)(n,[{key:"minimize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(t,n),a=r.value,i=r.grads;if(null!=n){var o=n.map((function(t){return{name:t.name,tensor:i[t.name]}}));this.applyGradients(o)}else this.applyGradients(i);return se(i),e?a:(a.dispose(),null)}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(t,e){return vt(t,e)}},{key:"dispose",value:function(){null!=this.iterations_&&se(this.iterations_)}},{key:"saveIterations",value:function(){var t=Object(L.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==this.iterations_&&(this.iterations_=0),t.abrupt("return",{name:"iter",tensor:Object(J.f)(this.iterations_,"int32")});case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"setWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var t=Object(L.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e[0].tensor.data();case 2:return this.iterations_=t.sent[0],t.abrupt("return",e.slice(1));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}}]),n}(ca);Object.defineProperty(gs,Symbol.hasInstance,{value:function(t){return null!=t.minimize&&null!=t.computeGradients&&null!=t.applyGradients}});var ys=function(t){Object(pa.a)(n,t);var e=Object(da.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(Kn.a)(this,n),(a=e.call(this)).learningRate=t,a.rho=r,a.epsilon=i,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==i&&(a.epsilon=g.a.backend.epsilon()),a}return Object($n.a)(n,[{key:"applyGradients",value:function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var a=g.a.registeredVariables[n];null==e.accumulatedGrads[r]&&(e.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:oe((function(){return Object(J.p)(a).variable(!1)}))}),null==e.accumulatedUpdates[r]&&(e.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:oe((function(){return Object(J.p)(a).variable(!1)}))});var i=Array.isArray(t)?t[r].tensor:t[n];if(null!=i){var o=e.accumulatedGrads[r].variable,s=e.accumulatedUpdates[r].variable;oe((function(){var t=o.mul(e.rho).add(i.square().mul(1-e.rho)),n=s.add(e.epsilon).sqrt().div(o.add(e.epsilon).sqrt()).mul(i),r=s.mul(e.rho).add(n.square().mul(1-e.rho));o.assign(t),s.assign(r);var u=n.mul(-e.learningRate).add(a);a.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(se(this.accumulatedGrads.map((function(t){return t.variable}))),se(this.accumulatedUpdates.map((function(t){return t.variable}))))}},{key:"getWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(){var e;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[].concat(Object(dt.a)(this.accumulatedGrads),Object(dt.a)(this.accumulatedUpdates)),t.next=3,this.saveIterations();case 3:return t.t0=t.sent,t.abrupt("return",[t.t0].concat(e.map((function(t){return{name:t.originalName,tensor:t.variable}}))));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(e){var n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.extractIterations(e);case 2:e=t.sent,n=e.length/2,!1,this.accumulatedGrads=e.slice(0,n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedUpdates=e.slice(n,2*n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(t,e){return new t(e.learningRate,e.rho,e.epsilon)}}]),n}(gs);ys.className="Adadelta",ha(ys);var bs=function(t){Object(pa.a)(n,t);var e=Object(da.a)(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return Object(Kn.a)(this,n),(r=e.call(this)).learningRate=t,r.initialAccumulatorValue=a,r.accumulatedGrads=[],r}return Object($n.a)(n,[{key:"applyGradients",value:function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var a=g.a.registeredVariables[n];if(null==e.accumulatedGrads[r]){e.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:oe((function(){return Object(J.a)(a.shape,e.initialAccumulatorValue).variable(!1)}))}}var i=Array.isArray(t)?t[r].tensor:t[n];if(null!=i){var o=e.accumulatedGrads[r].variable;oe((function(){var t=o.add(i.square());o.assign(t);var n=i.div(t.add(g.a.backend.epsilon()).sqrt()).mul(-e.learningRate).add(a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&se(this.accumulatedGrads.map((function(t){return t.variable})))}},{key:"getWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.saveIterations();case 2:return t.t0=t.sent,t.abrupt("return",[t.t0].concat(this.accumulatedGrads.map((function(t){return{name:t.originalName,tensor:t.variable}}))));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.extractIterations(e);case 2:e=t.sent,!1,this.accumulatedGrads=e.map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(t,e){return new t(e.learningRate,e.initialAccumulatorValue)}}]),n}(gs);bs.className="Adagrad",ha(bs);var xs=function(t){Object(pa.a)(n,t);var e=Object(da.a)(n);function n(t,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(Kn.a)(this,n),(i=e.call(this)).learningRate=t,i.beta1=r,i.beta2=a,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],oe((function(){i.accBeta1=Object(J.f)(r).variable(),i.accBeta2=Object(J.f)(a).variable()})),null==o&&(i.epsilon=g.a.backend.epsilon()),i}return Object($n.a)(n,[{key:"applyGradients",value:function(t){var e=this,n=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t);oe((function(){var r=pn(1,e.accBeta1),a=pn(1,e.accBeta2);n.forEach((function(n,i){var o=g.a.registeredVariables[n];null==e.accumulatedFirstMoment[i]&&(e.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:oe((function(){return Object(J.p)(o).variable(!1)}))}),null==e.accumulatedSecondMoment[i]&&(e.accumulatedSecondMoment[i]={originalName:"".concat(n,"/v"),variable:oe((function(){return Object(J.p)(o).variable(!1)}))});var s=Array.isArray(t)?t[i].tensor:t[n];if(null!=s){var u=e.accumulatedFirstMoment[i].variable,c=e.accumulatedSecondMoment[i].variable,l=u.mul(e.beta1).add(s.mul(1-e.beta1)),h=c.mul(e.beta2).add(s.square().mul(1-e.beta2)),f=l.div(r),p=h.div(a);u.assign(l),c.assign(h);var d=f.div(p.sqrt().add(e.epsilon)).mul(-e.learningRate).add(o);o.assign(d)}})),e.accBeta1.assign(e.accBeta1.mul(e.beta1)),e.accBeta2.assign(e.accBeta2.mul(e.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&se(this.accumulatedFirstMoment.map((function(t){return t.variable}))),null!=this.accumulatedSecondMoment&&se(this.accumulatedSecondMoment.map((function(t){return t.variable})))}},{key:"getWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(){var e;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[].concat(Object(dt.a)(this.accumulatedFirstMoment),Object(dt.a)(this.accumulatedSecondMoment)),t.next=3,this.saveIterations();case 3:return t.t0=t.sent,t.abrupt("return",[t.t0].concat(e.map((function(t){return{name:t.originalName,tensor:t.variable}}))));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(e){var n,r=this;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.extractIterations(e);case 2:e=t.sent,oe((function(){r.accBeta1.assign(on(r.beta1,r.iterations_+1)),r.accBeta2.assign(on(r.beta2,r.iterations_+1))})),n=e.length/2,!1,this.accumulatedFirstMoment=e.slice(0,n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedSecondMoment=e.slice(n,2*n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}));case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon)}}]),n}(gs);xs.className="Adam",ha(xs);var ws=function(t){Object(pa.a)(n,t);var e=Object(da.a)(n);function n(t,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return Object(Kn.a)(this,n),(i=e.call(this)).learningRate=t,i.beta1=r,i.beta2=a,i.epsilon=o,i.decay=s,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],oe((function(){i.iteration=Object(J.f)(0).variable(),i.accBeta1=Object(J.f)(r).variable()})),null==o&&(i.epsilon=g.a.backend.epsilon()),i}return Object($n.a)(n,[{key:"applyGradients",value:function(t){var e=this,n=Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t);oe((function(){var r=pn(1,e.accBeta1),a=ln(-e.learningRate,e.iteration.mul(e.decay).add(1));n.forEach((function(n,i){var o=g.a.registeredVariables[n];null==e.accumulatedFirstMoment[i]&&(e.accumulatedFirstMoment[i]={originalName:"".concat(n,"/m"),variable:Object(J.p)(o).variable(!1)}),null==e.accumulatedWeightedInfNorm[i]&&(e.accumulatedWeightedInfNorm[i]={originalName:"".concat(n,"/v"),variable:Object(J.p)(o).variable(!1)});var s=Array.isArray(t)?t[i].tensor:t[n];if(null!=s){var u=e.accumulatedFirstMoment[i].variable,c=e.accumulatedWeightedInfNorm[i].variable,l=u.mul(e.beta1).add(s.mul(1-e.beta1)),h=c.mul(e.beta2),f=s.abs(),p=h.maximum(f);u.assign(l),c.assign(p);var d=a.div(r).mul(l.div(p.add(e.epsilon))).add(o);o.assign(d)}})),e.iteration.assign(e.iteration.add(1)),e.accBeta1.assign(e.accBeta1.mul(e.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&se(this.accumulatedFirstMoment.map((function(t){return t.variable}))),null!=this.accumulatedWeightedInfNorm&&se(this.accumulatedWeightedInfNorm.map((function(t){return t.variable})))}},{key:"getWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"setWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(t,e){return new t(e.learningRate,e.beta1,e.beta2,e.epsilon,e.decay)}}]),n}(gs);ws.className="Adamax",ha(ws);var Os=function(t){Object(pa.a)(n,t);var e=Object(da.a)(n);function n(t){var r;return Object(Kn.a)(this,n),(r=e.call(this)).learningRate=t,r.setLearningRate(t),r}return Object($n.a)(n,[{key:"applyGradients",value:function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var a=Array.isArray(t)?t[r].tensor:t[n];if(null!=a){var i=g.a.registeredVariables[n];oe((function(){var t=e.c.mul(a).add(i);i.assign(t)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(t){this.learningRate=t,null!=this.c&&this.c.dispose(),this.c=ue(Object(J.f)(-t))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.saveIterations();case 2:return t.t0=t.sent,t.abrupt("return",[t.t0]);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.extractIterations(e);case 2:if(0===(e=t.sent).length){t.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(t,e){return new t(e.learningRate)}}]),n}(gs);Os.className="SGD",ha(Os);var ks=function(t){Object(pa.a)(n,t);var e=Object(da.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(Kn.a)(this,n),(a=e.call(this,t)).learningRate=t,a.momentum=r,a.useNesterov=i,a.accumulations=[],a.m=Object(J.f)(a.momentum),a}return Object($n.a)(n,[{key:"applyGradients",value:function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var a=g.a.registeredVariables[n];if(null==e.accumulations[r]){e.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:oe((function(){return Object(J.p)(a).variable(!1)}))}}var i=e.accumulations[r].variable,o=Array.isArray(t)?t[r].tensor:t[n];null!=o&&oe((function(){var t,n=e.m.mul(i).add(o);t=e.useNesterov?e.c.mul(o.add(n.mul(e.m))).add(a):e.c.mul(n).add(a),i.assign(n),a.assign(t)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&se(this.accumulations.map((function(t){return t.variable})))}},{key:"setMomentum",value:function(t){this.momentum=t}},{key:"getWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.saveIterations();case 2:return t.t0=t.sent,t.abrupt("return",[t.t0].concat(this.accumulations.map((function(t){return{name:t.originalName,tensor:t.variable}}))));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.extractIterations(e);case 2:e=t.sent,!1,this.accumulations=e.map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}}));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(t,e){return new t(e.learningRate,e.momentum,e.useNesterov)}}]),n}(Os);ks.className="Momentum",ha(ks);var Ss=function(t){Object(pa.a)(n,t);var e=Object(da.a)(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(Kn.a)(this,n),(r=e.call(this)).learningRate=t,r.decay=a,r.momentum=i,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==o&&(r.epsilon=g.a.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return Object($n.a)(n,[{key:"applyGradients",value:function(t){var e=this;(Array.isArray(t)?t.map((function(t){return t.name})):Object.keys(t)).forEach((function(n,r){var a=g.a.registeredVariables[n];null==e.accumulatedMeanSquares[r]&&(e.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:oe((function(){return Object(J.p)(a).variable(!1)}))}),null==e.accumulatedMoments[r]&&(e.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:oe((function(){return Object(J.p)(a).variable(!1)}))}),null==e.accumulatedMeanGrads[r]&&e.centered&&(e.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:oe((function(){return Object(J.p)(a).variable(!1)}))});var i=Array.isArray(t)?t[r].tensor:t[n];if(null!=i){var o=e.accumulatedMeanSquares[r].variable,s=e.accumulatedMoments[r].variable;oe((function(){var t=o.mul(e.decay).add(i.square().mul(1-e.decay));if(e.centered){var n=e.accumulatedMeanGrads[r].variable,u=n.mul(e.decay).add(i.mul(1-e.decay)),c=s.mul(e.momentum).add(i.mul(e.learningRate).div(t.sub(u.square().add(e.epsilon)).sqrt()));o.assign(t),n.assign(u),s.assign(c);var l=a.sub(c);a.assign(l)}else{var h=o.mul(e.decay).add(i.square().mul(1-e.decay)),f=s.mul(e.momentum).add(i.mul(e.learningRate).div(h.add(e.epsilon).sqrt()));o.assign(h),s.assign(f);var p=a.sub(f);a.assign(p)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&se(this.accumulatedMeanSquares.map((function(t){return t.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&se(this.accumulatedMeanGrads.map((function(t){return t.variable}))),null!=this.accumulatedMoments&&se(this.accumulatedMoments.map((function(t){return t.variable})))}},{key:"getWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(){var e;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[].concat(Object(dt.a)(this.accumulatedMeanSquares),Object(dt.a)(this.accumulatedMoments)),this.centered&&e.push.apply(e,Object(dt.a)(this.accumulatedMeanGrads)),t.next=4,this.saveIterations();case 4:return t.t0=t.sent,t.abrupt("return",[t.t0].concat(e.map((function(t){return{name:t.originalName,tensor:t.variable}}))));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setWeights",value:function(){var t=Object(L.a)(F.a.mark((function t(e){var n;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.extractIterations(e);case 2:e=t.sent,n=this.centered?e.length/3:e.length/2,!1,this.accumulatedMeanSquares=e.slice(0,n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.accumulatedMoments=e.slice(n,2*n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*n,3*n).map((function(t){return{originalName:t.name,variable:t.tensor.variable(!1)}})));case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(t,e){return new t(e.learningRate,e.decay,e.momentum,e.epsilon,e.centered)}}]),n}(gs);Ss.className="RMSProp",ha(Ss);var Es=n(56),Cs=function(){function t(){Object(Kn.a)(this,t)}return Object($n.a)(t,null,[{key:"sgd",value:function(t){return new Os(t)}},{key:"momentum",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new ks(t,e,n)}},{key:"rmsprop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Ss(t,e,n,r,a)}},{key:"adam",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new xs(t,e,n,r)}},{key:"adadelta",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new ys(t,e,n)}},{key:"adamax",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new ws(t,e,n,r,a)}},{key:"adagrad",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new bs(t,e)}}]),t}(),js={sgd:Cs.sgd,momentum:Cs.momentum,adadelta:Cs.adadelta,adagrad:Cs.adagrad,rmsprop:Cs.rmsprop,adamax:Cs.adamax,adam:Cs.adam},Ts=n(187);function As(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];if(r)(a=a.concat(e.slice(0))).push(t[0]/n),a=a.concat(t.slice(1));else{a=a.concat(t[0]);for(var i=e.length,o=0;o<i;++o)a=a.concat([t[o+1]/e[o],e[o]]);a=a.concat(t.slice(i+1))}return a}function _s(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(e);for(var a=e+1;a<t;++a)a<=2*e?(r.push(a),r.push(a-(e+1))):r.push(a)}else{for(var i=[],o=[],s=1;s<t;++s)s>=2*e+1||s%2===1?o.push(s):i.push(s);r.push.apply(r,i),r.push(0),r.push.apply(r,o)}return r}function Ms(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(t[0]/n):a.push(t[0]*n);for(var i=1;i<t.length;++i)i<=e.length?r?a.push(e[i-1]*t[i]):a.push(t[i]/e[i-1]):a.push(t[i]);return a}function Ns(t,e){for(var n=[0],r=0;r<e;++r)n.push(t[r][0]);return n}function Is(t,e,n){for(var r=t.slice(0,1),a=0;a<n;++a)r.push(t[a+1]-e[a][0]-e[a][1]);return r}var Ds=.3275911,Rs=.254829592,Ps=-.284496736,Fs=1.421413741,Ls=-1.453152027,zs=1.061405429;function Bs(){var t;Object(ne.b)().getBool("IS_TEST")||(t=console).warn.apply(t,arguments)}function Ws(){var t;Object(ne.b)().getBool("IS_TEST")||(t=console).log.apply(t,arguments)}function Us(t,e){if(t.length!==e.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(t.length,", imag: ").concat(e.length,"."));for(var n=new Float32Array(2*t.length),r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function Vs(t){for(var e=new Float32Array(t.length/2),n=new Float32Array(t.length/2),r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function Hs(t){for(var e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e),a=0;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function Gs(t){for(var e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e),a=2;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function Ys(t,e){return{real:t[2*e],imag:t[2*e+1]}}function qs(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function Xs(t,e){for(var n=new Float32Array(t/2),r=new Float32Array(t/2),a=0;a<Math.ceil(t/2);a++){var i=(e?2:-2)*Math.PI*(a/t);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function Ks(t,e,n){var r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}function $s(t,e,n){if("complex64"===e){if("complex64"===t.dtype)return t.clone();var r=Object(J.o)(t.shape),a=t.toFloat(),i=n.complex(a,r);return r.dispose(),a.dispose(),i}if(!Object(R.hasEncodingLoss)(t.dtype,e))return g.a.makeTensorFromDataId(t.dataId,t.shape,e);if("complex64"===t.dtype){var o=n.real(t),s=o.cast(e);return o.dispose(),s}if("int32"===e)return n.int(t);if("bool"===e){var u=Object(J.f)(0,t.dtype),c=n.notEqual(t,u);return u.dispose(),c}throw new Error("Error in Cast: failed to cast ".concat(t.dtype," to ").concat(e))}function Js(t,e){return g.a.makeTensorFromDataId(t.dataId,e,t.dtype)}function Zs(t,e,n){var r=(e-t)/(n-1),a=Object(R.makeZerosTypedArray)(n,"float32");a[0]=t;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return Object(J.h)(a,"float32")}var Qs=n(99);function tu(t,e,n){var r=new Array(t.rank).fill(0),a=t.shape.slice();return e.map((function(e){var i=Object(dt.a)(a);i[n]=e;var o=t.slice(r,i);return r[n]+=e,o}))}function eu(t,e){for(var n=new Array(t.rank),r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];for(var a=tt(n,t.dtype),i=0;i<a.values.length;++i){for(var o=a.indexToLoc(i),s=new Array(t.rank),u=0;u<s.length;u++)s[u]=o[u]%t.shape[u];var c=t.locToIndex(s);a.values[i]=t.values[c]}return a.toTensor()}function nu(t,e,n,r,a){for(var i=e[e.length-1],o=t.length/i,s=i,u=Object(R.getTypedArrayFromDType)(n,o*r),c=Object(R.getTypedArrayFromDType)("int32",o*r),l=0;l<o;l++){for(var h=l*s,f=t.subarray(h,h+s),p=[],d=0;d<f.length;d++)p.push({value:f[d],index:d});p.sort((function(t,e){return e.value-t.value}));for(var v=l*r,m=u.subarray(v,v+r),g=c.subarray(v,v+r),y=0;y<r;y++)m[y]=p[y].value,g[y]=p[y].index}var b=e.slice();return b[b.length-1]=r,[Object(J.g)(u,b,n),Object(J.g)(c,b,"int32")]}var ru=function(){function t(e,n){Object(Kn.a)(this,t),this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return Object($n.a)(t,[{key:"get",value:function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}},{key:"set",value:function(t,e){this.dataIdsCount++,this.data.set(t,e)}},{key:"has",value:function(t){return this.data.has(t)}},{key:"delete",value:function(t){return this.dataIdsCount--,this.data.delete(t)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),t}(),au=function(){function t(){Object(Kn.a)(this,t)}return Object($n.a)(t,[{key:"time",value:function(t){return iu("time")}},{key:"read",value:function(t){return iu("read")}},{key:"readSync",value:function(t){return iu("readSync")}},{key:"numDataIds",value:function(){return iu("numDataIds")}},{key:"disposeData",value:function(t){return iu("disposeData")}},{key:"write",value:function(t,e,n){return iu("write")}},{key:"move",value:function(t,e,n,r){return iu("move")}},{key:"memory",value:function(){return iu("memory")}},{key:"floatPrecision",value:function(){return iu("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"batchMatMul",value:function(t,e,n,r){return iu("batchMatMul")}},{key:"fusedBatchMatMul",value:function(t){t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights;return iu("fusedBatchMatMul")}},{key:"slice",value:function(t,e,n){return iu("slice")}},{key:"stridedSlice",value:function(t,e,n,r){return iu("stridedSlice")}},{key:"unstack",value:function(t,e){return iu("unstack")}},{key:"reverse",value:function(t,e){return iu("reverse")}},{key:"concat",value:function(t,e){return iu("concat")}},{key:"neg",value:function(t){return iu("neg")}},{key:"add",value:function(t,e){return iu("add")}},{key:"addN",value:function(t){return iu("addN")}},{key:"subtract",value:function(t,e){return iu("subtract")}},{key:"multiply",value:function(t,e){return iu("multiply")}},{key:"realDivide",value:function(t,e){return iu("realDivide")}},{key:"floorDiv",value:function(t,e){return iu("floorDiv")}},{key:"sum",value:function(t,e){return iu("sum")}},{key:"prod",value:function(t,e){return iu("prod")}},{key:"unsortedSegmentSum",value:function(t,e,n){return iu("unsortedSegmentSum")}},{key:"argMin",value:function(t,e){return iu("argMin")}},{key:"argMax",value:function(t,e){return iu("argMax")}},{key:"equal",value:function(t,e){return iu("equal")}},{key:"notEqual",value:function(t,e){return iu("notEqual")}},{key:"less",value:function(t,e){return iu("less")}},{key:"lessEqual",value:function(t,e){return iu("lessEqual")}},{key:"greater",value:function(t,e){return iu("greater")}},{key:"greaterEqual",value:function(t,e){return iu("greaterEqual")}},{key:"logicalNot",value:function(t){return iu("logicalNot")}},{key:"logicalAnd",value:function(t,e){return iu("logicalAnd")}},{key:"logicalOr",value:function(t,e){return iu("logicalOr")}},{key:"where",value:function(t){return iu("where")}},{key:"select",value:function(t,e,n){return iu("select")}},{key:"topk",value:function(t,e,n){return iu("topk")}},{key:"min",value:function(t,e){return iu("min")}},{key:"minimum",value:function(t,e){return iu("minimum")}},{key:"mod",value:function(t,e){return iu("mod")}},{key:"max",value:function(t,e){return iu("max")}},{key:"maximum",value:function(t,e){return iu("maximum")}},{key:"all",value:function(t,e){return iu("all")}},{key:"any",value:function(t,e){return iu("any")}},{key:"squaredDifference",value:function(t,e){return iu("squaredDifference")}},{key:"ceil",value:function(t){return iu("ceil")}},{key:"floor",value:function(t){return iu("floor")}},{key:"round",value:function(t){return iu("round")}},{key:"sign",value:function(t){return iu("sign")}},{key:"isNaN",value:function(t){return iu("isNaN")}},{key:"isInf",value:function(t){return iu("isInf")}},{key:"isFinite",value:function(t){return iu("isFinite")}},{key:"pow",value:function(t,e){return iu("pow")}},{key:"exp",value:function(t){return iu("exp")}},{key:"expm1",value:function(t){return iu("expm1")}},{key:"softmax",value:function(t,e){return iu("softmax")}},{key:"log",value:function(t){return iu("log")}},{key:"log1p",value:function(t){return iu("log1p")}},{key:"sqrt",value:function(t){return iu("sqrt")}},{key:"rsqrt",value:function(t){return iu("rsqrt")}},{key:"square",value:function(t){return iu("square")}},{key:"reciprocal",value:function(t){return iu("reciprocal")}},{key:"relu",value:function(t){return iu("relu")}},{key:"relu6",value:function(t){return iu("relu6")}},{key:"prelu",value:function(t,e){return iu("prelu")}},{key:"elu",value:function(t){return iu("elu")}},{key:"eluDer",value:function(t,e){return iu("eluDer")}},{key:"selu",value:function(t){return iu("selu")}},{key:"int",value:function(t){return iu("int")}},{key:"clip",value:function(t,e,n){return iu("clip")}},{key:"abs",value:function(t){return iu("abs")}},{key:"complexAbs",value:function(t){return iu("complexAbs")}},{key:"sigmoid",value:function(t){return iu("sigmoid")}},{key:"softplus",value:function(t){return iu("softplus")}},{key:"sin",value:function(t){return iu("sin")}},{key:"cos",value:function(t){return iu("cos")}},{key:"tan",value:function(t){return iu("tan")}},{key:"asin",value:function(t){return iu("asin")}},{key:"acos",value:function(t){return iu("acos")}},{key:"atan",value:function(t){return iu("atan")}},{key:"atan2",value:function(t,e){return iu("atan2")}},{key:"sinh",value:function(t){return iu("sinh")}},{key:"cosh",value:function(t){return iu("cosh")}},{key:"tanh",value:function(t){return iu("tanh")}},{key:"asinh",value:function(t){return iu("asinh")}},{key:"acosh",value:function(t){return iu("acosh")}},{key:"atanh",value:function(t){return iu("atanh")}},{key:"erf",value:function(t){return iu("erf")}},{key:"step",value:function(t,e){return iu("step")}},{key:"fusedConv2d",value:function(t){t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights;return iu("fusedConv2d")}},{key:"conv2d",value:function(t,e,n){return iu("conv2d")}},{key:"conv2dDerInput",value:function(t,e,n){return iu("conv2dDerInput")}},{key:"conv2dDerFilter",value:function(t,e,n){return iu("conv2dDerFilter")}},{key:"fusedDepthwiseConv2D",value:function(t){t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights;return iu("fusedDepthwiseConv2D")}},{key:"depthwiseConv2D",value:function(t,e,n){return iu("depthwiseConv2D")}},{key:"depthwiseConv2DDerInput",value:function(t,e,n){return iu("depthwiseConv2DDerInput")}},{key:"depthwiseConv2DDerFilter",value:function(t,e,n){return iu("depthwiseConv2DDerFilter")}},{key:"conv3d",value:function(t,e,n){return iu("conv3d")}},{key:"conv3dDerInput",value:function(t,e,n){return iu("conv3dDerInput")}},{key:"conv3dDerFilter",value:function(t,e,n){return iu("conv3dDerFilter")}},{key:"maxPool",value:function(t,e){return iu("maxPool")}},{key:"maxPoolBackprop",value:function(t,e,n,r){return iu("maxPoolBackprop")}},{key:"avgPool",value:function(t,e){return iu("avgPool")}},{key:"avgPoolBackprop",value:function(t,e,n){return iu("avgPoolBackprop")}},{key:"avgPool3d",value:function(t,e){return iu("avgPool3d")}},{key:"avgPool3dBackprop",value:function(t,e,n){return iu("avgPool3dBackprop")}},{key:"maxPool3d",value:function(t,e){return iu("maxPool3d")}},{key:"maxPool3dBackprop",value:function(t,e,n,r){return iu("maxPool3dBackprop")}},{key:"reshape",value:function(t,e){return iu("reshape")}},{key:"cast",value:function(t,e){return iu("cast")}},{key:"tile",value:function(t,e){return iu("tile")}},{key:"pad",value:function(t,e,n){return iu("pad")}},{key:"transpose",value:function(t,e){return iu("transpose")}},{key:"gather",value:function(t,e,n){return iu("gather")}},{key:"gatherND",value:function(t,e){return iu("gatherND")}},{key:"scatterND",value:function(t,e,n){return iu("scatterND")}},{key:"batchToSpaceND",value:function(t,e,n){return iu("batchToSpaceND")}},{key:"spaceToBatchND",value:function(t,e,n){return iu("spaceToBatchND")}},{key:"resizeBilinear",value:function(t,e,n,r){return iu("resizeBilinear")}},{key:"resizeBilinearBackprop",value:function(t,e,n){return iu("resizeBilinearBackprop")}},{key:"resizeNearestNeighbor",value:function(t,e,n,r){return iu("resizeNearestNeighbor")}},{key:"resizeNearestNeighborBackprop",value:function(t,e,n){return iu("resizeNearestNeighborBackprop")}},{key:"batchNorm",value:function(t,e,n,r,a,i){return iu("batchNorm")}},{key:"localResponseNormalization4D",value:function(t,e,n,r,a){return iu("localResponseNormalization4D")}},{key:"LRNGrad",value:function(t,e,n,r,a,i,o){return iu("LRNGrad")}},{key:"multinomial",value:function(t,e,n,r){return iu("multinomial")}},{key:"oneHot",value:function(t,e,n,r){return iu("oneHot")}},{key:"cumsum",value:function(t,e,n,r){return iu("cumsum")}},{key:"nonMaxSuppression",value:function(t,e,n,r,a){return iu("nonMaxSuppression")}},{key:"fft",value:function(t){return iu("fft")}},{key:"ifft",value:function(t){return iu("ifft")}},{key:"complex",value:function(t,e){return iu("complex")}},{key:"real",value:function(t){return iu("real")}},{key:"imag",value:function(t){return iu("imag")}},{key:"cropAndResize",value:function(t,e,n,r,a,i){return iu("cropAndResize")}},{key:"depthToSpace",value:function(t,e,n){return iu("depthToSpace")}},{key:"split",value:function(t,e,n){return iu("split")}},{key:"sparseToDense",value:function(t,e,n,r){return iu("sparseToDense")}},{key:"diag",value:function(t){return iu("diag")}},{key:"fill",value:function(t,e,n){return iu("fill")}},{key:"onesLike",value:function(t){return iu("onesLike")}},{key:"zerosLike",value:function(t){return iu("zerosLike")}},{key:"linspace",value:function(t,e,n){return iu("linspace")}},{key:"dispose",value:function(){return iu("dispose")}}]),t}();function iu(t){throw new Error("'".concat(t,"' not yet implemented or not found in the registry. ")+"Did you forget to import the kernel?")}z.a.prototype.add=function(t){return this.throwIfDisposed(),fe(this,t)},z.a.prototype.batchNorm=function(t,e,n,r,a){return this.throwIfDisposed(),ga(this,t,e,n,r,a)},z.a.prototype.broadcastTo=function(t){return this.throwIfDisposed(),Oa(this,t)},z.a.prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),Sn(this,t,e)},z.a.prototype.max=function(t,e){return this.throwIfDisposed(),Ja(this,t,e)},z.a.prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof z.a&&(t=[t]),Z([this].concat(Object(dt.a)(t)),e)},z.a.prototype.conv1d=function(t,e,n,r,a,i){return this.throwIfDisposed(),ja(this,t,e,n,r,a,i)},z.a.prototype.conv2d=function(t,e,n,r,a,i){return this.throwIfDisposed(),Xt(this,t,e,n,r,a,i)},z.a.prototype.conv2dTranspose=function(t,e,n,r,a){return this.throwIfDisposed(),Ta(this,t,e,n,r,a)},z.a.prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),Ma(this,t,e)},z.a.prototype.depthwiseConv2d=function(t,e,n,r,a,i){return this.throwIfDisposed(),Na(this,t,e,n,r,a,i)},z.a.prototype.depthwiseConv2D=function(t,e,n,r,a,i){return re("depthwiseConv2D is deprecated, use depthwiseConv2d instead"),this.throwIfDisposed(),Na(this,t,e,n,r,a,i)},z.a.prototype.div=function(t){return this.throwIfDisposed(),ln(this,t)},z.a.prototype.divNoNan=function(t){return this.throwIfDisposed(),Ua(this,t)},z.a.prototype.dot=function(t){return this.throwIfDisposed(),Va(this,t)},z.a.prototype.equal=function(t){return this.throwIfDisposed(),Ha(this,t)},z.a.prototype.greater=function(t){return this.throwIfDisposed(),Ya(this,t)},z.a.prototype.greaterEqual=function(t){return this.throwIfDisposed(),qa(this,t)},z.a.prototype.less=function(t){return this.throwIfDisposed(),Xa(this,t)},z.a.prototype.lessEqual=function(t){return this.throwIfDisposed(),Ka(this,t)},z.a.prototype.localResponseNormalization=function(t,e,n,r){return this.throwIfDisposed(),$a(this,t,e,n,r)},z.a.prototype.matMul=function(t,e,n){return this.throwIfDisposed(),lt(this,t,e,n)},z.a.prototype.oneHot=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),ta(this,t,e,n)},z.a.prototype.notEqual=function(t){return this.throwIfDisposed(),Qa(this,t)},z.a.prototype.pad=function(t,e){return this.throwIfDisposed(),_n(this,t,e)},z.a.prototype.separableConv2d=function(t,e,n,r,a,i){return this.throwIfDisposed(),pi(this,t,e,n,r,a,i)},z.a.prototype.split=function(t,e){return this.throwIfDisposed(),At(this,t,e)},z.a.prototype.squaredDifference=function(t){return this.throwIfDisposed(),di(this,t)},z.a.prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),ft(this,t,e)},z.a.prototype.sub=function(t){return this.throwIfDisposed(),pn(this,t)},z.a.prototype.tile=function(t){return this.throwIfDisposed(),dn(this,t)},z.a.prototype.transpose=function(t){return this.throwIfDisposed(),xn(this,t)},Object(z.e)(d)},function(t,e,n){t.exports=n(375)()},function(t,e,n){"use strict";n.r(e),n.d(e,"shuffle",(function(){return a})),n.d(e,"clamp",(function(){return i})),n.d(e,"nearestLargerEven",(function(){return o})),n.d(e,"sum",(function(){return s})),n.d(e,"randUniform",(function(){return u})),n.d(e,"distSquared",(function(){return c})),n.d(e,"assert",(function(){return l})),n.d(e,"assertShapesMatch",(function(){return h})),n.d(e,"assertNonNull",(function(){return f})),n.d(e,"flatten",(function(){return p})),n.d(e,"sizeFromShape",(function(){return d})),n.d(e,"isScalarShape",(function(){return v})),n.d(e,"arraysEqual",(function(){return m})),n.d(e,"isInt",(function(){return g})),n.d(e,"tanh",(function(){return y})),n.d(e,"sizeToSquarishShape",(function(){return b})),n.d(e,"createShuffledIndices",(function(){return x})),n.d(e,"rightPad",(function(){return w})),n.d(e,"repeatedTry",(function(){return O})),n.d(e,"inferFromImplicitShape",(function(){return k})),n.d(e,"parseAxisParam",(function(){return S})),n.d(e,"squeezeShape",(function(){return E})),n.d(e,"getTypedArrayFromDType",(function(){return C})),n.d(e,"getArrayFromDType",(function(){return j})),n.d(e,"checkConversionForErrors",(function(){return T})),n.d(e,"isValidDtype",(function(){return A})),n.d(e,"hasEncodingLoss",(function(){return _})),n.d(e,"isTypedArray",(function(){return M})),n.d(e,"bytesPerElement",(function(){return N})),n.d(e,"bytesFromStringArray",(function(){return I})),n.d(e,"isString",(function(){return D})),n.d(e,"isBoolean",(function(){return R})),n.d(e,"isNumber",(function(){return P})),n.d(e,"inferDtype",(function(){return F})),n.d(e,"isFunction",(function(){return L})),n.d(e,"nearestDivisor",(function(){return z})),n.d(e,"computeStrides",(function(){return B})),n.d(e,"toTypedArray",(function(){return W})),n.d(e,"toNestedArray",(function(){return U})),n.d(e,"makeOnesTypedArray",(function(){return V})),n.d(e,"makeZerosTypedArray",(function(){return H})),n.d(e,"now",(function(){return G})),n.d(e,"assertNonNegativeIntegerDimensions",(function(){return Y})),n.d(e,"fetch",(function(){return q})),n.d(e,"encodeString",(function(){return X})),n.d(e,"decodeString",(function(){return K})),n.d(e,"locToIndex",(function(){return $})),n.d(e,"indexToLoc",(function(){return J}));var r=n(23);function a(t){for(var e=t.length,n=0,r=0;e>0;)r=Math.random()*e|0,n=t[--e],t[e]=t[r],t[r]=n}function i(t,e,n){return Math.max(t,Math.min(e,n))}function o(t){return t%2===0?t:t+1}function s(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function u(t,e){var n=Math.random();return e*n+(1-n)*t}function c(t,e){for(var n=0,r=0;r<t.length;r++){var a=Number(t[r])-Number(e[r]);n+=a*a}return n}function l(t,e){if(!t)throw new Error("string"===typeof e?e:e())}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";l(m(t,e),(function(){return n+" Shapes ".concat(t," and ").concat(e," must match")}))}function f(t){l(null!=t,(function(){return"The input to the tensor constructor must be a non-null value."}))}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e&&(e=[]),Array.isArray(t)||M(t)&&!n)for(var r=0;r<t.length;++r)p(t[r],e,n);else e.push(t);return e}function d(t){if(0===t.length)return 1;for(var e=t[0],n=1;n<t.length;n++)e*=t[n];return e}function v(t){return 0===t.length}function m(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function g(t){return t%1===0}function y(t){if(null!=Math.tanh)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;var e=Math.exp(2*t);return(e-1)/(e+1)}function b(t){var e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function x(t){for(var e=new Uint32Array(t),n=0;n<t;++n)e[n]=n;return a(e),e}function w(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,a){var i=0;!function o(){if(t())r();else{i++;var s=e(i);null!=n&&i>=n?a():setTimeout(o,s)}}()}))}function k(t,e){for(var n=1,r=-1,a=0;a<t.length;++a)if(t[a]>=0)n*=t[a];else if(-1===t[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(t[a]<0)throw Error("Shapes can not be < 0. Found ".concat(t[a]," at dim ").concat(a));if(-1===r){if(e>0&&e!==n)throw Error("Size(".concat(e,") must match the product of shape ").concat(t));return t}if(0===n)throw Error("Cannot infer the missing size in [".concat(t,"] when ")+"there are 0 elements");if(e%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(e," / ").concat(n));var i=t.slice();return i[r]=e/n,i}function S(t,e){var n=e.length;return l((t=null==t?e.map((function(t,e){return e})):[].concat(t)).every((function(t){return t>=-n&&t<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(t)})),l(t.every((function(t){return g(t)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(t)})),t.map((function(t){return t<0?n+t:t}))}function E(t,e){for(var n=[],r=[],a=null!=e&&Array.isArray(e)&&0===e.length,i=null==e||a?null:S(e,t).sort(),o=0,s=0;s<t.length;++s){if(null!=i){if(i[o]===s&&1!==t[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(t[s],"' is not 1"));(null==i[o]||i[o]>s)&&1===t[s]&&(n.push(t[s]),r.push(s)),i[o]<=s&&o++}1!==t[s]&&(n.push(t[s]),r.push(s))}return{newShape:n,keptDims:r}}function C(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else{if("bool"!==t)throw new Error("Unknown data type ".concat(t));n=new Uint8Array(e)}return n}function j(t,e){var n=null;if(null==t||"float32"===t)n=new Float32Array(e);else if("int32"===t)n=new Int32Array(e);else if("bool"===t)n=new Uint8Array(e);else{if("string"!==t)throw new Error("Unknown data type ".concat(t));n=new Array(e)}return n}function T(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(e," being uploaded contains ").concat(r,"."))}}function A(t){return"bool"===t||"complex64"===t||"float32"===t||"int32"===t||"string"===t}function _(t,e){return"complex64"!==e&&(("float32"!==e||"complex64"===t)&&(("int32"!==e||"float32"===t||"complex64"===t)&&("bool"!==e||"bool"!==t)))}function M(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array}function N(t){if("float32"===t||"int32"===t)return 4;if("complex64"===t)return 8;if("bool"===t)return 1;throw new Error("Unknown dtype ".concat(t))}function I(t){if(null==t)return 0;var e=0;return t.forEach((function(t){return e+=t.length})),e}function D(t){return"string"===typeof t||t instanceof String}function R(t){return"boolean"===typeof t}function P(t){return"number"===typeof t}function F(t){return Array.isArray(t)?F(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array?"int32":P(t)?"float32":D(t)?"string":R(t)?"bool":"float32"}function L(t){return!!(t&&t.constructor&&t.call&&t.apply)}function z(t,e){for(var n=e;n<t;++n)if(t%n===0)return n;return t}function B(t){var e=t.length;if(e<2)return[];var n=new Array(e-1);n[e-2]=t[e-1];for(var r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function W(t,e,n){if("string"===e)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=p(t)),n&&T(t,e),function(t,e){return t instanceof Float32Array&&"float32"===e||t instanceof Int32Array&&"int32"===e||t instanceof Uint8Array&&"bool"===e}(t,e))return t;if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e){for(var r=new Uint8Array(t.length),a=0;a<r.length;++a)0!==Math.round(t[a])&&(r[a]=1);return r}throw new Error("Unknown data type ".concat(e))}function U(t,e){if(0===t.length)return e[0];var n=t.reduce((function(t,e){return t*e}));if(0===n)return[];if(n!==e.length)throw new Error("[".concat(t,"] does not match the input size."));return function t(e,n,r){var a=new Array;if(1===n.length)for(var i=n[0],o=0;o<i;o++)a[o]=r[e+o];else for(var s=n[0],u=n.slice(1),c=u.reduce((function(t,e){return t*e})),l=0;l<s;l++)a[l]=t(e+l*c,u,r);return a}(0,t,e)}function V(t,e){for(var n=H(t,e),r=0;r<n.length;r++)n[r]=1;return n}function H(t,e){if(null==e||"float32"===e||"complex64"===e)return new Float32Array(t);if("int32"===e)return new Int32Array(t);if("bool"===e)return new Uint8Array(t);throw new Error("Unknown data type ".concat(e))}function G(){return Object(r.b)().platform.now()}function Y(t){t.forEach((function(e){l(Number.isInteger(e)&&e>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(t,"].")}))}))}function q(t,e){return Object(r.b)().platform.fetch(t,e)}function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return e=e||"utf-8",Object(r.b)().platform.encode(t,e)}function K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return e=e||"utf-8",Object(r.b)().platform.decode(t,e)}function $(t,e,n){if(0===e)return 0;if(1===e)return t[0];for(var r=t[t.length-1],a=0;a<t.length-1;++a)r+=n[a]*t[a];return r}function J(t,e,n){if(0===e)return[];if(1===e)return[t];for(var r=new Array(e),a=0;a<r.length-1;++a)r[a]=Math.floor(t/n[a]),t-=r[a]*n[a];return r[r.length-1]=t,r}},function(t,e,n){"use strict";t.exports=n(246)},function(t,e,n){t.exports=n(445)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l}));var r=n(10);function a(t,e,n,r){var a=e.inputParams[t];if(a&&void 0!==a.inputIndexStart){var o=a.inputIndexStart,s=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?o+1:a.inputIndexEnd;if("tensor"===a.type)return i(e.inputNames[a.inputIndexStart],n,r);if("tensors"===a.type)return e.inputNames.slice(o,s).map((function(t){return i(t,n,r)}));var u=Array.prototype.slice.call(i(e.inputNames.slice(o)[0],n,r).dataSync());return"number"===a.type?u[0]:u}var c=e.attrParams[t];return c&&c.value}function i(t,e,n){var a=c(t),i=Object(r.a)(a,2),o=i[0],s=i[1],l=n.currentContextIds.find((function(t){return!!e[u(o,t)]}));return void 0!==l?e[u(o,l)][s]:void 0}function o(t,e,n){return e[u(t,n.currentContextId)]}function s(t,e){var n=c(t),a=Object(r.a)(n,2),i=a[0],o=a[1];return[u(i,e&&e.currentContextId),o]}function u(t,e){return e?"".concat(t,"-").concat(e):t}function c(t){var e=t.lastIndexOf(":");return-1===e?[t,0]:[t.substring(0,e),Number(t.substring(e+1))]}function l(t,e){for(var n=[],r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}},function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var r=n(11),a=n(23),i=n(18),o=n(2);function s(t,e){var n=t;if(Object(o.isTypedArray)(t))return"string"===e?[]:[t.length];if(!Array.isArray(t))return[];for(var r=[];Array.isArray(n)||Object(o.isTypedArray)(n)&&"string"!==e;)r.push(n.length),n=n[0];return Array.isArray(t)&&Object(a.b)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function t(e,n,r){if(r=r||[],!Array.isArray(e)&&!Object(o.isTypedArray)(e))return void Object(o.assert)(0===n.length,(function(){return"Element arr[".concat(r.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(n[0]," elements")}));Object(o.assert)(n.length>0,(function(){return"Element arr[".concat(r.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),Object(o.assert)(e.length===n[0],(function(){return"Element arr[".concat(r.join("]["),"] should have ").concat(n[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var a=n.slice(1),i=0;i<e.length;++i)t(e[i],a,r.concat(i))}(t,r,[]),r}function u(t,e,n,r){if(null!=t&&("numeric"!==t&&t!==e||"numeric"===t&&"string"===e))throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(t," tensor, but got ").concat(e," tensor"))}function c(t,e,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(t instanceof i.a)return u(c,t.dtype,e,n),t;var l=Object(o.inferDtype)(t);if("string"!==l&&["bool","int32","float32"].indexOf(c)>=0&&(l=c),u(c,l,e,n),null==t||!Object(o.isTypedArray)(t)&&!Array.isArray(t)&&"number"!==typeof t&&"boolean"!==typeof t&&"string"!==typeof t){var h=null==t?"null":t.constructor.name;throw new Error("Argument '".concat(e,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(h,"'"))}var f=s(t,l);Object(o.isTypedArray)(t)||Array.isArray(t)||(t=[t]);var p=!0,d="string"!==l?Object(o.toTypedArray)(t,l,Object(a.b)().getBool("DEBUG")):Object(o.flatten)(t,[],p);return r.a.makeTensor(d,f,l)}function l(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(t))throw new Error("Argument ".concat(e," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");var a=t;return a.map((function(t,r){return c(t,"".concat(e,"[").concat(r,"]"),n)}),r)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(11);function a(t){var e=Object.keys(t);if(1!==e.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(e.length," keys."));var n=e[0],a=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var i=function(){r.a.startScope(n);try{var t=a.apply(void 0,arguments);return t instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r.a.endScope(t),t}catch(e){throw r.a.endScope(null),e}};return Object.defineProperty(i,"name",{value:n,configurable:!0}),i}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(75);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var r=n(15),a=n(16),i=n(4),o=n.n(i),s=n(12),u=n(5),c=n(9),l=n(23),h=n(83),f=n(42),p=n(2),d=function(){function t(e,n){Object(u.a)(this,t),this.backendTimer=e,this.logger=n,null==n&&(this.logger=new v)}return Object(c.a)(t,[{key:"profileKernel",value:function(t,e,n){var r,a=this,i=this.backendTimer.time((function(){r=n()}));return r.forEach((function(n){n.data().then((function(r){!function(t,e,n){if("float32"!==e)return!1;for(var r=0;r<t.length;r++){var a=t[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(r,n.dtype,t),i.then((function(i){var o="";null!=i.getExtraProfileInfo&&(o=i.getExtraProfileInfo()),a.logger.logKernelProfile(t,n,r,i.kernelMs,e,o)}))}))})),r}}]),t}();var v=function(){function t(){Object(u.a)(this,t)}return Object(c.a)(t,[{key:"logKernelProfile",value:function(t,e,n,r,a,i){var o="number"===typeof r?p.rightPad("".concat(r,"ms"),9):r.error,s=p.rightPad(t,25),u=e.rank,c=e.size,l=p.rightPad(e.shape.toString(),14),h="";for(var f in a){var d=a[f].shape||e.shape,v=d.length;h+="".concat(f,": ").concat(v,"D ").concat(v>0?d:""," ")}console.log("%c".concat(s,"\t%c").concat(o,"\t%c").concat(u,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(h,"\t%c").concat(i),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),t}();function m(t,e,n){for(var r={},a={},i=0;i<e.length;i++)r[e[i].id]=!0;for(var o=0;o<t.length;o++){var s=t[o],u=s.inputs;for(var c in u){for(var l=u[c],h=!1,f=0;f<e.length;f++)if(r[l.id]){s.outputs.forEach((function(t){return r[t.id]=!0})),h=!0,a[s.id]=!0;break}if(h)break}}var p={};p[n.id]=!0;for(var d={},v=t.length-1;v>=0;v--)for(var m=t[v],g=m.inputs,y=0;y<m.outputs.length;y++)if(p[m.outputs[y].id]){for(var b in g)p[g[b].id]=!0,d[m.id]=!0;break}for(var x=[],w=0;w<t.length;w++){var O=t[w];if(a[O.id]&&d[O.id]){var k={};for(var S in O.inputs){var E=O.inputs[S];r[E.id]&&(k[S]=E)}var C=Object.assign({},O);C.inputs=k,C.outputs=O.outputs,x.push(C)}}return x}function g(t,e,n){for(var r=function(r){var a=e[r],i=[];if(a.outputs.forEach((function(e){var n=t[e.id];null!=n?i.push(n):i.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(a.kernelName,"."));var o=a.gradient(i),s=function(e){if(!(e in o))throw new Error("Cannot backprop through input ".concat(e,". ")+"Available gradients found: ".concat(Object.keys(o),"."));var r=n((function(){return o[e]()}));if("float32"!==r.dtype)throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"".concat(e," must have 'float32' dtype, but has '").concat(r.dtype,"'"));var i=a.inputs[e];if(!p.arraysEqual(r.shape,i.shape))throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"'".concat(e,"' has shape '").concat(r.shape,"', which does not match ")+"the shape of the input '".concat(i.shape,"'"));if(null==t[i.id])t[i.id]=r;else{var s=t[i.id];t[i.id]=s.add(r),s.dispose()}};for(var u in a.inputs)s(u)},a=e.length-1;a>=0;a--)r(a)}var y=n(18),b=n(24),x=function(){function t(){Object(u.a)(this,t),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return Object(c.a)(t,[{key:"dispose",value:function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()}}]),t}(),w=function(){function t(e){Object(u.a)(this,t),this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new x}return Object(c.a)(t,[{key:"ready",value:function(){var t=Object(s.a)(o.a.mark((function t(){var e,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.pendingBackendInit){t.next=2;break}return t.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){t.next=4;break}return t.abrupt("return");case 4:e=this.getSortedBackends(),n=0;case 6:if(!(n<e.length)){t.next=18;break}return r=e[n],t.next=10,this.initializeBackend(r).success;case 10:if(!t.sent){t.next=15;break}return t.next=14,this.setBackend(r);case 14:return t.abrupt("return");case 15:n++,t.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;if(this.initializeBackend(t).asyncInit)return null}return this.registry[t]}},{key:"findBackendFactory",value:function(t){return t in this.registryFactory?this.registryFactory[t].factory:null}},{key:"registerBackend",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t in this.registryFactory?(console.warn("".concat(t," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:e,priority:n},!0)}},{key:"setBackend",value:function(){var t=Object(s.a)(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.registryFactory[e]){t.next=2;break}throw new Error("Backend name '".concat(e,"' not found in registry"));case 2:if(this.backendName=e,null!=this.registry[e]){t.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(e),r=n.success,!n.asyncInit){t.next=12;break}return t.next=9,r;case 9:t.t0=t.sent,t.next=13;break;case 12:t.t0=r;case 13:if(t.t0){t.next=16;break}return t.abrupt("return",!1);case 16:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new d(this.backendInstance),t.abrupt("return",!0);case 20:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var t=this;Object(f.c)(this.backendName).forEach((function(e){null!=e.setupFunc&&e.setupFunc(t.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(t){var e=this;Object(f.c)(t).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(e.registry[t])}))}},{key:"initializeBackend",value:function(t){var e=this,n=this.registryFactory[t];if(null==n)throw new Error("Cannot initialize backend ".concat(t,", no registration found."));try{var r=n.factory();if(Promise.resolve(r)===r){var a=++this.pendingBackendInitId,i=r.then((function(n){return!(a<e.pendingBackendInitId)&&(e.registry[t]=n,e.pendingBackendInit=null,!0)})).catch((function(n){return a<e.pendingBackendInitId||(e.pendingBackendInit=null,console.warn("Initialization of backend ".concat(t," failed")),console.warn(n.stack||n.message)),!1}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}return this.registry[t]=r,{success:!0,asyncInit:!1}}catch(o){return console.warn("Initialization of backend ".concat(t," failed")),console.warn(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(t){if(!(t in this.registryFactory))throw new Error("".concat(t," backend not found in registry"));this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var t=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(e,n){return t.registryFactory[n].priority-t.registryFactory[e].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var t=this.getSortedBackends(),e=0;e<t.length;e++){var n=t[e],r=this.initializeBackend(n),a=r.success,i=r.asyncInit;if(i||a)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(t,e){var n=this.state.tensorInfo.get(e),r=n.backend,a=this.readSync(e);r.disposeData(e),n.backend=t,t.move(e,a,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(t,e){var n,r=this,a=null;if(null==e){if("function"!==typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!==typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=t}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=e())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(t,e,n){t();try{var r=n();return e(),r}catch(a){throw e(),a}}},{key:"nextTensorId",value:function(){return t.nextTensorId++}},{key:"nextVariableId",value:function(){return t.nextVariableId++}},{key:"clone",value:function(t){var e=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),n={x:t};return this.addTapeNode(this.state.activeScope.name,n,[e],(function(t){return{x:function(){return t.toFloat()}}}),[],{}),e}},{key:"runKernel",value:function(t,e,n,r,a){return this.runKernelFunc(null,e,null,t,n,r,a)}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(t,e,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(t){a+="complex64"===t.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-e-a-i;if(o>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(o," data ids) after running '").concat(t,"'"))}},{key:"runKernelFunc",value:function(t,e,n,r,a,i,o){var s,u=this,c=[],l=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var h,p=this.state.numBytes,d=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var v,m=Object(f.b)(r,this.backendName);if(null!=m)h=function(){var t=u.backend.numDataIds();v=m.kernelFunc({inputs:e,attrs:a,backend:u.backend});var n=Array.isArray(v)?v:[v];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,t,n);var s=n.map((function(t){var e=t.dataId,n=t.shape,r=t.dtype;return u.makeTensorFromDataId(e,n,r)}));if(l){var h=u.getTensorsForGradient(r,e,s);if(null==h){null==o&&(o=[]);var f=s.filter((function(t,e){return o[e]}));h=(i||[]).slice().concat(f)}c=u.saveTensorsForBackwardMode(h)}return s};else{var g=function(t){l&&(c=t.map((function(t){return u.keep(u.clone(t))})))};h=function(){var e=u.backend.numDataIds();v=u.tidy((function(){return t(u.backend,g)}));var n=Array.isArray(v)?v:[v];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(r,e,n),n}}return this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){s=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(r,e,(function(){return h()})):h()})),l&&this.addTapeNode(r,e,s,n,c,a),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-d,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map((function(t){return e[t].shape})),outputShapes:s.map((function(t){return t.shape}))}),Array.isArray(v)?s:s[0]}},{key:"saveTensorsForBackwardMode",value:function(t){var e=this;return t.map((function(t){return e.keep(e.clone(t))}))}},{key:"getTensorsForGradient",value:function(t,e,n){var r=Object(f.a)(t);if(null!=r){var a,i=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(p.assert(Array.isArray(e),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(e).map((function(t){return e[t]}))):a=i.map((function(t){return e[t]}));var s=n.filter((function(t,e){return o[e]}));return a.concat(s)}return null}},{key:"makeTensor",value:function(t,e,n,r){if(null==t)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=t;"string"===n&&p.isString(t[0])&&(a=t.map((function(t){return p.encodeString(t)})));var i=r.write(a,e,n),o=new y.a(e,n,i,this.nextTensorId());if(this.incRef(o,r),"string"===n){var s=this.state.tensorInfo.get(i),u=Object(p.bytesFromStringArray)(a);this.state.numBytes+=u-s.bytes,s.bytes=u}return o}},{key:"makeTensorFromDataId",value:function(t,e,n,r){n=n||"float32";var a=new y.a(e,n,t,this.nextTensorId());return this.incRef(a,r),a}},{key:"makeVariable",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==t.dtype&&(t=t.asType(r));var a=new y.c(t,e,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"incRef",value:function(t,e){var n=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,"string"===t.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(r=t.size*p.bytesPerElement(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:e||this.backend,dtype:t.dtype,shape:t.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof y.c||this.track(t)}},{key:"disposeTensor",value:function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,"string"===t.dtype&&this.state.numStringTensors--;var e=this.state.tensorInfo.get(t.dataId);e.refCount<=1?("complex64"!==t.dtype&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}}},{key:"disposeVariables",value:function(){for(var t in this.state.registeredVariables){var e=this.state.registeredVariables[t];this.disposeVariable(e)}}},{key:"disposeVariable",value:function(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]}},{key:"memory",value:function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}},{key:"profile",value:function(){var t=Object(s.a)(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,r=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,Object(a.a)(this.state.activeProfile.kernels.map((function(t){return t.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r,t.abrupt("return",this.state.activeProfile);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(t,e,n,r,a,i){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:t,inputs:e,outputs:n,saved:a},u=Object(f.a)(t);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(t){return t=t.map((function(t,e){if(null==t){var r=n[e],a=p.makeZerosTypedArray(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return t})),r(t.length>1?t:t[0],a,i)}),this.state.activeTape.push(s)}},{key:"keep",value:function(t){return t.kept=!0,t}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(t){var e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(e.name=t),this.state.scopeStack.push(e),this.state.activeScope=e}},{key:"endScope",value:function(t){for(var e=this,n=Object(b.getTensorsInContainer)(t),r=new Set(n.map((function(t){return t.id}))),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];i.kept||r.has(i.id)||i.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(t){t.kept||t.scopeId!==o.id||e.track(t)}))}},{key:"gradients",value:function(t,e,n){var a=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(p.assert(e.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var o=this.scopedRun((function(){return a.startTape()}),(function(){return a.endTape()}),(function(){return a.tidy("forward",t)}));p.assert(o instanceof y.a,(function(){return"The result y returned by f() must be a tensor."}));var s=m(this.state.activeTape,e,o);if(!i&&0===s.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var t={};t[o.id]=null==n?O(o.shape):n,g(t,s,(function(t){return a.tidy(t)}));var i=e.map((function(e){return t[e.id]}));return 0===a.state.gradientDepth&&(a.state.activeTape.forEach((function(t){var e,n=Object(r.a)(t.saved);try{for(n.s();!(e=n.n()).done;){e.value.dispose()}}catch(a){n.e(a)}finally{n.f()}})),a.state.activeTape=null),{value:o,grads:i}}))}},{key:"customGrad",value:function(t){var e=this;return p.assert(p.isFunction(t),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i;p.assert(r.every((function(t){return t instanceof y.a})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};return r.forEach((function(t,e){o[e]=t})),e.runKernelFunc((function(e,n){return i=t.apply(void 0,[].concat(r,[n])),p.assert(i.value instanceof y.a,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),p.assert(p.isFunction(i.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),i.value}),o,(function(t,e){var n=i.gradFunc(t,e),a=Array.isArray(n)?n:[n];p.assert(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),p.assert(a.every((function(t){return t instanceof y.a})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(t,e){o[e]=function(){return t}})),o}))}}},{key:"readSync",value:function(t){return this.state.tensorInfo.get(t).backend.readSync(t)}},{key:"read",value:function(t){return this.state.tensorInfo.get(t).backend.read(t)}},{key:"time",value:function(){var t=Object(s.a)(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(p.now)(),t.next=3,this.backend.time(e);case 3:return(r=t.sent).wallMs=Object(p.now)()-n,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"track",value:function(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}},{key:"reset",value:function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new x,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var t=this.initializeBackendsAndReturnBest(),e=t.name;if(t.asyncInit)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}}]),t}();function O(t){var e=Object(p.makeOnesTypedArray)(Object(p.sizeFromShape)(t),"float32");return k.makeTensor(e,t,"float32")}w.nextTensorId=0,w.nextVariableId=0;var k=function(){var t=Object(h.b)();if(null==t._tfengine){var e=new l.a(t);t._tfengine=new w(e)}return Object(l.c)(t._tfengine.ENV),Object(y.f)((function(){return t._tfengine})),t._tfengine}()},function(t,e,n){"use strict";function r(t,e,n,r,a,i,o){try{var s=t[i](o),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var o=t.apply(e,n);function s(t){r(o,a,i,s,u,"next",t)}function u(t){r(o,a,i,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(72);function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(19),a=n(100);function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(32);function s(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?Object(o.a)(t):e}function u(t){return function(){var e,n=Object(r.a)(t);if(Object(a.a)()){var i=Object(r.a)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return s(this,e)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(75);function a(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(r.a)(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,s=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw i}}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(82);var a=n(75);function i(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return b})),n.d(e,"e",(function(){return k})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return m})),n.d(e,"m",(function(){return g})),n.d(e,"n",(function(){return y})),n.d(e,"o",(function(){return x})),n.d(e,"d",(function(){return S})),n.d(e,"p",(function(){return E}));var r=n(11),a=n(23),i=n(7),o=n(2),s=n(36),u=n(8);function c(t,e,n){return l(t,e,Object(i.c)(t,n),n)}function l(t,e,n,i){if(null==i&&(i=Object(o.inferDtype)(t)),"complex64"===i)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Object(o.isTypedArray)(t)&&!Array.isArray(t)&&"number"!==typeof t&&"boolean"!==typeof t&&"string"!==typeof t)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=e){Object(o.assertNonNegativeIntegerDimensions)(e);var s=Object(o.sizeFromShape)(e),u=Object(o.sizeFromShape)(n);Object(o.assert)(s===u,(function(){return"Based on the provided shape, [".concat(e,"], the tensor should have ")+"".concat(s," values but has ").concat(u)}));for(var c=0;c<n.length;++c){var l=n[c],h=c!==n.length-1||l!==Object(o.sizeFromShape)(e.slice(c));Object(o.assert)(n[c]===e[c]||!h,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(e,"). ")}))}}return Object(o.isTypedArray)(t)||Array.isArray(t)||(t=[t]),e=e||n,t="string"!==i?Object(o.toTypedArray)(t,i,Object(a.b)().getBool("DEBUG")):Object(o.flatten)(t,[],!0),r.a.makeTensor(t,e,i)}function h(t,e){if((Object(o.isTypedArray)(t)&&"string"!==e||Array.isArray(t))&&"complex64"!==e)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===e&&Object(o.isTypedArray)(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return l(t,[],[],e)}function f(t,e){Object(o.assertNonNull)(t);var n=Object(i.c)(t,e);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return l(t,null,n,e)}function p(t,e,n){if(Object(o.assertNonNull)(t),null!=e&&2!==e.length)throw new Error("tensor2d() requires shape to have two numbers");var r=Object(i.c)(t,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return l(t,e,r,n)}function d(t,e,n){if(Object(o.assertNonNull)(t),null!=e&&3!==e.length)throw new Error("tensor3d() requires shape to have three numbers");var r=Object(i.c)(t,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return l(t,e,r,n)}function v(t,e,n){if(Object(o.assertNonNull)(t),null!=e&&4!==e.length)throw new Error("tensor4d() requires shape to have four numbers");var r=Object(i.c)(t,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return l(t,e,r,n)}function m(t,e,n){if(Object(o.assertNonNull)(t),null!=e&&5!==e.length)throw new Error("tensor5d() requires shape to have five numbers");var r=Object(i.c)(t,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return l(t,e,r,n)}function g(t,e,n){if(Object(o.assertNonNull)(t),null!=e&&6!==e.length)throw new Error("tensor6d() requires shape to have six numbers");var r=Object(i.c)(t,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==e)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return l(t,e=e||r,r,n)}function y(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return r.a.makeVariable(t,e,n,a)}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===e){var n=b(t,"float32"),a=x(t,"float32");return Object(s.a)(n,a)}var i=Object(o.makeOnesTypedArray)(Object(o.sizeFromShape)(t),e);return r.a.makeTensor(i,t,e)}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===e){var n=x(t,"float32"),a=x(t,"float32");return Object(s.a)(n,a)}var i=Object(o.makeZerosTypedArray)(Object(o.sizeFromShape)(t),e);return r.a.makeTensor(i,t,e)}function w(t,e,n){return r.a.runKernelFunc((function(r){return r.fill(t,e,n)}),{})}function O(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");return r.a.runKernelFunc((function(r){return r.linspace(t,e,n)}),{})}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var a=t===e,i=t<e&&n<0,s=e<t&&n>1;if(a||i||s)return x([0],r);var u=Math.abs(Math.ceil((e-t)/n)),c=Object(o.makeZerosTypedArray)(u,r);e<t&&1===n&&(n=-1),c[0]=t;for(var l=1;l<c.length;l++)c[l]=c[l-1]+n;return f(c,r)}var S=Object(u.a)({onesLike_:function(t){var e=Object(i.a)(t,"x","onesLike");if("complex64"===e.dtype){var n=S(Object(s.c)(e)),a=E(Object(s.b)(e));return Object(s.a)(n,a)}return r.a.runKernelFunc((function(t){return t.onesLike(e)}),{x:e},(function(t,e){return{x:function(){return E(t)}}}),"OnesLike")}}),E=Object(u.a)({zerosLike_:function(t){var e=Object(i.a)(t,"x","zerosLike");return r.a.runKernelFunc((function(t){return t.zerosLike(e)}),{x:e},(function(t,e){return{x:function(){return E(t)}}}),"ZerosLike")}})},function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"f",(function(){return b})),n.d(e,"e",(function(){return x})),n.d(e,"d",(function(){return w})),n.d(e,"a",(function(){return O})),n.d(e,"c",(function(){return k}));var r=n(13),a=n(14),i=n(4),o=n.n(i),s=n(12),u=n(5),c=n(9),l=n(16),h=n(2);function f(t,e,n,r){var a=Object(h.computeStrides)(e),i=function(t,e,n,r){var a=Object(h.sizeFromShape)(e),i=r[r.length-1],o=new Array(i).fill(0),s=e.length,u="complex64"===n?v(t):t;if(s>1)for(var c=0;c<a/i;c++)for(var l=c*i,f=0;f<i;f++)o[f]=Math.max(o[f],p(u[l+f],0,n).length);return o}(t,e,n,a),o=e.length,s=function t(e,n,r,a,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s="complex64"===r?2:1,u=n[0],c=n.length;if(0===c){if("complex64"===r){var h=v(e);return[p(h[0],0,r)]}return"bool"===r?[d(e[0])]:[e[0].toString()]}if(1===c){if(u>20){var f=3*s,m=Array.from(e.slice(0,f)),g=Array.from(e.slice((u-3)*s,u*s));return"complex64"===r&&(m=v(m),g=v(g)),["["+m.map((function(t,e){return p(t,i[e],r)})).join(", ")+", ..., "+g.map((function(t,e){return p(t,i[u-3+e],r)})).join(", ")+"]"]}var y="complex64"===r?v(e):Array.from(e);return["["+y.map((function(t,e){return p(t,i[e],r)})).join(", ")+"]"]}var b=n.slice(1),x=a.slice(1),w=a[0]*s,O=[];if(u>20){for(var k=0;k<3;k++){var S=k*w,E=S+w;O.push.apply(O,Object(l.a)(t(e.slice(S,E),b,r,x,i,!1)))}O.push("...");for(var C=u-3;C<u;C++){var j=C*w,T=j+w;O.push.apply(O,Object(l.a)(t(e.slice(j,T),b,r,x,i,C===u-1)))}}else for(var A=0;A<u;A++){var _=A*w,M=_+w;O.push.apply(O,Object(l.a)(t(e.slice(_,M),b,r,x,i,A===u-1)))}var N=2===c?",":"";O[0]="["+O[0]+N;for(var I=1;I<O.length-1;I++)O[I]=" "+O[I]+N;for(var D=",\n",R=2;R<c;R++)D+="\n";return O[O.length-1]=" "+O[O.length-1]+"]"+(o?"":D),O}(t,e,n,a,i),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(o)),u.push("  shape: [".concat(e,"]")),u.push("  values:")),u.push(s.map((function(t){return"    "+t})).join("\n")),u.join("\n")}function p(t,e,n){var r;return r=Array.isArray(t)?"".concat(parseFloat(t[0].toFixed(7))," + ")+"".concat(parseFloat(t[1].toFixed(7)),"j"):Object(h.isString)(t)?"'".concat(t,"'"):"bool"===n?d(t):parseFloat(t.toFixed(7)).toString(),Object(h.rightPad)(r,e)}function d(t){return 0===t?"false":"true"}function v(t){for(var e=[],n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}var m=function(){function t(e,n,r){var a=this;if(Object(u.a)(this,t),this.dtype=n,this.shape=e.slice(),this.size=h.sizeFromShape(e),null!=r){var i=r.length;h.assert(i===this.size,(function(){return"Length of values '".concat(i,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||h.getArrayFromDType(n,this.size),this.strides=Object(h.computeStrides)(e)}return Object(c.a)(t,[{key:"set",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),h.assert(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(e.rank,")")}));var i=this.locToIndex(r);this.values[i]=t}},{key:"get",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];0===e.length&&(e=[0]);for(var r=0,a=0,i=e;a<i.length;a++){var o=i[a];if(o<0||o>=this.shape[r]){var s="Requested out of range element at ".concat(e,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=e[e.length-1],c=0;c<e.length-1;++c)u+=this.strides[c]*e[c];return this.values[u]}},{key:"locToIndex",value:function(t){if(0===this.rank)return 0;if(1===this.rank)return t[0];for(var e=t[t.length-1],n=0;n<t.length-1;++n)e+=this.strides[n]*t[n];return e}},{key:"indexToLoc",value:function(t){if(0===this.rank)return[];if(1===this.rank)return[t];for(var e=new Array(this.shape.length),n=0;n<e.length-1;++n)e[n]=Math.floor(t/this.strides[n]),t-=e[n]*this.strides[n];return e[e.length-1]=t,e}},{key:"toTensor",value:function(){return g().makeTensor(this.values,this.shape,this.dtype)}},{key:"rank",get:function(){return this.shape.length}}]),t}(),g=null,y=null;function b(t){g=t}function x(t){y=t}function w(t){t}var O=function(){function t(e,n,r,a){Object(u.a)(this,t),this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=h.sizeFromShape(e),this.strides=Object(h.computeStrides)(e),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return Object(c.a)(t,[{key:"flatten",value:function(){return this.throwIfDisposed(),this.as1D()}},{key:"asScalar",value:function(){return this.throwIfDisposed(),h.assert(1===this.size,(function(){return"The array must have only 1 element."})),this.reshape([])}},{key:"as1D",value:function(){return this.throwIfDisposed(),this.reshape([this.size])}},{key:"as2D",value:function(t,e){return this.throwIfDisposed(),this.reshape([t,e])}},{key:"as3D",value:function(t,e,n){return this.throwIfDisposed(),this.reshape([t,e,n])}},{key:"as4D",value:function(t,e,n,r){return this.throwIfDisposed(),this.reshape([t,e,n,r])}},{key:"as5D",value:function(t,e,n,r,a){return this.throwIfDisposed(),this.reshape([t,e,n,r,a])}},{key:"asType",value:function(t){return this.throwIfDisposed(),y.cast(this,t)}},{key:"buffer",value:function(){var t=Object(s.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.data();case 2:return e=t.sent,t.abrupt("return",y.buffer(this.shape,this.dtype,e));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return y.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var t=Object(s.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.data();case 2:return e=t.sent,t.abrupt("return",Object(h.toNestedArray)(this.shape,e));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"arraySync",value:function(){return Object(h.toNestedArray)(this.shape,this.dataSync())}},{key:"data",value:function(){var t=Object(s.a)(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfDisposed(),e=g().read(this.dataId),"string"!==this.dtype){t.next=13;break}return t.next=5,e;case 5:return n=t.sent,t.prev=6,t.abrupt("return",n.map((function(t){return h.decodeString(t)})));case 10:throw t.prev=10,t.t0=t.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,this,[[6,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"dataSync",value:function(){this.throwIfDisposed();var t=g().readSync(this.dataId);if("string"===this.dtype)try{return t.map((function(t){return h.decodeString(t)}))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t}},{key:"bytes",value:function(){var t=Object(s.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfDisposed(),t.next=3,g().read(this.dataId);case 3:if(e=t.sent,"string"!==this.dtype){t.next=8;break}return t.abrupt("return",e);case 8:return t.abrupt("return",new Uint8Array(e.buffer));case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(g().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"toFloat",value:function(){return this.asType("float32")}},{key:"toInt",value:function(){return this.asType("int32")}},{key:"toBool",value:function(){return this.asType("bool")}},{key:"print",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y.print(this,t)}},{key:"reshape",value:function(t){return this.throwIfDisposed(),y.reshape(this,t)}},{key:"reshapeAs",value:function(t){return this.throwIfDisposed(),this.reshape(t.shape)}},{key:"expandDims",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return y.expandDims(this,t)}},{key:"cumsum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y.cumsum(this,t,e,n)}},{key:"squeeze",value:function(t){return this.throwIfDisposed(),y.squeeze(this,t)}},{key:"clone",value:function(){return this.throwIfDisposed(),y.clone(this)}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.dataSync();return f(e,this.shape,this.dtype,t)}},{key:"gather",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.throwIfDisposed(),y.gather(this,t,e)}},{key:"norm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"euclidean",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.throwIfDisposed(),y.norm(this,t,e,n)}},{key:"slice",value:function(t,e){return this.throwIfDisposed(),y.slice(this,t,e)}},{key:"reverse",value:function(t){return this.throwIfDisposed(),y.reverse(this,t)}},{key:"stack",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return y.stack([this,t],e)}},{key:"unstack",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return y.unstack(this,t)}},{key:"all",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.throwIfDisposed(),y.all(this,t,e)}},{key:"any",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.throwIfDisposed(),y.any(this,t,e)}},{key:"logSumExp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.throwIfDisposed(),y.logSumExp(this,t,e)}},{key:"sum",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.throwIfDisposed(),y.sum(this,t,e)}},{key:"prod",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.throwIfDisposed(),y.prod(this,t,e)}},{key:"mean",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.throwIfDisposed(),y.mean(this,t,e)}},{key:"min",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.throwIfDisposed(),y.min(this,t,e)}},{key:"argMin",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.throwIfDisposed(),y.argMin(this,t)}},{key:"argMax",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.throwIfDisposed(),y.argMax(this,t)}},{key:"cast",value:function(t){return this.throwIfDisposed(),y.cast(this,t)}},{key:"addStrict",value:function(t){return this.throwIfDisposed(),y.addStrict(this,t)}},{key:"atan2",value:function(t){return this.throwIfDisposed(),y.atan2(this,t)}},{key:"subStrict",value:function(t){return this.throwIfDisposed(),y.subStrict(this,t)}},{key:"pow",value:function(t){return this.throwIfDisposed(),y.pow(this,t)}},{key:"powStrict",value:function(t){return this.throwIfDisposed(),y.powStrict(this,t)}},{key:"mul",value:function(t){return this.throwIfDisposed(),y.mul(this,t)}},{key:"mulStrict",value:function(t){return this.throwIfDisposed(),y.mulStrict(this,t)}},{key:"floorDiv",value:function(t){return this.throwIfDisposed(),y.floorDiv(this,t)}},{key:"divStrict",value:function(t){return this.throwIfDisposed(),y.divStrict(this,t)}},{key:"minimum",value:function(t){return this.throwIfDisposed(),y.minimum(this,t)}},{key:"minimumStrict",value:function(t){return this.throwIfDisposed(),y.minimumStrict(this,t)}},{key:"maximum",value:function(t){return this.throwIfDisposed(),y.maximum(this,t)}},{key:"maximumStrict",value:function(t){return this.throwIfDisposed(),y.maximumStrict(this,t)}},{key:"mod",value:function(t){return this.throwIfDisposed(),y.mod(this,t)}},{key:"modStrict",value:function(t){return this.throwIfDisposed(),y.modStrict(this,t)}},{key:"squaredDifferenceStrict",value:function(t){return this.throwIfDisposed(),y.squaredDifferenceStrict(this,t)}},{key:"notEqualStrict",value:function(t){return this.throwIfDisposed(),y.notEqualStrict(this,t)}},{key:"lessStrict",value:function(t){return this.throwIfDisposed(),y.lessStrict(this,t)}},{key:"equalStrict",value:function(t){return this.throwIfDisposed(),y.equalStrict(this,t)}},{key:"lessEqualStrict",value:function(t){return this.throwIfDisposed(),y.lessEqualStrict(this,t)}},{key:"greaterStrict",value:function(t){return this.throwIfDisposed(),y.greaterStrict(this,t)}},{key:"greaterEqualStrict",value:function(t){return this.throwIfDisposed(),y.greaterEqualStrict(this,t)}},{key:"logicalAnd",value:function(t){return this.throwIfDisposed(),y.logicalAnd(this,t)}},{key:"logicalOr",value:function(t){return this.throwIfDisposed(),y.logicalOr(this,t)}},{key:"logicalNot",value:function(){return this.throwIfDisposed(),y.logicalNot(this)}},{key:"logicalXor",value:function(t){return this.throwIfDisposed(),y.logicalXor(this,t)}},{key:"where",value:function(t,e){return this.throwIfDisposed(),y.where(t,this,e)}},{key:"neg",value:function(){return this.throwIfDisposed(),y.neg(this)}},{key:"ceil",value:function(){return this.throwIfDisposed(),y.ceil(this)}},{key:"floor",value:function(){return this.throwIfDisposed(),y.floor(this)}},{key:"sign",value:function(){return this.throwIfDisposed(),y.sign(this)}},{key:"isNaN",value:function(){return this.throwIfDisposed(),y.isNaN(this)}},{key:"isInf",value:function(){return this.throwIfDisposed(),y.isInf(this)}},{key:"isFinite",value:function(){return this.throwIfDisposed(),y.isFinite(this)}},{key:"exp",value:function(){return this.throwIfDisposed(),y.exp(this)}},{key:"expm1",value:function(){return this.throwIfDisposed(),y.expm1(this)}},{key:"log",value:function(){return this.throwIfDisposed(),y.log(this)}},{key:"log1p",value:function(){return this.throwIfDisposed(),y.log1p(this)}},{key:"sqrt",value:function(){return this.throwIfDisposed(),y.sqrt(this)}},{key:"rsqrt",value:function(){return this.throwIfDisposed(),y.rsqrt(this)}},{key:"square",value:function(){return this.throwIfDisposed(),y.square(this)}},{key:"reciprocal",value:function(){return this.throwIfDisposed(),y.reciprocal(this)}},{key:"abs",value:function(){return this.throwIfDisposed(),y.abs(this)}},{key:"clipByValue",value:function(t,e){return this.throwIfDisposed(),y.clipByValue(this,t,e)}},{key:"relu",value:function(){return this.throwIfDisposed(),y.relu(this)}},{key:"relu6",value:function(){return this.throwIfDisposed(),y.relu6(this)}},{key:"elu",value:function(){return this.throwIfDisposed(),y.elu(this)}},{key:"selu",value:function(){return this.throwIfDisposed(),y.selu(this)}},{key:"leakyRelu",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2;return this.throwIfDisposed(),y.leakyRelu(this,t)}},{key:"prelu",value:function(t){return this.throwIfDisposed(),y.prelu(this,t)}},{key:"sigmoid",value:function(){return this.throwIfDisposed(),y.sigmoid(this)}},{key:"logSigmoid",value:function(){return this.throwIfDisposed(),y.logSigmoid(this)}},{key:"softplus",value:function(){return this.throwIfDisposed(),y.softplus(this)}},{key:"zerosLike",value:function(){return this.throwIfDisposed(),y.zerosLike(this)}},{key:"onesLike",value:function(){return this.throwIfDisposed(),y.onesLike(this)}},{key:"sin",value:function(){return this.throwIfDisposed(),y.sin(this)}},{key:"cos",value:function(){return this.throwIfDisposed(),y.cos(this)}},{key:"tan",value:function(){return this.throwIfDisposed(),y.tan(this)}},{key:"asin",value:function(){return this.throwIfDisposed(),y.asin(this)}},{key:"acos",value:function(){return this.throwIfDisposed(),y.acos(this)}},{key:"atan",value:function(){return this.throwIfDisposed(),y.atan(this)}},{key:"sinh",value:function(){return this.throwIfDisposed(),y.sinh(this)}},{key:"cosh",value:function(){return this.throwIfDisposed(),y.cosh(this)}},{key:"tanh",value:function(){return this.throwIfDisposed(),y.tanh(this)}},{key:"asinh",value:function(){return this.throwIfDisposed(),y.asinh(this)}},{key:"acosh",value:function(){return this.throwIfDisposed(),y.acosh(this)}},{key:"atanh",value:function(){return this.throwIfDisposed(),y.atanh(this)}},{key:"erf",value:function(){return this.throwIfDisposed(),y.erf(this)}},{key:"round",value:function(){return this.throwIfDisposed(),y.round(this)}},{key:"step",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.throwIfDisposed(),y.step(this,t)}},{key:"softmax",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return this.throwIfDisposed(),y.softmax(this,t)}},{key:"logSoftmax",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return this.throwIfDisposed(),y.logSoftmax(this,t)}},{key:"resizeBilinear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.throwIfDisposed(),y.image.resizeBilinear(this,t,e)}},{key:"resizeNearestNeighbor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.throwIfDisposed(),y.image.resizeNearestNeighbor(this,t,e)}},{key:"avgPool",value:function(t,e,n,r){return this.throwIfDisposed(),y.avgPool(this,t,e,n,r)}},{key:"maxPool",value:function(t,e,n,r){return this.throwIfDisposed(),y.maxPool(this,t,e,n,r)}},{key:"pool",value:function(t,e,n,r,a){return this.throwIfDisposed(),y.pool(this,t,e,n,r,a)}},{key:"variable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),g().makeVariable(this,t,e,n)}},{key:"unsortedSegmentSum",value:function(t,e){return this.throwIfDisposed(),y.unsortedSegmentSum(this,t,e)}},{key:"topk",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.throwIfDisposed(),y.topk(this,t,e)}},{key:"stridedSlice",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return this.throwIfDisposed(),y.stridedSlice(this,t,e,n,r,a,i,o,s)}},{key:"fft",value:function(){return this.throwIfDisposed(),y.spectral.fft(this)}},{key:"ifft",value:function(){return this.throwIfDisposed(),y.spectral.ifft(this)}},{key:"rfft",value:function(){return this.throwIfDisposed(),y.spectral.rfft(this)}},{key:"irfft",value:function(){return this.throwIfDisposed(),y.spectral.irfft(this)}},{key:"rank",get:function(){return this.shape.length}},{key:"isDisposed",get:function(){return this.isDisposedInternal}}]),t}();Object.defineProperty(O,Symbol.hasInstance,{value:function(t){return!!t&&null!=t.dataId&&null!=t.shape&&null!=t.dtype}});var k=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,r,a,i){var o;return Object(u.a)(this,n),(o=e.call(this,t.shape,t.dtype,t.dataId,i)).trainable=r,o.name=a,o}return Object(c.a)(n,[{key:"assign",value:function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(t.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!h.arraysEqual(t.shape,this.shape))throw new Error("shape of the new value (".concat(t.shape,") and ")+"previous value (".concat(this.shape,") must match"));g().disposeTensor(this),this.dataId=t.dataId,g().incRef(this,null)}},{key:"dispose",value:function(){g().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(O);Object.defineProperty(k,Symbol.hasInstance,{value:function(t){return t instanceof O&&null!=t.assign&&t.assign instanceof Function}})},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(19);function a(t,e,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}(t,e);if(a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}},function(t,e,n){var r=n(58),a=n(37);t.exports=function(t){if(!a(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l}));var r=n(10),a=n(5),i=n(9),o=function(){function t(e){Object(a.a)(this,t),this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return Object(i.a)(t,[{key:"setPlatform",value:function(t,e){null!=this.platform&&console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,".")),this.platformName=t,this.platform=e}},{key:"registerFlag",value:function(t,e,n){if(this.flagRegistry[t]={evaluationFn:e,setHook:n},null!=this.urlFlags[t]){var r=this.urlFlags[t];console.warn("Setting feature override from URL ".concat(t,": ").concat(r,".")),this.set(t,r)}}},{key:"get",value:function(t){return t in this.flags||(this.flags[t]=this.evaluateFlag(t)),this.flags[t]}},{key:"getNumber",value:function(t){return this.get(t)}},{key:"getBool",value:function(t){return this.get(t)}},{key:"getFlags",value:function(){return this.flags}},{key:"set",value:function(t,e){if(null==this.flagRegistry[t])throw new Error("Cannot set flag ".concat(t," as it has not been registered."));this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)}},{key:"evaluateFlag",value:function(t){if(null==this.flagRegistry[t])throw new Error("Cannot evaluate flag '".concat(t,"': no evaluation function found."));return this.flagRegistry[t].evaluationFn()}},{key:"setFlags",value:function(t){this.flags=Object.assign({},t)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var t=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var e=function(t){var e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return s(e,r[0],r[1]),r.join("=")})),e}(this.global.location.search);if("tfjsflags"in e)e.tfjsflags.split(",").forEach((function(e){var n=e.split(":"),a=Object(r.a)(n,2),i=a[0],o=a[1];t.urlFlags[i]=function(t,e){if("true"===(e=e.toLowerCase())||"false"===e)return"true"===e;if("".concat(+e)===e)return+e;throw new Error("Could not parse value flag value ".concat(e," for flag ").concat(t,"."))}(i,o)}))}}},{key:"features",get:function(){return this.flags}}]),t}();function s(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function u(){return c}var c=null;function l(t){c=t}},function(t,e,n){"use strict";n.r(e),n.d(e,"makeTypesMatch",(function(){return o})),n.d(e,"assertTypesMatch",(function(){return s})),n.d(e,"isTensorInList",(function(){return u})),n.d(e,"getTensorsInContainer",(function(){return c}));var r=n(18),a=n(56),i=n(2);function o(t,e){if(t.dtype===e.dtype)return[t,e];var n=Object(a.b)(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function s(t,e){Object(i.assert)(t.dtype===e.dtype,(function(){return"The dtypes of the first(".concat(t.dtype,") and")+" second(".concat(e.dtype,") input must match")}))}function u(t,e){return e.some((function(e){return e.id===t.id}))}function c(t){var e=[];return function t(e,n,a){if(null==e)return;if(e instanceof r.a)return void n.push(e);if(i=e,!Array.isArray(i)&&"object"!==typeof i)return;var i;var o=e;for(var s in o){var u=o[s];a.has(u)||(a.add(u),t(u,n,a))}}(t,e,new Set),e}},function(t,e,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&t.push(o)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(a.default=a,t.exports=a):void 0===(r=function(){return a}.apply(e,[]))||(t.exports=r)}()},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(33);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){var r=n(50),a=n(79),i=n(134),o=n(138),s=n(141),u=function t(e,n,u){var c,l,h,f,p=e&t.F,d=e&t.G,v=e&t.P,m=e&t.B,g=d?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,y=d?a:a[n]||(a[n]={}),b=y.prototype||(y.prototype={});for(c in d&&(u=n),u)h=((l=!p&&g&&void 0!==g[c])?g:u)[c],f=m&&l?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,g&&o(g,c,h,e&t.U),y[c]!=h&&i(y,c,f),v&&b[c]!=h&&(b[c]=h)};r.core=a,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function s(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(o(t,e))return!1;return!0}function u(t){return void 0===t}function c(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function f(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,r){return Se(t,e,n,r,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function v(t){if(null==t._isValid){var e=d(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),a=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r);if(t._strict&&(a=a&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return a;t._isValid=a}return t._isValid}function m(t){var e=p(NaN);return null!=t?f(d(e),t):d(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var g=r.momentProperties=[],y=!1;function b(t,e){var n,r,a;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=d(e)),u(e._locale)||(t._locale=e._locale),g.length>0)for(n=0;n<g.length;n++)u(a=e[r=g[n]])||(t[r]=a);return t}function x(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function w(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function O(t){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function k(t,e){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var a,i,s,u=[];for(i=0;i<arguments.length;i++){if(a="","object"===typeof arguments[i]){for(s in a+="\n["+i+"] ",arguments[0])o(arguments[0],s)&&(a+=s+": "+arguments[0][s]+", ");a=a.slice(0,-2)}else a=arguments[i];u.push(a)}O(t+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var S,E={};function C(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),E[t]||(O(e),E[t]=!0)}function j(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t,e){var n,r=f({},t);for(n in e)o(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},f(r[n],t[n]),f(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)o(t,n)&&!o(e,n)&&i(t[n])&&(r[n]=f({},r[n]));return r}function A(t){null!=t&&this.set(t)}function _(t,e,n){var r=""+Math.abs(t),a=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)o(t,e)&&n.push(e);return n};var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},D={};function R(t,e,n,r){var a=r;"string"===typeof r&&(a=function(){return this[r]()}),t&&(D[t]=a),e&&(D[e[0]]=function(){return _(a.apply(this,arguments),e[1],e[2])}),n&&(D[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function P(t,e){return t.isValid()?(e=F(e,t.localeData()),I[e]=I[e]||function(t){var e,n,r,a=t.match(M);for(e=0,n=a.length;e<n;e++)D[a[e]]?a[e]=D[a[e]]:a[e]=(r=a[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,i="";for(r=0;r<n;r++)i+=j(a[r])?a[r].call(e,t):a[r];return i}}(e),I[e](t)):t.localeData().invalidDate()}function F(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(N.lastIndex=0;n>=0&&N.test(t);)t=t.replace(N,r),N.lastIndex=0,n-=1;return t}var L={};function z(t,e){var n=t.toLowerCase();L[n]=L[n+"s"]=L[e]=t}function B(t){return"string"===typeof t?L[t]||L[t.toLowerCase()]:void 0}function W(t){var e,n,r={};for(n in t)o(t,n)&&(e=B(n))&&(r[e]=t[n]);return r}var U={};function V(t,e){U[t]=e}function H(t){return t%4===0&&t%100!==0||t%400===0}function G(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Y(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=G(e)),n}function q(t,e){return function(n){return null!=n?(K(this,t,n),r.updateOffset(this,e),this):X(this,t)}}function X(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function K(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&H(t.year())&&1===t.month()&&29===t.date()?(n=Y(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),wt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var $,J=/\d/,Z=/\d\d/,Q=/\d{3}/,tt=/\d{4}/,et=/[+-]?\d{6}/,nt=/\d\d?/,rt=/\d\d\d\d?/,at=/\d\d\d\d\d\d?/,it=/\d{1,3}/,ot=/\d{1,4}/,st=/[+-]?\d{1,6}/,ut=/\d+/,ct=/[+-]?\d+/,lt=/Z|[+-]\d\d:?\d\d/gi,ht=/Z|[+-]\d\d(?::?\d\d)?/gi,ft=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pt(t,e,n){$[t]=j(e)?e:function(t,r){return t&&n?n:e}}function dt(t,e){return o($,t)?$[t](e._strict,e._locale):new RegExp(vt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,a){return e||n||r||a}))))}function vt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}$={};var mt,gt={};function yt(t,e){var n,r=e;for("string"===typeof t&&(t=[t]),c(e)&&(r=function(t,n){n[e]=Y(t)}),n=0;n<t.length;n++)gt[t[n]]=r}function bt(t,e){yt(t,(function(t,n,r,a){r._w=r._w||{},e(t,r._w,r,a)}))}function xt(t,e,n){null!=e&&o(gt,t)&&gt[t](e,n._a,n,t)}function wt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?H(t)?29:28:31-r%7%2}mt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},R("M",["MM",2],"Mo",(function(){return this.month()+1})),R("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),R("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),z("month","M"),V("month",8),pt("M",nt),pt("MM",nt,Z),pt("MMM",(function(t,e){return e.monthsShortRegex(t)})),pt("MMMM",(function(t,e){return e.monthsRegex(t)})),yt(["M","MM"],(function(t,e){e[1]=Y(t)-1})),yt(["MMM","MMMM"],(function(t,e,n,r){var a=n._locale.monthsParse(t,r,n._strict);null!=a?e[1]=a:d(n).invalidMonth=t}));var Ot="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),kt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),St=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Et=ft,Ct=ft;function jt(t,e,n){var r,a,i,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(a=mt.call(this._shortMonthsParse,o))?a:null:-1!==(a=mt.call(this._longMonthsParse,o))?a:null:"MMM"===e?-1!==(a=mt.call(this._shortMonthsParse,o))||-1!==(a=mt.call(this._longMonthsParse,o))?a:null:-1!==(a=mt.call(this._longMonthsParse,o))||-1!==(a=mt.call(this._shortMonthsParse,o))?a:null}function Tt(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=Y(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),wt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function At(t){return null!=t?(Tt(this,t),r.updateOffset(this,!0),this):X(this,"Month")}function _t(){function t(t,e){return e.length-t.length}var e,n,r=[],a=[],i=[];for(e=0;e<12;e++)n=p([2e3,e]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(t),a.sort(t),i.sort(t),e=0;e<12;e++)r[e]=vt(r[e]),a[e]=vt(a[e]);for(e=0;e<24;e++)i[e]=vt(i[e]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Mt(t){return H(t)?366:365}R("Y",0,0,(function(){var t=this.year();return t<=9999?_(t,4):"+"+t})),R(0,["YY",2],0,(function(){return this.year()%100})),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),z("year","y"),V("year",1),pt("Y",ct),pt("YY",nt,Z),pt("YYYY",ot,tt),pt("YYYYY",st,et),pt("YYYYYY",st,et),yt(["YYYYY","YYYYYY"],0),yt("YYYY",(function(t,e){e[0]=2===t.length?r.parseTwoDigitYear(t):Y(t)})),yt("YY",(function(t,e){e[0]=r.parseTwoDigitYear(t)})),yt("Y",(function(t,e){e[0]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return Y(t)+(Y(t)>68?1900:2e3)};var Nt=q("FullYear",!0);function It(t,e,n,r,a,i,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,a,i,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,a,i,o),s}function Dt(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Rt(t,e,n){var r=7+e-n;return-(7+Dt(t,0,r).getUTCDay()-e)%7+r-1}function Pt(t,e,n,r,a){var i,o,s=1+7*(e-1)+(7+n-r)%7+Rt(t,r,a);return s<=0?o=Mt(i=t-1)+s:s>Mt(t)?(i=t+1,o=s-Mt(t)):(i=t,o=s),{year:i,dayOfYear:o}}function Ft(t,e,n){var r,a,i=Rt(t.year(),e,n),o=Math.floor((t.dayOfYear()-i-1)/7)+1;return o<1?r=o+Lt(a=t.year()-1,e,n):o>Lt(t.year(),e,n)?(r=o-Lt(t.year(),e,n),a=t.year()+1):(a=t.year(),r=o),{week:r,year:a}}function Lt(t,e,n){var r=Rt(t,e,n),a=Rt(t+1,e,n);return(Mt(t)-r+a)/7}function zt(t,e){return t.slice(e,7).concat(t.slice(0,e))}R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),V("week",5),V("isoWeek",5),pt("w",nt),pt("ww",nt,Z),pt("W",nt),pt("WW",nt,Z),bt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=Y(t)})),R("d",0,"do","day"),R("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),R("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),R("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),pt("d",nt),pt("e",nt),pt("E",nt),pt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),pt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),pt("dddd",(function(t,e){return e.weekdaysRegex(t)})),bt(["dd","ddd","dddd"],(function(t,e,n,r){var a=n._locale.weekdaysParse(t,r,n._strict);null!=a?e.d=a:d(n).invalidWeekday=t})),bt(["d","e","E"],(function(t,e,n,r){e[r]=Y(t)}));var Bt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Wt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ut="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Vt=ft,Ht=ft,Gt=ft;function Yt(t,e,n){var r,a,i,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(a=mt.call(this._weekdaysParse,o))?a:null:"ddd"===e?-1!==(a=mt.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=mt.call(this._minWeekdaysParse,o))?a:null:"dddd"===e?-1!==(a=mt.call(this._weekdaysParse,o))||-1!==(a=mt.call(this._shortWeekdaysParse,o))||-1!==(a=mt.call(this._minWeekdaysParse,o))?a:null:"ddd"===e?-1!==(a=mt.call(this._shortWeekdaysParse,o))||-1!==(a=mt.call(this._weekdaysParse,o))||-1!==(a=mt.call(this._minWeekdaysParse,o))?a:null:-1!==(a=mt.call(this._minWeekdaysParse,o))||-1!==(a=mt.call(this._weekdaysParse,o))||-1!==(a=mt.call(this._shortWeekdaysParse,o))?a:null}function qt(){function t(t,e){return e.length-t.length}var e,n,r,a,i,o=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=p([2e3,1]).day(e),r=vt(this.weekdaysMin(n,"")),a=vt(this.weekdaysShort(n,"")),i=vt(this.weekdays(n,"")),o.push(r),s.push(a),u.push(i),c.push(r),c.push(a),c.push(i);o.sort(t),s.sort(t),u.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Kt(t,e){R(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function $t(t,e){return e._meridiemParse}R("H",["HH",2],0,"hour"),R("h",["hh",2],0,Xt),R("k",["kk",2],0,(function(){return this.hours()||24})),R("hmm",0,0,(function(){return""+Xt.apply(this)+_(this.minutes(),2)})),R("hmmss",0,0,(function(){return""+Xt.apply(this)+_(this.minutes(),2)+_(this.seconds(),2)})),R("Hmm",0,0,(function(){return""+this.hours()+_(this.minutes(),2)})),R("Hmmss",0,0,(function(){return""+this.hours()+_(this.minutes(),2)+_(this.seconds(),2)})),Kt("a",!0),Kt("A",!1),z("hour","h"),V("hour",13),pt("a",$t),pt("A",$t),pt("H",nt),pt("h",nt),pt("k",nt),pt("HH",nt,Z),pt("hh",nt,Z),pt("kk",nt,Z),pt("hmm",rt),pt("hmmss",at),pt("Hmm",rt),pt("Hmmss",at),yt(["H","HH"],3),yt(["k","kk"],(function(t,e,n){var r=Y(t);e[3]=24===r?0:r})),yt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),yt(["h","hh"],(function(t,e,n){e[3]=Y(t),d(n).bigHour=!0})),yt("hmm",(function(t,e,n){var r=t.length-2;e[3]=Y(t.substr(0,r)),e[4]=Y(t.substr(r)),d(n).bigHour=!0})),yt("hmmss",(function(t,e,n){var r=t.length-4,a=t.length-2;e[3]=Y(t.substr(0,r)),e[4]=Y(t.substr(r,2)),e[5]=Y(t.substr(a)),d(n).bigHour=!0})),yt("Hmm",(function(t,e,n){var r=t.length-2;e[3]=Y(t.substr(0,r)),e[4]=Y(t.substr(r))})),yt("Hmmss",(function(t,e,n){var r=t.length-4,a=t.length-2;e[3]=Y(t.substr(0,r)),e[4]=Y(t.substr(r,2)),e[5]=Y(t.substr(a))}));var Jt,Zt=q("Hours",!0),Qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ot,monthsShort:kt,week:{dow:0,doy:6},weekdays:Bt,weekdaysMin:Ut,weekdaysShort:Wt,meridiemParse:/[ap]\.?m?\.?/i},te={},ee={};function ne(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function re(t){return t?t.toLowerCase().replace("_","-"):t}function ae(e){var n=null;if(void 0===te[e]&&"undefined"!==typeof t&&t&&t.exports)try{n=Jt._abbr,function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),ie(n)}catch(r){te[e]=null}return te[e]}function ie(t,e){var n;return t&&((n=u(e)?se(t):oe(t,e))?Jt=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Jt._abbr}function oe(t,e){if(null!==e){var n,r=Qt;if(e.abbr=t,null!=te[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=te[t]._config;else if(null!=e.parentLocale)if(null!=te[e.parentLocale])r=te[e.parentLocale]._config;else{if(null==(n=ae(e.parentLocale)))return ee[e.parentLocale]||(ee[e.parentLocale]=[]),ee[e.parentLocale].push({name:t,config:e}),null;r=n._config}return te[t]=new A(T(r,e)),ee[t]&&ee[t].forEach((function(t){oe(t.name,t.config)})),ie(t),te[t]}return delete te[t],null}function se(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Jt;if(!a(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,n,r,a,i=0;i<t.length;){for(e=(a=re(t[i]).split("-")).length,n=(n=re(t[i+1]))?n.split("-"):null;e>0;){if(r=ae(a.slice(0,e).join("-")))return r;if(n&&n.length>=e&&ne(a,n)>=e-1)break;e--}i++}return Jt}(t)}function ue(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>wt(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,d(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),d(t)._overflowWeeks&&-1===e&&(e=7),d(t)._overflowWeekday&&-1===e&&(e=8),d(t).overflow=e),t}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,le=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,he=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],de=/^\/?Date\((-?\d+)/i,ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,me={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ge(t){var e,n,r,a,i,o,s=t._i,u=ce.exec(s)||le.exec(s);if(u){for(d(t).iso=!0,e=0,n=fe.length;e<n;e++)if(fe[e][1].exec(u[1])){a=fe[e][0],r=!1!==fe[e][2];break}if(null==a)return void(t._isValid=!1);if(u[3]){for(e=0,n=pe.length;e<n;e++)if(pe[e][1].exec(u[3])){i=(u[2]||" ")+pe[e][0];break}if(null==i)return void(t._isValid=!1)}if(!r&&null!=i)return void(t._isValid=!1);if(u[4]){if(!he.exec(u[4]))return void(t._isValid=!1);o="Z"}t._f=a+(i||"")+(o||""),Oe(t)}else t._isValid=!1}function ye(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function be(t){var e,n=ve.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(n){if(e=function(t,e,n,r,a,i){var o=[ye(t),kt.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return i&&o.push(parseInt(i,10)),o}(n[4],n[3],n[2],n[5],n[6],n[7]),!function(t,e,n){return!t||Wt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(d(n).weekdayMismatch=!0,n._isValid=!1,!1)}(n[1],e,t))return;t._a=e,t._tzm=function(t,e,n){if(t)return me[t];if(e)return 0;var r=parseInt(n,10),a=r%100;return(r-a)/100*60+a}(n[8],n[9],n[10]),t._d=Dt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function xe(t,e,n){return null!=t?t:null!=e?e:n}function we(t){var e,n,a,i,o,s=[];if(!t._d){for(a=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,a,i,o,s,u,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(i=1,o=4,n=xe(e.GG,t._a[0],Ft(Ee(),1,4).year),r=xe(e.W,1),((a=xe(e.E,1))<1||a>7)&&(u=!0)):(i=t._locale._week.dow,o=t._locale._week.doy,c=Ft(Ee(),i,o),n=xe(e.gg,t._a[0],c.year),r=xe(e.w,c.week),null!=e.d?((a=e.d)<0||a>6)&&(u=!0):null!=e.e?(a=e.e+i,(e.e<0||e.e>6)&&(u=!0)):a=i),r<1||r>Lt(n,i,o)?d(t)._overflowWeeks=!0:null!=u?d(t)._overflowWeekday=!0:(s=Pt(n,r,a,i,o),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=xe(t._a[0],a[0]),(t._dayOfYear>Mt(o)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),n=Dt(o,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=a[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Dt:It).apply(null,s),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==i&&(d(t).weekdayMismatch=!0)}}function Oe(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],d(t).empty=!0;var e,n,a,i,o,s,u=""+t._i,c=u.length,l=0;for(a=F(t._f,t._locale).match(M)||[],e=0;e<a.length;e++)i=a[e],(n=(u.match(dt(i,t))||[])[0])&&((o=u.substr(0,u.indexOf(n))).length>0&&d(t).unusedInput.push(o),u=u.slice(u.indexOf(n)+n.length),l+=n.length),D[i]?(n?d(t).empty=!1:d(t).unusedTokens.push(i),xt(i,n,t)):t._strict&&!n&&d(t).unusedTokens.push(i);d(t).charsLeftOver=c-l,u.length>0&&d(t).unusedInput.push(u),t._a[3]<=12&&!0===d(t).bigHour&&t._a[3]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(s=d(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),we(t),ue(t)}else be(t);else ge(t)}function ke(t){var e=t._i,n=t._f;return t._locale=t._locale||se(t._l),null===e||void 0===n&&""===e?m({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new x(ue(e)):(l(e)?t._d=e:a(n)?function(t){var e,n,r,a,i,o,s=!1;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(a=0;a<t._f.length;a++)i=0,o=!1,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[a],Oe(e),v(e)&&(o=!0),i+=d(e).charsLeftOver,i+=10*d(e).unusedTokens.length,d(e).score=i,s?i<r&&(r=i,n=e):(null==r||i<r||o)&&(r=i,n=e,o&&(s=!0));f(t,n||e)}(t):n?Oe(t):function(t){var e=t._i;u(e)?t._d=new Date(r.now()):l(e)?t._d=new Date(e.valueOf()):"string"===typeof e?function(t){var e=de.exec(t._i);null===e?(ge(t),!1===t._isValid&&(delete t._isValid,be(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):a(e)?(t._a=h(e.slice(0),(function(t){return parseInt(t,10)})),we(t)):i(e)?function(t){if(!t._d){var e=W(t._i),n=void 0===e.day?e.date:e.day;t._a=h([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),we(t)}}(t):c(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),v(t)||(t._d=null),t))}function Se(t,e,n,r,o){var u={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(i(t)&&s(t)||a(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=n,u._i=t,u._f=e,u._strict=r,function(t){var e=new x(ue(ke(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}(u)}function Ee(t,e,n,r){return Se(t,e,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Ce=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()})),je=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}));function Te(t,e){var n,r;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return Ee();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _e(t){var e=W(t),n=e.year||0,r=e.quarter||0,a=e.month||0,i=e.week||e.isoWeek||0,s=e.day||0,u=e.hour||0,c=e.minute||0,l=e.second||0,h=e.millisecond||0;this._isValid=function(t){var e,n,r=!1;for(e in t)if(o(t,e)&&(-1===mt.call(Ae,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<Ae.length;++n)if(t[Ae[n]]){if(r)return!1;parseFloat(t[Ae[n]])!==Y(t[Ae[n]])&&(r=!0)}return!0}(e),this._milliseconds=+h+1e3*l+6e4*c+1e3*u*60*60,this._days=+s+7*i,this._months=+a+3*r+12*n,this._data={},this._locale=se(),this._bubble()}function Me(t){return t instanceof _e}function Ne(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,e){R(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+_(~~(t/60),2)+e+_(~~t%60,2)}))}Ie("Z",":"),Ie("ZZ",""),pt("Z",ht),pt("ZZ",ht),yt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Re(ht,t)}));var De=/([\+\-]|\d\d)/gi;function Re(t,e){var n,r,a=(e||"").match(t);return null===a?null:0===(r=60*(n=((a[a.length-1]||[])+"").match(De)||["-",0,0])[1]+Y(n[2]))?0:"+"===n[0]?r:-r}function Pe(t,e){var n,a;return e._isUTC?(n=e.clone(),a=(w(t)||l(t)?t.valueOf():Ee(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),r.updateOffset(n,!1),n):Ee(t).local()}function Fe(t){return-Math.round(t._d.getTimezoneOffset())}function Le(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var ze=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Be=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function We(t,e){var n,r,a,i=t,s=null;return Me(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(s=ze.exec(t))?(n="-"===s[1]?-1:1,i={y:0,d:Y(s[2])*n,h:Y(s[3])*n,m:Y(s[4])*n,s:Y(s[5])*n,ms:Y(Ne(1e3*s[6]))*n}):(s=Be.exec(t))?(n="-"===s[1]?-1:1,i={y:Ue(s[2],n),M:Ue(s[3],n),w:Ue(s[4],n),d:Ue(s[5],n),h:Ue(s[6],n),m:Ue(s[7],n),s:Ue(s[8],n)}):null==i?i={}:"object"===typeof i&&("from"in i||"to"in i)&&(a=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Pe(e,t),t.isBefore(e)?n=Ve(t,e):((n=Ve(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Ee(i.from),Ee(i.to)),(i={}).ms=a.milliseconds,i.M=a.months),r=new _e(i),Me(t)&&o(t,"_locale")&&(r._locale=t._locale),Me(t)&&o(t,"_isValid")&&(r._isValid=t._isValid),r}function Ue(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ve(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function He(t,e){return function(n,r){var a;return null===r||isNaN(+r)||(C(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),Ge(this,We(n,r),t),this}}function Ge(t,e,n,a){var i=e._milliseconds,o=Ne(e._days),s=Ne(e._months);t.isValid()&&(a=null==a||a,s&&Tt(t,X(t,"Month")+s*n),o&&K(t,"Date",X(t,"Date")+o*n),i&&t._d.setTime(t._d.valueOf()+i*n),a&&r.updateOffset(t,o||s))}We.fn=_e.prototype,We.invalid=function(){return We(NaN)};var Ye=He(1,"add"),qe=He(-1,"subtract");function Xe(t){return"string"===typeof t||t instanceof String}function Ke(t){return w(t)||l(t)||Xe(t)||c(t)||function(t){var e=a(t),n=!1;return e&&(n=0===t.filter((function(e){return!c(e)&&Xe(t)})).length),e&&n}(t)||function(t){var e,n,r=i(t)&&!s(t),a=!1,u=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<u.length;e+=1)n=u[e],a=a||o(t,n);return r&&a}(t)||null===t||void 0===t}function $e(t){var e,n=i(t)&&!s(t),r=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<a.length;e+=1)r=r||o(t,a[e]);return n&&r}function Je(t,e){if(t.date()<e.date())return-Je(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Ze(t){var e;return void 0===t?this._locale._abbr:(null!=(e=se(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function tn(){return this._locale}function en(t,e){return(t%e+e)%e}function nn(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function rn(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function an(t,e){return e.erasAbbrRegex(t)}function on(){var t,e,n=[],r=[],a=[],i=[],o=this.eras();for(t=0,e=o.length;t<e;++t)r.push(vt(o[t].name)),n.push(vt(o[t].abbr)),a.push(vt(o[t].narrow)),i.push(vt(o[t].name)),i.push(vt(o[t].abbr)),i.push(vt(o[t].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function sn(t,e){R(0,[t,t.length],0,e)}function un(t,e,n,r,a){var i;return null==t?Ft(this,r,a).year:(e>(i=Lt(t,r,a))&&(e=i),cn.call(this,t,e,n,r,a))}function cn(t,e,n,r,a){var i=Pt(t,e,n,r,a),o=Dt(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}R("N",0,0,"eraAbbr"),R("NN",0,0,"eraAbbr"),R("NNN",0,0,"eraAbbr"),R("NNNN",0,0,"eraName"),R("NNNNN",0,0,"eraNarrow"),R("y",["y",1],"yo","eraYear"),R("y",["yy",2],0,"eraYear"),R("y",["yyy",3],0,"eraYear"),R("y",["yyyy",4],0,"eraYear"),pt("N",an),pt("NN",an),pt("NNN",an),pt("NNNN",(function(t,e){return e.erasNameRegex(t)})),pt("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),yt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var a=n._locale.erasParse(t,r,n._strict);a?d(n).era=a:d(n).invalidEra=t})),pt("y",ut),pt("yy",ut),pt("yyy",ut),pt("yyyy",ut),pt("yo",(function(t,e){return e._eraYearOrdinalRegex||ut})),yt(["y","yy","yyy","yyyy"],0),yt(["yo"],(function(t,e,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[0]=n._locale.eraYearOrdinalParse(t,a):e[0]=parseInt(t,10)})),R(0,["gg",2],0,(function(){return this.weekYear()%100})),R(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),sn("gggg","weekYear"),sn("ggggg","weekYear"),sn("GGGG","isoWeekYear"),sn("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),pt("G",ct),pt("g",ct),pt("GG",nt,Z),pt("gg",nt,Z),pt("GGGG",ot,tt),pt("gggg",ot,tt),pt("GGGGG",st,et),pt("ggggg",st,et),bt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=Y(t)})),bt(["gg","GG"],(function(t,e,n,a){e[a]=r.parseTwoDigitYear(t)})),R("Q",0,"Qo","quarter"),z("quarter","Q"),V("quarter",7),pt("Q",J),yt("Q",(function(t,e){e[1]=3*(Y(t)-1)})),R("D",["DD",2],"Do","date"),z("date","D"),V("date",9),pt("D",nt),pt("DD",nt,Z),pt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),yt(["D","DD"],2),yt("Do",(function(t,e){e[2]=Y(t.match(nt)[0])}));var ln=q("Date",!0);R("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),V("dayOfYear",4),pt("DDD",it),pt("DDDD",Q),yt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=Y(t)})),R("m",["mm",2],0,"minute"),z("minute","m"),V("minute",14),pt("m",nt),pt("mm",nt,Z),yt(["m","mm"],4);var hn=q("Minutes",!1);R("s",["ss",2],0,"second"),z("second","s"),V("second",15),pt("s",nt),pt("ss",nt,Z),yt(["s","ss"],5);var fn,pn,dn=q("Seconds",!1);for(R("S",0,0,(function(){return~~(this.millisecond()/100)})),R(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),R(0,["SSS",3],0,"millisecond"),R(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),R(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),R(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),R(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),R(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),R(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),z("millisecond","ms"),V("millisecond",16),pt("S",it,J),pt("SS",it,Z),pt("SSS",it,Q),fn="SSSS";fn.length<=9;fn+="S")pt(fn,ut);function vn(t,e){e[6]=Y(1e3*("0."+t))}for(fn="S";fn.length<=9;fn+="S")yt(fn,vn);pn=q("Milliseconds",!1),R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var mn=x.prototype;function gn(t){return t}mn.add=Ye,mn.calendar=function(t,e){1===arguments.length&&(Ke(arguments[0])?(t=arguments[0],e=void 0):$e(arguments[0])&&(e=arguments[0],t=void 0));var n=t||Ee(),a=Pe(n,this).startOf("day"),i=r.calendarFormat(this,a)||"sameElse",o=e&&(j(e[i])?e[i].call(this,n):e[i]);return this.format(o||this.localeData().calendar(i,this,Ee(n)))},mn.clone=function(){return new x(this)},mn.diff=function(t,e,n){var r,a,i;if(!this.isValid())return NaN;if(!(r=Pe(t,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),e=B(e)){case"year":i=Je(this,r)/12;break;case"month":i=Je(this,r);break;case"quarter":i=Je(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:G(i)},mn.endOf=function(t){var e,n;if(void 0===(t=B(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?rn:nn,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-en(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-en(e,1e3)-1}return this._d.setTime(e),r.updateOffset(this,!0),this},mn.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=P(this,t);return this.localeData().postformat(e)},mn.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Ee(t).isValid())?We({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},mn.fromNow=function(t){return this.from(Ee(),t)},mn.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Ee(t).isValid())?We({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},mn.toNow=function(t){return this.to(Ee(),t)},mn.get=function(t){return j(this[t=B(t)])?this[t]():this},mn.invalidAt=function(){return d(this).overflow},mn.isAfter=function(t,e){var n=w(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=B(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},mn.isBefore=function(t,e){var n=w(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=B(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},mn.isBetween=function(t,e,n,r){var a=w(t)?t:Ee(t),i=w(e)?e:Ee(e);return!!(this.isValid()&&a.isValid()&&i.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n)))},mn.isSame=function(t,e){var n,r=w(t)?t:Ee(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=B(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},mn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},mn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},mn.isValid=function(){return v(this)},mn.lang=Qe,mn.locale=Ze,mn.localeData=tn,mn.max=je,mn.min=Ce,mn.parsingFlags=function(){return f({},d(this))},mn.set=function(t,e){if("object"===typeof t){var n,r=function(t){var e,n=[];for(e in t)o(t,e)&&n.push({unit:e,priority:U[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}(t=W(t));for(n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit])}else if(j(this[t=B(t)]))return this[t](e);return this},mn.startOf=function(t){var e,n;if(void 0===(t=B(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?rn:nn,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=en(e,6e4);break;case"second":e=this._d.valueOf(),e-=en(e,1e3)}return this._d.setTime(e),r.updateOffset(this,!0),this},mn.subtract=qe,mn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},mn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},mn.toDate=function(){return new Date(this.valueOf())},mn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?P(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):j(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",P(n,"Z")):P(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},mn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r="moment",a="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),t="["+r+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=a+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!==typeof Symbol&&null!=Symbol.for&&(mn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),mn.toJSON=function(){return this.isValid()?this.toISOString():null},mn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},mn.unix=function(){return Math.floor(this.valueOf()/1e3)},mn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},mn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},mn.eraName=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""},mn.eraNarrow=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""},mn.eraAbbr=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""},mn.eraYear=function(){var t,e,n,a,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,a=this.startOf("day").valueOf(),i[t].since<=a&&a<=i[t].until||i[t].until<=a&&a<=i[t].since)return(this.year()-r(i[t].since).year())*n+i[t].offset;return this.year()},mn.year=Nt,mn.isLeapYear=function(){return H(this.year())},mn.weekYear=function(t){return un.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},mn.isoWeekYear=function(t){return un.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},mn.quarter=mn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},mn.month=At,mn.daysInMonth=function(){return wt(this.year(),this.month())},mn.week=mn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},mn.isoWeek=mn.isoWeeks=function(t){var e=Ft(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},mn.weeksInYear=function(){var t=this.localeData()._week;return Lt(this.year(),t.dow,t.doy)},mn.weeksInWeekYear=function(){var t=this.localeData()._week;return Lt(this.weekYear(),t.dow,t.doy)},mn.isoWeeksInYear=function(){return Lt(this.year(),1,4)},mn.isoWeeksInISOWeekYear=function(){return Lt(this.isoWeekYear(),1,4)},mn.date=ln,mn.day=mn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!==typeof t?t:isNaN(t)?"number"===typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},mn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},mn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},mn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},mn.hour=mn.hours=Zt,mn.minute=mn.minutes=hn,mn.second=mn.seconds=dn,mn.millisecond=mn.milliseconds=pn,mn.utcOffset=function(t,e,n){var a,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=Re(ht,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(a=Fe(this)),this._offset=t,this._isUTC=!0,null!=a&&this.add(a,"m"),i!==t&&(!e||this._changeInProgress?Ge(this,We(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Fe(this)},mn.utc=function(t){return this.utcOffset(0,t)},mn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},mn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=Re(lt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},mn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ee(t).utcOffset():0,(this.utcOffset()-t)%60===0)},mn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},mn.isLocal=function(){return!!this.isValid()&&!this._isUTC},mn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},mn.isUtc=Le,mn.isUTC=Le,mn.zoneAbbr=function(){return this._isUTC?"UTC":""},mn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},mn.dates=k("dates accessor is deprecated. Use date instead.",ln),mn.months=k("months accessor is deprecated. Use month instead",At),mn.years=k("years accessor is deprecated. Use year instead",Nt),mn.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),mn.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return b(e,this),(e=ke(e))._a?(t=e._isUTC?p(e._a):Ee(e._a),this._isDSTShifted=this.isValid()&&function(t,e,n){var r,a=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0;for(r=0;r<a;r++)(n&&t[r]!==e[r]||!n&&Y(t[r])!==Y(e[r]))&&o++;return o+i}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var yn=A.prototype;function bn(t,e,n,r){var a=se(),i=p().set(r,e);return a[n](i,t)}function xn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return bn(t,e,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=bn(t,r,n,"month");return a}function wn(t,e,n,r){"boolean"===typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var a,i=se(),o=t?i._week.dow:0,s=[];if(null!=n)return bn(e,(n+o)%7,r,"day");for(a=0;a<7;a++)s[a]=bn(e,(a+o)%7,r,"day");return s}yn.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return j(r)?r.call(e,n):r},yn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(M).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(t){return this._ordinal.replace("%d",t)},yn.preparse=gn,yn.postformat=gn,yn.relativeTime=function(t,e,n,r){var a=this._relativeTime[n];return j(a)?a(t,e,n,r):a.replace(/%d/i,t)},yn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return j(n)?n(e):n.replace(/%s/i,e)},yn.set=function(t){var e,n;for(n in t)o(t,n)&&(j(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.eras=function(t,e){var n,a,i,o=this._eras||se("en")._eras;for(n=0,a=o.length;n<a;++n){switch(typeof o[n].since){case"string":i=r(o[n].since).startOf("day"),o[n].since=i.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=r(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf()}}return o},yn.erasParse=function(t,e,n){var r,a,i,o,s,u=this.eras();for(t=t.toUpperCase(),r=0,a=u.length;r<a;++r)if(i=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return u[r];break;case"NNNN":if(i===t)return u[r];break;case"NNNNN":if(s===t)return u[r]}else if([i,o,s].indexOf(t)>=0)return u[r]},yn.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n},yn.erasAbbrRegex=function(t){return o(this,"_erasAbbrRegex")||on.call(this),t?this._erasAbbrRegex:this._erasRegex},yn.erasNameRegex=function(t){return o(this,"_erasNameRegex")||on.call(this),t?this._erasNameRegex:this._erasRegex},yn.erasNarrowRegex=function(t){return o(this,"_erasNarrowRegex")||on.call(this),t?this._erasNarrowRegex:this._erasRegex},yn.months=function(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||St).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone},yn.monthsShort=function(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[St.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(t,e,n){var r,a,i;if(this._monthsParseExact)return jt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},yn.monthsRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||_t.call(this),t?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Ct),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(t){return this._monthsParseExact?(o(this,"_monthsRegex")||_t.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Et),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(t){return Ft(t,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(t,e){var n=a(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?zt(n,this._week.dow):t?n[t.day()]:n},yn.weekdaysMin=function(t){return!0===t?zt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},yn.weekdaysShort=function(t){return!0===t?zt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},yn.weekdaysParse=function(t,e,n){var r,a,i;if(this._weekdaysParseExact)return Yt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},yn.weekdaysRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Vt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ht),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},yn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},ie("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===Y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",ie),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",se);var On=Math.abs;function kn(t,e,n,r){var a=We(e,n);return t._milliseconds+=r*a._milliseconds,t._days+=r*a._days,t._months+=r*a._months,t._bubble()}function Sn(t){return t<0?Math.floor(t):Math.ceil(t)}function En(t){return 4800*t/146097}function Cn(t){return 146097*t/4800}function jn(t){return function(){return this.as(t)}}var Tn=jn("ms"),An=jn("s"),_n=jn("m"),Mn=jn("h"),Nn=jn("d"),In=jn("w"),Dn=jn("M"),Rn=jn("Q"),Pn=jn("y");function Fn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ln=Fn("milliseconds"),zn=Fn("seconds"),Bn=Fn("minutes"),Wn=Fn("hours"),Un=Fn("days"),Vn=Fn("months"),Hn=Fn("years"),Gn=Math.round,Yn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qn(t,e,n,r,a){return a.relativeTime(e||1,!!n,t,r)}var Xn=Math.abs;function Kn(t){return(t>0)-(t<0)||+t}function $n(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,a,i,o,s,u=Xn(this._milliseconds)/1e3,c=Xn(this._days),l=Xn(this._months),h=this.asSeconds();return h?(t=G(u/60),e=G(t/60),u%=60,t%=60,n=G(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",a=h<0?"-":"",i=Kn(this._months)!==Kn(h)?"-":"",o=Kn(this._days)!==Kn(h)?"-":"",s=Kn(this._milliseconds)!==Kn(h)?"-":"",a+"P"+(n?i+n+"Y":"")+(l?i+l+"M":"")+(c?o+c+"D":"")+(e||t||u?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(u?s+r+"S":"")):"P0D"}var Jn=_e.prototype;return Jn.isValid=function(){return this._isValid},Jn.abs=function(){var t=this._data;return this._milliseconds=On(this._milliseconds),this._days=On(this._days),this._months=On(this._months),t.milliseconds=On(t.milliseconds),t.seconds=On(t.seconds),t.minutes=On(t.minutes),t.hours=On(t.hours),t.months=On(t.months),t.years=On(t.years),this},Jn.add=function(t,e){return kn(this,t,e,1)},Jn.subtract=function(t,e){return kn(this,t,e,-1)},Jn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=B(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+En(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Cn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Jn.asMilliseconds=Tn,Jn.asSeconds=An,Jn.asMinutes=_n,Jn.asHours=Mn,Jn.asDays=Nn,Jn.asWeeks=In,Jn.asMonths=Dn,Jn.asQuarters=Rn,Jn.asYears=Pn,Jn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Y(this._months/12):NaN},Jn._bubble=function(){var t,e,n,r,a,i=this._milliseconds,o=this._days,s=this._months,u=this._data;return i>=0&&o>=0&&s>=0||i<=0&&o<=0&&s<=0||(i+=864e5*Sn(Cn(s)+o),o=0,s=0),u.milliseconds=i%1e3,t=G(i/1e3),u.seconds=t%60,e=G(t/60),u.minutes=e%60,n=G(e/60),u.hours=n%24,o+=G(n/24),a=G(En(o)),s+=a,o-=Sn(Cn(a)),r=G(s/12),s%=12,u.days=o,u.months=s,u.years=r,this},Jn.clone=function(){return We(this)},Jn.get=function(t){return t=B(t),this.isValid()?this[t+"s"]():NaN},Jn.milliseconds=Ln,Jn.seconds=zn,Jn.minutes=Bn,Jn.hours=Wn,Jn.days=Un,Jn.weeks=function(){return G(this.days()/7)},Jn.months=Vn,Jn.years=Hn,Jn.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,a=!1,i=Yn;return"object"===typeof t&&(e=t,t=!1),"boolean"===typeof t&&(a=t),"object"===typeof e&&(i=Object.assign({},Yn,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),n=this.localeData(),r=function(t,e,n,r){var a=We(t).abs(),i=Gn(a.as("s")),o=Gn(a.as("m")),s=Gn(a.as("h")),u=Gn(a.as("d")),c=Gn(a.as("M")),l=Gn(a.as("w")),h=Gn(a.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(f=f||l<=1&&["w"]||l<n.w&&["ww",l]),(f=f||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=e,f[3]=+t>0,f[4]=r,qn.apply(null,f)}(this,!a,i,n),a&&(r=n.pastFuture(+this,r)),n.postformat(r)},Jn.toISOString=$n,Jn.toString=$n,Jn.toJSON=$n,Jn.locale=Ze,Jn.localeData=tn,Jn.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",$n),Jn.lang=Qe,R("X",0,0,"unix"),R("x",0,0,"valueOf"),pt("x",ct),pt("X",/[+-]?\d+(\.\d{1,3})?/),yt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),yt("x",(function(t,e,n){n._d=new Date(Y(t))})),r.version="2.26.0",e=Ee,r.fn=mn,r.min=function(){var t=[].slice.call(arguments,0);return Te("isBefore",t)},r.max=function(){var t=[].slice.call(arguments,0);return Te("isAfter",t)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(t){return Ee(1e3*t)},r.months=function(t,e){return xn(t,e,"months")},r.isDate=l,r.locale=ie,r.invalid=m,r.duration=We,r.isMoment=w,r.weekdays=function(t,e,n){return wn(t,e,n,"weekdays")},r.parseZone=function(){return Ee.apply(null,arguments).parseZone()},r.localeData=se,r.isDuration=Me,r.monthsShort=function(t,e){return xn(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return wn(t,e,n,"weekdaysMin")},r.defineLocale=oe,r.updateLocale=function(t,e){if(null!=e){var n,r,a=Qt;null!=te[t]&&null!=te[t].parentLocale?te[t].set(T(te[t]._config,e)):(null!=(r=ae(t))&&(a=r._config),e=T(a,e),null==r&&(e.abbr=t),(n=new A(e)).parentLocale=te[t],te[t]=n),ie(t)}else null!=te[t]&&(null!=te[t].parentLocale?(te[t]=te[t].parentLocale,t===ie()&&ie(t)):null!=te[t]&&delete te[t]);return te[t]},r.locales=function(){return S(te)},r.weekdaysShort=function(t,e,n){return wn(t,e,n,"weekdaysShort")},r.normalizeUnits=B,r.relativeTimeRounding=function(t){return void 0===t?Gn:"function"===typeof t&&(Gn=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==Yn[t]&&(void 0===e?Yn[t]:(Yn[t]=e,"s"===t&&(Yn.ss=e-1),!0))},r.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=mn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(46)(t))},function(t,e,n){"use strict";(function(t){n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return f})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return g})),n.d(e,"d",(function(){return y})),n.d(e,"c",(function(){return b})),n.d(e,"g",(function(){return x}));var r=n(4),a=n.n(r),i=n(15),o=n(12),s=n(17),u=n(2),c=n(84);function l(t,e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(a.a.mark((function t(e,n){var r,i,s,u,c,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],i=[],s=Array.isArray(e)?e.map((function(t){return t.name})):Object.keys(e),u=function(t){var u=s[t],c=Array.isArray(e)?e[t].tensor:e[u];if("float32"!==c.dtype&&"int32"!==c.dtype&&"bool"!==c.dtype&&"string"!==c.dtype)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c.dtype));var l={name:u,shape:c.shape,dtype:c.dtype};if("string"===c.dtype){var h=new Promise(function(){var t=Object(o.a)(a.a.mark((function t(e){var n,r,i,o,s,u,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.bytes();case 2:for(n=t.sent,r=n.reduce((function(t,e){return t+e.length}),0)+4*n.length,i=new Uint8Array(r),o=0,s=0;s<n.length;s++)u=n[s],l=new Uint8Array(new Uint32Array([u.length]).buffer),i.set(l,o),o+=4,i.set(u,o),o+=u.length;e(i);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());i.push(h)}else i.push(c.data());null!=n&&(l.group=n),r.push(l)},c=0;c<s.length;++c)u(c);return t.next=7,Promise.all(i);case 7:return l=t.sent,t.abrupt("return",{data:p(l),specs:r});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,e){var n,r={},a=0,o=Object(i.a)(e);try{for(o.s();!(n=o.n()).done;){var l=n.value,h=l.name,f=l.dtype,p=l.shape,d=Object(u.sizeFromShape)(p),v=void 0;if("quantization"in l){var m=l.quantization;if("uint8"!==m.dtype&&"uint16"!==m.dtype)throw new Error("Weight ".concat(l.name," has unknown ")+"quantization dtype ".concat(m.dtype,". ")+"Supported quantization dtypes are: 'uint8' and 'uint16'.");var g=c.a[m.dtype],y=t.slice(a,a+d*g),b="uint8"===m.dtype?new Uint8Array(y):new Uint16Array(y);if("float32"===f){v=new Float32Array(b.length);for(var x=0;x<b.length;x++){var w=b[x];v[x]=w*m.scale+m.min}}else{if("int32"!==f)throw new Error("Unsupported dtype in weight '".concat(h,"': ").concat(f));v=new Int32Array(b.length);for(var O=0;O<b.length;O++){var k=b[O];v[O]=Math.round(k*m.scale+m.min)}}a+=d*g}else if("string"===f){var S=Object(u.sizeFromShape)(l.shape);v=[];for(var E=0;E<S;E++){var C=new Uint32Array(t.slice(a,a+4))[0];a+=4;var j=new Uint8Array(t.slice(a,a+C));v.push(j),a+=C}}else{var T=c.a[f],A=t.slice(a,a+d*T);if("float32"===f)v=new Float32Array(A);else if("int32"===f)v=new Int32Array(A);else{if("bool"!==f)throw new Error("Unsupported dtype in weight '".concat(h,"': ").concat(f));v=new Uint8Array(A)}a+=d*T}r[h]=Object(s.g)(v,p,f)}}catch(_){o.e(_)}finally{o.f()}return r}function p(t){if(null===t)throw new Error("Invalid input value: ".concat(JSON.stringify(t)));var e=0,n=[];t.forEach((function(t){if(e+=t.byteLength,n.push(t.byteLength===t.buffer.byteLength?t:new t.constructor(t)),!(t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(t.constructor.name))}));var r=new Uint8Array(e),a=0;return n.forEach((function(t){r.set(new Uint8Array(t.buffer),a),a+=t.byteLength})),r.buffer}var d="undefined"!==typeof t&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function v(e){return d?t.byteLength(e):new Blob([e]).size}function m(e){if(d)return t.from(e).toString("base64");for(var n=new Uint8Array(e),r="",a=0,i=n.length;a<i;a++)r+=String.fromCharCode(n[a]);return btoa(r)}function g(e){if(d){var n=t.from(e,"base64");return n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}for(var r=atob(e),a=new Uint8Array(r.length),i=0;i<r.length;++i)a.set([r.charCodeAt(i)],i);return a.buffer}function y(t){if(1===t.length)return t[0];var e=0;t.forEach((function(t){e+=t.byteLength}));var n=new Uint8Array(e),r=0;return t.forEach((function(t){n.set(new Uint8Array(t),r),r+=t.byteLength})),n.buffer}function b(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);var e=t.split("/");return e[e.length-1]}function x(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==t.modelTopology?0:v(JSON.stringify(t.modelTopology)),weightSpecsBytes:null==t.weightSpecs?0:v(JSON.stringify(t.weightSpecs)),weightDataBytes:null==t.weightData?0:t.weightData.byteLength}}}).call(this,n(126).Buffer)},function(t,e,n){"use strict";n.d(e,"c",(function(){return o.nd})),n.d(e,"b",(function(){return cr})),n.d(e,"a",(function(){return r}));var r={};n.r(r),n.d(r,"inputLayer",(function(){return fi})),n.d(r,"elu",(function(){return pi})),n.d(r,"reLU",(function(){return di})),n.d(r,"leakyReLU",(function(){return vi})),n.d(r,"prelu",(function(){return mi})),n.d(r,"softmax",(function(){return gi})),n.d(r,"thresholdedReLU",(function(){return yi})),n.d(r,"conv1d",(function(){return bi})),n.d(r,"conv2d",(function(){return xi})),n.d(r,"conv2dTranspose",(function(){return wi})),n.d(r,"conv3d",(function(){return Oi})),n.d(r,"separableConv2d",(function(){return ki})),n.d(r,"cropping2D",(function(){return Si})),n.d(r,"upSampling2d",(function(){return Ei})),n.d(r,"depthwiseConv2d",(function(){return Ci})),n.d(r,"activation",(function(){return ji})),n.d(r,"dense",(function(){return Ti})),n.d(r,"dropout",(function(){return Ai})),n.d(r,"spatialDropout1d",(function(){return _i})),n.d(r,"flatten",(function(){return Mi})),n.d(r,"repeatVector",(function(){return Ni})),n.d(r,"reshape",(function(){return Ii})),n.d(r,"permute",(function(){return Di})),n.d(r,"embedding",(function(){return Ri})),n.d(r,"add",(function(){return Pi})),n.d(r,"average",(function(){return Fi})),n.d(r,"concatenate",(function(){return Li})),n.d(r,"maximum",(function(){return zi})),n.d(r,"minimum",(function(){return Bi})),n.d(r,"multiply",(function(){return Wi})),n.d(r,"dot",(function(){return Ui})),n.d(r,"batchNormalization",(function(){return Vi})),n.d(r,"layerNormalization",(function(){return Hi})),n.d(r,"zeroPadding2d",(function(){return Gi})),n.d(r,"averagePooling1d",(function(){return Yi})),n.d(r,"avgPool1d",(function(){return qi})),n.d(r,"avgPooling1d",(function(){return Xi})),n.d(r,"averagePooling2d",(function(){return Ki})),n.d(r,"avgPool2d",(function(){return $i})),n.d(r,"avgPooling2d",(function(){return Ji})),n.d(r,"averagePooling3d",(function(){return Zi})),n.d(r,"avgPool3d",(function(){return Qi})),n.d(r,"avgPooling3d",(function(){return to})),n.d(r,"globalAveragePooling1d",(function(){return eo})),n.d(r,"globalAveragePooling2d",(function(){return no})),n.d(r,"globalMaxPooling1d",(function(){return ro})),n.d(r,"globalMaxPooling2d",(function(){return ao})),n.d(r,"maxPooling1d",(function(){return io})),n.d(r,"maxPooling2d",(function(){return oo})),n.d(r,"maxPooling3d",(function(){return so})),n.d(r,"gru",(function(){return uo})),n.d(r,"gruCell",(function(){return co})),n.d(r,"lstm",(function(){return lo})),n.d(r,"lstmCell",(function(){return ho})),n.d(r,"simpleRNN",(function(){return fo})),n.d(r,"simpleRNNCell",(function(){return po})),n.d(r,"rnn",(function(){return vo})),n.d(r,"stackedRNNCells",(function(){return mo})),n.d(r,"bidirectional",(function(){return go})),n.d(r,"timeDistributed",(function(){return yo})),n.d(r,"globalMaxPool1d",(function(){return bo})),n.d(r,"globalMaxPool2d",(function(){return xo})),n.d(r,"maxPool1d",(function(){return wo})),n.d(r,"maxPool2d",(function(){return Oo})),n.d(r,"Layer",(function(){return Oe})),n.d(r,"RNN",(function(){return Qa})),n.d(r,"RNNCell",(function(){return ti})),n.d(r,"input",(function(){return lr})),n.d(r,"gaussianNoise",(function(){return ko})),n.d(r,"gaussianDropout",(function(){return So})),n.d(r,"alphaDropout",(function(){return Eo})),n.d(r,"masking",(function(){return Co}));var a={};n.r(a),n.d(a,"maxImpl",(function(){return Do})),n.d(a,"transposeImpl",(function(){return Ro}));var i,o=n(0),s=n(5),u=n(9),c=n(13),l=n(14);function h(){return null==i&&(i=Object(o.E)().epsilon()),i}var f=n(10),p=n(15),d=n(32),v=n(19),m=n(72);var g=n(100);function y(t,e,n){return(y=Object(g.a)()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&Object(m.a)(a,n.prototype),a}).apply(null,arguments)}function b(t){var e="function"===typeof Map?new Map:void 0;return(b=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return y(t,arguments,Object(v.a)(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(m.a)(r,t)})(t)}var x=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object.setPrototypeOf(Object(d.a)(r),n.prototype),r}return n}(b(Error)),w=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object.setPrototypeOf(Object(d.a)(r),n.prototype),r}return n}(b(Error)),O=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object.setPrototypeOf(Object(d.a)(r),n.prototype),r}return n}(b(Error)),k=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object.setPrototypeOf(Object(d.a)(r),n.prototype),r}return n}(b(Error)),S=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object.setPrototypeOf(Object(d.a)(r),n.prototype),r}return n}(b(Error));Error;function E(t,e){if(Array.isArray(t)){for(var n=[],r=0;r<e;r++)n=n.concat(t);return n}var a=new Array(e);return a.fill(t),a}function C(t,e){if(!t)throw new S(e)}function j(t,e){var n,r=0,a=Object(p.a)(t);try{for(a.s();!(n=a.n()).done;){n.value===e&&r++}}catch(i){a.e(i)}finally{a.f()}return r}function T(t){return 1===t.length?t[0]:t}function A(t){return Array.isArray(t)?t:[t]}function _(t){var e=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==e[0]?e:"private"+e}function M(t){return t.length<=1||-1===t.indexOf("_")?t:t.replace(/[_]+(\w|$)/g,(function(t,e){return e.toUpperCase()}))}var N={};function I(t){if(null===t||void 0===t)return null;var e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function D(t){if(null!=t&&"object"===typeof t)if(Array.isArray(t))t.forEach((function(t){return D(t)}));else for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e],a=t[r];null!=a&&"object"===typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!==typeof a.value?D(a):t[r]=a.value)}}function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof t){var i,o=t;if(o in n)i=n[o];else if(o in N)i=N[o];else if(null==(i=e[o]))throw new O("Unknown ".concat(r,": ").concat(t,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return i}var s=t;if(null==s.className||null==s.config)throw new O("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(s),".\n")+"'className' and 'config' must set.");var u,c,l=s.className;if(l in n){var h=Object(f.a)(n[l],2);u=h[0],c=h[1]}else if(l in N){var p=Object(f.a)(N.className,2);u=p[0],c=p[1]}else if(l in e){var d=Object(f.a)(e[l],2);u=d[0],c=d[1]}if(null==u)throw new O("Unknown ".concat(r,": ").concat(l,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=c){for(var v={},m=0,g=Object.keys(N);m<g.length;m++){var y=g[m];v[y]=N[y]}for(var b=0,x=Object.keys(n);b<x.length;b++){var w=x[b];v[w]=n[w]}var k=s.config;k.customObjects=v;for(var S=Object.assign({},N),E=0,C=Object.keys(n);E<C.length;E++){var j=C[E];N[j]=n[j]}D(s.config);var T=c(u,s.config,n,a);return N=Object.assign({},S),T}for(var A=Object.assign({},N),_=0,M=Object.keys(n);_<M.length;_++){var I=M[_];N[I]=n[I]}var R=new u(s.config);return N=Object.assign({},A),R}function P(t,e){return-1*function(t,e){return t<e?-1:t>e?1:0}(t,e)}function F(t){if(null==t)return t;var e,n=[],r=Object(p.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;-1===n.indexOf(a)&&n.push(a)}}catch(i){r.e(i)}finally{r.f()}return n}function L(t){if(null==t)throw new O("Invalid value in obj: ".concat(JSON.stringify(t)));for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function z(t,e,n){if(null!=n&&t.indexOf(n)<0)throw new O("".concat(n," is not a valid ").concat(e,".  Valid values are ").concat(t," or null/undefined."))}function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return C(n>=0),C(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every((function(t){return typeof t===e}))}function W(t,e){Array.isArray(t)?(o.zd.assert(t.length>0,(function(){return"".concat(e," is unexpectedly an empty array.")})),t.forEach((function(t,n){return W(t,"element ".concat(n+1," of ").concat(e))}))):o.zd.assert(Number.isInteger(t)&&t>0,(function(){return"Expected ".concat(e," to be a positive integer, but got ")+"".concat(function t(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return t(e)})).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}(t),".")}))}function U(t){return"relu"===t?"relu":"linear"===t?"linear":"elu"===t?"elu":null}function V(t,e){return Object(o.rd)((function(){return o.bd(o.id(o.gc(t,t),e,!0))}))}var H=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"getConfig",value:function(){return{}}}]),n}(o.Jc.Serializable),G=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=t.maxValue?t.maxValue:r.defaultMaxValue,r.axis=null!=t.axis?t.axis:r.defaultAxis,r}return Object(u.a)(n,[{key:"apply",value:function(t){var e=this;return Object(o.rd)((function(){var n=V(t,e.axis),r=o.P(n,0,e.maxValue);return o.gc(t,o.gb(r,o.r(h(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),n}(H);G.className="MaxNorm",o.Jc.registerClass(G);var Y=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).defaultAxis=0,r.axis=null!=t.axis?t.axis:r.defaultAxis,r}return Object(u.a)(n,[{key:"apply",value:function(t){var e=this;return Object(o.rd)((function(){return o.gb(t,o.r(h(),V(t,e.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),n}(H);Y.className="UnitNorm",o.Jc.registerClass(Y);var q=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return o.zc(t)}}]),n}(H);q.className="NonNeg",o.Jc.registerClass(q);var X=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=t.minValue?t.minValue:r.defaultMinValue,r.maxValue=null!=t.maxValue?t.maxValue:r.defaultMaxValue,r.rate=null!=t.rate?t.rate:r.defaultRate,r.axis=null!=t.axis?t.axis:r.defaultAxis,r}return Object(u.a)(n,[{key:"apply",value:function(t){var e=this;return Object(o.rd)((function(){var n=V(t,e.axis),r=o.r(o.gc(e.rate,o.P(n,e.minValue,e.maxValue)),o.gc(1-e.rate,n));return o.gc(t,o.gb(r,o.r(h(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),n}(H);X.className="MinMaxNorm",o.Jc.registerClass(X);var K={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function $(t){return I(t)}function J(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R(t,o.Jc.SerializationMap.getMap().classNameMap,e,"constraint")}function Z(t){return null==t?null:"string"===typeof t?J({className:t in K?K[t]:t,config:{}}):t instanceof H?t:J(t)}var Q=n(16),tt=["channelsFirst","channelsLast"],et=["valid","same","causal"],nt=["max","avg"],rt=["sum","mul","concat","ave"],at=new Map;function it(t){z(tt,"DataFormat",t)}function ot(t){z(et,"PaddingMode",t)}function st(t){z(nt,"PoolMode",t)}var ut=[];function ct(t,e){ut.push(t);try{var n=e();return ut.pop(),n}catch(r){throw ut.pop(),r}}function lt(t){if(!pt(t))throw new Error("Not a valid tensor name: '"+t+"'");return(0===ut.length?"":ut.join("/")+"/")+t}function ht(t){if(!pt(t))throw new Error("Not a valid tensor name: '"+t+"'");at.has(t)||at.set(t,0);var e=at.get(t);if(at.set(t,at.get(t)+1),e>0){var n="".concat(t,"_").concat(e);return at.set(n,1),n}return t}var ft=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function pt(t){return!!t.match(ft)}function dt(t,e,n){null==e&&(e=0),null==n&&(n=t.length);for(var r=1,a=e;a<n;++a)r*=t[a];return r}function vt(t){return t=Array.isArray(t)?new Float32Array(t):t,Object(o.nd)(t)}function mt(t){return o.cc(vt(t)).dataSync()[0]}function gt(t){return o.Vb(vt(t)).dataSync()[0]}function yt(t,e){if(e<t)throw new O("end (".concat(e,") < begin (").concat(t,") is forbidden."));for(var n=[],r=t;r<e;++r)n.push(r);return n}function bt(t,e){return t.asType(e)}function xt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),t.reshape(n)}function wt(t){var e=[dt(t.shape)];return t.reshape(e)}function Ot(t,e,n){return Object(o.rd)((function(){switch(t.rank){case 1:return o.Rc(t,e,n);case 2:return o.Sc(t,[e,0],[n,t.shape[1]]);case 3:return o.Tc(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return o.Uc(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return o.Qc(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return o.Qc(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new O("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(t.rank))}}))}function kt(t,e,n){return Object(o.rd)((function(){switch(t.rank){case 1:return o.Rc(t,e,n);case 2:return o.Sc(t,[0,e],[t.shape[0],n]);case 3:return o.Tc(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return o.Uc(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new O("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(t.rank))}}))}function St(t,e,n,r){return Object(o.rd)((function(){switch(t.rank){case 1:return o.Rc(t,e,n);case 2:switch(r){case 1:return Ot(t,e,n);case 2:return kt(t,e,n);default:throw new O("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return Ot(t,e,n);case 2:return o.Tc(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return kt(t,e,n);default:throw new O("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return Ot(t,e,n);case 2:return o.Uc(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return o.Uc(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return kt(t,e,n);default:throw new O("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new O("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(t.rank))}}))}function Et(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(e=t[0].rank)?e:0),n===t[0].rank&&(n=-1),o.R(t,n)}function Ct(t,e){switch(t.rank){case 1:return o.S([t,e]);case 2:return o.T([t,e],0);case 3:return o.U([t,e],0);case 4:return o.V([t,e],0);default:throw new O("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(t.rank))}}function jt(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new O("The length of input n (".concat(e.length,") does not match ")+"the number of dimensions in input x (".concat(t.rank,")"));return o.sd(t,e)}function Tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return o.sc(t,e,n,r,a)}function At(t,e,n,r){if(t.rank<2||e.rank<2)throw new k("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(t.shape," and y shape = ").concat(e.shape));if(e.rank>=3&&t.shape.slice(-1)[0]!==e.shape.slice(-2)[0])throw new k("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(t.shape," and ")+" y shape = ".concat(e.shape));if(2===t.rank&&2===e.rank){return o.wb.matMul({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?Nt(t.rank,r,"channelsLast"):null,activation:n})}var a=t.shape.slice(),i=a.pop();t=t.reshape([-1,i]);var s=e.shape.slice(),u=s.pop(),c=s.pop(),l=[].concat(Object(Q.a)(s),[u]),h=Array.from({length:e.rank},(function(t,n){return 0===n?e.rank-2:n<=e.rank-2?n-1:n}));e=e.transpose(h).reshape([c,-1]);var f=[].concat(Object(Q.a)(a),Object(Q.a)(l));return o.wb.matMul({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?Nt(t.rank,r,"channelsLast"):null,activation:n}).reshape(f)}function _t(t,e,n){return Object(o.rd)((function(){return e=Array.isArray(e)?Object(o.nd)(e,"int32"):e.toInt(),o.xb(t,e,n)}))}function Mt(t){return o.gc(t,t)}function Nt(t,e,n){var r=e.shape;if(1!==e.rank&&e.rank!==t)throw new O("Unexpected bias dimensions: ".concat(e.rank)+"; expected it to be 1 or ".concat(t));if(5===t){if("channelsFirst"===n)return 1===r.length?e.reshape([1,r[0],1,1,1]):e.reshape([1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?e.reshape([1,1,1,1,r[0]]):e.reshape([1].concat(r))}else if(4===t){if("channelsFirst"===n)return 1===r.length?e.reshape([1,r[0],1,1]):e.reshape([1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?e.reshape([1,1,1,r[0]]):e.reshape([1].concat(r))}else if(3===t){if("channelsFirst"===n)return 1===r.length?e.reshape([1,r[0],1]):e.reshape([1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?e.reshape([1,1,r[0]]):e.reshape([1].concat(r))}else if(t<3)return e;throw new O("Unsupported input rank by biasAdd: ".concat(e.rank))}function It(t,e,n){return Object(o.rd)((function(){return null==n&&(n="channelsLast"),it(n),t.add(Nt(t.rank,e,n))}))}function Dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==e)throw new k("Support for alpha values other than 1 (".concat(e,") is not implemented ")+"yet.");return o.jb(t)}function Rt(t,e,n,r){return Object(o.rd)((function(){return o.ib(t,e,n,r)}))}function Pt(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?t():e()}var Ft=["fanIn","fanOut","fanAvg"],Lt=["normal","uniform","truncatedNormal"];var zt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),n}(o.Jc.Serializable),Bt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t,e){return Object(o.Fd)(t,e)}}]),n}(zt);Bt.className="Zeros",o.Jc.registerClass(Bt);var Wt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t,e){return Object(o.mc)(t,e)}}]),n}(zt);Wt.className="Ones",o.Jc.registerClass(Wt);var Ut=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),r=e.call(this),"object"!==typeof t)throw new O("Expected argument of type ConstantConfig but got ".concat(t));if(void 0===t.value)throw new O("config must have value set but got ".concat(t));return r.value=t.value,r}return Object(u.a)(n,[{key:"apply",value:function(t,e){var n=this;return Object(o.rd)((function(){return Object(o.gc)(Object(o.Fc)(n.value),Object(o.mc)(t,e))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),n}(zt);Ut.className="Constant",o.Jc.registerClass(Ut);var Vt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=t.minval||r.DEFAULT_MINVAL,r.maxval=t.maxval||r.DEFAULT_MAXVAL,r.seed=t.seed,r}return Object(u.a)(n,[{key:"apply",value:function(t,e){return Object(o.tc)(t,this.minval,this.maxval,e)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),n}(zt);Vt.className="RandomUniform",o.Jc.registerClass(Vt);var Ht=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=t.mean||r.DEFAULT_MEAN,r.stddev=t.stddev||r.DEFAULT_STDDEV,r.seed=t.seed,r}return Object(u.a)(n,[{key:"apply",value:function(t,e){if("float32"!==(e=e||"float32")&&"int32"!==e)throw new k("randomNormal does not support dType ".concat(e,"."));return Tt(t,this.mean,this.stddev,e,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(zt);Ht.className="RandomNormal",o.Jc.registerClass(Ht);var Gt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=t.mean||r.DEFAULT_MEAN,r.stddev=t.stddev||r.DEFAULT_STDDEV,r.seed=t.seed,r}return Object(u.a)(n,[{key:"apply",value:function(t,e){if("float32"!==(e=e||"float32")&&"int32"!==e)throw new k("truncatedNormal does not support dType ".concat(e,"."));return Object(o.wd)(t,this.mean,this.stddev,e,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(zt);Gt.className="TruncatedNormal",o.Jc.registerClass(Gt);var Yt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this)).gain=null!=t.gain?t.gain:1,r}return Object(u.a)(n,[{key:"apply",value:function(t,e){var n=this;return Object(o.rd)((function(){if(2!==t.length||t[0]!==t[1])throw new O("Identity matrix initializer can only be used for 2D square matrices.");return Object(o.gc)(n.gain,Object(o.rb)(t[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),n}(zt);Yt.className="Identity",o.Jc.registerClass(Yt);var qt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r,a;if(Object(s.a)(this,n),r=e.call(this),t.scale<0)throw new O("scale must be a positive float. Got: ".concat(t.scale));return r.scale=null==t.scale?1:t.scale,r.mode=null==t.mode?"fanIn":t.mode,a=r.mode,z(Ft,"FanMode",a),r.distribution=null==t.distribution?"normal":t.distribution,function(t){z(Lt,"Distribution",t)}(r.distribution),r.seed=t.seed,r}return Object(u.a)(n,[{key:"apply",value:function(t,e){var n=function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(it(r),2===t.length)e=t[0],n=t[1];else if(-1!==[3,4,5].indexOf(t.length)){if("channelsFirst"===r){var a=dt(t,2);e=t[1]*a,n=t[0]*a}else if("channelsLast"===r){var i=dt(t,0,t.length-2);e=t[t.length-2]*i,n=t[t.length-1]*i}}else{var o=dt(t);e=Math.sqrt(o),n=Math.sqrt(o)}return[e,n]}(t),r=n[0],a=n[1],i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),"normal"===this.distribution){var s=Math.sqrt(i);if("float32"!==(e=e||"float32")&&"int32"!==e)throw new k("".concat(this.getClassName()," does not support dType ").concat(e,"."));return Object(o.wd)(t,0,s,e,this.seed)}var u=Math.sqrt(3*i);return Object(o.tc)(t,-u,u,e)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),n}(zt);qt.className="VarianceScaling",o.Jc.registerClass(qt);var Xt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==t?null:t.seed})}return Object(u.a)(n,[{key:"getClassName",value:function(){return qt.className}}]),n}(qt);Xt.className="GlorotUniform",o.Jc.registerClass(Xt);var Kt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==t?null:t.seed})}return Object(u.a)(n,[{key:"getClassName",value:function(){return qt.className}}]),n}(qt);Kt.className="GlorotNormal",o.Jc.registerClass(Kt);var $t=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})}return Object(u.a)(n,[{key:"getClassName",value:function(){return qt.className}}]),n}(qt);$t.className="HeNormal",o.Jc.registerClass($t);var Jt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})}return Object(u.a)(n,[{key:"getClassName",value:function(){return qt.className}}]),n}(qt);Jt.className="HeUniform",o.Jc.registerClass(Jt);var Zt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==t?null:t.seed})}return Object(u.a)(n,[{key:"getClassName",value:function(){return qt.className}}]),n}(qt);Zt.className="LeCunNormal",o.Jc.registerClass(Zt);var Qt=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==t?null:t.seed})}return Object(u.a)(n,[{key:"getClassName",value:function(){return qt.className}}]),n}(qt);Qt.className="LeCunNormal",o.Jc.registerClass(Qt);var te=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),(r=e.call(this)).DEFAULT_GAIN=1,r.gain=null==t.gain?r.DEFAULT_GAIN:t.gain,r.seed=t.seed,null!=r.seed)throw new k("Random seed is not implemented for Orthogonal Initializer yet.");return r}return Object(u.a)(n,[{key:"apply",value:function(t,e){var n=this;return Object(o.rd)((function(){if(2!==t.length)throw new k("The Orthogonal Initializer does not support non-2D shapes yet.");t[0]*t[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than 2000 (".concat(t[0]*t[1],") elements: ")+"Slowness may result.");var e=Tt(t[0]>t[1]?[t[1],t[0]]:t,0,1,"float32"),r=o.Lb.gramSchmidt(e);return t[0]>t[1]&&(r=r.transpose()),Object(o.gc)(n.gain,r)}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),n}(zt);te.className="Orthogonal",o.Jc.registerClass(te);var ee={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function ne(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R(t,o.Jc.SerializationMap.getMap().classNameMap,e,"initializer")}function re(t){return I(t)}function ae(t){if("string"===typeof t){var e=t in ee?ee[t]:t;if("GlorotNormal"===e)return new Kt;if("GlorotUniform"===e)return new Xt;if("HeNormal"===e)return new $t;if("HeUniform"===e)return new Jt;if("LeCunNormal"===e)return new Zt;if("LeCunUniform"===e)return new Qt;var n={};return n.className=e,n.config={},ne(n)}return t instanceof zt?t:ne(t)}var ie=0;function oe(){return ie++}var se={};function ue(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t in se||(se[t]=0),se[t]+=1,t+se[t].toString()}function ce(t){return Array.isArray(t)&&Array.isArray(t[0])}function le(t){return 0===t.length?[]:Array.isArray(t[0])?t:[t]}function he(t){var e;if(Array.isArray(t)){if(1!==t.length)throw new O("Expected Tensor length to be 1; got ".concat(t.length));e=t[0]}else e=t;return e}function fe(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(1===t.length)return(t=t)[0];throw new O("Expected exactly 1 Shape; got ".concat(t.length))}return t}function pe(t){var e,n=0,r=Object(p.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;0===a.shape.length?n+=1:n+=a.shape.reduce((function(t,e){return t*e}))}}catch(i){r.e(i)}finally{r.f()}return n}var de=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Variable",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(s.a)(this,t),this.dtype=null==n?"float32":n,this.shape=e.shape,this.id=oe(),r=null==r?"Variable":r,this.originalName=lt(r),this.name=ht(this.originalName),this.trainable_=a,this.constraint=i,this.val=o.Ad(e,this.trainable_,this.name,this.dtype)}return Object(u.a)(t,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(t){return this.assertNotDisposed(),function(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}(this.val,t),this.val.id!==t.id&&(this.val.assign(t),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(t){this.trainable_=t,this.val.trainable=t}}]),t}();function ve(t){return t.map((function(t){return t.read()}))}function me(t){t.forEach((function(t){t[0].write(t[1])}))}var ge=function t(e){Object(s.a)(this,t),this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}},ye=function t(e,n,r,a,i,o,u){Object(s.a)(this,t),this.dtype=e,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=u,this.id=oe(),null!=o&&(this.originalName=lt(o),this.name=ht(this.originalName)),this.rank=n.length},be=0,xe=function(){function t(e,n){Object(s.a)(this,t),this.callArgs=n,this.id=be++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;var r,a=Object(p.a)(e.inboundLayers);try{for(a.s();!(r=a.n()).done;){var i=r.value;null!=i&&i.outboundNodes.push(this)}}catch(o){a.e(o)}finally{a.f()}e.outboundLayer.inboundNodes.push(this)}return Object(u.a)(t,[{key:"getConfig",value:function(){var t,e=[],n=Object(p.a)(this.inboundLayers);try{for(n.s();!(t=n.n()).done;){var r=t.value;null!=r?e.push(r.name):e.push(null)}}catch(a){n.e(a)}finally{n.f()}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),t}(),we=0,Oe=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,n),(t=e.call(this))._callHook=null,t._addedWeightNames=[],t._stateful=!1,t.id=we++,t.activityRegularizer=null,t.inputSpec=null,t.supportsMasking=!1,t._trainableWeights=[],t._nonTrainableWeights=[],t._losses=[],t._updates=[],t._built=!1,t.inboundNodes=[],t.outboundNodes=[];var a=r.name;if(!a){var i=t.getClassName();a=_(i)+"_"+ue(i)}if(t.name=a,t.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){var o;if(null!=r.batchInputShape)o=r.batchInputShape;else if(null!=r.inputShape){var u=null;null!=r.batchSize&&(u=r.batchSize),o=[u].concat(r.inputShape)}t.batchInputShape=o;var c=r.dtype;null==c&&(c=r.inputDType),null==c&&(c="float32"),t.dtype=c}return null!=r.weights?t.initialWeights=r.weights:t.initialWeights=null,t._refCount=null,t.fastWeightInitDuringBuild=!1,t}return Object(u.a)(n,[{key:"getNodeAtIndex",value:function(t,e){if(0===this.inboundNodes.length)throw new w("The layer has never been called "+"and thus has no defined ".concat(e,"."));if(this.inboundNodes.length<=t)throw new O("Asked to get ".concat(e," at node ").concat(t,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[t]}},{key:"getInputAt",value:function(t){return T(this.getNodeAtIndex(t,"input").inputTensors)}},{key:"getOutputAt",value:function(t){return T(this.getNodeAtIndex(t,"output").outputTensors)}},{key:"calculateLosses",value:function(){return this.losses.map((function(t){return t()}))}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(t){if(t=A(t),null!=this.inputSpec&&0!==this.inputSpec.length){var e=A(this.inputSpec);if(t.length!==e.length)throw new O("Layer ".concat(this.name," expects ").concat(e.length," inputs, ")+"but it received ".concat(t.length," input tensors. ")+"Input received: ".concat(t));for(var n=0;n<t.length;n++){var r=t[n],a=e[n];if(null!=a){var i=r.rank;if(null!=a.ndim&&i!==a.ndim)throw new O("Input ".concat(n," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(a.ndim,", found ndim=").concat(i));if(null!=a.maxNDim&&i>a.maxNDim)throw new O("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(a.maxNDim,", found ndim=").concat(i));if(null!=a.minNDim&&i<a.minNDim)throw new O("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(a.minNDim,", found ndim=").concat(i,"."));if(null!=a.dtype&&r.dtype!==a.dtype)throw new O("Input ".concat(n," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(a.dtype,", found dtype=").concat(r.dtype,"."));if(a.axes){var o=r.shape;for(var s in a.axes){var u=Number(s),c=a.axes[s],l=u>=0?o[u]:o[o.length+u];if(null!=c&&-1===[c,null].indexOf(l))throw new O("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(u," of input shape to ")+"have value ".concat(c," but got shape ").concat(o,"."))}}if(null!=a.shape)for(var h=0;h<a.shape.length;++h){var f=a.shape[h],p=r.shape[h];if(null!=f&&null!=p&&f!==p)throw new O("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(a.shape,", ")+"found shape=".concat(r.shape,"."))}}}}}},{key:"call",value:function(t,e){return t}},{key:"invokeCallHook",value:function(t,e){null!=this._callHook&&this._callHook(t,e)}},{key:"setCallHook",value:function(t){this._callHook=t}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(t,e){var n=this;e=e||{},this.assertNotDisposed();var r,a=A(t),i=!0,o=Object(p.a)(a);try{for(o.s();!(r=o.n()).done;){if(!(r.value instanceof ye)){i=!1;break}}}catch(l){o.e(l)}finally{o.f()}var s,u=!0,c=Object(p.a)(a);try{for(c.s();!(s=c.n()).done;){if(s.value instanceof ye){u=!1;break}}}catch(l){c.e(l)}finally{c.f()}if(i===u)throw new O("Arguments to apply() must be all SymbolicTensors or all Tensors");return ct(this.name,(function(){if(!n.built){n.assertInputCompatibility(t);var r,i=[],o=Object(p.a)(A(t));try{for(o.s();!(r=o.n()).done;){var s=r.value;i.push(s.shape)}}catch(l){o.e(l)}finally{o.f()}n.build(T(i)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&u&&(n._refCount=1)}if(n.assertInputCompatibility(t),u){var c,h=n.call(t,e),f=A(h),d=[],v=Object(p.a)(f);try{for(v.s();!(c=v.n()).done;){var m=c.value;-1!==a.indexOf(m)&&(m=m.clone()),d.push(m)}}catch(l){v.e(l)}finally{v.f()}if(h=T(d),null!=n.activityRegularizer)throw new k("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return h}var g,y=function(t){t=A(t);var e,n=[],r=Object(p.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;n.push(a.shape)}}catch(l){r.e(l)}finally{r.f()}return T(n)}(t),b=n.computeOutputShape(y);if(n.warnOnIncompatibleInputShape(Array.isArray(t)?y[0]:y),g=null!=b&&b.length>0&&Array.isArray(b[0])?b.map((function(r,a){return new ye("float32",r,n,A(t),e,n.name,a)})):new ye("float32",b,n,A(t),e,n.name),n.addInboundNode(t,g,null,null,y,b,e),n._refCount++,null!=n.activityRegularizer)throw new k("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return g}))}},{key:"warnOnIncompatibleInputShape",value:function(t){if(null!=this.batchInputShape)if(t.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(t),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{var e=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=t[r]&&t[r]!==n&&(e=!0)})),e&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(t),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}},{key:"countParams",value:function(){if(!this.built)throw new w("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return pe(this.weights)}},{key:"build",value:function(t){this.built=!0}},{key:"getWeights",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return ve(t?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(t){var e=this;Object(o.rd)((function(){var n=e.weights;if(n.length!==t.length)throw new O('You called setWeights(weights) on layer "'.concat(e.name,'" ')+"with a weight list of length ".concat(t.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(t,"..."));if(0!==n.length){for(var r=[],a=ve(n),i=0;i<a.length;++i){var s=a[i],u=n[i],c=t[i];if(!o.zd.arraysEqual(s.shape,c.shape))throw new O("Layer weight shape ".concat(s.shape," ")+"not compatible with provided weight shape ".concat(c.shape));r.push([u,c])}me(r)}}))}},{key:"addWeight",value:function(t,e,n,r,a,i,o){if(-1!==this._addedWeightNames.indexOf(t))throw new O("Duplicate weight name ".concat(t," for layer ").concat(this.name));this._addedWeightNames.push(t),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=ae("zeros"));var s=r.apply(e,n),u=new de(s,n,t,i,o);return s.dispose(),null!=a&&this.addLoss((function(){return a.apply(u.read())})),null==i&&(i=!0),i?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}},{key:"setFastWeightInitDuringBuild",value:function(t){this.fastWeightInitDuringBuild=t}},{key:"addLoss",value:function(t){var e;null==t||Array.isArray(t)&&0===t.length||(t=A(t),void 0!==this._losses&&null!==this._losses&&(e=this.losses).push.apply(e,Object(Q.a)(t)))}},{key:"computeOutputShape",value:function(t){return t}},{key:"computeMask",value:function(t,e){var n=this;if(!this.supportsMasking){if(null!=e){if(!Array.isArray(e))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");e.forEach((function(t){if(null!=t)throw new TypeError("Layer ".concat(n.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return e}},{key:"addInboundNode",value:function(t,e,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=A(t);e=A(e),n=A(n),r=A(r),a=le(a),i=le(i);var u,c=[],l=[],h=[],f=Object(p.a)(s);try{for(f.s();!(u=f.n()).done;){var d=u.value;c.push(d.sourceLayer),l.push(d.nodeIndex),h.push(d.tensorIndex)}}catch(m){f.e(m)}finally{f.f()}new xe({outboundLayer:this,inboundLayers:c,nodeIndices:l,tensorIndices:h,inputTensors:s,outputTensors:e,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},o);for(var v=0;v<e.length;v++)e[v].sourceLayer=this,e[v].nodeIndex=this.inboundNodes.length-1,e[v].tensorIndex=v}},{key:"getConfig",value:function(){var t={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(t.batchInputShape=this.batchInputShape),null!=this.dtype&&(t.dtype=this.dtype),t}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(t){return t.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();var t=0;return 0===--this._refCount&&(t=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:t}}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new x("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new x("Layer ".concat(this.name)+" is not connected, no input to return.");return T(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new x("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new x("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return T(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(t){this._built=t}},{key:"trainable",get:function(){return this.trainable_},set:function(t){this._trainableWeights.forEach((function(e){return e.trainable=t})),this.trainable_=t}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(t){return t.trainable})):[]},set:function(t){this._trainableWeights=t}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(t){return!t.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(t){this._nonTrainableWeights=t}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new x("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");var t,e=[],n=Object(p.a)(this.inboundNodes);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=JSON.stringify(r.outputShapes);-1===e.indexOf(a)&&e.push(a)}}catch(o){n.e(o)}finally{n.f()}if(1===e.length){var i=this.inboundNodes[0].outputShapes;return Array.isArray(i)&&Array.isArray(i[0])&&1===i.length?i[0]:i}throw new x("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "outut shape" is ill-defined for the layer.')}}],[{key:"nodeKey",value:function(t,e){return t.name+"_ib-"+e.toString()}}]),n}(o.Jc.Serializable);var ke=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),r=e.call(this,{dtype:t.dtype,name:null!=t.name?t.name:ue("input").toString()}),null==t.batchSize&&(t.batchSize=null),null==t.sparse&&(t.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=t.sparse,null!=t.inputShape&&null!=t.batchInputShape)throw new O("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var a=t.batchInputShape;if(null==a){if(null==t.inputShape)throw new O("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");a=[t.batchSize].concat(t.inputShape)}else if(null!=t.batchSize)throw new O("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=t.dtype||"float32";r.batchInputShape=a,r.dtype=i,r.inputSpec=[{shape:a}];var o=new ye(r.dtype,r.batchInputShape,Object(d.a)(r),[],{},r.name);return o.nodeIndex=0,o.tensorIndex=0,new xe({outboundLayer:Object(d.a)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[a],outputShapes:[a]}),r}return Object(u.a)(n,[{key:"apply",value:function(t,e){throw new O("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),n}(Oe);function Se(t){if(null==t.batchShape&&null==t.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=t.batchShape&&null!=t.shape)throw new O("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var e=t.batchShape;null!=t.shape&&null==e&&(e=[null].concat(t.shape));var n=t.dtype;return null==n&&(n="float32"),new ke({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}ke.className="InputLayer",o.Jc.registerClass(ke);var Ee,Ce=n(4),je=n.n(Ce),Te=n(12);function Ae(t){return _e.apply(this,arguments)}function _e(){return(_e=Object(Te.a)(je.a.mark((function t(e){var n,r,a,i,s,u,c,l;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return");case 2:for(i in n=[],r=[],a=[],e)"number"!==typeof(s=e[i])&&(u=s,n.push(u.data()),r.push(i),a.push(u));if(!(n.length>0)){t.next=12;break}return t.next=9,Promise.all(n);case 9:for(c=t.sent,l=0;l<c.length;++l)e[r[l]]=c[l][0];Object(o.fb)(a);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Me(t){if(null!=t)for(var e in t){var n=t[e];"number"!==typeof n&&n.dispose()}}!function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"}(Ee||(Ee={}));var Ne=function(){function t(){Object(s.a)(this,t),this.validationData=null}return Object(u.a)(t,[{key:"setParams",value:function(t){this.params=t}},{key:"onEpochBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"setModel",value:function(t){}}]),t}(),Ie=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;Object(s.a)(this,t),null==e&&(e=[]),this.callbacks=e,this.queueLength=n}return Object(u.a)(t,[{key:"append",value:function(t){this.callbacks.push(t)}},{key:"setParams",value:function(t){var e,n=Object(p.a)(this.callbacks);try{for(n.s();!(e=n.n()).done;){e.value.setParams(t)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setModel",value:function(t){var e,n=Object(p.a)(this.callbacks);try{for(n.s();!(e=n.n()).done;){e.value.setModel(t)}}catch(r){n.e(r)}finally{n.f()}}},{key:"onEpochBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a,i;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==n&&(n={}),r=Object(p.a)(this.callbacks),t.prev=2,r.s();case 4:if((a=r.n()).done){t.next=10;break}return i=a.value,t.next=8,i.onEpochBegin(e,n);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[2,12,15,18]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a,i;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==n&&(n={}),r=Object(p.a)(this.callbacks),t.prev=2,r.s();case 4:if((a=r.n()).done){t.next=10;break}return i=a.value,t.next=8,i.onEpochEnd(e,n);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[2,12,15,18]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a,i;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==n&&(n={}),r=Object(p.a)(this.callbacks),t.prev=2,r.s();case 4:if((a=r.n()).done){t.next=10;break}return i=a.value,t.next=8,i.onBatchBegin(e,n);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[2,12,15,18]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a,i;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==n&&(n={}),r=Object(p.a)(this.callbacks),t.prev=2,r.s();case 4:if((a=r.n()).done){t.next=10;break}return i=a.value,t.next=8,i.onBatchEnd(e,n);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[2,12,15,18]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){var n,r,a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==e&&(e={}),n=Object(p.a)(this.callbacks),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=10;break}return a=r.value,t.next=8,a.onTrainBegin(e);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[2,12,15,18]])})));return function(e){return t.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){var n,r,a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null==e&&(e={}),n=Object(p.a)(this.callbacks),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=10;break}return a=r.value,t.next=8,a.onTrainEnd(e);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[2,12,15,18]])})));return function(e){return t.apply(this,arguments)}}()}]),t}(),De=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.call(this)}return Object(u.a)(n,[{key:"onEpochBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.seen=0,this.totals={};case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a,i,s=this;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in null==n&&(n={}),r=null==n.size?0:n.size,this.seen+=r,a=function(t){var e=n[t];if("number"===typeof e)s.totals.hasOwnProperty(t)||(s.totals[t]=0),s.totals[t]=s.totals[t]+e*r;else{var a;t in s.totals?a=s.totals[t]:s.totals[t]=0;var i=Object(o.rd)((function(){return Object(o.r)(s.totals[t],Object(o.gc)(e,r))}));s.totals[t]=i,null!=a&&a.dispose()}},n)a(i);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a,i,s=this;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n){t.next=19;break}r=Object(p.a)(this.params.metrics),t.prev=2,i=function(){var t=a.value;if(null==s.totals[t])return"continue";"number"===typeof s.totals[t]?n[t]=s.totals[t]/s.seen:Object(o.rd)((function(){var e=Object(o.gc)(Object(o.gb)(1,s.seen),s.totals[t]);n[t]=e,s.totals[t].dispose(),Object(o.Gb)(n[t])}))},r.s();case 5:if((a=r.n()).done){t.next=11;break}if("continue"!==i()){t.next=9;break}return t.abrupt("continue",9);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[2,13,16,19]])})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(Ne),Re=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"onTrainBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.epoch=[],this.history={};case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in null==n&&(n={}),this.epoch.push(e),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"syncData",value:function(){var t=Object(Te.a)(je.a.mark((function t(){var e,n,r,a,i,o,s,u,c;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a in e=[],n=[],r=[],this.history)for(i=this.history[a],o=0;o<i.length;++o)"number"!==typeof i[o]&&(s=i[o],e.push(s.data()),n.push(a),r.push(o));return t.next=6,Promise.all(e);case 6:for(u=t.sent,c=0;c<u.length;++c)this.history[n[c]][r[c]].dispose(),this.history[n[c]][r[c]]=u[c][0];case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(Ne),Pe=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t,r){var a;if(Object(s.a)(this,n),(a=e.call(this)).currentEpoch=0,a.yieldEvery=r||"auto","auto"===a.yieldEvery&&(a.yieldEvery=125),"never"===a.yieldEvery&&null!=t.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return o.zd.isNumber(a.yieldEvery)&&(a.maybeWait=function(t,e){var n,r=o.zd.now();return function(){var a=o.zd.now();return a-r<e?n:(r=a,n=t.apply(void 0,arguments))}}(a.maybeWait.bind(Object(d.a)(a)),a.yieldEvery)),a.trainBegin=t.onTrainBegin,a.trainEnd=t.onTrainEnd,a.epochBegin=t.onEpochBegin,a.epochEnd=t.onEpochEnd,a.batchBegin=t.onBatchBegin,a.batchEnd=t.onBatchEnd,a.yield=t.onYield,a}return Object(u.a)(n,[{key:"maybeWait",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n,r){var a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],null==this.yield){t.next=5;break}return t.next=4,Ae(r);case 4:a.push(this.yield(e,n,r));case 5:return a.push(Object(o.jc)()),t.next=8,Promise.all(a);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.currentEpoch=e,null==this.epochBegin){t.next=6;break}return t.next=4,Ae(n);case 4:return t.next=6,this.epochBegin(e,n);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],null==this.epochEnd){t.next=5;break}return t.next=4,Ae(n);case 4:r.push(this.epochEnd(e,n));case 5:return"epoch"===this.yieldEvery&&r.push(Object(o.jc)()),t.next=8,Promise.all(r);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.batchBegin){t.next=5;break}return t.next=3,Ae(n);case 3:return t.next=5,this.batchBegin(e,n);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],null==this.batchEnd){t.next=5;break}return t.next=4,Ae(n);case 4:r.push(this.batchEnd(e,n));case 5:return"batch"===this.yieldEvery?r.push(Object(o.jc)()):o.zd.isNumber(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,n)),t.next=8,Promise.all(r);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.trainBegin){t.next=5;break}return t.next=3,Ae(e);case 3:return t.next=5,this.trainBegin(e);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==this.trainEnd){t.next=5;break}return t.next=3,Ae(e);case 3:return t.next=5,this.trainEnd(e);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(Ne);function Fe(t,e){return null==t&&(t={}),t instanceof Ne?[t]:Array.isArray(t)&&t[0]instanceof Ne?t:A(t).map((function(t){return new Pe(t,e)}))}var Le=function(){function t(){Object(s.a)(this,t)}return Object(u.a)(t,null,[{key:"registerCallbackConstructor",value:function(e,n){o.zd.assert(e>=0&&Number.isInteger(e),(function(){return"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(e)})),t.checkForDuplicate(n),null==t.constructors[e]&&(t.constructors[e]=[]),t.constructors[e].push(n)}},{key:"checkForDuplicate",value:function(e){for(var n in t.constructors){t.constructors[+n].forEach((function(t){if(t===e)throw new O("Duplicate callback constructor.")}))}}},{key:"clear",value:function(){t.constructors={}}},{key:"createCallbacks",value:function(e){var n=[];for(var r in t.constructors){var a=+r;e>=a&&n.push.apply(n,Object(Q.a)(t.constructors[a]))}return n.map((function(t){return new t}))}}]),t}();function ze(t,e,n,r,a,i,o,s,u){var c=new Re,l=[new De].concat(Object(Q.a)(Le.createCallbacks(e)));null!=t&&l.push.apply(l,Object(Q.a)(t)),l.push(c);var h=new Ie(l);return h.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:e,doValidation:s,metrics:u}),{callbackList:h,history:c}}Le.constructors={};var Be=n(20);function We(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return R(t,o.Jc.SerializationMap.getMap().classNameMap,e,"layer",n)}function Ue(t,e){return Object(o.rd)((function(){"float32"!==t.dtype&&(t=t.asType("float32"));var n=o.id(Mt(t),e,!0),r=o.tb(n.shape,h()),a=o.bd(o.Zb(n,r));return o.gb(t,a)}))}function Ve(t,e){return Object(o.rd)((function(){return o.ac(Mt(o.hd(e,t)),-1)}))}function He(t,e){return Object(o.rd)((function(){return o.ac(o.o(o.hd(e,t)),-1)}))}function Ge(t,e){return Object(o.rd)((function(){var n=o.hd(t,e),r=o.P(o.o(t),h(),Number.MAX_VALUE),a=o.o(o.gb(n,r));return o.gc(100,o.ac(a,-1))}))}function Ye(t,e){return Object(o.rd)((function(){var n=o.P(e,h(),Number.MAX_VALUE),r=o.Ob(o.r(1,n)),a=o.P(t,h(),Number.MAX_VALUE),i=o.Ob(o.r(1,a));return o.ac(Mt(o.hd(r,i)),-1)}))}function qe(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o.rd)((function(){if(n)e=o.Wc(e);else{var r=o.id(e,e.shape.length-1,!0);e=o.gb(e,r)}return e=o.P(e,h(),1-h()),o.ic(o.id(o.gc(t.toFloat(),o.Ob(e)),e.shape.length-1))}))}function Xe(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o.rd)((function(){var r=o.ub(wt(t)).toInt(),a=(e=o.P(e,h(),1-h())).shape;return qe(o.lc(r,a[a.length-1]).reshape(a),e,n)}))}function Ke(t,e){return Object(o.rd)((function(){var n;return n=o.P(e,h(),1-h()),n=o.Ob(o.gb(n,o.hd(1,n))),o.ac(function(t,e){if(!o.zd.arraysEqual(t.shape,e.shape))throw new O("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(t.shape)," and ").concat(JSON.stringify(e.shape)));return Object(o.rd)((function(){var n=e.relu(),r=e.abs().neg();return n.sub(e.mul(t)).add(r.exp().log1p())}))}(t,n),-1)}))}function $e(t,e){return Object(o.rd)((function(){var n=o.P(t,h(),1),r=o.P(e,h(),1);return o.id(o.gc(t,o.Ob(o.gb(n,r))),-1)}))}function Je(t,e){return Object(o.rd)((function(){var n=Ue(t,-1),r=Ue(e,-1),a=o.gc(n,r);return o.ic(o.id(a,-1))}))}var Ze={meanSquaredError:Ve,meanAbsoluteError:He,meanAbsolutePercentageError:Ge,meanSquaredLogarithmicError:Ye,squaredHinge:function(t,e){return Object(o.rd)((function(){var n=o.Zb(0,o.hd(1,o.gc(t,e)));return o.ac(Mt(n),-1)}))},hinge:function(t,e){return Object(o.rd)((function(){var n=o.Zb(0,o.hd(1,o.gc(t,e)));return o.ac(n,-1)}))},categoricalHinge:function(t,e){return Object(o.rd)((function(){var n=o.id(o.gc(t,e),-1),r=o.Vb(o.gc(o.hd(1,t),e),-1);return o.Zb(0,o.r(1,o.hd(r,n)))}))},logcosh:function(t,e){return Object(o.rd)((function(){var n=Math.log(2),r=o.hd(e,t),a=o.hd(o.r(r,o.Xc(o.gc(-2,r))),n);return o.ac(a,-1)}))},categoricalCrossentropy:qe,sparseCategoricalCrossentropy:Xe,binaryCrossentropy:Ke,kullbackLeiblerDivergence:$e,poisson:function(t,e){return Object(o.rd)((function(){var n=o.Ob(o.r(h(),e));return o.ac(o.hd(e,o.gc(t,n)),-1)}))},cosineProximity:Je};function Qe(t){if("string"===typeof t){if(t in Ze)return Ze[t];var e="Unknown loss ".concat(t);throw t.toLowerCase().includes("softmaxcrossentropy")&&(e="Unknown loss ".concat(t,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new O(e)}return t}function tn(t,e){return Object(o.rd)((function(){var n=o.gc(.5,o.nc(e)),r=bt(o.zb(e,n),t.dtype);return o.ac(o.mb(t,r),-1)}))}function en(t,e){return Object(o.rd)((function(){return bt(o.mb(o.v(t,-1),o.v(e,-1)),"float32")}))}function nn(t,e){return Object(o.rd)((function(){return o.Rb(t.equal(1),e.equal(1)).sum().cast("float32")}))}function rn(t,e){return Object(o.rd)((function(){var n=nn(t,e),r=function(t,e){return Object(o.rd)((function(){return o.Rb(t.equal(0),e.equal(1)).sum().cast("float32")}))}(t,e),a=n.add(r);return o.Dd(o.zb(a,0),n.div(a),0).cast("float32")}))}function an(t,e){return Ke(t,e)}function on(t,e){return t.rank===e.rank&&(t=t.squeeze([t.rank-1])),(e=e.argMax(-1)).dtype!==t.dtype&&(e=e.asType(t.dtype)),o.mb(t,e).asType("float32")}var sn=qe,un=Xe,cn={binaryAccuracy:tn,categoricalAccuracy:en,precision:rn,categoricalCrossentropy:sn,sparseCategoricalCrossentropy:un,mse:Ve,MSE:Ve,mae:He,MAE:He,mape:Ge,MAPE:Ge,cosine:Je};function ln(t){if("string"===typeof t&&t in cn)return cn[t];if("string"!==typeof t&&null!=t)return t;throw new O("Unknown metric ".concat(t))}function hn(t){if(C(null!==t,"Unknown LossOrMetricFn ".concat(t)),"string"===typeof t)return t;for(var e,n=0,r=Object.keys(Ze);n<r.length;n++){var a=r[n];if(Ze[a]===t){e=a;break}}if(void 0!==e)return e;for(var i=0,o=Object.keys(cn);i<o.length;i++){var s=o[i];if(cn[s]===t){e=s;break}}return void 0!==e?e:t.name}function fn(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t||"object"!==typeof t||Object.getPrototypeOf(t)!==Object.prototype||!pn(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(t);r.length>1048576&&console.warn('User-defined metadata of model "'.concat(e,'" is too large in ')+"size (length=".concat(r.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(1048576,"."))}}function pn(t){if(null===t)return!0;if("object"===typeof t){if(Object.getPrototypeOf(t)===Object.prototype){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];if("string"!==typeof r)return!1;if(!pn(t[r]))return!1}return!0}if(Array.isArray(t)){var a,i=Object(p.a)(t);try{for(i.s();!(a=i.n()).done;){if(!pn(a.value))return!1}}catch(s){i.e(s)}finally{i.f()}return!0}return!1}var o=typeof t;return"string"===o||"number"===o||"boolean"===o}function dn(t,e,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,i=mn(t),o=["Layer (type)","Output shape","Param #"];if(i?(e=e||65,n=n||[.45,.85,1]):(e=e||98,n=n||[.33,.55,.67,1]),n[n.length-1]<=1&&(n=n.map((function(t){return Math.floor(e*t)}))),!i)for(var s in o.push("Receives inputs"),r=[],t.nodesByDepth){var u;(u=r).push.apply(u,Object(Q.a)(t.nodesByDepth[s]))}a("_".repeat(e)),gn(o,n,a),a("=".repeat(e));for(var c=t.layers,l=0;l<c.length;++l)i?yn(c[l],n,a):bn(c[l],n,r,a),a((l===c.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();var h=vn(t),f=pe(t.nonTrainableWeights);a("Total params: ".concat(h+f)),a("Trainable params: ".concat(h)),a("Non-trainable params: ".concat(f)),a("_".repeat(e))}function vn(t){return null!=t.collectedTrainableWeights?pe(t.collectedTrainableWeights):pe(t.trainableWeights)}function mn(t){var e=!0,n=[],r=[];for(var a in t.nodesByDepth)n.push(t.nodesByDepth[a]);for(var i=0,o=n;i<o.length;i++){var s=o[i];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){e=!1;break}r.push.apply(r,Object(Q.a)(s))}if(e){var u,c=Object(p.a)(t.layers);try{for(c.s();!(u=c.n()).done;){var l,h=u.value,f=!1,d=Object(p.a)(h.inboundNodes);try{for(d.s();!(l=d.n()).done;){var v=l.value;if(-1!==r.indexOf(v)){if(f){e=!1;break}f=!0}}}catch(m){d.e(m)}finally{d.f()}if(!e)break}}catch(m){c.e(m)}finally{c.f()}}return e}function gn(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<t.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=t[a]).slice(0,e[a]),r+=" ".repeat(e[a]-r.length);n(r)}function yn(t,e,n){var r;try{r=JSON.stringify(t.outputShape)}catch(o){r="multiple"}var a=t.name,i=t.getClassName();gn(["".concat(a," (").concat(i,")"),r,t.countParams().toString()],e,n)}function bn(t,e,n,r){var a;try{a=JSON.stringify(t.outputShape)}catch(y){a="multiple"}var i,o=[],s=Object(p.a)(t.inboundNodes);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(var c=0;c<u.inboundLayers.length;++c){var l=u.inboundLayers[c].name,h=u.nodeIndices[c],f=u.tensorIndices[c];o.push("".concat(l,"[").concat(h,"][").concat(f,"]"))}}}catch(y){s.e(y)}finally{s.f()}var d=t.name,v=t.getClassName(),m=0===o.length?"":o[0];gn(["".concat(d," (").concat(v,")"),a,t.countParams().toString(),m],e,r);for(var g=1;g<o.length;++g)gn(["","","",o[g]],e,r)}function xn(t,e,n){return("inboundNodes"===t||"outputLayers"===t||"inputLayers"===t)&&0===e&&"string"===typeof n}function wn(t,e){if(null===t)return null;if("string"===typeof t)return M(t);if("number"===typeof t||"boolean"===typeof t)return t;if(t instanceof Array){for(var n=[],r=t.length,a=0;a<r;++a){var i=t[a];xn(e,a,i)?n.push(i):n.push(wn(i,e))}return n}for(var o={},s=0,u=Object.keys(t);s<u.length;s++){var c=u[s],l=t[c];if("name"===c&&"string"===typeof l)o[c]=l;else{var h=M(c);o[h]=wn(l,h)}}return o}function On(t,e){if(null===t||void 0===t)return null;if("string"===typeof t)return _(t);if("number"===typeof t||"boolean"===typeof t)return t;if(t instanceof Array){for(var n=[],r=t.length,a=0;a<r;++a){var i=t[a];xn(e,a,i)?n.push(i):n.push(On(i,e))}return n}for(var o={},s=0,u=Object.keys(t);s<u.length;s++){var c=u[s],l=t[c],h=_(c);o[h]="name"!==c&&"className"!==c||"string"!==typeof l?On(l,c):l}return o}var kn=function(){function t(e){if(Object(s.a)(this,t),this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof t)for(var n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(null==e)return;var r,a=Object(p.a)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.add(i.key,i.value)}}catch(o){a.e(o)}finally{a.f()}}}return Object(u.a)(t,[{key:"add",value:function(t,e,n){if(null!=this.id2Value[t.id])throw new O("Duplicate key: name=".concat(t.name,", id=").concat(t.id));return this.id2Value[t.id]=function(t,e){if(null==t.dtype||t.dtype===e.dtype)return e;try{return Object(o.N)(e,t.dtype)}catch(n){throw new O("The dtype of the feed (".concat(e.dtype,") can not be cast to the dtype ")+"of the key '".concat(t.name,"' (").concat(t.dtype,")."))}}(t,e),this.name2Id[t.name]=t.id,null!=n&&(this.id2Mask[t.id]=n),this}},{key:"addFeed",value:function(t){this.add(t.key,t.value)}},{key:"hasKey",value:function(t){return null!=this.id2Value[t.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(t){if(t instanceof ye){if(null==this.id2Value[t.id])throw new O("Nonexistent key: ".concat(t.name));return this.id2Value[t.id]}var e=this.name2Id[t];if(null==e)throw new O("Feed dict has no SymbolicTensor name: ".concat(t));return this.id2Value[e]}},{key:"getMask",value:function(t){if(t instanceof ye){if(null==this.id2Value[t.id])throw new O("Nonexistent key: ".concat(t.name));return this.id2Mask[t.id]}var e=this.name2Id[t];if(null==e)throw new O("Feed dict has no SymbolicTensor name: ".concat(t));return this.id2Mask[e]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&Object(o.fb)(this.id2Mask)}}]),t}(),Sn={},En={};function Cn(t,e,n,r){var a,i=null!=n&&n.training,s=Array.isArray(t),u=s?t:[t],c=u.map((function(t){return t.name})),l=[],h=e.names(),f=Object(p.a)(c);try{for(f.s();!(a=f.n()).done;){var d=a.value;-1!==h.indexOf(d)?l.push(e.getValue(d)):l.push(null)}}catch(B){f.e(B)}finally{f.f()}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var v,m,g=c.join(",")+"|"+e.names().join(",");if(null==Sn[g]){var y=function(t,e){o.zd.assert(null!=t&&t.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===t.length){var a=Tn(t[0],e);n=a.sorted,r=a.recipientMap}else{var i,s=new Set,u=Object(p.a)(t);try{for(u.s();!(i=u.n()).done;){var c,l=Tn(i.value,e),h=l.sorted,f=l.recipientMap,d=Object(p.a)(h);try{for(d.s();!(c=d.n()).done;){var v=c.value;s.has(v.name)||(n.push(v),s.add(v.name))}}catch(B){d.e(B)}finally{d.f()}var m=function(t){null==r[t]&&(r[t]=new Set),f[t].forEach((function(e){return r[t].add(e)}))};for(var g in f)m(g)}}catch(B){u.e(B)}finally{u.f()}}return{sorted:n,recipientCounts:jn(r)}}(u,e);v=y.sorted,m=y.recipientCounts,Sn[g]=v,En[g]=m}v=Sn[g],m={},i||Object.assign(m,En[g]);for(var b=new kn(e),x=0;x<v.length;++x){if(null!=r){var w=Object(o.bc)().numTensors;w>r.maxNumTensors&&(r.maxNumTensors=w),w<r.minNumTensors&&(r.minNumTensors=w)}var O=v[x],k=O.sourceLayer;if(!(k instanceof ke)){var S,E=[],C=[],j=[],T=!1,_=Object(p.a)(O.inputs);try{for(_.s();!(S=_.n()).done;){var M=S.value,N=b.getValue(M),I=b.getMask(M);E.push(N),C.push(I),null!=I&&(T=!0),i||(m[M.name]--,0!==m[M.name]||e.hasKey(M)||-1!==c.indexOf(M.name)||N.isDisposed||!0===M.sourceLayer.stateful||j.push(N))}}catch(B){_.e(B)}finally{_.f()}T&&((n=n||{}).mask=C[0]);var D=A(k.apply(E,n)),R=null;k.supportsMasking&&(R=k.computeMask(E,C));for(var P=An(O),F=Array.isArray(P)?P:[P],L=0;L<F.length;++L){b.hasKey(F[L])||b.add(F[L],D[L],Array.isArray(R)?R[0]:R);var z=c.indexOf(F[L].name);-1!==z&&(l[z]=D[L])}i||Object(o.fb)(j)}}return b.disposeMasks(),s?l:l[0]}function jn(t){var e={};for(var n in t)e[n]=t[n].size;return e}function Tn(t,e){var n,r=new Set,a=[],i={},o=Object(p.a)(e.names());try{for(o.s();!(n=o.n()).done;){var s=n.value;r.add(s)}}catch(m){o.e(m)}finally{o.f()}var u=[],c=[];for(u.push(t);u.length>0;){var l=u[u.length-1];if(r.has(l.name))u.pop();else{var h=c[c.length-1]===u.length-1;if(0===l.inputs.length||h)u.pop(),a.push(l),r.add(l.name),h&&c.pop();else{c.push(u.length-1);var f,d=Object(p.a)(l.inputs);try{for(d.s();!(f=d.n()).done;){var v=f.value;null==i[v.name]&&(i[v.name]=new Set),i[v.name].add(l.name),r.has(v.name)||u.push(v)}}catch(m){d.e(m)}finally{d.f()}}}}return{sorted:a,recipientMap:i}}function An(t){var e;if(1===t.sourceLayer.inboundNodes.length)e=t.sourceLayer.output;else{for(var n=null,r=0;r<t.sourceLayer.inboundNodes.length;++r){var a,i=Object(p.a)(t.sourceLayer.inboundNodes[r].outputTensors);try{for(i.s();!(a=i.n()).done;){if(a.value.id===t.id){n=r;break}}}catch(o){i.e(o)}finally{i.f()}}e=t.sourceLayer.getOutputAt(n)}return e}function _n(t,e,n){var r=e.length;if(null==t||Array.isArray(t)&&0===t.length)return e.map((function(t){return null}));if(1===r)return Array.isArray(t)&&1===t.length?t:"object"===typeof t&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(t.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return t}if("object"===typeof t&&Object.keys(t).length>0&&"object"===typeof t[Object.keys(t)[0]]){var a=[];return e.forEach((function(e){e in t?a.push(t[e]):a.push(null)})),a}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(e," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(t)))}function Mn(t,e){return _n(t,e,"classWeight")}function Nn(t,e,n,r){return In.apply(this,arguments)}function In(){return(In=Object(Te.a)(je.a.mark((function t(e,n,r,a){var i,s,u;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n&&null==a){t.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==r){t.next=15;break}return i=Object(o.rd)((function(){if(1===e.shape.length)return e.clone();if(2===e.shape.length){if(e.shape[1]>1){return e.argMax(1)}if(1===e.shape[1])return e.reshape([e.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(e.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(e.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),t.t0=Array,t.next=7,i.data();case 7:return t.t1=t.sent,s=t.t0.from.call(t.t0,t.t1),Object(o.fb)(i),u=[],s.forEach((function(t){if(null==r[t])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(t," exists in the data but not in ")+"classWeight");u.push(r[t])})),t.abrupt("return",Object(o.nd)(u,"float32"));case 15:return t.abrupt("return",null);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Dn(t,e){return Object(o.gc)(t,e)}function Rn(t,e){var n,r,a=e;n=a.xs,r=a.ys,o.zd.assert(null!=n&&null!=r,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(e)}));var i=Pn("input",t.inputNames,n),s=Pn("output",t.outputNames,r),u=i[0].shape[0];o.zd.assert(i.length===t.inputs.length,(function(){return"LayersModel has ".concat(t.inputs.length," inputs, but the dataset ")+"provides ".concat(i.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(t.inputNames),")")})),o.zd.assert(s.length===t.outputs.length,(function(){return"LayersModel has ".concat(t.outputs.length," outputs, but the dataset ")+"provides ".concat(s.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(t.outputNames),")")}));for(var c=function(e){o.zd.assert(i[e].shape[0]===u,(function(){return"Batch size mismatch: input "+"".concat(t.inputNames[e]," has ").concat(i[e].shape[0],"; ")+"expected  ".concat(u," based on input ").concat(t.inputNames[0],".")}))},l=0;l<i.length;l++)c(l);for(var h=function(e){o.zd.assert(s[e].shape[0]===u,(function(){return"Batch size mismatch: output "+"".concat(t.outputNames[e]," has ").concat(s[e].shape[0],"; ")+"expected  ".concat(u," based on input ").concat(t.inputNames[0],".")}))},f=0;f<s.length;f++)h(f);return{xs:i,ys:s}}function Pn(t,e,n){if(n instanceof o.l)return[n];if(Array.isArray(n))return o.zd.assert(n.length===e.length,(function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(e.length," to match the ").concat(t," keys ").concat(e,".")})),n;var r,a=[],i=Object(p.a)(e);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(null==n[s])throw new O("The feature data generated by the dataset lacks the required "+"".concat(t," key '").concat(s,"'."));a.push(n[s])}}catch(u){i.e(u)}finally{i.f()}return a}function Fn(t){if(3===t.length)throw new k("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}function Ln(t,e,n){return zn.apply(this,arguments)}function zn(){return(zn=Object(Te.a)(je.a.mark((function t(e,n,r){var a,i,s,u,c,l,h,f,p,d,v,m,g,y,b,x,w,O,k,S,E,C,j,T,_,M,N,I,D,R,P,F,L;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null!=r.batchesPerEpoch,o.zd.assert(null!=e.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),o.zd.assert(null!=r,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),o.zd.assert(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(r.epochs)})),o.zd.assert(!a||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(r.batchesPerEpoch)})),o.zd.assert(null==r.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),!e.isTraining){t.next=8;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 8:return e.isTraining=!0,t.prev=9,(i=null!=r.validationData)&&(Wn(r.validationData)?o.zd.assert(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(r.validationBatches)})):(c=Fn(r.validationData),s=c.xs,u=c.ys)),l=e.makeTrainFunction(),h=e.getDedupedMetricsNames(),f=i?h.slice().concat(h.map((function(t){return"val_"+t}))):h.slice(),p=Fe(r.callbacks,r.yieldEvery),d=null==r.verbose?1:r.verbose,v=ze(p,d,r.epochs,null,null,Bn(n,r),null,i,f),m=v.callbackList,g=v.history,m.setModel(e),e.history=g,t.next=22,m.onTrainBegin();case 22:return e.stopTraining_=!1,y=null==r.initialEpoch?0:r.initialEpoch,t.next=26,n.iterator();case 26:b=t.sent;case 27:if(!(y<r.epochs)){t.next=98;break}return x={},t.next=31,m.onEpochBegin(y);case 31:if(w=0,O=0,a){t.next=37;break}return t.next=36,n.iterator();case 36:b=t.sent;case 37:if(a&&!(w<r.batchesPerEpoch)){t.next=91;break}return t.next=40,b.next();case 40:if(k=t.sent,!a||!k.done){t.next=44;break}return console.warn("You provided `batchesPerEpoch` as "+"".concat(r.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(w," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(r.batchesPerEpoch*r.epochs," batches). ")+"You may need to use the repeat() function when building your dataset."),t.abrupt("break",91);case 44:if(null==k.value){t.next=73;break}return S=Rn(e,k.value),E=S.xs,C=S.ys,(j={}).batch=O,j.size=E[0].shape[0],t.next=51,m.onBatchBegin(O,j);case 51:if(T=[],null==r.classWeight){t.next=64;break}_=Mn(r.classWeight,e.outputNames),M=0;case 55:if(!(M<_.length)){t.next=64;break}return t.t0=T,t.next=59,Nn(C[M],null,_[M]);case 59:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 61:++M,t.next=55;break;case 64:for(N=E.concat(C).concat(T),I=l(N),o.fb(N),D=0;D<h.length;++D)R=h[D],P=I[D],j[R]=P,o.Gb(P);return t.next=70,m.onBatchEnd(O,j);case 70:Me(j),O++,w++;case 73:if(!(a?w>=r.batchesPerEpoch:k.done)){t.next=87;break}if(!i){t.next=86;break}if(F=void 0,!Wn(r.validationData)){t.next=84;break}return t.t2=A,t.next=80,e.evaluateDataset(r.validationData,{batches:r.validationBatches});case 80:t.t3=t.sent,F=(0,t.t2)(t.t3),t.next=85;break;case 84:F=A(e.evaluate(s,u,{batchSize:null==r.validationBatchSize?32:r.validationBatchSize,verbose:0}));case 85:for(L=0;L<e.metricsNames.length;++L)x["val_".concat(e.metricsNames[L])]=F[L];case 86:return t.abrupt("break",91);case 87:if(!e.stopTraining_){t.next=89;break}return t.abrupt("break",91);case 89:t.next=37;break;case 91:return t.next=93,m.onEpochEnd(y,x);case 93:if(y++,!e.stopTraining_){t.next=96;break}return t.abrupt("break",98);case 96:t.next=27;break;case 98:return t.next=100,m.onTrainEnd();case 100:return t.next=102,e.history.syncData();case 102:return t.abrupt("return",e.history);case 103:return t.prev=103,e.isTraining=!1,t.finish(103);case 106:case"end":return t.stop()}}),t,null,[[9,,103,106]])})))).apply(this,arguments)}function Bn(t,e){var n=null;return null!=e.batchesPerEpoch?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function Wn(t){return"function"===typeof t.iterator}function Un(t){return"function"===typeof t.next}function Vn(t,e,n){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(Te.a)(je.a.mark((function t(e,n,r){var a,i,s,u,c,l,h,f,p;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null!=(r=r||{}).batches,i=e.testFunction,s=[],!(r.verbose>0)){t.next=6;break}throw new k("Verbose mode is not implemented yet.");case 6:if(o.zd.assert(!a||r.batches>0&&Number.isInteger(r.batches),(function(){return"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(r.batches))})),!Un(n)){t.next=11;break}t.t0=n,t.next=14;break;case 11:return t.next=13,n.iterator();case 13:t.t0=t.sent;case 14:u=t.t0,c=0,l=0,h=je.a.mark((function t(){var n;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.next();case 2:if(n=t.sent,s=o.rd((function(){return n.value&&function(){var t=Rn(e,n.value),r=t.xs,a=t.ys,u=r.concat(a),h=o.rd((function(){return i(u)}));if(o.fb(u),0===l)for(var f=0;f<h.length;++f)s.push(Object(o.Fc)(0));for(var p=u[0].shape[0],d=function(t){var e=h[t],n=s[t];s[t]=o.rd((function(){return o.r(s[t],o.gc(p,e))})),l>0&&o.fb(n)},v=0;v<h.length;++v)d(v);o.fb(h),c+=p,++l}(),s})),!n.done){t.next=7;break}return a&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(r.batches," batches). ")+"You may need to use the repeat() function when building your dataset."),t.abrupt("return","break");case 7:case"end":return t.stop()}}),t)}));case 18:if(a&&!(l<r.batches)){t.next=25;break}return t.delegateYield(h(),"t1",20);case 20:if("break"!==t.t1){t.next=23;break}return t.abrupt("break",25);case 23:t.next=18;break;case 25:for(f=0;f<s.length;++f)p=s[f],s[f]=o.gb(s[f],c),o.fb(p);return t.abrupt("return",T(s));case 27:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gn(t){o.zd.assert(t>0&&Number.isInteger(t),(function(){return"batchSize is required to be a positive integer, but got ".concat(t)}))}function Yn(t,e,n){return null==t?[null]:Array.isArray(t)?t.map((function(t){return Ot(t,e,n-e)})):Ot(t,e,n-e)}function qn(t,e){return o.rd((function(){return null==t?null:Array.isArray(t)?t.map((function(t){return qn(t,e)})):_t(t,"int32"===e.dtype?e:e.toInt())}))}function Xn(t,e){for(var n=[],r=0,a=null;r<t;)(a=r+e)>=t&&(a=t),n.push([r,a]),r=a;return n}function Kn(t,e,n,r,a,i,o,s,u,c,l,h,f,p,d){return $n.apply(this,arguments)}function $n(){return($n=Object(Te.a)(je.a.mark((function t(e,n,r,a,i,s,u,c,l,h,f,p,d,v,m){var g,y,b,x,w,S,E,C;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==i&&(i=32),null==s&&(s=1),null==f&&(f=!0),null==d&&(d=0),g=!1,null!=l&&null!=h&&(g=!0),null==m){t.next=10;break}if(g=!0,null!=v){t.next=10;break}throw new O("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 10:return null!=(y=e.checkNumSamples(r,i,v,"steps_per_epoch"))&&(b=yt(0,y)),null==u&&(u=1),x=ze(c,u,s,d,y,v,i,g,p),w=x.callbackList,S=x.history,w.setModel(e),e.history=S,t.next=18,w.onTrainBegin();case 18:e.stopTraining_=!1,E=je.a.mark((function t(s){var u;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.onEpochBegin(s);case 2:if(u={},null==v){t.next=7;break}throw new k("stepsPerEpoch mode is not implemented yet.");case 7:return t.delegateYield(je.a.mark((function t(){var s,c,p,d;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("batch"!==f){t.next=4;break}throw new k("batch shuffling is not implemneted yet");case 4:f&&o.zd.shuffle(b);case 5:s=Object(o.nd)(b),c=Xn(y,i),p=je.a.mark((function t(f){var p;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p={},t.next=3,w.onBatchBegin(f,p);case 3:return o.rd((function(){var t=c[f][0],d=c[f][1],v=Ot(s,t,d-t);p.batch=f,p.size=d-t;for(var m=qn(r,v),y=n(m),b=0;b<a.length;++b){var x=a[b],w=y[b];p[x]=w,o.Gb(w)}if(f===c.length-1&&g)for(var O=e.testLoop(l,h,i),k=0;k<a.length;++k){var S=a[k],E=O[k];o.Gb(E),u["val_"+S]=E}})),t.next=6,w.onBatchEnd(f,p);case 6:if(Me(p),!e.stopTraining_){t.next=9;break}return t.abrupt("return","break");case 9:case"end":return t.stop()}}),t)})),d=0;case 9:if(!(d<c.length)){t.next=17;break}return t.delegateYield(p(d),"t0",11);case 11:if("break"!==t.t0){t.next=14;break}return t.abrupt("break",17);case 14:++d,t.next=9;break;case 17:s.dispose();case 18:case"end":return t.stop()}}),t)}))(),"t0",8);case 8:return t.next=10,w.onEpochEnd(s,u);case 10:if(!e.stopTraining_){t.next=12;break}return t.abrupt("return","break");case 12:case"end":return t.stop()}}),t)})),C=d;case 21:if(!(C<s)){t.next=29;break}return t.delegateYield(E(C),"t0",23);case 23:if("break"!==t.t0){t.next=26;break}return t.abrupt("break",29);case 26:++C,t.next=21;break;case 29:return t.next=31,w.onTrainEnd();case 31:return t.next=33,e.history.syncData();case 33:return t.abrupt("return",e.history);case 34:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Jn(t,e,n){return Zn.apply(this,arguments)}function Zn(){return(Zn=Object(Te.a)(je.a.mark((function t(e,n,r){var a,i,s,u,c,l,h,f,p,d,v,m,g,y,b,x,w,S,E,C,j,T,A,_,M=arguments;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=M.length>3&&void 0!==M[3]?M[3]:{},!e.isTraining){t.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return e.isTraining=!0,t.prev=4,Gn(p=null==a.batchSize?32:a.batchSize),d=!1,t.next=10,e.standardizeUserData(n,r,a.sampleWeight,a.classWeight,d,p);case 10:if(v=t.sent,i=v[0],s=v[1],f=v[2],m=!1,!(null!=a.validationData&&a.validationData.length>0)){t.next=36;break}if(m=!0,2!==a.validationData.length){t.next=22;break}u=a.validationData[0],c=a.validationData[1],t.next=27;break;case 22:if(3!==a.validationData.length){t.next=26;break}throw new k("validationData including sample weights is not supported yet.");case 26:throw new O("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(a.validationData," is invalid."));case 27:return y=!0,t.next=30,e.standardizeUserData(u,c,null,null,y,p);case 30:b=t.sent,l=b[0],h=b[1],g=l.concat(h),t.next=37;break;case 36:null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1?(m=!0,x=Math.floor(i[0].shape[0]*(1-a.validationSplit)),w=i[0].shape[0],l=Yn(i,x,w),i=Yn(i,0,x),h=Yn(s,x,w),s=Yn(s,0,x),g=l.concat(h)):null!=a.validationSteps&&(m=!0);case 37:return S=i.concat(s).concat(f),e.checkTrainableWeightsConsistency(),E=e.makeTrainFunction(),C=e.getDedupedMetricsNames(),m?(e.makeTestFunction(),j=e.testFunction,T=C.slice().concat(C.map((function(t){return"val_"+t})))):(j=null,g=[],T=C.slice()),A=Fe(a.callbacks,a.yieldEvery),t.next=45,Kn(e,E,S,C,p,a.epochs,a.verbose,A,j,g,a.shuffle,T,a.initialEpoch,null,null);case 45:return _=t.sent,t.abrupt("return",_);case 47:return t.prev=47,e.isTraining=!1,tr(i,n),tr(s,r),tr(l,u),tr(h,c),null!=f&&o.fb(f),t.finish(47);case 55:case"end":return t.stop()}}),t,null,[[4,,47,55]])})))).apply(this,arguments)}function Qn(t){var e=[];t instanceof o.l&&(t=[t]);for(var n=0;n<t.length;++n){var r=t[n];if(1===r.rank)e.push(xt(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function tr(t,e){if(null!=t){var n=[];if(e instanceof o.l)n.push(e.id);else if(Array.isArray(e))e.forEach((function(t){return n.push(t.id)}));else if(null!=e)for(var r in e){var a=e[r];n.push(a.id)}var i=[];if(t instanceof o.l)-1===n.indexOf(t.id)&&i.push(t);else if(Array.isArray(t))t.forEach((function(t){-1===n.indexOf(t.id)&&i.push(t)}));else if(null!=t)for(var s in t){var u=t[s];-1===n.indexOf(u.id)&&i.push(u)}i.forEach((function(t){t.isDisposed||t.dispose()}))}}function er(t){return Array.isArray(t)}function nr(t){return!function(t){return t instanceof o.l}(t)&&!er(t)}function rr(t,e,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==e||0===e.length){if(null!=t){var o=!1;if(er(t)&&t.length>0)o=!0;else if(nr(t)){for(var s in t)if(t.hasOwnProperty(s)){o=!0;break}}else o=!0;if(o)throw new O("Error when checking model ".concat(i," expected no data, ")+"but got ".concat(t))}return[]}if(null==t)return e.map((function(t){return null}));if(nr(t)){t=t,r=[];var u,c=Object(p.a)(e);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(null==t[l])throw new O('No data provided for "'.concat(l,'". Need data for each key in: ')+"".concat(e));r.push(t[l])}}catch(g){c.e(g)}finally{c.f()}}else if(er(t)){if((t=t).length!==e.length)throw new O("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(e.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(t));r=t}else{if(t=t,e.length>1)throw new O("The model ".concat(i," expects ").concat(e.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(t.shape));r=[t]}if(r=Qn(r),null!=n)for(var h=0;h<e.length;++h)if(null!=n[h]){var f=r[h];if(f.shape.length!==n[h].length)throw new O("Error when checking ".concat(i,": expected ").concat(e[h]," ")+"to have ".concat(n[h].length," dimension(s). but got array with ")+"shape ".concat(f.shape));for(var d=0;d<n[h].length;++d)if(0!==d||a){var v=f.shape[d],m=n[h][d];if(null!=m&&m>=0&&v!==m)throw new O("Error when checking ".concat(i,": expected ").concat(e[h]," ")+"to have shape [".concat(n[h],"], but got array with shape ")+"[".concat(f.shape,"]."))}}return r}function ar(t,e,n){var r=F(t.map((function(t){return t.shape[0]})));r.sort();var a=F(e.map((function(t){return t.shape[0]})));if(a.sort(),r.length>1)throw new O("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((function(t){return t.shape})))));if(a.length>1)throw new O("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((function(t){return t.shape})))));if(r.length>0&&a.length>0&&!o.zd.arraysEqual(r,a))throw new O("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(a[0]," target ")+"sample(s).")}function ir(t,e,n){for(var r=[Ve,Ke,qe],a=0;a<t.length;++a){var i=t[a],o=e[a],s=n[a];if(null!=o){if(o===qe&&1===i.shape[i.shape.length-1])throw new O("You are passing a target array of shape ".concat(i.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(o))for(var u=i.shape.slice(1),c=s.slice(1),l=0;l<u.length;++l){var h=u[l],f=c[l];if(null!=f&&h!==f)throw new O("A target Tensor with shape ".concat(i.shape," was passed for an ")+"output of shape ".concat(s,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}function or(t,e,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(t)){if(t.length!==e.length)throw new O("Error when checking model ".concat(i,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(e.length," Tensor(s),")+" but instead got ".concat(t.length," Tensors(s)."));r=t}else{if(e.length>1)throw new O("The model expects ".concat(e.length," ").concat(i," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(t.shape),"."));r=[t]}if(null!=n)for(var o=0;o<e.length;++o)if(null!=n[o]){var s=r[o];if(s.shape.length!==n[o].length)throw new O("Error when checking ".concat(i,": expected ").concat(e[o]," ")+"to have ".concat(n[o].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(s.shape)));for(var u=0;u<n[o].length;++u)if(0!==u||a){var c=s.shape[u],l=n[o][u];if(null!=l&&l!==c)throw new O("Error when checking ".concat(i,": expected ")+"".concat(e[o]," to have shape ").concat(JSON.stringify(n[o])," but ")+"got array with shape ".concat(JSON.stringify(s.shape),"."))}}}var sr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).isTraining=!1,r}return Object(u.a)(n,[{key:"summary",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new O("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");dn(this,t,e,n)}},{key:"compile",value:function(t){var e=this;if(null==t.loss&&(t.loss=[]),this.loss=t.loss,"string"===typeof t.optimizer)this.optimizer_=function(t){var e={Adagrad:function(){return o.ud.adagrad(.01)},Adadelta:function(){return o.ud.adadelta(1,.95,h())},Adam:function(){return o.ud.adam(.001,.9,.999,h())},Adamax:function(){return o.ud.adamax(.002,.9,.999,h(),0)},RMSProp:function(){return o.ud.rmsprop(.001,.9,0,h())},SGD:function(){return o.ud.sgd(.01)}};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new O("Unknown Optimizer ".concat(t))}(t.optimizer),this.isOptimizerOwned=!0;else{if(!(t.optimizer instanceof o.i))throw new O("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=t.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(t.loss)||"string"===typeof t.loss||"function"===typeof t.loss)if(Array.isArray(t.loss)){if(t.loss.length!==this.outputs.length)throw new O("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(t.loss,"."));var r=t.loss;n=r.map((function(t){return Qe(t)}))}else{var a=Qe(t.loss);this.outputs.forEach((function(t){n.push(a)}))}else{for(var i in t.loss=t.loss,t.loss)if(-1===this.outputNames.indexOf(i))throw new O('Unknown entry in loss dictionary: "'.concat(i,'". ')+"Only expected the following keys: ".concat(this.outputNames));var s,u=Object(p.a)(this.outputNames);try{for(u.s();!(s=u.n()).done;){var c=s.value;null==t.loss[c]&&console.warn('Output "'.concat(c,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(c," during training")),n.push(Qe(t.loss[c]))}}catch(y){u.e(y)}finally{u.f()}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var l=0;l<this.outputs.length;++l){var f=this.internalOutputShapes[l],d=this.outputNames[l];this.feedOutputNames.push(d),this.feedOutputShapes.push(f),this.feedLossFns.push(this.lossFunctions[l])}var v=[];this.metrics=t.metrics,this.metricsNames=["loss"],this.metricsTensors=[],ct("loss",(function(){for(var t=0;t<e.outputs.length;++t)if(-1===v.indexOf(t)){var n=e.lossFunctions[t];e.outputs.length>1&&(e.metricsTensors.push([n,t]),e.metricsNames.push(e.outputNames[t]+"_loss"))}}));var m=function(t,e){if(null==t||Array.isArray(t)&&0===t.length)return e.map((function(t){return[]}));var n;if("string"===typeof t||"function"===typeof t)n=[t];else{if(!Array.isArray(t)&&"object"!==typeof t)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(t));n=t}if(Array.isArray(n))return e.map((function(t){return n}));var r,a=[],i=Object(p.a)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=n.hasOwnProperty(o)?n[o]:[];Array.isArray(s)||(s=[s]),a.push(s)}}catch(y){i.e(y)}finally{i.f()}return a}(t.metrics,this.outputNames),g=function(t,n,r){e.outputNames.length>1&&(n=e.outputNames[t]+"_"+n),e.metricsNames.push(n),e.metricsTensors.push([r,t])};ct("metric",(function(){for(var t=function(t){if(-1!==v.indexOf(t))return"continue";!function(n){var r,a,i,o,s=Object(p.a)(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if("string"===typeof u&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(u)){var c=e.internalOutputShapes[t];1===c[c.length-1]||e.lossFunctions[t]===Ke?-1!==["accuracy","acc"].indexOf(u)?a=tn:-1!==["crossentropy","ce"].indexOf(u)&&(a=an):e.lossFunctions[t]===Xe?-1!==["accuracy","acc"].indexOf(u)?a=on:-1!==["crossentropy","ce"].indexOf(u)&&(a=un):-1!==["accuracy","acc"].indexOf(u)?a=en:-1!==["crossentropy","ce"].indexOf(u)&&(a=sn);var l=void 0;-1!==["accuracy","acc"].indexOf(u)?l="acc":-1!==["crossentropy","ce"].indexOf(u)&&(l="ce"),i=a,r=""+l}else{var h=ln(u);i=h,r=""+hn(u)}var f=void 0;ct(r,(function(){f=i})),g(t,r,f)}}catch(y){s.e(y)}finally{s.f()}}(m[t])},n=0;n<e.outputs.length;++n)t(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;Gn(r);var a=!0,i=this.standardizeUserDataXY(t,e,a,r);try{var o=i[0].concat(i[1]);this.makeTestFunction();var s=this.testFunction,u=this.testLoop(s,o,r,n.verbose,n.steps);return T(u)}finally{tr(i[0],t),tr(i[1],e)}}},{key:"evaluateDataset",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.makeTestFunction(),t.abrupt("return",Vn(this,e,n));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(t,e,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=e)throw new O("If ".concat(a," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(e))}else{if(null==t)throw new O("Either the input data should have a defined shape, or "+"".concat(a," shoud be specified."));r=Array.isArray(t)?t[0].shape[0]:t.shape[0]}return r}},{key:"execute",value:function(t,e){if(Array.isArray(e)&&0===e.length)throw new O("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(e),r=n?e:[e],a=this.retrieveSymbolicTensors(r),i=new kn;if(t instanceof o.l&&(t=[t]),Array.isArray(t)){if(t.length!==this.inputs.length)throw new O("The number of inputs provided (".concat(t.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(var s=0;s<this.inputs.length;++s)i.add(this.inputs[s],t[s])}else{var u,c=Object(p.a)(this.inputs);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=t[l.name];if(null==h)throw new O("No value is provided for the model's input ".concat(l.name));i.add(l,h)}}catch(d){c.e(d)}finally{c.f()}}var f=Cn(a,i);return n?f:f[0]}},{key:"retrieveSymbolicTensors",value:function(t){var e,n=E(null,t.length),r=t.length,a=Object(p.a)(this.layers);try{for(a.s();!(e=a.n()).done;){for(var i=e.value,o=Array.isArray(i.output)?i.output:[i.output],s=o.map((function(t){return t.name})),u=0;u<t.length;++u){var c=s.indexOf(t[u]);if(-1!==c&&(n[u]=o[c],r--),0===r)break}if(0===r)break}}catch(h){a.e(h)}finally{a.f()}if(r>0){var l=[];throw n.forEach((function(e,n){null==e&&l.push(t[n])})),new O("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(l)))}return n}},{key:"predictLoop",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o.rd((function(){var a=e.checkNumSamples(t);if(r)throw new k("Verbose predictLoop() is not implemented yet.");for(var i=Xn(a,n),s=e.outputs.map((function(t){return[]})),u=function(n){o.rd((function(){var r=i[n][0],a=i[n][1],o=Yn(t,r,a),s=[];if(Array.isArray(o))for(var u=0;u<o.length;++u)s.push({key:e.inputs[u],value:o[u]});else s.push({key:e.inputs[0],value:o});var c=new kn(s);return Cn(e.outputs,c)})).forEach((function(t,e){return s[e].push(t)}))},c=0;c<i.length;++c)u(c);return T(s.map((function(t){return o.R(t,0)})))}))}},{key:"predict",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Qn(t);or(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==e.batchSize?32:e.batchSize;return Gn(r),this.predictLoop(n,r)}finally{tr(n,t)}}},{key:"predictOnBatch",value:function(t){or(t,this.inputNames,this.feedInputShapes,!0);var e=(Array.isArray(t)?t[0]:t).shape[0];return this.predictLoop(t,e)}},{key:"standardizeUserDataXY",value:function(t,e){var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new w("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var i=this.feedOutputShapes[a],o=this.feedLossFns[a];o===Xe?r.push(i.slice(0,i.length-1).concat([1])):r.push(i)}if(ar(t=rr(t,this.feedInputNames,this.feedInputShapes,!1,"input"),e=rr(e,this.feedOutputNames,r,!1,"target")),ir(e,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&t[0].shape[0]%n!==0)throw new O("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(t[0].shape[0]," sample(s)."));return[t,e]}},{key:"standardizeUserData",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n,r,a){var i,o,s,u,c,l,h,p,d,v=arguments;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=!(v.length>4&&void 0!==v[4])||v[4],o=v.length>5?v[5]:void 0,s=this.standardizeUserDataXY(e,n,i,o),u=Object(f.a)(s,2),c=u[0],l=u[1],null==r){t.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(h=null,null==a){t.next=19;break}p=Mn(a,this.outputNames),h=[],d=0;case 10:if(!(d<p.length)){t.next=19;break}return t.t0=h,t.next=14,Nn(l[d],null,p[d]);case 14:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 16:++d,t.next=10;break;case 19:return t.abrupt("return",[c,l,h]);case 20:case"end":return t.stop()}}),t,this)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"testLoop",value:function(t,e,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;return o.rd((function(){var s=r.checkNumSamples(e,n,i,"steps"),u=[];if(a>0)throw new k("Verbose mode is not implemented yet.");if(null!=i)throw new k("steps mode in testLoop() is not implemented yet");for(var c=Xn(s,n),l=Object(o.nd)(yt(0,s)),h=0;h<c.length;++h){var f=c[h][0],p=c[h][1],d=Ot(l,f,p-f),v=qn(e,d),m=t(v);if(0===h)for(var g=0;g<m.length;++g)u.push(Object(o.Fc)(0));for(var y=0;y<m.length;++y){var b=m[y];u[y]=o.r(u[y],o.gc(p-f,b))}}for(var x=0;x<u.length;++x)u[x]=o.gb(u[x],s);return u}))}},{key:"getDedupedMetricsNames",value:function(){for(var t=this.metricsNames,e=[],n=0;n<t.length;++n){var r=t[n],a=r;if(j(t,r)>1){var i=j(t.slice(0,n),r);a+="_".concat(i)}e.push(a)}return e}},{key:"makeTrainFunction",value:function(){var t=this;return function(e){var n=[],r=e.slice(0,t.inputs.length),a=e.slice(t.inputs.length,t.inputs.length+t.outputs.length),i=e.slice(t.inputs.length+t.outputs.length,t.inputs.length+2*t.outputs.length),s=[],u=t.collectedTrainableWeights.map((function(t){return t.read()}));return[t.optimizer_.minimize((function(){for(var e=[],u=0;u<t.inputs.length;++u)e.push({key:t.inputs[u],value:r[u]});for(var c,l=new kn(e),h=Cn(t.outputs,l,{training:!0}),f=0;f<t.lossFunctions.length;++f){var p=(0,t.lossFunctions[f])(a[f],h[f]);null!=i[f]&&(p=Dn(p,i[f]));var d=o.ac(p);n.push(d),c=0===f?p:o.r(c,p)}for(var v=0;v<t.metricsTensors.length;++v){var m=void 0;if(t.outputs.length>1&&v<t.outputs.length)m=n[v];else{var g=t.metricsTensors[v][0],y=t.metricsTensors[v][1];m=o.ac(g(a[y],h[y]))}o.Gb(m),s.push(m)}return c=o.ac(c),t.calculateLosses().forEach((function(t){c=o.r(c,t)})),c}),!0,u)].concat(s)}}},{key:"makeTestFunction",value:function(){var t=this;this.testFunction=function(e){return o.rd((function(){for(var n,r=[],a=e.slice(0,t.inputs.length),i=e.slice(t.inputs.length,t.inputs.length+t.outputs.length),s=[],u=0;u<t.inputs.length;++u)s.push({key:t.inputs[u],value:a[u]});for(var c=new kn(s),l=Cn(t.outputs,c),h=0;h<t.lossFunctions.length;++h){var f=t.lossFunctions[h],p=o.ac(f(i[h],l[h]));n=0===h?p:o.r(n,p),r.push(n)}for(var d=0;d<t.metricsTensors.length;++d){var v=t.metricsTensors[d][0],m=t.metricsTensors[d][1],g=o.ac(v(i[m],l[m]));r.push(g)}return r}))}}},{key:"fit",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a=arguments;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.abrupt("return",Jn(this,e,n,r));case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ln(this,e,n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a,i,s,u,c,l,h,f,d;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.standardizeUserData(e,n);case 2:r=t.sent,a=r[0],i=r[1],s=this.makeTrainFunction(),u=s(a.concat(i)),c=[],l=Object(p.a)(u),t.prev=9,l.s();case 11:if((h=l.n()).done){t.next=19;break}return f=h.value,t.next=15,f.data();case 15:d=t.sent,c.push(d[0]);case 17:t.next=11;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(9),l.e(t.t0);case 24:return t.prev=24,l.f(),t.finish(24);case 27:return o.fb(u),t.abrupt("return",T(c));case 29:case"end":return t.stop()}}),t,this,[[9,21,24,27]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(t){for(var e=[],n=null!=t&&t.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),i=0;i<r.length;++i)n&&!r[i].trainable||e.push({name:r[i].originalName,tensor:a[i]});return e}},{key:"dispose",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"dispose",this).call(this);if(0===t.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var e=o.bc().numTensors;this.optimizer_.dispose(),t.numDisposedVariables+=e-o.bc().numTensors}return t}},{key:"getLossIdentifiers",value:function(){var t;if("string"===typeof this.loss)t=_(this.loss);else if(Array.isArray(this.loss)){var e,n=Object(p.a)(this.loss);try{for(n.s();!(e=n.n()).done;){if("string"!==typeof e.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(u){n.e(u)}finally{n.f()}t=this.loss.map((function(t){return _(t)}))}else{var r=Object.keys(this.loss);t={};for(var a=this.loss,i=0,o=r;i<o.length;i++){var s=o[i];if("string"!==typeof a[s])throw new Error("Serialization of non-string loss is not supported.");t[s]=_(a[s])}}return t}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[_(hn(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(t){return _(hn(t))}));var t={};for(var e in this.metrics)t[e]=_(hn(this.metrics[e]));return t}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(t){if(null!=t.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=t.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=t.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var e,n,r=We(wn(t.optimizer_config));if("string"===typeof t.loss)e=M(t.loss);else if(Array.isArray(t.loss))e=t.loss.map((function(t){return M(t)}));else if(null!=t.loss)for(var a in e={},t.loss)e[a]=M(t.loss[a]);if(Array.isArray(t.metrics))n=t.metrics.map((function(t){return M(t)}));else if(null!=t.metrics)for(var i in n={},t.metrics)n[i]=M(t.metrics[i]);this.compile({loss:e,metrics:n,optimizer:r})}},{key:"save",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a,i,s,u,c,l,h,f;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!==typeof e){t.next=9;break}if(0!==(r=o.Eb.getSaveHandlers(e)).length){t.next=6;break}throw new O("Cannot find any save handlers for URL '".concat(e,"'"));case 6:if(!(r.length>1)){t.next=8;break}throw new O("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(e,"'"));case 8:e=r[0];case 9:if(null!=e.save){t.next=11;break}throw new O("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return t.next=13,o.Eb.encodeWeights(this.getNamedWeights(n));case 13:if(a=t.sent,!1,null,i=this.toJSON(null,!1),s={modelTopology:i,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat("2.0.0"),convertedBy:null},!(null!=n&&n.includeOptimizer)||null==this.optimizer){t.next=34;break}return s.trainingConfig=this.getTrainingConfig(),c="optimizer",t.t0=o.Eb,t.next=25,this.optimizer.getWeights();case 25:return t.t1=t.sent,t.t2=c,t.next=29,t.t0.encodeWeights.call(t.t0,t.t1,t.t2);case 29:l=t.sent,h=l.data,f=l.specs,(u=a.specs).push.apply(u,Object(Q.a)(f)),a.data=o.Eb.concatenateArrayBuffers([a.data,h]);case 34:return null!=this.userDefinedMetadata&&(!0,fn(this.userDefinedMetadata,this.name,!0),s.userDefinedMetadata=this.userDefinedMetadata),s.weightData=a.data,s.weightSpecs=a.specs,t.abrupt("return",e.save(s));case 38:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(t){fn(t,this.name),this.userDefinedMetadata=t}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}},{key:"stopTraining",set:function(t){this.stopTraining_=t},get:function(){return this.stopTraining_}},{key:"optimizer",get:function(){return this.optimizer_},set:function(t){this.optimizer_!==t&&(this.optimizer_=t,this.isOptimizerOwned=!1)}}]),n}(function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),(r=e.call(this,{})).containerNodes=new Set,r.name=t.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=ue(a)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(t.inputs)?r.inputs=t.inputs.slice():r.inputs=[t.inputs],Array.isArray(t.outputs)?r.outputs=t.outputs.slice():r.outputs=[t.outputs],F(r.inputs).length!==r.inputs.length)throw new O("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(r.inputs.map((function(t){return t.name}))));F(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(r.outputs.map((function(t){return t.name})))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];var i,o=Object(p.a)(r.outputs);try{for(o.s();!(i=o.n()).done;){var u=i.value,c=u.sourceLayer,l=u.nodeIndex,h=u.tensorIndex;r.outputLayers.push(c),r.outputLayersNodeIndices.push(l),r.outputLayersTensorIndices.push(h)}}catch(_t){o.e(_t)}finally{o.f()}var f,v=Object(p.a)(r.inputs);try{for(v.s();!(f=v.n()).done;){var m=f.value,g=m.sourceLayer,y=m.nodeIndex,b=m.tensorIndex;C(0===y,"input layer has >1 nodes"),C(0===b,"input layer has >1 tensors"),r.inputLayers.push(g),r.inputLayersNodeIndices.push(y),r.inputLayersTensorIndices.push(b)}}catch(_t){v.e(_t)}finally{v.f()}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var x=0;x<r.inputLayers.length;x++){var k=r.inputLayers[x];if(!(k instanceof ke))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(t.inputs,". ")+"Input ".concat(x," (0-based) originates ")+"from layer type ".concat(k.getClassName(),"."));r.inputNames.push(k.name),r.feedInputShapes.push(k.batchInputShape),r.feedInputNames.push(k.name)}var S,E=Object(p.a)(r.outputLayers);try{for(E.s();!(S=E.n()).done;){var j=S.value;r.outputNames.push(j.name)}}catch(_t){E.e(_t)}finally{E.f()}r.internalInputShapes=r.inputs.map((function(t){return t.shape})),r.internalOutputShapes=r.outputs.map((function(t){return t.shape}));var T,A={},_={},M={},N={},I={},D=[],R=function t(e,a,i,o,s,u){null!=o&&null!=s&&null!=u||(o=e.sourceLayer,s=e.nodeIndex,u=e.tensorIndex);var c=o.inboundNodes[s];if(-1!==i.indexOf(c))throw new w("The tensor ".concat(e.name,' at layer "').concat(o.name,'" ')+"is part of a cycle.");if(-1===a.indexOf(c)){r.containerNodes.add(n.nodeKey(o,s)),o.id in I||(I[o.id]=Object.keys(I).length),-1===i.indexOf(c)&&i.push(c);for(var l=c.inboundLayers.length,h=0;h<l;h++){t(c.inputTensors[h],a,i,c.inboundLayers[h],c.nodeIndices[h],c.tensorIndices[h])}for(a.push(c);i.indexOf(c)>=0;)i.splice(i.indexOf(c),1);D.push(c)}},L=[],z=[],B=Object(p.a)(r.outputs);try{for(B.s();!(T=B.n()).done;){R(T.value,L,z)}}catch(_t){B.e(_t)}finally{B.f()}var W,U=D.slice().reverse(),V=Object(p.a)(U);try{for(V.s();!(W=V.n()).done;){var H=W.value;_[H.id]=H,H.id in A||(A[H.id]=0);var G=A[H.id],Y=null==M[H.outboundLayer.id]?0:M[H.outboundLayer.id];G=Math.max(G,Y),M[H.outboundLayer.id]=G,N[H.outboundLayer.id]=H.outboundLayer,A[H.id]=G;for(var q=0;q<H.inboundLayers.length;q++){var X=H.inboundLayers[q],K=H.nodeIndices[q],$=X.inboundNodes[K],J=null==A[$.id]?0:A[$.id];A[$.id]=Math.max(G+1,J),_[$.id]=$}}}catch(_t){V.e(_t)}finally{V.f()}var Z={};for(var Q in A){var tt=A[Q];tt in Z||(Z[tt]=[]),Z[tt].push(_[Q])}var et={};for(var nt in M){var rt=M[nt];rt in et||(et[rt]=[]),et[rt].push(N[nt])}var at=Object.keys(et).map((function(t){return parseInt(t,10)})).sort(P);r.layers=[];var it,ot=Object(p.a)(at);try{for(ot.s();!(it=ot.n()).done;){var st=et[it.value];st.sort((function(t,e){var n=I[t.id],r=I[e.id];return n<r?-1:n>r?1:0}));var ut,ct=Object(p.a)(st);try{for(ct.s();!(ut=ct.n()).done;){var lt=ut.value;lt instanceof n&&r.internalContainerRefs.push(lt),r.layers.push(lt)}}catch(_t){ct.e(_t)}finally{ct.f()}}}catch(_t){ot.e(_t)}finally{ot.f()}r.layersByDepth=et,at=Object.keys(Z).map((function(t){return parseInt(t,10)})).sort(P);var ht,ft=r.inputs.slice(),pt=[],dt=Object(p.a)(at);try{for(dt.s();!(ht=dt.n()).done;){var vt,mt=ht.value,gt=Object(p.a)(Z[mt]);try{for(gt.s();!(vt=gt.n()).done;){var yt=vt.value,bt=yt.outboundLayer;if(null!=bt){var xt,wt=Object(p.a)(yt.inputTensors);try{for(wt.s();!(xt=wt.n()).done;){var Ot=xt.value;if(-1===ft.indexOf(Ot))throw new w("Graph disconnected: cannot obtain value for tensor ".concat(Ot)+' at layer "'.concat(bt.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(pt))}}catch(_t){wt.e(_t)}finally{wt.f()}var kt,St=Object(p.a)(yt.outputTensors);try{for(St.s();!(kt=St.n()).done;){var Et=kt.value;ft.push(Et)}}catch(_t){St.e(_t)}finally{St.f()}pt.push(bt.name)}}}catch(_t){gt.e(_t)}finally{gt.f()}}}catch(_t){dt.e(_t)}finally{dt.f()}r.nodesByDepth=Z;var Ct,jt=r.layers.map((function(t){return t.name})),Tt=Object(p.a)(jt);try{var At=function(){var t=Ct.value,e=jt.filter((function(e){return e===t})).length;if(1!==e)throw new w('The name "'.concat(t,'" is used ').concat(e," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(jt))};for(Tt.s();!(Ct=Tt.n()).done;)At()}catch(_t){Tt.e(_t)}finally{Tt.f()}return r.outboundNodes=[],r.inboundNodes=[],new xe({outboundLayer:Object(d.a)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(t){return null})),outputMasks:r.outputs.map((function(t){return null})),inputShapes:r.inputs.map((function(t){return t.shape})),outputShapes:r.outputs.map((function(t){return t.shape}))}),r.built=!0,r._refCount=1,r}return Object(u.a)(n,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var t={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var e,n=Object(p.a)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.numDisposedVariables+=r.dispose().numDisposedVariables}}catch(s){n.e(s)}finally{n.f()}var a,i=Object(p.a)(this.internalContainerRefs);try{for(i.s();!(a=i.n()).done;){var o=a.value;t.numDisposedVariables+=o.dispose().numDisposedVariables}}catch(s){i.e(s)}finally{i.f()}}return t.refCountAfterDispose=this._refCount,t}},{key:"loadWeights",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},a=0,i=Object(p.a)(this.layers);try{for(i.s();!(e=i.n()).done;){var o,s=e.value,u=Object(p.a)(s.weights);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(null!=r[c.originalName])throw new O("Duplicate weight name: ".concat(c.originalName));r[c.originalName]=c,a++}}catch(v){u.e(v)}finally{u.f()}}}catch(v){i.e(v)}finally{i.f()}var l=[];for(var h in t){if(null!=r[h])l.push([r[h],t[h]]);else if(n)throw new O("Provided weight data has no target variable: ".concat(h));delete r[h]}if(n){var f=[];for(var d in r)f.push(d);if(f.length>0)throw new O("".concat(f.length," of ").concat(a," weights are not set: ")+"".concat(f))}me(l)}},{key:"updatedConfig",value:function(){var t=this.getConfig(),e={};return e.className=this.getClassName(),e.config=t,e.kerasVersion="tfjs-layers ".concat("2.0.0"),e.backend="TensorFlow.js",e}},{key:"toJSON",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=On(this.updatedConfig());return e?JSON.stringify(n):n}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){t=A(t);for(var r=new kn,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],t[a]);return Cn(n.outputs,r,e)}))}},{key:"computeMask",value:function(t,e){var n=this;return Object(o.rd)((function(){var r;return t=A(t),r=null==e?E(null,t.length):A(e),n.runInternalGraph(t,r)[1]}))}},{key:"computeOutputShape",value:function(t){var e=le(t);if(e.length!==this.inputLayers.length)throw new O("Invalid inputShape argument ".concat(t,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<e.length;r++){var a=this.inputLayers[r],i=e[r];n[a.name+"_0_0"]=i}var o=Object.keys(this.nodesByDepth).map((function(t){return parseInt(t,10)})).sort(P);if(o.length>1){var s,u=Object(p.a)(o);try{for(u.s();!(s=u.n()).done;){var c,l=s.value,h=this.nodesByDepth[l],f=Object(p.a)(h);try{for(f.s();!(c=f.n()).done;){var d=c.value,v=d.outboundLayer;if(-1===this.inputLayers.map((function(t){return t.id})).indexOf(v.id)){for(var m=[],g=0;g<d.inboundLayers.length;g++){var y=d.inboundLayers[g],b=d.nodeIndices[g],x=d.tensorIndices[g],w=n["".concat(y.name,"_").concat(b,"_").concat(x)];m.push(w)}for(var k=le(v.computeOutputShape(T(m))),S=v.inboundNodes.indexOf(d),E=0;E<k.length;E++){n["".concat(v.name,"_").concat(S,"_").concat(E)]=k[E]}}}}catch(L){f.e(L)}finally{f.f()}}}catch(L){u.e(L)}finally{u.f()}}for(var j=[],A=[],_=0;_<this.outputLayers.length;_++){var M=this.outputLayers[_],N=this.outputLayersNodeIndices[_],I=this.outputLayersTensorIndices[_],D="".concat(M.name,"_").concat(N,"_").concat(I);A.push(D)}for(var R=0;R<A.length;R++){var F=A[R];C(F in n),j.push(n[F])}return T(j)}},{key:"runInternalGraph",value:function(t,e){null==e&&(e=E(null,t.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],i=t[r],o=e[r];n[a.id]=[i,o]}var s,u=Object.keys(this.nodesByDepth).map((function(t){return parseInt(t,10)})).sort(P),c=Object(p.a)(u);try{for(c.s();!(s=c.n()).done;){var l,h=s.value,d=this.nodesByDepth[h],v=Object(p.a)(d);try{for(v.s();!(l=v.n()).done;){var m,g=l.value,y=g.outboundLayer,b=g.inputTensors,x=g.outputTensors,w=new Array,O=Object(p.a)(b);try{for(O.s();!(m=O.n()).done;){var S=m.value;S.id in n&&w.push(n[S.id])}}catch($){O.e($)}finally{O.f()}if(w.length===b.length){var j={},T=void 0,_=void 0,M=void 0,N=void 0;if(null!=g.callArgs&&(j=g.callArgs),1===w.length){var I=Object(f.a)(w[0],2),D=I[0],R=I[1];null==j.mask&&(j.mask=R),M=A(y.call(D,j)),N=A(y.computeMask(D,R)),T=[D],_=[R]}else T=w.map((function(t){return t[0]})),_=w.map((function(t){return t[1]})),null==j.mask&&(j.mask=_),M=A(y.call(T,j)),N=A(y.computeMask(T,_));if(y.activityRegularizer)throw new k("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var F=0;F<x.length;++F){var L=x[F],z=M[F],B=N[F];n[L.id]=[z,B]}}}}catch($){v.e($)}finally{v.f()}}}catch($){c.e($)}finally{c.f()}var W,U=[],V=[],H=[],G=Object(p.a)(this.outputs);try{for(G.s();!(W=G.n()).done;){var Y=W.value;C(Y.id in n,"Could not compute output ".concat(Y.name," : ").concat(Y.id));var q=Object(f.a)(n[Y.id],2),X=q[0],K=q[1];H.push(X.shape),U.push(X),V.push(K)}}catch($){G.e($)}finally{G.f()}return[U,V,H]}},{key:"buildNodeConversionMap",value:function(t){var e,r,a={},i=Object(p.a)(this.layers);try{for(i.s();!(r=i.n()).done;){var o=r.value;e=o instanceof n?1:0;for(var s=0;s<o.inboundNodes.length;s++){var u=n.nodeKey(o,s);this.containerNodes.has(u)&&(a[u]=e,e+=1)}}}catch(c){i.e(c)}finally{i.f()}return a}},{key:"getLayer",value:function(t,e){if(null!=e){if(this.layers.length<=e)throw new O("Was asked to retrieve layer at index ".concat(e,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[e]}if(null==t)throw new O("Provide either a layer name or layer index");var n,r=Object(p.a)(this.layers);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.name===t)return a}}catch(i){r.e(i)}finally{r.f()}throw new O("No such layer: ".concat(t))}},{key:"calculateLosses",value:function(){var t=this;return Object(o.rd)((function(){var e,r=[],a=Object(p.a)(t.layers);try{for(a.s();!(e=a.n()).done;)for(var i=e.value,o=0;o<i.inboundNodes.length;++o){var s=n.nodeKey(i,o);t.containerNodes.has(s)&&r.push.apply(r,Object(Q.a)(i.calculateLosses()))}}catch(u){a.e(u)}finally{a.f()}return r}))}},{key:"getConfig",value:function(){var t,e={name:this.name},r=this.buildNodeConversionMap(this.layers),a=[],i=Object(p.a)(this.layers);try{for(i.s();!(t=i.n()).done;){for(var o=t.value,s=o.getClassName(),u=o.getConfig(),c=[],l=0;l<o.inboundNodes.length;l++){var h=o.inboundNodes[l],f=n.nodeKey(o,l),d={};if(this.containerNodes.has(f)){if(h.callArgs)try{JSON.stringify(h.callArgs),d=h.callArgs}catch(P){console.warn("Layer ".concat(o.name," was passed ")+"non-serializable keyword arguments: "+"".concat(h.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),d={}}if(h.inboundLayers.length>0){for(var v=[],m=0;m<h.inboundLayers.length;m++){var g=h.inboundLayers[m],y=h.nodeIndices[m],b=h.tensorIndices[m],x=r[n.nodeKey(g,y)];null==x&&(x=0),v.push([g.name,x,b,d])}c.push(v)}}}var w={};w.name=o.name,w.className=s,w.config=u,w.inboundNodes=c,a.push(w)}}catch(P){i.e(P)}finally{i.f()}e.layers=a;for(var O=[],k=0;k<this.inputLayers.length;k++){var S=this.inputLayers[k],E=this.inputLayersNodeIndices[k],C=n.nodeKey(S,E);if(this.containerNodes.has(C)){var j=r[C];null!==j&&void 0!==j||(j=0);var T=this.inputLayersTensorIndices[k];O.push([S.name,j,T])}}e.inputLayers=O;for(var A=[],_=0;_<this.outputLayers.length;_++){var M=this.outputLayers[_],N=this.outputLayersNodeIndices[_],I=n.nodeKey(M,N);if(this.containerNodes.has(I)){var D=r[I];null!==D&&void 0!==D||(D=0);var R=this.outputLayersTensorIndices[_];A.push([M.name,D,R])}}return e.outputLayers=A,e}},{key:"resetStates",value:function(){var t=this;Object(o.rd)((function(){t.layers.forEach((function(t){t.stateful&&t.resetStates()}))}))}},{key:"trainable",get:function(){return this.trainable_},set:function(t){this.layers.forEach((function(e){e._trainableWeights.forEach((function(e){return e.trainable=t}))})),this.trainable_=t}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new O("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var t,e=[],n=Object(p.a)(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e=e.concat(r.trainableWeights)}}catch(a){n.e(a)}finally{n.f()}return e}},{key:"nonTrainableWeights",get:function(){var t,e=[],n=Object(p.a)(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push.apply(e,Object(Q.a)(r.nonTrainableWeights))}}catch(u){n.e(u)}finally{n.f()}if(!this.trainable){var a,i=[],o=Object(p.a)(this.layers);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push.apply(i,Object(Q.a)(s.trainableWeights))}}catch(u){o.e(u)}finally{o.f()}return i.concat(e)}return e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){if(this._stateful)throw new O("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var t,e=Object(p.a)(this.layers);try{for(e.s();!(t=e.n()).done;){if(t.value.stateful)return!0}}catch(n){e.e(n)}finally{e.f()}return!1}}],[{key:"fromConfig",value:function(t,e){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function i(t,e){t.name in a?a[t.name].push(e):a[t.name]=[e]}function o(t,e){var n,a,o=[],s=Object(p.a)(e);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u[0],l=u[1],h=u[2];if(n=null==u[3]?{}:u[3],!(c in r))return void i(t,e);var f=r[c];if(f.inboundNodes.length<=l)return void i(t,e);var d=f.inboundNodes[l];o.push(d.outputTensors[h])}}catch(v){s.e(v)}finally{s.f()}o.length>0&&t.apply(T(o),n)}function s(t){var a=t.name,o=We(t,null!=e.customObjects?e.customObjects:{});o.setFastWeightInitDuringBuild(n),r[a]=o,t.inboundNodes.forEach((function(t){if(!(t instanceof Array))throw new O("Corrupted configuration, expected array for nodeData: ".concat(t));i(o,t)}))}var u,c=e.name,l=e.layers,h=Object(p.a)(l);try{for(h.s();!(u=h.n()).done;){var f=u.value;s(f)}}catch(Y){h.e(Y)}finally{h.f()}for(;!L(a);){var d,v=Object(p.a)(l);try{for(v.s();!(d=v.n()).done;){var m=d.value,g=r[m.name];if(g.name in a){var y=a[g.name];delete a[g.name];var b,x=Object(p.a)(y);try{for(x.s();!(b=x.n()).done;){var w=b.value;o(g,w)}}catch(Y){x.e(Y)}finally{x.f()}}}}catch(Y){v.e(Y)}finally{v.f()}}var k,S=[],E=[],j=e.inputLayers,A=Object(p.a)(j);try{for(A.s();!(k=A.n()).done;){var _=k.value,M=_[0],N=_[1],I=_[2];C(M in r);var D=r[M],R=D.inboundNodes[N].outputTensors;S.push(R[I])}}catch(Y){A.e(Y)}finally{A.f()}var P,F=e.outputLayers,z=Object(p.a)(F);try{for(z.s();!(P=z.n()).done;){var B=P.value,W=B[0],U=B[1],V=B[2];C(W in r);var H=r[W],G=H.inboundNodes[U].outputTensors;E.push(G[V])}}catch(Y){z.e(Y)}finally{z.f()}return new t({inputs:S,outputs:E,name:c})}}]),n}(Oe));sr.className="Model",o.Jc.registerClass(sr);var ur=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),t=t||{},(r=e.call(this,{inputs:[],outputs:[]})).trainable=!0,r.built=!1,r.name=null!=t.name?t.name:ue("sequential_"),null!=t.layers){var a,i=Object(p.a)(t.layers);try{for(i.s();!(a=i.n()).done;){var o=a.value;r.add(o)}}catch(u){i.e(u)}finally{i.f()}}return r}return Object(u.a)(n,[{key:"checkShape",value:function(t){if(t.inboundNodes[0].outputTensors[0].shape.some((function(t){return t<0})))throw new O("Negative dimension size caused by adding layer "+"".concat(t.name," with input shape [")+"".concat(t.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(t){var e,r=t instanceof n||t instanceof sr;if(r){if(1!==(e=t).outputs.length)throw new O("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==e.inputs.length)throw new O("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===t.inboundNodes.length){if(null==t.batchInputShape)throw new O("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=Se({batchShape:t.batchInputShape,dtype:t.dtype,name:t.name+"_input"});t.apply(a)}if(r)this.outputs=e.outputs,this.inputs=e.inputs;else{if(1!==t.inboundNodes.length)throw new O("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(t.name," ")+"which has ".concat(t.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==t.inboundNodes[0].outputTensors.length)throw new O("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[t.inboundNodes[0].outputTensors[0]],this.inputs=function t(e,n,r){if((null==n||null!=r&&r>0)&&(n=e.sourceLayer,r=e.nodeIndex),0===n.inboundNodes.length)return[e];var a=n.inboundNodes[r];if(0===a.inboundLayers.length)return a.inputTensors;for(var i=[],o=0;o<a.inboundLayers.length;o++){var s,u=t(a.inputTensors[o],a.inboundLayers[o],a.nodeIndices[o]),c=Object(p.a)(u);try{for(c.s();!(s=c.n()).done;){var l=s.value;-1===i.indexOf(l)&&i.push(l)}}catch(h){c.e(h)}finally{c.f()}}return i}(this.outputs[0])}this.inboundNodes=[],new xe({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:E(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(t){return t.shape})),outputShapes:this.outputs[0].shape})}else{var i=t.apply(this.outputs[0]);if(Array.isArray(i))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(t),this.outputs=[i],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(t),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var t=this.layers.length-1;this.layers[t].outboundNodes=[],this.outputs=[this.layers[t].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(t,e){return null==this.model&&this.build(),this.model.call(t,e)}},{key:"build",value:function(t){if(fe(t),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new sr({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),Object(Be.a)(Object(v.a)(n.prototype),"countParams",this).call(this)}},{key:"summary",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),Object(Be.a)(Object(v.a)(n.prototype),"summary",this).call(this,t,e,r)}},{key:"setWeights",value:function(t){null==this.model&&this.build(),this.model.setWeights(t)}},{key:"evaluate",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new w("The model needs to be compiled before being used.");return this.model.evaluate(t,e,n)}},{key:"evaluateDataset",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.built){t.next=2;break}throw new w("The model needs to be compiled before being used.");case 2:return t.abrupt("return",this.model.evaluateDataset(e,n));case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"predict",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(t,e)}},{key:"predictOnBatch",value:function(t){return null==this.model&&this.build(),this.model.predictOnBatch(t)}},{key:"compile",value:function(t){this.build(),this.model.compile(t),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"fit",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){var r,a=arguments;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},this.built){t.next=3;break}throw new w("The model needs to be compiled before being used.");case 3:return t.abrupt("return",this.model.fit(e,n,r));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.built){t.next=2;break}throw new w("The model needs to be compiled before being used.");case 2:return t.abrupt("return",this.model.fitDataset(e,n));case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var t=Object(Te.a)(je.a.mark((function t(e,n){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.model.trainOnBatch(e,n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getConfig",value:function(){var t,e=[],n=Object(p.a)(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value,a={};a.className=r.getClassName(),a.config=r.getConfig(),e.push(a)}}catch(i){n.e(i)}finally{n.f()}return{name:this.name,layers:e}}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(t){this.model.optimizer=t}},{key:"stopTraining",set:function(t){if(null==this.model)throw new O("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=t},get:function(){if(null==this.model)throw new O("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}}],[{key:"fromConfig",value:function(t,e){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};if(e instanceof Array){if(null==e[0].className||"Merge"===e[0].className)throw new O("Legacy serialization format not supported yet.");r=e}else o.zd.assert(null!=e.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),r=e.layers,delete e.layers,i=e;var s=new t(i);if(!(s instanceof n))throw new k("Sequential.fromConfig called on non-Sequential input: ".concat(s));var u,c=Object(p.a)(r);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=void 0,f=We(l,h,a);a&&f.setFastWeightInitDuringBuild(!0),s.add(f)}}catch(d){c.e(d)}finally{c.f()}return s}}]),n}(sr);function cr(t){return new ur(t)}function lr(t){return Se(t)}ur.className="Sequential",o.Jc.registerClass(ur);var hr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"getConfig",value:function(){return{}}}]),n}(o.Jc.Serializable),fr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Dt(t,e)}}]),n}(hr);fr.className="elu",o.Jc.registerClass(fr);var pr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return o.Hc(t)}}]),n}(hr);pr.className="selu",o.Jc.registerClass(pr);var dr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return o.zc(t)}}]),n}(hr);dr.className="relu",o.Jc.registerClass(dr);var vr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return Object(o.rd)((function(){return o.dc(6,o.zc(t))}))}}]),n}(hr);vr.className="relu6",o.Jc.registerClass(vr);var mr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return t}}]),n}(hr);mr.className="linear",o.Jc.registerClass(mr);var gr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return o.Mc(t)}}]),n}(hr);gr.className="sigmoid",o.Jc.registerClass(gr);var yr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return function(t){return Object(o.rd)((function(){var e=o.r(.5,o.gc(.2,t));return o.P(e,0,1)}))}(t)}}]),n}(hr);yr.className="hardSigmoid",o.Jc.registerClass(yr);var br=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return o.Xc(t)}}]),n}(hr);br.className="softplus",o.Jc.registerClass(br);var xr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return function(t){return Object(o.rd)((function(){return o.gb(t,o.o(t).add(1))}))}(t)}}]),n}(hr);xr.className="softsign",o.Jc.registerClass(xr);var wr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){return o.ld(t)}}]),n}(hr);wr.className="tanh",o.Jc.registerClass(wr);var Or=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return o.Wc(t,e)}}]),n}(hr);Or.className="softmax",o.Jc.registerClass(Or);var kr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return o.Qb(t,e)}}]),n}(hr);function Sr(t){return t.getClassName()}function Er(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R(t,o.Jc.SerializationMap.getMap().classNameMap,e,"activation")}function Cr(t){if(null==t){var e={className:"linear",config:{}};return Er(e)}if("string"===typeof t){var n={};return n.className=t,n.config={},Er(n)}return t instanceof hr?t:Er(t)}function jr(t){if(null!=t&&"object"!==typeof t)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(t))}kr.className="logSoftmax",o.Jc.registerClass(kr);var Tr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return n}(o.Jc.Serializable),Ar=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this),jr(t),r.l1=null==t||null==t.l1?.01:t.l1,r.l2=null==t||null==t.l2?.01:t.l2,r.hasL1=0!==r.l1,r.hasL2=0!==r.l2,r}return Object(u.a)(n,[{key:"apply",value:function(t){var e=this;return Object(o.rd)((function(){var n=Object(o.Fd)([1]);return e.hasL1&&(n=Object(o.r)(n,Object(o.id)(o.gc(e.l1,Object(o.o)(t))))),e.hasL2&&(n=Object(o.r)(n,Object(o.id)(o.gc(e.l2,Mt(t))))),n.asScalar()}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(t,e){return new t({l1:e.l1,l2:e.l2})}}]),n}(Tr);Ar.className="L1L2",o.Jc.registerClass(Ar);var _r={l1l2:"L1L2"};function Mr(t){return I(t)}function Nr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R(t,o.Jc.SerializationMap.getMap().classNameMap,e,"regularizer")}function Ir(t){return null==t?null:"string"===typeof t?Nr({className:t in _r?_r[t]:t,config:{}}):t instanceof Tr?t:Nr(t)}var Dr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,null==t?{}:t)).supportsMasking=!0,null!=t&&(r.maxValue=t.maxValue),r}return Object(u.a)(n,[{key:"call",value:function(t,e){t=he(t);var n=Object(o.zc)(t);return null!=this.maxValue&&(n=Object(o.P)(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(t){return t}},{key:"getConfig",value:function(){var t={maxValue:this.maxValue},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);Dr.className="ReLU",o.Jc.registerClass(Dr);var Rr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,null==t?{}:t)).DEFAULT_ALPHA=.3,null==t&&(t={}),r.alpha=null==t.alpha?r.DEFAULT_ALPHA:t.alpha,r}return Object(u.a)(n,[{key:"call",value:function(t,e){var n=he(t);return Object(o.Ib)(n,this.alpha)}},{key:"computeOutputShape",value:function(t){return t}},{key:"getConfig",value:function(){var t={alpha:this.alpha},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);Rr.className="LeakyReLU",o.Jc.registerClass(Rr);var Pr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),(r=e.call(this,null==t?{}:t)).DEFAULT_ALPHA_INITIALIZER="zeros",null==t&&(t={}),r.supportsMasking=!0,r.alphaInitializer=ae(t.alphaInitializer||r.DEFAULT_ALPHA_INITIALIZER),r.alphaRegularizer=Ir(t.alphaRegularizer),r.alphaConstraint=Z(t.alphaConstraint),null==t.sharedAxes)r.sharedAxes=null;else if(Array.isArray(t.sharedAxes))r.sharedAxes=t.sharedAxes;else{if("number"!==typeof t.sharedAxes)throw new O("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(t.sharedAxes));r.sharedAxes=[t.sharedAxes]}return r}return Object(u.a)(n,[{key:"build",value:function(t){var e=(t=fe(t)).slice(1);if(null!=this.sharedAxes){var n,r=Object(p.a)(this.sharedAxes);try{for(r.s();!(n=r.n()).done;){e[n.value-1]=1}}catch(o){r.e(o)}finally{r.f()}}this.alpha=this.addWeight("alpha",e,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var a={};if(null!=this.sharedAxes)for(var i=1;i<t.length;++i)a[i]=t[i];this.inputSpec=[new ge({ndim:t.length,axes:a})],this.built=!0}},{key:"call",value:function(t,e){return t=he(t),Object(o.qc)(t,this.alpha.read())}},{key:"getConfig",value:function(){var t={alphaInitializer:re(this.alphaInitializer),alphaRegularizer:Mr(this.alphaRegularizer),alphaConstraint:$(this.alphaConstraint),sharedAxes:this.sharedAxes},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);Pr.className="PReLU",o.Jc.registerClass(Pr);var Fr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),(r=e.call(this,null==t?{}:t)).DEFAULT_ALPHA=1,null==t&&(t={}),null!=t.alpha&&t.alpha!==r.DEFAULT_ALPHA)throw new k("Non-default alpha value (".concat(t.alpha,") is not supported by the ")+"ELU layer yet.");return r.alpha=null==t.alpha?r.DEFAULT_ALPHA:t.alpha,r}return Object(u.a)(n,[{key:"call",value:function(t,e){var n=he(t);return Object(o.jb)(n)}},{key:"computeOutputShape",value:function(t){return t}},{key:"getConfig",value:function(){var t={alpha:this.alpha},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);Fr.className="ELU",o.Jc.registerClass(Fr);var Lr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,null==t?{}:t)).DEFAULT_THETA=1,null==t&&(t={}),r.theta=null==t.theta?r.DEFAULT_THETA:t.theta,r}return Object(u.a)(n,[{key:"call",value:function(t,e){var n=he(t);return n.mul(bt(n.greater(this.theta),"float32"))}},{key:"computeOutputShape",value:function(t){return t}},{key:"getConfig",value:function(){var t={theta:this.theta},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);Lr.className="ThresholdedReLU",o.Jc.registerClass(Lr);var zr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,null==t?{}:t)).DEFAULT_AXIS=1,null==t&&(t={}),r.softmax=(new Or).apply,r.axis=null==t.axis?r.DEFAULT_AXIS:t.axis,r}return Object(u.a)(n,[{key:"call",value:function(t,e){var n=he(t);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(t){return t}},{key:"getConfig",value:function(){var t={axis:this.axis},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);zr.className="Softmax",o.Jc.registerClass(zr);var Br=n(33);function Wr(t,e,n){if("number"===typeof t)return E(t,e);if(t.length!==e)throw new O("The ".concat(n," argument must be an integer or tuple of ").concat(e," integers.")+" Received: ".concat(t.length," elements."));for(var r=0;r<e;++r){var a=t[r];if((i=a)!==parseInt(i.toString(),10))throw new O("The ".concat(n," argument must be an integer or tuple of ").concat(e)+" integers. Received: ".concat(JSON.stringify(t)," including a")+" non-integer number ".concat(a))}return t;var i}function Ur(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(null==t)return t;var i,o=e+(e-1)*(a-1);return i="same"===n?t:t-o+1,Math.floor((i+r-1)/r)}function Vr(t,e,n,r){if(null==t)return null;if("valid"===r)t=t*e+gt([n-e,0]);else{if("same"!==r)throw new O("Unsupport padding mode: ".concat(r,"."));t*=e}return t}function Hr(t,e){return Object(o.rd)((function(){return it(e),"channelsFirst"===e?o.vd(t,[0,2,3,1]):t}))}function Gr(t,e){return Object(o.rd)((function(){return it(e),"channelsFirst"===e?o.vd(t,[0,2,3,4,1]):t}))}function Yr(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Object(o.rd)((function(){if(null==i&&(i="channelsLast"),it(i),3!==t.shape.length)throw new O("The input of a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead."));if(3!==e.shape.length)throw new O("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new O("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(e.shape.length," instead"));if("channelsFirst"===i&&(t=o.vd(t,[0,2,1])),"causal"===a)throw new k("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var u=o.W(t,e,r,"same"===a?"same":"valid","NWC",s);return null!=n&&(u=It(u,n)),u}))}function qr(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return Object(o.rd)((function(){if(null==i&&(i="channelsLast"),it(i),3!==t.rank&&4!==t.rank)throw new O("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(t.rank,"."));if(3!==e.rank&&4!==e.rank)throw new O("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(t.rank,"."));var c=Hr(t,i);if("causal"===a)throw new k("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=o.wb.conv2d({x:c,filter:e,strides:r,pad:"same"===a?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:u}),"channelsFirst"===i&&(c=o.vd(c,[0,3,1,2])),c}))}function Xr(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return Object(o.rd)((function(){if(null==i&&(i="channelsLast"),it(i),4!==t.rank&&5!==t.rank)throw new O("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(t.rank,"."));if(4!==e.rank&&5!==e.rank)throw new O("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(t.rank,"."));var u=Gr(t,i);if("causal"===a)throw new k("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return u=o.Z(u,e,r,"same"===a?"same":"valid","NDHWC",s),null!=n&&(u=It(u,n)),"channelsFirst"===i&&(u=o.vd(u,[0,4,1,2,3])),u}))}var Kr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t,r){var a;if(Object(s.a)(this,n),(a=e.call(this,r)).bias=null,a.DEFAULT_KERNEL_INITIALIZER="glorotNormal",a.DEFAULT_BIAS_INITIALIZER="zeros",n.verifyArgs(r),a.rank=t,W(a.rank,"rank"),1!==a.rank&&2!==a.rank&&3!==a.rank)throw new k("Convolution layer for rank other than 1, 2, or 3 (".concat(a.rank,") is ")+"not implemented yet.");if(a.kernelSize=Wr(r.kernelSize,t,"kernelSize"),a.strides=Wr(null==r.strides?1:r.strides,t,"strides"),a.padding=null==r.padding?"valid":r.padding,ot(a.padding),a.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,it(a.dataFormat),a.activation=Cr(r.activation),a.useBias=null==r.useBias||r.useBias,a.biasInitializer=ae(r.biasInitializer||a.DEFAULT_BIAS_INITIALIZER),a.biasConstraint=Z(r.biasConstraint),a.biasRegularizer=Ir(r.biasRegularizer),a.activityRegularizer=Ir(r.activityRegularizer),a.dilationRate=Wr(null==r.dilationRate?1:r.dilationRate,t,"dilationRate"),1===a.rank&&Array.isArray(a.dilationRate)&&1!==a.dilationRate.length)throw new O("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(a.dilationRate)));if(2===a.rank){if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate];else if(2!==a.dilationRate.length)throw new O("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)))}else if(3===a.rank)if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate,a.dilationRate];else if(3!==a.dilationRate.length)throw new O("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)));return a}return Object(u.a)(n,[{key:"getConfig",value:function(){var t={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Sr(this.activation),useBias:this.useBias,biasInitializer:re(this.biasInitializer),biasRegularizer:Mr(this.biasRegularizer),activityRegularizer:Mr(this.activityRegularizer),biasConstraint:$(this.biasConstraint)},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}],[{key:"verifyArgs",value:function(t){if(C("kernelSize"in t,"required key 'kernelSize' not in config"),"number"!==typeof t.kernelSize&&!B(t.kernelSize,"number",1,3))throw new O("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(t.kernelSize),"."))}}]),n}(Oe),$r=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t,r){var a;return Object(s.a)(this,n),(a=e.call(this,t,r)).kernel=null,n.verifyArgs(r),a.filters=r.filters,W(a.filters,"filters"),a.kernelInitializer=ae(r.kernelInitializer||a.DEFAULT_KERNEL_INITIALIZER),a.kernelConstraint=Z(r.kernelConstraint),a.kernelRegularizer=Ir(r.kernelRegularizer),a}return Object(u.a)(n,[{key:"build",value:function(t){t=fe(t);var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new O("The channel dimension of the input should be defined. "+"Found ".concat(t[e]));var n=t[e],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:Object(Br.a)({},e,n)}],this.built=!0}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var e;t=he(t);var r=null==n.bias?null:n.bias.read(),a=U(n.activation.getClassName());if(null!=a&&2===n.rank)e=qr(t,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)e=Yr(t,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)e=qr(t,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new k("convolutions greater than 3D are not implemented yet.");e=Xr(t,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(e=n.activation.apply(e))}return e}))}},{key:"computeOutputShape",value:function(t){t=fe(t);for(var e=[],n="channelsLast"===this.dataFormat?t.slice(1,t.length-1):t.slice(2),r=0;r<n.length;++r){var a=Ur(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);e.push(a)}var i=[t[0]];return"channelsLast"===this.dataFormat?(i=i.concat(e)).push(this.filters):(i.push(this.filters),i=i.concat(e)),i}},{key:"getConfig",value:function(){var t={filters:this.filters,kernelInitializer:re(this.kernelInitializer),kernelRegularizer:Mr(this.kernelRegularizer),kernelConstraint:$(this.kernelConstraint)},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}],[{key:"verifyArgs",value:function(t){if(!("filters"in t)||"number"!==typeof t.filters||t.filters<1)throw new O("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(t.filters)))}}]),n}(Kr),Jr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,2,t),n.verifyArgs(t),r}return Object(u.a)(n,[{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return delete t.rank,t}}],[{key:"verifyArgs",value:function(t){if("number"!==typeof t.kernelSize&&!B(t.kernelSize,"number",1,2))throw new O("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(t.kernelSize),"."))}}]),n}($r);Jr.className="Conv2D",o.Jc.registerClass(Jr);var Zr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,3,t),n.verifyArgs(t),r}return Object(u.a)(n,[{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return delete t.rank,t}}],[{key:"verifyArgs",value:function(t){if("number"!==typeof t.kernelSize&&(!Array.isArray(t.kernelSize)||1!==t.kernelSize.length&&3!==t.kernelSize.length))throw new O("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(t.kernelSize),"."))}}]),n}($r);Zr.className="Conv3D",o.Jc.registerClass(Zr);var Qr=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),(r=e.call(this,t)).inputSpec=[new ge({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new O("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return Object(u.a)(n,[{key:"build",value:function(t){if(4!==(t=fe(t)).length)throw new O("Input should have rank 4; Received input shape: "+JSON.stringify(t));var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e])throw new O("The channel dimension of the inputs should be defined. Found `None`.");var n=t[e],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ge({ndim:4,axes:Object(Br.a)({},e,n)})],this.built=!0}},{key:"call",value:function(t,e){var n=this;return o.rd((function(){var e=he(t);if(4!==e.shape.length)throw new O("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(e.shape.length));var r,a,i=e.shape,s=i[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var u=i[r],c=i[a],l=n.kernelSize[0],h=n.kernelSize[1],f=n.strides[0],p=n.strides[1],d=[s,Vr(u,f,l,n.padding),Vr(c,p,h,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(e=o.vd(e,[0,2,3,1]));var v=o.Y(e,n.kernel.read(),d,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(v=o.vd(v,[0,3,1,2])),null!=n.bias&&(v=It(v,n.bias.read(),n.dataFormat)),null!=n.activation&&(v=n.activation.apply(v)),v}))}},{key:"computeOutputShape",value:function(t){var e,n,r,a=(t=fe(t)).slice();"channelsFirst"===this.dataFormat?(e=1,n=2,r=3):(e=3,n=1,r=2);var i=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return a[e]=this.filters,a[n]=Vr(a[n],s,i,this.padding),a[r]=Vr(a[r],u,o,this.padding),a}},{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return delete t.dilationRate,t}}]),n}(Jr);Qr.className="Conv2DTranspose",o.Jc.registerClass(Qr);var ta=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t,r){var a;if(Object(s.a)(this,n),(a=e.call(this,t,r)).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",a.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",a.depthwiseKernel=null,a.pointwiseKernel=null,null==r.filters)throw new O("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new O("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new O("SeparableConv".concat(a.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(r.padding)));return a.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,a.depthwiseInitializer=ae(r.depthwiseInitializer||a.DEFAULT_DEPTHWISE_INITIALIZER),a.depthwiseRegularizer=Ir(r.depthwiseRegularizer),a.depthwiseConstraint=Z(r.depthwiseConstraint),a.pointwiseInitializer=ae(r.depthwiseInitializer||a.DEFAULT_POINTWISE_INITIALIZER),a.pointwiseRegularizer=Ir(r.pointwiseRegularizer),a.pointwiseConstraint=Z(r.pointwiseConstraint),a}return Object(u.a)(n,[{key:"build",value:function(t){if((t=fe(t)).length<this.rank+2)throw new O("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(t)));var e="channelsFirst"===this.dataFormat?1:t.length-1;if(null==t[e]||t[e]<0)throw new O("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(t[e])));for(var n=t[e],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],i=0;i<this.rank;++i)a.push(1);a.push(n*this.depthMultiplier,this.filters);this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,!0,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.inputSpec=[new ge({ndim:this.rank+2,axes:Object(Br.a)({},e,n)})],this.built=!0}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var e;if(t=he(t),1===n.rank)throw new k("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(t=o.vd(t,[0,2,3,1])),e=o.Ic(t,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(e=It(e,n.bias.read(),n.dataFormat)),null!=n.activation&&(e=n.activation.apply(e)),"channelsFirst"===n.dataFormat&&(e=o.vd(e,[0,3,1,2])),e}))}},{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return delete t.rank,delete t.kernelInitializer,delete t.kernelRegularizer,delete t.kernelConstraint,t.depthwiseInitializer=re(this.depthwiseInitializer),t.pointwiseInitializer=re(this.pointwiseInitializer),t.depthwiseRegularizer=Mr(this.depthwiseRegularizer),t.pointwiseRegularizer=Mr(this.pointwiseRegularizer),t.depthwiseConstraint=$(this.depthwiseConstraint),t.pointwiseConstraint=$(this.pointwiseConstraint),t}}]),n}($r);ta.className="SeparableConv";var ea=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,2,t)}return n}(ta);ea.className="SeparableConv2D",o.Jc.registerClass(ea);var na=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,1,t),n.verifyArgs(t),r.inputSpec=[{ndim:3}],r}return Object(u.a)(n,[{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return delete t.rank,delete t.dataFormat,t}}],[{key:"verifyArgs",value:function(t){if("number"!==typeof t.kernelSize&&!B(t.kernelSize,"number",1,1))throw new O("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(t.kernelSize),"."))}}]),n}($r);na.className="Conv1D",o.Jc.registerClass(na);var ra=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),"number"===typeof t.cropping?r.cropping=[[t.cropping,t.cropping],[t.cropping,t.cropping]]:"number"===typeof t.cropping[0]?r.cropping=[[t.cropping[0],t.cropping[0]],[t.cropping[1],t.cropping[1]]]:r.cropping=t.cropping,r.dataFormat=void 0===t.dataFormat?"channelsLast":t.dataFormat,r.inputSpec=[{ndim:4}],r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){return"channelsFirst"===this.dataFormat?[t[0],t[1],t[2]-this.cropping[0][0]-this.cropping[0][1],t[3]-this.cropping[1][0]-this.cropping[1][1]]:[t[0],t[1]-this.cropping[0][0]-this.cropping[0][1],t[2]-this.cropping[1][0]-this.cropping[1][1],t[3]]}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){if(t=he(t),"channelsLast"===n.dataFormat){var e=St(t,n.cropping[0][0],t.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return St(e,n.cropping[1][0],t.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=St(t,n.cropping[0][0],t.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return St(r,n.cropping[1][0],t.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var t={cropping:this.cropping,dataFormat:this.dataFormat},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);ra.className="Cropping2D",o.Jc.registerClass(ra);var aa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==t.size?r.DEFAULT_SIZE:t.size,r.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){if("channelsFirst"===this.dataFormat){var e=null==t[2]?null:this.size[0]*t[2],n=null==t[3]?null:this.size[1]*t[3];return[t[0],t[1],e,n]}var r=null==t[1]?null:this.size[0]*t[1],a=null==t[2]?null:this.size[1]*t[2];return[t[0],r,a,t[3]]}},{key:"call",value:function(t,e){var n=this;return o.rd((function(){var e=he(t),r=e.shape;if("channelsFirst"===n.dataFormat){e=o.vd(e,[0,2,3,1]);var a=n.size[0]*r[2],i=n.size[1]*r[3],s=e.resizeNearestNeighbor([a,i]);return o.vd(s,[0,3,1,2])}var u=n.size[0]*r[1],c=n.size[1]*r[2];return e.resizeNearestNeighbor([u,c])}))}},{key:"getConfig",value:function(){var t={size:this.size,dataFormat:this.dataFormat},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);aa.className="UpSampling2D",o.Jc.registerClass(aa);var ia=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,2,t)).depthwiseKernel=null,r.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,r.depthwiseInitializer=ae(t.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=Z(t.depthwiseConstraint),r.depthwiseRegularizer=Ir(t.depthwiseRegularizer),r}return Object(u.a)(n,[{key:"build",value:function(t){if((t=fe(t)).length<4)throw new O("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(t),"."));var e="channelsFirst"===this.dataFormat?1:3;if(null==t[e]||t[e]<0)throw new O("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(t[e],")."));var n=t[e],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return Object(o.rd)((function(){null==a&&(a="channelsLast"),it(a);var s=Hr(t,a);if(4!==t.rank)throw new O("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));if(4!==e.rank)throw new O("depthwiseKernel is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));return s=o.db(s,e,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===a&&(s=o.vd(s,[0,3,1,2])),s}))}(t=he(t),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(e=It(e,n.bias.read(),n.dataFormat)),null!=n.activation&&(e=n.activation.apply(e)),e}))}},{key:"computeOutputShape",value:function(t){t=fe(t);var e="channelsFirst"===this.dataFormat?t[2]:t[1],n="channelsFirst"===this.dataFormat?t[3]:t[2],r="channelsFirst"===this.dataFormat?t[1]*this.depthMultiplier:t[3]*this.depthMultiplier,a=Ur(e,this.kernelSize[0],this.padding,this.strides[0]),i=Ur(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[t[0],r,a,i]:[t[0],a,i,r]}},{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return t.depthMultiplier=this.depthMultiplier,t.depthwiseInitializer=re(this.depthwiseInitializer),t.depthwiseRegularizer=Mr(this.depthwiseRegularizer),t.depthwiseConstraint=$(this.depthwiseRegularizer),t}}]),n}(Kr);ia.className="DepthwiseConv2D",o.Jc.registerClass(ia);var oa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).rate=Math.max(Math.min(t.rate,1),0),r.noiseShape=t.noiseShape,r.seed=t.seed,r.supportsMasking=!0,r}return Object(u.a)(n,[{key:"getNoiseShape",value:function(t){if(null==this.noiseShape)return this.noiseShape;for(var e=t.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?e[r]:this.noiseShape[r]);return n}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e);var r=he(t);if(0<n.rate&&n.rate<1){var a=null!=e.training&&e.training,i=n.getNoiseShape(r);return Pt((function(){return Rt(r,n.rate,i,n.seed)}),(function(){return r}),a)}return t}))}},{key:"getConfig",value:function(){var t={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}},{key:"dispose",value:function(){return Object(Be.a)(Object(v.a)(n.prototype),"dispose",this).call(this)}}]),n}(Oe);oa.className="Dropout",o.Jc.registerClass(oa);var sa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).inputSpec=[{ndim:3}],r}return Object(u.a)(n,[{key:"getNoiseShape",value:function(t){var e=t.shape;return[e[0],1,e[2]]}}]),n}(oa);sa.className="SpatialDropout1D",o.Jc.registerClass(sa);var ua=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),(r=e.call(this,t)).activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==t.batchInputShape&&null==t.inputShape&&null!=t.inputDim){var a=null;null!=t.batchSize&&(a=t.batchSize),r.batchInputShape=[a,t.inputDim]}return r.units=t.units,W(r.units,"units"),r.activation=Cr(t.activation),null!=t.useBias&&(r.useBias=t.useBias),r.kernelInitializer=ae(t.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=ae(t.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=Z(t.kernelConstraint),r.biasConstraint=Z(t.biasConstraint),r.kernelRegularizer=Ir(t.kernelRegularizer),r.biasRegularizer=Ir(t.biasRegularizer),r.activityRegularizer=Ir(t.activityRegularizer),r.supportsMasking=!0,r.inputSpec=[{minNDim:2}],r}return Object(u.a)(n,[{key:"build",value:function(t){var e=(t=fe(t))[t.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[e,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:Object(Br.a)({},-1,e)}],this.built=!0}},{key:"computeOutputShape",value:function(t){var e=(t=fe(t)).slice();return e[e.length-1]=this.units,e}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e);var r,a=he(t),i=U(n.activation.getClassName());return null!=i?r=At(a,n.kernel.read(),i,n.bias?n.bias.read():null):(r=At(a,n.kernel.read()),null!=n.bias&&(r=It(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var t={units:this.units,activation:Sr(this.activation),useBias:this.useBias,kernelInitializer:re(this.kernelInitializer),biasInitializer:re(this.biasInitializer),kernelRegularizer:Mr(this.kernelRegularizer),biasRegularizer:Mr(this.biasRegularizer),activityRegularizer:Mr(this.activityRegularizer),kernelConstraint:$(this.kernelConstraint),biasConstraint:$(this.biasConstraint)},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);ua.className="Dense",o.Jc.registerClass(ua);var ca=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),t=t||{},(r=e.call(this,t)).inputSpec=[{minNDim:3}],r.dataFormat=t.dataFormat,r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){t=fe(t);var e,n=Object(p.a)(t.slice(1));try{for(n.s();!(e=n.n()).done;){if(null==e.value)throw new O('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(t.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}}catch(r){n.e(r)}finally{n.f()}return[t[0],dt(t,1)]}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e);var r=he(t);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var a=[0],i=2;i<r.rank;++i)a.push(i);a.push(1),r=r.transpose(a)}return function(t){if(t.rank<=1)throw new O("batchFlatten requires a minimum rank of 2. Got rank: ".concat(t.rank,"."));var e=[t.shape[0],dt(t.shape,1)];return t.reshape(e)}(r)}))}},{key:"getConfig",value:function(){var t={};null!=this.dataFormat&&(t.dataFormat=this.dataFormat);var e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);ca.className="Flatten",o.Jc.registerClass(ca);var la=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).supportsMasking=!0,r.activation=Cr(t.activation),r}return Object(u.a)(n,[{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e);var r=he(t);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var t={activation:Sr(this.activation)},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);la.className="Activation",o.Jc.registerClass(la);var ha=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).n=t.n,r.inputSpec=[{ndim:2}],r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){return[t[0],this.n,t[1]]}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){return t=he(t),e=t,r=n.n,Object(o.rd)((function(){if(2!==e.shape.length)throw new O("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(e.shape.length," tensor."));return jt(xt(e,1),[1,r,1])}));var e,r}))}},{key:"getConfig",value:function(){var t={n:this.n},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);ha.className="RepeatVector",o.Jc.registerClass(ha);var fa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;Object(s.a)(this,n),(r=e.call(this,t)).targetShape=t.targetShape;for(var a=0;a<r.targetShape.length;++a)r.isUnknown(r.targetShape[a])&&(r.targetShape[a]=null);return r}return Object(u.a)(n,[{key:"isUnknown",value:function(t){return t<0||null==t}},{key:"fixUnknownDimension",value:function(t,e){for(var n="Total size of new array must be unchanged.",r=e.slice(),a=1,i=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==i)throw new O("Can only specifiy one unknown dimension.");i=o}else a*=s}var u=dt(t);if(null!==i){if(0===a||u%a!==0)throw new O(n);r[i]=u/a}else if(u!==a)throw new O(n);return r}},{key:"computeOutputShape",value:function(t){for(var e=!1,n=0;n<t.length;++n)if(this.isUnknown(t[n])){e=!0;break}return e?t.slice(0,1).concat(this.targetShape):t.slice(0,1).concat(this.fixUnknownDimension(t.slice(1),this.targetShape))}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e);var r=he(t),a=r.shape,i=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return r.reshape(i)}))}},{key:"getConfig",value:function(){var t={targetShape:this.targetShape},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);fa.className="Reshape",o.Jc.registerClass(fa);var pa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),r=e.call(this,t),null==t.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(t.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(t.dims," instead."));var a=yt(1,t.dims.length+1);if(!o.zd.arraysEqual(t.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(t.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=t.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new ge({ndim:r.dims.length+1})],r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){var e=(t=fe(t)).slice();return this.dims.forEach((function(n,r){e[r+1]=t[n]})),e}},{key:"call",value:function(t,e){return Object(o.vd)(he(t),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var t={dims:this.dims},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);pa.className="Permute",o.Jc.registerClass(pa);var da=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,null==t?{}:t)).supportsMasking=!0,r.maskValue=null!=t?null==t.maskValue?0:t.maskValue:0,r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){return t}},{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this),e={maskValue:this.maskValue};return Object.assign(e,t),e}},{key:"computeMask",value:function(t,e){var n=he(t);return Object(o.u)(Object(o.kc)(n,this.maskValue),-1)}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e);var r=he(t),a=Object(o.u)(Object(o.kc)(r,n.maskValue),-1,!0);return r.mul(a.asType(r.dtype))}))}}]),n}(Oe);da.className="Masking",o.Jc.registerClass(da);var va=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),(r=e.call(this,t)).embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==t.batchInputShape&&null==t.inputShape){var a=null;null!=t.batchSize&&(a=t.batchSize),null==t.inputLength?r.batchInputShape=[a,null]:r.batchInputShape=[a].concat(A(t.inputLength))}return r.inputDim=t.inputDim,W(r.inputDim,"inputDim"),r.outputDim=t.outputDim,W(r.outputDim,"outputDim"),r.embeddingsInitializer=ae(t.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=Ir(t.embeddingsRegularizer),r.activityRegularizer=Ir(t.activityRegularizer),r.embeddingsConstraint=Z(t.embeddingsConstraint),r.maskZero=t.maskZero,r.supportsMasking=t.maskZero,r.inputLength=t.inputLength,r}return Object(u.a)(n,[{key:"build",value:function(t){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(t){}},{key:"computeMask",value:function(t,e){var n=this;return Object(o.rd)((function(){return n.maskZero?(t=he(t),Object(o.kc)(t,Object(o.Gd)(t))):null}))}},{key:"computeOutputShape",value:function(t){if(t=fe(t),null==this.inputLength)return[].concat(Object(Q.a)(t),[this.outputDim]);var e=A(this.inputLength);if(e.length!==t.length-1)throw new O('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(t));for(var n=0,r=0;r<e.length;++r){var a=e[r],i=t[r+1];if(null!=a&&null!=i&&a!==i)throw new O('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(t));null==a&&(e[n]=i),n++}return[t[0]].concat(Object(Q.a)(e),[this.outputDim])}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e);var r=he(t);return"int32"!==r.dtype&&(r=bt(r,"int32")),_t(n.embeddings.read(),r.as1D()).reshape(fe(n.computeOutputShape(r.shape)))}))}},{key:"getConfig",value:function(){var t={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:re(this.embeddingsInitializer),embeddingsRegularizer:Mr(this.embeddingsRegularizer),activityRegularizer:Mr(this.activityRegularizer),embeddingsConstraint:$(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);va.className="Embedding",o.Jc.registerClass(va);var ma=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t||{})).supportsMasking=!0,r}return Object(u.a)(n,[{key:"mergeFunction",value:function(t){throw new k}},{key:"computeElementwiseOpOutputShape",value:function(t,e){if(null==t||null==e)return null;if(t.length<e.length)return this.computeElementwiseOpOutputShape(e,t);if(0===e.length)return t;for(var n=t.slice(0,t.length-e.length),r=0;r<e.length;++r){var a=t[t.length-e.length+r],i=e[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new O("Operands could not be broadcast together with shapes "+JSON.stringify(t)+" "+JSON.stringify(e));n.push(a)}}return n}},{key:"build",value:function(t){if(Array.isArray(t)&&!Array.isArray(t[0])&&(t=[fe(t)]),(t=t).length<2)throw new O("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(t.length," input(s)."));var e,n=[],r=Object(p.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;null!=a&&null!==a[0]&&n.push(a[0])}}catch(c){r.e(c)}finally{r.f()}if((n=F(n)).length>1)throw new O("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(t),"."));for(var i=null==t[0]?null:t[0].slice(1),o=1;o<t.length;++o){var s=null==t[o]?null:t[o].slice(1);i=this.computeElementwiseOpOutputShape(i,s)}var u=t.map((function(t){return t.length}));-1===t.indexOf(null)&&1===F(u).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){if(t=t,n.reshapeRequired){var e=[],r=t.map((function(t){return t.rank}));if(-1===r.indexOf(null)){var a,i=gt(r),s=Object(p.a)(t);try{for(s.s();!(a=s.n()).done;){for(var u=a.value,c=u.rank,l=0;l<i-c;++l)u=xt(u,1);e.push(u)}}catch(T){s.e(T)}finally{s.f()}return n.mergeFunction(e)}var h,f=!1,d=Object(p.a)(t);try{for(d.s();!(h=d.n()).done;){var v=h.value,m=v.rank;if(null==m){var g=v.shape,y=g[0],b=g.slice(1).concat([y]),x=v.reshape([y].concat(dt(g.slice(1))));x=(x=o.vd(x,[1,0])).reshape(b),e.push(x),f=!0}else if(m>1){var w=yt(1,m).concat([0]);e.push(o.vd(v,w)),f=!0}else e.push(v)}}catch(T){d.e(T)}finally{d.f()}var O=n.mergeFunction(e),k=O.rank;if(f)if(null==k){var S=O.shape,E=S[S.length-1],C=[E].concat(S.slice(0,S.length-1));O=o.vd(O.reshape([-1,E]),[1,0]).reshape(C)}else if(k>1){var j=[k-1].concat(yt(0,k-1));O=o.vd(O,j)}return O}return n.mergeFunction(t)}))}},{key:"computeOutputShape",value:function(t){var e;e=null==(t=t)[0]?null:t[0].slice(1);for(var n=1;n<t.length;++n){var r=null==t[n]?null:t[n].slice(1);e=this.computeElementwiseOpOutputShape(e,r)}var a,i=[],o=Object(p.a)(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;null!=s&&null!==s[0]&&i.push(s[0])}}catch(u){o.e(u)}finally{o.f()}return e=1===(i=F(i)).length?i.concat(e):[null].concat(e)}},{key:"computeMask",value:function(t,e){return o.rd((function(){if(null==e)return null;if(!Array.isArray(e))throw new O("`mask` should be an Array");if(!Array.isArray(t))throw new O("`inputs` should be an Array");if(e.length!==t.length)throw new O("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(t.length," vs ").concat(e.length,")"));if(e.every((function(t){return null==t})))return null;for(var n=(e=e.map((function(t){return null==t?t:o.pb(t,0)})))[0],r=1;r<e.length-1;++r)n=o.Rb(n,e[r]);return n}))}}]),n}(Oe),ga=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"mergeFunction",value:function(t){return Object(o.rd)((function(){for(var e=t[0].clone(),n=1;n<t.length;++n)e=o.r(e,t[n]);return e}))}}]),n}(ma);ga.className="Add",o.Jc.registerClass(ga);var ya=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"mergeFunction",value:function(t){return Object(o.rd)((function(){for(var e=t[0].clone(),n=1;n<t.length;++n)e=o.gc(e,t[n]);return e}))}}]),n}(ma);ya.className="Multiply",o.Jc.registerClass(ya);var ba=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"mergeFunction",value:function(t){return Object(o.rd)((function(){for(var e=t[0].clone(),n=1;n<t.length;++n)e=o.r(e,t[n]);return o.gc(1/t.length,e)}))}}]),n}(ma);ba.className="Average",o.Jc.registerClass(ba);var xa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"mergeFunction",value:function(t){return Object(o.rd)((function(){for(var e=t[0],n=1;n<t.length;++n)e=o.Zb(e,t[n]);return e}))}}]),n}(ma);xa.className="Maximum",o.Jc.registerClass(xa);var wa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"mergeFunction",value:function(t){return Object(o.rd)((function(){for(var e=t[0],n=1;n<t.length;++n)e=o.dc(e,t[n]);return e}))}}]),n}(ma);wa.className="Minimum",o.Jc.registerClass(wa);var Oa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).DEFAULT_AXIS=-1,null==t&&(t={}),r.axis=null==t.axis?r.DEFAULT_AXIS:t.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return Object(u.a)(n,[{key:"build",value:function(t){if(!Array.isArray(t)||!Array.isArray(t[0])||1===t.length)throw new O("A `Concatenate` layer should be called on a list of at least 2 inputs");t=t;var e,n=!0,r=Object(p.a)(t);try{for(r.s();!(e=r.n()).done;){if(null!=e.value){n=!1;break}}}catch(f){r.e(f)}finally{r.f()}if(!n){for(var a=[],i=0;i<t.length;++i){var s=t[i].slice();s.splice(this.axis,1);var u,c=!1,l=Object(p.a)(a);try{for(l.s();!(u=l.n()).done;){var h=u.value;if(o.zd.arraysEqual(h,s)){c=!0;break}}}catch(f){l.e(f)}finally{l.f()}c||a.push(s)}if(a.length>1)throw new O("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(t))}}},{key:"mergeFunction",value:function(t){var e=this;return Object(o.rd)((function(){return Et(t,e.axis)}))}},{key:"computeOutputShape",value:function(t){if(!Array.isArray(t)||!Array.isArray(t[0]))throw new O("A `Concatenate` layer should be called on a list of inputs.");var e,n=t,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis,i=Object(p.a)(n.slice(1));try{for(i.s();!(e=i.n()).done;){var o=e.value;if(null==r[a]||null==o[a]){r[a]=null;break}r[a]+=o[a]}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"computeMask",value:function(t,e){var n=this;if(null==e)return null;if(!Array.isArray(e))throw new O("`mask` should be an array for Concatenate");if(!Array.isArray(t))throw new O("`inputs` should be an array for Concatenate");if(e.length!==t.length)throw new O("Mismatch in the length of mask (".concat(e.length,") ")+"and the legnth of inputs (".concat(t.length,")"));return o.rd((function(){var r=!0;if(e.forEach((function(t){null==t||(r=!1)})),r)return null;for(var a=[],i=0;i<t.length;++i)null==e[i]?a.push(o.nc(t[i]).asType("bool")):e[i].rank<t[i].rank?a.push(o.pb(e[i],-1)):a.push(e[i]);var s=o.R(a,n.axis);return o.t(s,-1,!1)}))}},{key:"getConfig",value:function(){var t={axis:this.axis},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(ma);function ka(t,e){for(;t<0;)t+=e;return t}Oa.className="Concatenate",o.Jc.registerClass(Oa);var Sa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).axes=t.axes,r.normalize=null!=t.normalize&&t.normalize,r.supportsMasking=!0,r.reshapeRequired=!1,r}return Object(u.a)(n,[{key:"build",value:function(t){o.zd.assert(Array.isArray(t)&&2===t.length&&Array.isArray(t[0])&&Array.isArray(t[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var e=t[0],n=t[1];if(e.length>3||n.length>3)throw new k("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(e,n);if(e[r[0]]!==n[r[1]])throw new O("Dimension incompatibility: "+"".concat(e[r[0]]," !== ").concat(n[r[1]]))}},{key:"mergeFunction",value:function(t){if(2!==t.length)throw new O("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(t.length," input(s)."));var e,n=t[0],r=t[1];return e=Array.isArray(this.axes)?this.axes.map((function(e,n){return ka(e,t[n].shape.length)})):[ka(this.axes,n.shape.length),ka(this.axes,r.shape.length)],this.normalize&&(n=Ue(n,e[0]),r=Ue(r,e[1])),function(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new k("batchDot is not implemented for tensors of 4D or higher rank yet");if(o.zd.assert(t.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, "+"but got ".concat(t.shape.length)})),o.zd.assert(t.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, "+"but got ".concat(e.shape.length)})),"number"===typeof n&&(n=[n,n]),"complex64"===t.dtype||"complex64"===e.dtype)throw new k("batchDot is not implemented for complex64-type Tensors yet.");var r=t.shape.length,a=e.shape.length;null==n&&(n=[r-1,a-2]);var i=n;return o.rd((function(){var n,o;if(r>a){n=r-a;for(var s=[],u=0;u<n;++u)s.push(1);e=e.reshape(e.shape.concat(s))}else if(a>r){n=a-r;for(var c=[],l=0;l<n;++l)c.push(1);t=t.reshape(t.shape.concat(c))}else n=0;if(2===t.shape.length&&2===e.shape.length)o=i[0]===i[1]?t.mul(e).sum(i[0]):t.transpose([1,0]).mul(e).sum(i[1]);else{var h=i[0]!==t.shape.length-1,f=i[1]===e.shape.length-1;o=t.matMul(e,h,f)}if(n>0){for(var p,d=[],v=p=r>a?r+a-3:r-1;v<p+n;++v)d.push(v);o=o.squeeze(d)}return 1===o.shape.length&&(o=o.expandDims(1)),o}))}(n,r,e)}},{key:"interpretAxes",value:function(t,e){return Array.isArray(this.axes)?this.axes:[ka(this.axes,t.length),ka(this.axes,e.length)]}},{key:"computeOutputShape",value:function(t){o.zd.assert(Array.isArray(t)&&2===t.length&&Array.isArray(t[0])&&Array.isArray(t[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var e=t[0].slice(),n=t[1].slice();if(e.length>3||n.length>3)throw new k("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(e,n);e.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=e.concat(n);return 1===a.length&&a.push(1),a}},{key:"computeMask",value:function(t,e){return null}},{key:"getConfig",value:function(){var t={axes:this.axes,normalize:this.normalize},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(ma);Sa.className="Dot",o.Jc.registerClass(Sa);var Ea=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).supportsMasking=!0,r.stddev=t.stddev,r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){return t}},{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this),e={stddev:this.stddev};return Object.assign(e,t),e}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e);var r=he(t);return Pt((function(){return Tt(r.shape,0,n.stddev).add(r)}),(function(){return r}),e.training||!1)}))}}]),n}(Oe);Ea.className="GaussianNoise",o.Jc.registerClass(Ea);var Ca=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).supportsMasking=!0,r.rate=t.rate,r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){return t}},{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this),e={rate:this.rate};return Object.assign(e,t),e}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e);var r=he(t);if(n.rate>0&&n.rate<1){return Pt((function(){var t=Math.sqrt(n.rate/(1-n.rate));return r.mul(Tt(r.shape,1,t))}),(function(){return r}),e.training||!1)}return r}))}}]),n}(Oe);Ca.className="GaussianDropout",o.Jc.registerClass(Ca);var ja=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).supportsMasking=!0,r.rate=t.rate,r.noiseShape=t.noiseShape,r}return Object(u.a)(n,[{key:"_getNoiseShape",value:function(t){return this.noiseShape||he(t).shape}},{key:"computeOutputShape",value:function(t){return t}},{key:"getConfig",value:function(){var t=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this),e={rate:this.rate};return Object.assign(e,t),e}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(t);return Pt((function(){var e=he(t),a=-1.7580993408473766,i=Object(o.Ab)(Object(o.tc)(r),n.rate);i=bt(i,"float32");var s=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),u=-s*a*n.rate;return e.mul(i).add(i.add(-1).mul(a)).mul(s).add(u)}),(function(){return he(t)}),e.training||!1)}return t}))}}]),n}(Oe);function Ta(t,e,n,r,a){var i,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===t.rank)i=o.H(t,e,n,r,a,s);else if(3===t.rank)i=o.I(t,e,n,r,a,s);else{if(4!==t.rank)throw new k("batchNormalization is not implemented for array of rank ".concat(t.rank," ")+"yet");i=o.J(t,e,n,r,a,s)}return i}function Aa(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(o.rd)((function(){var i=o.fc(t,r),s=i.mean,u=i.variance;return[Ta(t,s,u,n,e,a),s,u]}))}function _a(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return Object(o.rd)((function(){var i,s=o.fc(t,r),u=s.mean,c=s.variance,l=[],h=Object(p.a)(yt(0,t.rank));try{for(h.s();!(i=h.n()).done;){var f=i.value;-1!==r.indexOf(f)?l.push(1):l.push(t.shape[f])}}catch(y){h.e(y)}finally{h.f()}var d=u.reshape(l),v=c.reshape(l),m=null==e?null:e.reshape(l),g=null==n?null:n.reshape(l);return[Ta(t,d,v,g,m,a),u,c]}))}ja.className="AlphaDropout",o.Jc.registerClass(ja);var Ma=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),null==t&&(t={}),(r=e.call(this,t)).supportsMasking=!0,r.axis=null==t.axis?-1:t.axis,r.momentum=null==t.momentum?.99:t.momentum,r.epsilon=null==t.epsilon?.001:t.epsilon,r.center=null==t.center||t.center,r.scale=null==t.scale||t.scale,r.betaInitializer=ae(t.betaInitializer||"zeros"),r.gammaInitializer=ae(t.gammaInitializer||"ones"),r.movingMeanInitializer=ae(t.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=ae(t.movingVarianceInitializer||"ones"),r.betaConstraint=Z(t.betaConstraint),r.gammaConstraint=Z(t.gammaConstraint),r.betaRegularizer=Ir(t.betaRegularizer),r.gammaRegularizer=Ir(t.gammaRegularizer),r}return Object(u.a)(n,[{key:"build",value:function(t){t=fe(t);var e=this.axis>=0?this.axis:this.axis+t.length,n=t[e];if(null==n)throw new O("Axis ".concat(e," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(t),"."));this.inputSpec=[new ge({ndim:t.length,axes:Object(Br.a)({},e,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var r=null!=e.training&&e.training,a=he(t),i=a.shape,s=i.length,u=yt(0,s),c=n.axis>=0?n.axis:n.axis+s;u.splice(c,1);var l=E(1,s);l[c]=i[c];var h=u.slice();h.sort();var p=!o.zd.arraysEqual(h,yt(0,s).slice(0,s-1));if(!r)return function(){if(p){var t=n.movingMean.read().reshape(l),e=n.movingVariance.read().reshape(l),r=n.center?n.beta.read().reshape(l):null,i=n.scale?n.gamma.read().reshape(l):null;return Ta(a,t,e,r,i,n.epsilon)}return Ta(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var d=function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return o.zd.arraysEqual(r.slice().sort(),yt(0,t.rank-1))?Aa(t,e,n,r,a):_a(t,e,n,r,a)}(a,n.gamma.read(),n.beta.read(),u,n.epsilon),v=Object(f.a)(d,3),m=v[0],g=v[1],y=v[2],b=function(t,e,n){o.rd((function(){var r=1-n,a=t.read(),i=a.sub(e).mul(r);t.write(a.sub(i))}))};return b(n.movingMean,g,n.momentum),b(n.movingVariance,y,n.momentum),m}))}},{key:"getConfig",value:function(){var t={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:re(this.betaInitializer),gammaInitializer:re(this.gammaInitializer),movingMeanInitializer:re(this.movingMeanInitializer),movingVarianceInitializer:re(this.movingVarianceInitializer),betaRegularizer:Mr(this.betaRegularizer),gammaRegularizer:Mr(this.gammaRegularizer),betaConstraint:$(this.betaConstraint),gammaConstraint:$(this.gammaConstraint)},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);Ma.className="BatchNormalization",o.Jc.registerClass(Ma);var Na=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),null==t&&(t={}),(r=e.call(this,t)).axis=null==t.axis?-1:t.axis,"number"===typeof r.axis){if(!Number.isInteger(r.axis))throw new Error("Expected axis to be an integer, but received ".concat(r.axis))}else{if(!Array.isArray(r.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(r.axis)));var a,i=Object(p.a)(r.axis);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!Number.isInteger(o))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(r.axis)))}}catch(u){i.e(u)}finally{i.f()}}return r.epsilon=null==t.epsilon?.001:t.epsilon,r.center=null==t.center||t.center,r.scale=null==t.scale||t.scale,r.betaInitializer=ae(t.betaInitializer||"zeros"),r.gammaInitializer=ae(t.gammaInitializer||"ones"),r.betaRegularizer=Ir(t.betaRegularizer),r.gammaRegularizer=Ir(t.gammaRegularizer),r.supportsMasking=!0,r}return Object(u.a)(n,[{key:"build",value:function(t){var e=(t=fe(t)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=e);var r,a=Object(p.a)(this.axis);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i<0||i>=e)throw new Error("Invalid axis: ".concat(i))}}catch(s){a.e(s)}finally{a.f()}if(this.axis.length!==F(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var o=this.axis.map((function(e){return t[e]}));this.scale?this.gamma=this.addWeight("gamma",o,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",o,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0}},{key:"call",value:function(t,e){var n=this,r=he(t),a=r.shape,i=a.length;return Object(o.rd)((function(){var t,e=Object(o.fc)(r,n.axis,!0),s=e.mean,u=e.variance,c=E(1,i),l=Object(p.a)(n.axis);try{for(l.s();!(t=l.n()).done;){var h=t.value;c[h]=a[h]}}catch(b){l.e(b)}finally{l.f()}for(var f=function(t){return null!=t&&t.shape.length!==i&&n.axis!==[i-1]?t.reshape(c):t},d=f(n.gamma.read()),v=f(n.beta.read()),m=[],g=[],y=0;y<i;++y)-1!==n.axis.indexOf(y)?(m.push(a[y]),g.push(1)):(m.push(1),g.push(a[y]));return s=s.tile(m),u=u.tile(m),d=d.tile(g),v=v.tile(g),Ta(r,s,u,v,d,n.epsilon)}))}},{key:"getConfig",value:function(){var t={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:re(this.betaInitializer),gammaInitializer:re(this.gammaInitializer),betaRegularizer:Mr(this.betaRegularizer),gammaRegularizer:Mr(this.gammaRegularizer)},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);Na.className="LayerNormalization",o.Jc.registerClass(Na);var Ia=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),null==t&&(t={}),(r=e.call(this,t)).dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,null==t.padding)r.padding=[[1,1],[1,1]];else if("number"===typeof t.padding)r.padding=[[t.padding,t.padding],[t.padding,t.padding]];else{if(t.padding=t.padding,2!==t.padding.length)throw new O("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(t.padding.length," array."));var a,i;if("number"===typeof t.padding[0])a=[t.padding[0],t.padding[0]],i=[t.padding[1],t.padding[1]];else{if(t.padding=t.padding,2!==t.padding[0].length)throw new O("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(t.padding[0].length," array."));if(a=t.padding[0],2!==t.padding[1].length)throw new O("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(t.padding[1].length," array."));i=t.padding[1]}r.padding=[a,i]}return r.inputSpec=[new ge({ndim:4})],r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){var e,n;return t=fe(t),"channelsFirst"===this.dataFormat?(e=null!=t[2]&&t[2]>=0?t[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=t[3]&&t[3]>=0?t[3]+this.padding[1][0]+this.padding[1][1]:null,[t[0],t[1],e,n]):(e=null!=t[1]&&t[1]>=0?t[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=t[2]&&t[2]>=0?t[2]+this.padding[1][0]+this.padding[1][1]:null,[t[0],e,n,t[3]])}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){return e=he(t),r=n.padding,a=n.dataFormat,Object(o.rd)((function(){if(4!==e.rank)throw new O("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(e.rank,"-D tensor."));if(null==r&&(r=[[1,1],[1,1]]),2!==r.length||2!==r[0].length||2!==r[1].length)throw new O("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==a&&(a="channelsLast"),"channelsLast"!==a&&"channelsFirst"!==a)throw new O("Unknown data format: ".concat(a,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");var t;return t="channelsFirst"===a?[[0,0],[0,0],r[0],r[1]]:[[0,0],r[0],r[1],[0,0]],o.oc(e,t)}));var e,r,a}))}},{key:"getConfig",value:function(){var t={padding:this.padding,dataFormat:this.dataFormat},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe);function Da(t,e,n,r,a,i){return Object(o.rd)((function(){var s;it(a),st(i),ot(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),t=Hr(t,a);var u="same"===r?"same":"valid";return s="max"===i?o.Wb(t,e,n,u):o.C(t,e,n,u),"channelsFirst"===a&&(s=o.vd(s,[0,3,1,2])),s}))}function Ra(t,e,n,r,a,i){return Object(o.rd)((function(){var s;it(a),st(i),ot(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),t=Gr(t,a);var u="same"===r?"same":"valid";return s="max"===i?o.Xb(t,e,n,u):o.D(t,e,n,u),"channelsFirst"===a&&(s=o.vd(s,[0,4,1,2,3])),s}))}Ia.className="ZeroPadding2D",o.Jc.registerClass(Ia);var Pa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),null==t.poolSize&&(t.poolSize=2),r=e.call(this,t),"number"===typeof t.poolSize)r.poolSize=[t.poolSize];else{if(!Array.isArray(t.poolSize)||1!==t.poolSize.length||"number"!==typeof t.poolSize[0])throw new O("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(t.poolSize)));r.poolSize=t.poolSize}if(W(r.poolSize,"poolSize"),null==t.strides)r.strides=r.poolSize;else if("number"===typeof t.strides)r.strides=[t.strides];else{if(!Array.isArray(t.strides)||1!==t.strides.length||"number"!==typeof t.strides[0])throw new O("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(t.strides)));r.strides=t.strides}return W(r.strides,"strides"),r.padding=null==t.padding?"valid":t.padding,ot(r.padding),r.inputSpec=[new ge({ndim:3})],r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){var e=Ur((t=fe(t))[1],this.poolSize[0],this.padding,this.strides[0]);return[t[0],e,t[2]]}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){n.invokeCallHook(t,e),t=xt(he(t),2);var r=n.poolingFunction(he(t),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return o.ed(r,[2])}))}},{key:"getConfig",value:function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe),Fa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"poolingFunction",value:function(t,e,n,r,a){return it(a),ot(r),Da(t,e,n,r,a,"max")}}]),n}(Pa);Fa.className="MaxPooling1D",o.Jc.registerClass(Fa);var La=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"poolingFunction",value:function(t,e,n,r,a){return it(a),ot(r),Da(t,e,n,r,a,"avg")}}]),n}(Pa);La.className="AveragePooling1D",o.Jc.registerClass(La);var za=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),null==t.poolSize&&(t.poolSize=[2,2]),(r=e.call(this,t)).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize],null==t.strides)r.strides=r.poolSize;else if(Array.isArray(t.strides)){if(2!==t.strides.length)throw new O("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(t.strides.length,"."));r.strides=t.strides}else r.strides=[t.strides,t.strides];return W(r.poolSize,"poolSize"),W(r.strides,"strides"),r.padding=null==t.padding?"valid":t.padding,r.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,it(r.dataFormat),ot(r.padding),r.inputSpec=[new ge({ndim:4})],r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){t=fe(t);var e="channelsFirst"===this.dataFormat?t[2]:t[1],n="channelsFirst"===this.dataFormat?t[3]:t[2];return e=Ur(e,this.poolSize[0],this.padding,this.strides[0]),n=Ur(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,n]:[t[0],e,n,t[3]]}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){return n.invokeCallHook(t,e),n.poolingFunction(he(t),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe),Ba=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"poolingFunction",value:function(t,e,n,r,a){return it(a),ot(r),Da(t,e,n,r,a,"max")}}]),n}(za);Ba.className="MaxPooling2D",o.Jc.registerClass(Ba);var Wa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"poolingFunction",value:function(t,e,n,r,a){return it(a),ot(r),Da(t,e,n,r,a,"avg")}}]),n}(za);Wa.className="AveragePooling2D",o.Jc.registerClass(Wa);var Ua=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;if(Object(s.a)(this,n),null==t.poolSize&&(t.poolSize=[2,2,2]),(r=e.call(this,t)).poolSize=Array.isArray(t.poolSize)?t.poolSize:[t.poolSize,t.poolSize,t.poolSize],null==t.strides)r.strides=r.poolSize;else if(Array.isArray(t.strides)){if(3!==t.strides.length)throw new O("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(t.strides.length,"."));r.strides=t.strides}else r.strides=[t.strides,t.strides,t.strides];return W(r.poolSize,"poolSize"),W(r.strides,"strides"),r.padding=null==t.padding?"valid":t.padding,r.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,it(r.dataFormat),ot(r.padding),r.inputSpec=[new ge({ndim:5})],r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){t=fe(t);var e="channelsFirst"===this.dataFormat?t[2]:t[1],n="channelsFirst"===this.dataFormat?t[3]:t[2],r="channelsFirst"===this.dataFormat?t[4]:t[3];return e=Ur(e,this.poolSize[0],this.padding,this.strides[0]),n=Ur(n,this.poolSize[1],this.padding,this.strides[1]),r=Ur(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[t[0],t[1],e,n,r]:[t[0],e,n,r,t[4]]}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){return n.invokeCallHook(t,e),n.poolingFunction(he(t),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var t={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe),Va=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"poolingFunction",value:function(t,e,n,r,a){return it(a),ot(r),Ra(t,e,n,r,a,"max")}}]),n}(Ua);Va.className="MaxPooling3D",o.Jc.registerClass(Va);var Ha=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(u.a)(n,[{key:"poolingFunction",value:function(t,e,n,r,a){return it(a),ot(r),Ra(t,e,n,r,a,"avg")}}]),n}(Ua);Ha.className="AveragePooling3D",o.Jc.registerClass(Ha);var Ga=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).inputSpec=[new ge({ndim:3})],r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){return[t[0],t[2]]}},{key:"call",value:function(t,e){throw new k}}]),n}(Oe),Ya=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t||{})}return Object(u.a)(n,[{key:"call",value:function(t,e){return Object(o.rd)((function(){var e=he(t);return o.ac(e,1)}))}}]),n}(Ga);Ya.className="GlobalAveragePooling1D",o.Jc.registerClass(Ya);var qa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),e.call(this,t||{})}return Object(u.a)(n,[{key:"call",value:function(t,e){return Object(o.rd)((function(){var e=he(t);return o.Vb(e,1)}))}}]),n}(Ga);qa.className="GlobalMaxPooling1D",o.Jc.registerClass(qa);var Xa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,it(r.dataFormat),r.inputSpec=[new ge({ndim:4})],r}return Object(u.a)(n,[{key:"computeOutputShape",value:function(t){return t=t,"channelsLast"===this.dataFormat?[t[0],t[3]]:[t[0],t[1]]}},{key:"call",value:function(t,e){throw new k}},{key:"getConfig",value:function(){var t={dataFormat:this.dataFormat},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(Oe),Ka=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var e=he(t);return"channelsLast"===n.dataFormat?o.ac(e,[1,2]):o.ac(e,[2,3])}))}}]),n}(Xa);Ka.className="GlobalAveragePooling2D",o.Jc.registerClass(Ka);var $a=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var e=he(t);return"channelsLast"===n.dataFormat?o.Vb(e,[1,2]):o.Vb(e,[2,3])}))}}]),n}(Xa);function Ja(t,e,n,r){if(Array.isArray(t)){if(null!=e||null!=n)throw new O("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function a(t){return null==t||Array.isArray(t)?t:[t]}return{inputs:t,initialState:e=a(e),constants:n=a(n)}}function Za(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return o.rd((function(){var c=e.shape.length;if(c<3)throw new O("Input should be at least 3D, but is ".concat(c,"D."));var l=[1,0].concat(yt(2,c));if(e=o.vd(e,l),null!=i)throw new k("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=a.asType("bool").asType("float32")).rank===c-1&&(a=o.pb(a,-1)),a=o.vd(a,l)),r&&(e=o.Bc(e,0),null!=a&&(a=o.Bc(a,0)));var h,f,p=[],d=n,v=e.shape[0],m=o.xd(e);null!=a&&(f=o.xd(a));for(var g,y=function(e){var n=m[e],r=o.rd((function(){return t(n,d)}));if(null==a)h=r[0],d=r[1];else{var i=o.rd((function(){var t=f[e],n=o.nc(t).sub(t);return{output:r[0].mul(t).add(d[0].mul(n)),newStates:d.map((function(e,a){return r[1][a].mul(t).add(e.mul(n))}))}}));h=i.output,d=i.newStates}u&&p.push(h)},b=0;b<v;++b)y(b);if(u){g=o.fd(p,1)}return[h,g,d]}))}$a.className="GlobalMaxPooling2D",o.Jc.registerClass($a);var Qa=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r,a;if(Object(s.a)(this,n),r=e.call(this,t),null==t.cell)throw new O("cell property is missing for the constructor of RNN.");if(null==(a=Array.isArray(t.cell)?new si({cells:t.cell}):t.cell).stateSize)throw new O("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=a,r.returnSequences=null!=t.returnSequences&&t.returnSequences,r.returnState=null!=t.returnState&&t.returnState,r.goBackwards=null!=t.goBackwards&&t.goBackwards,r._stateful=null!=t.stateful&&t.stateful,r.unroll=null!=t.unroll&&t.unroll,r.supportsMasking=!0,r.inputSpec=[new ge({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return Object(u.a)(n,[{key:"getStates",value:function(){return null==this.states_?yt(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(t){return null})):this.states_}},{key:"setStates",value:function(t){this.states_=t}},{key:"computeOutputShape",value:function(t){ce(t)&&(t=t[0]),t=t;var e=this.cell.stateSize;Array.isArray(e)||(e=[e]);var n,r=e[0];if(n=this.returnSequences?[t[0],t[1],r]:[t[0],r],this.returnState){var a,i=[],o=Object(p.a)(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push([t[0],s])}}catch(u){o.e(u)}finally{o.f()}return[n].concat(i)}return n}},{key:"computeMask",value:function(t,e){var n=this;return o.rd((function(){Array.isArray(e)&&(e=e[0]);var t=n.returnSequences?e:null;if(n.returnState){var r=n.states.map((function(t){return null}));return[t].concat(r)}return t}))}},{key:"build",value:function(t){if(null!=this.numConstants)throw new k("Constants support is not implemented in RNN yet.");ce(t)&&(t=t[0]),t=t;var e=this.stateful?t[0]:null,n=t[t.length-1];this.inputSpec[0]=new ge({shape:[e,null,n]});var r,a=[t[0]].concat(t.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!o.zd.arraysEqual(this.stateSpec.map((function(t){return t.shape[t.shape.length-1]})),r))throw new O("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map((function(t){return new ge({shape:[null,t]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(o.rd)((function(){if(!e.stateful)throw new x("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=e.inputSpec[0].shape[0];if(null==r)throw new O("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==e.states_)Array.isArray(e.cell.stateSize)?e.states_=e.cell.stateSize.map((function(t){return o.Fd([r,t])})):e.states_=[o.Fd([r,e.cell.stateSize])];else if(null==t)o.fb(e.states_),null!=e.keptStates&&(o.fb(e.keptStates),e.keptStates=[]),Array.isArray(e.cell.stateSize)?e.states_=e.cell.stateSize.map((function(t){return o.Fd([r,t])})):e.states_[0]=o.Fd([r,e.cell.stateSize]);else{if(Array.isArray(t)||(t=[t]),t.length!==e.states_.length)throw new O("Layer ".concat(e.name," expects ").concat(e.states_.length," state(s), ")+"but it received ".concat(t.length," state value(s). Input ")+"received: ".concat(t));!0===n?e.keptStates.push(e.states_.slice()):o.fb(e.states_);for(var a=0;a<e.states_.length;++a){var i=t[a],s=Array.isArray(e.cell.stateSize)?e.cell.stateSize[a]:e.cell.stateSize,u=[r,s];if(!o.zd.arraysEqual(i.shape,u))throw new O("State ".concat(a," is incompatible with layer ").concat(e.name,": ")+"expected shape=".concat(u,", received shape=").concat(i.shape));e.states_[a]=i}}e.states_=e.states_.map((function(t){return o.Gb(t.clone())}))}))}},{key:"apply",value:function(t,e){var r=null==e?null:e.initialState,a=null==e?null:e.constants;null==e&&(e={});var i=Ja(t,r,a,this.numConstants);t=i.inputs,r=i.initialState,a=i.constants;var o=[],s=[];if(null!=r){e.initialState=r,o=o.concat(r),this.stateSpec=[];var u,c=Object(p.a)(r);try{for(c.s();!(u=c.n()).done;){var l=u.value;this.stateSpec.push(new ge({shape:l.shape}))}}catch(g){c.e(g)}finally{c.f()}s=s.concat(this.stateSpec)}if(null!=a&&(e.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof ye){var h=[t].concat(o),f=this.inputSpec.concat(s),d=this.inputSpec;this.inputSpec=f;var m=Object(Be.a)(Object(v.a)(n.prototype),"apply",this).call(this,h,e);return this.inputSpec=d,m}return Object(Be.a)(Object(v.a)(n.prototype),"apply",this).call(this,t,e)}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var r=null==e?null:e.mask,a=null==e?null:e.training,i=null==e?null:e.initialState;t=he(t),null==i&&(i=n.stateful?n.states_:n.getInitialState(t));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(i.length!==o)throw new O("RNN Layer has ".concat(o," state(s) but was passed ")+"".concat(i.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:a},u=Za((function(t,e){var r=n.cell.call([t].concat(e),s);return[r[0],r.slice(1)]}),t,i,n.goBackwards,r,null,n.unroll,n.returnSequences),c=u[0],l=u[1],h=u[2];n.stateful&&n.resetStates(h,a);var f=n.returnSequences?l:c;return n.returnState?[f].concat(h):f}))}},{key:"getInitialState",value:function(t){var e=this;return Object(o.rd)((function(){var n=o.Fd(t.shape);return n=xt(n=o.id(n,[1,2])),Array.isArray(e.cell.stateSize)?e.cell.stateSize.map((function(t){return t>1?jt(n,[1,t]):n})):e.cell.stateSize>1?[jt(n,[1,e.cell.stateSize])]:[n]}))}},{key:"setFastWeightInitDuringBuild",value:function(t){Object(Be.a)(Object(v.a)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,t),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(t)}},{key:"getConfig",value:function(){var t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var e=this.cell.getConfig();t.cell={className:this.cell.getClassName(),config:e};var r=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,r),t}},{key:"states",get:function(){if(null==this.states_){for(var t=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,e=[],n=0;n<t;++n)e.push(null);return e}return this.states_},set:function(t){this.states_=t}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}}],[{key:"fromConfig",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.cell,a=We(r,n);return new t(Object.assign(e,{cell:a}))}}]),n}(Oe);Qa.className="RNN",o.Jc.registerClass(Qa);var ti=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return n}(Oe),ei=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=t.units,W(r.units,"units"),r.activation=Cr(null==t.activation?r.DEFAULT_ACTIVATION:t.activation),r.useBias=null==t.useBias||t.useBias,r.kernelInitializer=ae(t.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=ae(t.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=ae(t.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=Ir(t.kernelRegularizer),r.recurrentRegularizer=Ir(t.recurrentRegularizer),r.biasRegularizer=Ir(t.biasRegularizer),r.kernelConstraint=Z(t.kernelConstraint),r.recurrentConstraint=Z(t.recurrentConstraint),r.biasConstraint=Z(t.biasConstraint),r.dropout=mt([1,gt([0,null==t.dropout?0:t.dropout])]),r.recurrentDropout=mt([1,gt([0,null==t.recurrentDropout?0:t.recurrentDropout])]),r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return Object(u.a)(n,[{key:"build",value:function(t){t=fe(t),this.kernel=this.addWeight("kernel",[t[t.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){if(2!==(t=t).length)throw new O("SimpleRNNCell expects 2 input Tensors, got ".concat(t.length,"."));var r=t[1];t=t[0];var a,i=null!=e.training&&e.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=ui((function(){return o.nc(t)}),n.dropout,i)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=ui((function(){return o.nc(r)}),n.recurrentDropout,i));var s=n.dropoutMask,u=n.recurrentDropoutMask;a=At(null!=s?o.gc(t,s):t,n.kernel.read()),null!=n.bias&&(a=It(a,n.bias.read())),null!=u&&(r=o.gc(r,u));var c=o.r(a,At(r,n.recurrentKernel.read()));return null!=n.activation&&(c=n.activation.apply(c)),[c,c]}))}},{key:"getConfig",value:function(){var t={units:this.units,activation:Sr(this.activation),useBias:this.useBias,kernelInitializer:re(this.kernelInitializer),recurrentInitializer:re(this.recurrentInitializer),biasInitializer:re(this.biasInitializer),kernelRegularizer:Mr(this.kernelRegularizer),recurrentRegularizer:Mr(this.recurrentRegularizer),biasRegularizer:Mr(this.biasRegularizer),activityRegularizer:Mr(this.activityRegularizer),kernelConstraint:$(this.kernelConstraint),recurrentConstraint:$(this.recurrentConstraint),biasConstraint:$(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(ti);ei.className="SimpleRNNCell",o.Jc.registerClass(ei);var ni=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),t.cell=new ei(t),e.call(this,t)}return Object(u.a)(n,[{key:"call",value:function(t,e){var r=this;return Object(o.rd)((function(){null!=r.cell.dropoutMask&&(o.fb(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.fb(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==e?null:e.mask,i=null==e?null:e.training,s=null==e?null:e.initialState;return Object(Be.a)(Object(v.a)(n.prototype),"call",r).call(r,t,{mask:a,training:i,initialState:s})}))}},{key:"getConfig",value:function(){var t={units:this.units,activation:Sr(this.activation),useBias:this.useBias,kernelInitializer:re(this.kernelInitializer),recurrentInitializer:re(this.recurrentInitializer),biasInitializer:re(this.biasInitializer),kernelRegularizer:Mr(this.kernelRegularizer),recurrentRegularizer:Mr(this.recurrentRegularizer),biasRegularizer:Mr(this.biasRegularizer),activityRegularizer:Mr(this.activityRegularizer),kernelConstraint:$(this.kernelConstraint),recurrentConstraint:$(this.recurrentConstraint),biasConstraint:$(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return delete e.cell,Object.assign(t,e),t}},{key:"units",get:function(){return this.cell.units}},{key:"activation",get:function(){return this.cell.activation}},{key:"useBias",get:function(){return this.cell.useBias}},{key:"kernelInitializer",get:function(){return this.cell.kernelInitializer}},{key:"recurrentInitializer",get:function(){return this.cell.recurrentInitializer}},{key:"biasInitializer",get:function(){return this.cell.biasInitializer}},{key:"kernelRegularizer",get:function(){return this.cell.kernelRegularizer}},{key:"recurrentRegularizer",get:function(){return this.cell.recurrentRegularizer}},{key:"biasRegularizer",get:function(){return this.cell.biasRegularizer}},{key:"kernelConstraint",get:function(){return this.cell.kernelConstraint}},{key:"recurrentConstraint",get:function(){return this.cell.recurrentConstraint}},{key:"biasConstraint",get:function(){return this.cell.biasConstraint}},{key:"dropout",get:function(){return this.cell.dropout}},{key:"recurrentDropout",get:function(){return this.cell.recurrentDropout}}],[{key:"fromConfig",value:function(t,e){return new t(e)}}]),n}(Qa);ni.className="SimpleRNN",o.Jc.registerClass(ni);var ri=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=t.units,W(r.units,"units"),r.activation=Cr(void 0===t.activation?r.DEFAULT_ACTIVATION:t.activation),r.recurrentActivation=Cr(void 0===t.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),r.useBias=null==t.useBias||t.useBias,r.kernelInitializer=ae(t.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=ae(t.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=ae(t.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=Ir(t.kernelRegularizer),r.recurrentRegularizer=Ir(t.recurrentRegularizer),r.biasRegularizer=Ir(t.biasRegularizer),r.kernelConstraint=Z(t.kernelConstraint),r.recurrentConstraint=Z(t.recurrentConstraint),r.biasConstraint=Z(t.biasConstraint),r.dropout=mt([1,gt([0,null==t.dropout?0:t.dropout])]),r.recurrentDropout=mt([1,gt([0,null==t.recurrentDropout?0:t.recurrentDropout])]),r.implementation=t.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return Object(u.a)(n,[{key:"build",value:function(t){var e=(t=fe(t))[t.length-1];this.kernel=this.addWeight("kernel",[e,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){if(2!==(t=t).length)throw new O("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(t.length,"."));var r=null!=e.training&&e.training,a=t[1];t=t[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=ui((function(){return o.nc(t)}),n.dropout,r,3)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=ui((function(){return o.nc(a)}),n.recurrentDropout,r,3));var i,s,u,c=n.dropoutMask,l=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(t=o.gc(t,c[0]));var h=At(t,n.kernel.read());n.useBias&&(h=It(h,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=o.gc(a,l[0]));var p=n.recurrentKernel.read(),d=o.ad(p,[2*n.units,n.units],p.rank-1),v=Object(f.a)(d,2),m=v[0],g=v[1],y=At(a,m),b=o.ad(h,3,h.rank-1),x=Object(f.a)(b,3),w=x[0],k=x[1],S=x[2],E=o.ad(y,2,y.rank-1),C=Object(f.a)(E,2),j=C[0],T=C[1];i=n.recurrentActivation.apply(o.r(w,j)),s=n.recurrentActivation.apply(o.r(k,T));var A=At(o.gc(s,a),g);u=n.activation.apply(o.r(S,A));var _=o.r(o.gc(i,a),o.gc(o.r(1,o.ic(i)),u));return[_,_]}))}},{key:"getConfig",value:function(){var t={units:this.units,activation:Sr(this.activation),recurrentActivation:Sr(this.recurrentActivation),useBias:this.useBias,kernelInitializer:re(this.kernelInitializer),recurrentInitializer:re(this.recurrentInitializer),biasInitializer:re(this.biasInitializer),kernelRegularizer:Mr(this.kernelRegularizer),recurrentRegularizer:Mr(this.recurrentRegularizer),biasRegularizer:Mr(this.biasRegularizer),activityRegularizer:Mr(this.activityRegularizer),kernelConstraint:$(this.kernelConstraint),recurrentConstraint:$(this.recurrentConstraint),biasConstraint:$(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(ti);ri.className="GRUCell",o.Jc.registerClass(ri);var ai=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new ri(t),e.call(this,t)}return Object(u.a)(n,[{key:"call",value:function(t,e){var r=this;return Object(o.rd)((function(){null!=r.cell.dropoutMask&&(o.fb(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.fb(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==e?null:e.mask,i=null==e?null:e.training,s=null==e?null:e.initialState;return Object(Be.a)(Object(v.a)(n.prototype),"call",r).call(r,t,{mask:a,training:i,initialState:s})}))}},{key:"getConfig",value:function(){var t={units:this.units,activation:Sr(this.activation),recurrentActivation:Sr(this.recurrentActivation),useBias:this.useBias,kernelInitializer:re(this.kernelInitializer),recurrentInitializer:re(this.recurrentInitializer),biasInitializer:re(this.biasInitializer),kernelRegularizer:Mr(this.kernelRegularizer),recurrentRegularizer:Mr(this.recurrentRegularizer),biasRegularizer:Mr(this.biasRegularizer),activityRegularizer:Mr(this.activityRegularizer),kernelConstraint:$(this.kernelConstraint),recurrentConstraint:$(this.recurrentConstraint),biasConstraint:$(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return delete e.cell,Object.assign(t,e),t}},{key:"units",get:function(){return this.cell.units}},{key:"activation",get:function(){return this.cell.activation}},{key:"recurrentActivation",get:function(){return this.cell.recurrentActivation}},{key:"useBias",get:function(){return this.cell.useBias}},{key:"kernelInitializer",get:function(){return this.cell.kernelInitializer}},{key:"recurrentInitializer",get:function(){return this.cell.recurrentInitializer}},{key:"biasInitializer",get:function(){return this.cell.biasInitializer}},{key:"kernelRegularizer",get:function(){return this.cell.kernelRegularizer}},{key:"recurrentRegularizer",get:function(){return this.cell.recurrentRegularizer}},{key:"biasRegularizer",get:function(){return this.cell.biasRegularizer}},{key:"kernelConstraint",get:function(){return this.cell.kernelConstraint}},{key:"recurrentConstraint",get:function(){return this.cell.recurrentConstraint}},{key:"biasConstraint",get:function(){return this.cell.biasConstraint}},{key:"dropout",get:function(){return this.cell.dropout}},{key:"recurrentDropout",get:function(){return this.cell.recurrentDropout}},{key:"implementation",get:function(){return this.cell.implementation}}],[{key:"fromConfig",value:function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)}}]),n}(Qa);ai.className="GRU",o.Jc.registerClass(ai);var ii=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=t.units,W(r.units,"units"),r.activation=Cr(void 0===t.activation?r.DEFAULT_ACTIVATION:t.activation),r.recurrentActivation=Cr(void 0===t.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:t.recurrentActivation),r.useBias=null==t.useBias||t.useBias,r.kernelInitializer=ae(t.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=ae(t.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=ae(t.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=t.unitForgetBias,r.kernelRegularizer=Ir(t.kernelRegularizer),r.recurrentRegularizer=Ir(t.recurrentRegularizer),r.biasRegularizer=Ir(t.biasRegularizer),r.kernelConstraint=Z(t.kernelConstraint),r.recurrentConstraint=Z(t.recurrentConstraint),r.biasConstraint=Z(t.biasConstraint),r.dropout=mt([1,gt([0,null==t.dropout?0:t.dropout])]),r.recurrentDropout=mt([1,gt([0,null==t.recurrentDropout?0:t.recurrentDropout])]),r.implementation=t.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return Object(u.a)(n,[{key:"build",value:function(t){var e,n,r=(t=fe(t))[t.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,i=this.units;n=new((e=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"apply",value:function(t,e){var n=a.apply([i]),r=(new Wt).apply([i]),o=a.apply([2*i]);return Ct(Ct(n,r),o)}}]),n}(zt)).className="CustomInit",e)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var r=null!=e.training&&e.training;if(3!==(t=t).length)throw new O("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(t.length,"."));var a=t[1],i=t[2];t=t[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=ui((function(){return o.nc(t)}),n.dropout,r,4)),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=ui((function(){return o.nc(a)}),n.recurrentDropout,r,4));var s,u,c,l,h=n.dropoutMask,p=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(t=o.gc(t,h[0]));var d=At(t,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=o.gc(a,p[0])),d=o.r(d,At(a,n.recurrentKernel.read())),n.useBias&&(d=It(d,n.bias.read()));var v=o.ad(d,4,d.rank-1),m=Object(f.a)(v,4),g=m[0],y=m[1],b=m[2],x=m[3];s=n.recurrentActivation.apply(g),u=n.recurrentActivation.apply(y),c=o.r(o.gc(u,i),o.gc(s,n.activation.apply(b))),l=n.recurrentActivation.apply(x);var w=o.gc(l,n.activation.apply(c));return[w,w,c]}))}},{key:"getConfig",value:function(){var t={units:this.units,activation:Sr(this.activation),recurrentActivation:Sr(this.recurrentActivation),useBias:this.useBias,kernelInitializer:re(this.kernelInitializer),recurrentInitializer:re(this.recurrentInitializer),biasInitializer:re(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Mr(this.kernelRegularizer),recurrentRegularizer:Mr(this.recurrentRegularizer),biasRegularizer:Mr(this.biasRegularizer),activityRegularizer:Mr(this.activityRegularizer),kernelConstraint:$(this.kernelConstraint),recurrentConstraint:$(this.recurrentConstraint),biasConstraint:$(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}}]),n}(ti);ii.className="LSTMCell",o.Jc.registerClass(ii);var oi=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){return Object(s.a)(this,n),0===t.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),t.cell=new ii(t),e.call(this,t)}return Object(u.a)(n,[{key:"call",value:function(t,e){var r=this;return Object(o.rd)((function(){null!=r.cell.dropoutMask&&(o.fb(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(o.fb(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==e?null:e.mask,i=null==e?null:e.training,s=null==e?null:e.initialState;return Object(Be.a)(Object(v.a)(n.prototype),"call",r).call(r,t,{mask:a,training:i,initialState:s})}))}},{key:"getConfig",value:function(){var t={units:this.units,activation:Sr(this.activation),recurrentActivation:Sr(this.recurrentActivation),useBias:this.useBias,kernelInitializer:re(this.kernelInitializer),recurrentInitializer:re(this.recurrentInitializer),biasInitializer:re(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Mr(this.kernelRegularizer),recurrentRegularizer:Mr(this.recurrentRegularizer),biasRegularizer:Mr(this.biasRegularizer),activityRegularizer:Mr(this.activityRegularizer),kernelConstraint:$(this.kernelConstraint),recurrentConstraint:$(this.recurrentConstraint),biasConstraint:$(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return delete e.cell,Object.assign(t,e),t}},{key:"units",get:function(){return this.cell.units}},{key:"activation",get:function(){return this.cell.activation}},{key:"recurrentActivation",get:function(){return this.cell.recurrentActivation}},{key:"useBias",get:function(){return this.cell.useBias}},{key:"kernelInitializer",get:function(){return this.cell.kernelInitializer}},{key:"recurrentInitializer",get:function(){return this.cell.recurrentInitializer}},{key:"biasInitializer",get:function(){return this.cell.biasInitializer}},{key:"unitForgetBias",get:function(){return this.cell.unitForgetBias}},{key:"kernelRegularizer",get:function(){return this.cell.kernelRegularizer}},{key:"recurrentRegularizer",get:function(){return this.cell.recurrentRegularizer}},{key:"biasRegularizer",get:function(){return this.cell.biasRegularizer}},{key:"kernelConstraint",get:function(){return this.cell.kernelConstraint}},{key:"recurrentConstraint",get:function(){return this.cell.recurrentConstraint}},{key:"biasConstraint",get:function(){return this.cell.biasConstraint}},{key:"dropout",get:function(){return this.cell.dropout}},{key:"recurrentDropout",get:function(){return this.cell.recurrentDropout}},{key:"implementation",get:function(){return this.cell.implementation}}],[{key:"fromConfig",value:function(t,e){return 0===e.implmentation&&(e.implementation=1),new t(e)}}]),n}(Qa);oi.className="LSTM",o.Jc.registerClass(oi);var si=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).cells=t.cells,r}return Object(u.a)(n,[{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var r,a=(t=t).slice(1),i=[],o=Object(p.a)(n.cells.slice().reverse());try{for(o.s();!(r=o.n()).done;){var s=r.value;Array.isArray(s.stateSize)?i.push(a.splice(0,s.stateSize.length)):i.push(a.splice(0,1))}}catch(g){o.e(g)}finally{o.f()}i.reverse();for(var u,c=[],l=0;l<n.cells.length;++l){var h=n.cells[l];a=i[l],u=0===l?[t[0]].concat(a):[u[0]].concat(a),u=h.call(u,e),c.push(u.slice(1))}a=[];var f,d=Object(p.a)(c.slice().reverse());try{for(d.s();!(f=d.n()).done;){var v,m=f.value;(v=a).push.apply(v,Object(Q.a)(m))}}catch(g){d.e(g)}finally{d.f()}return[u[0]].concat(a)}))}},{key:"build",value:function(t){var e;ce(t)&&(t=t[0]),t=t,this.cells.forEach((function(n,r){ct("RNNCell_".concat(r),(function(){n.build(t),e=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,t=[t[0],e]}))})),this.built=!0}},{key:"getConfig",value:function(){var t,e=[],r=Object(p.a)(this.cells);try{for(r.s();!(t=r.n()).done;){var a=t.value;e.push({className:a.getClassName(),config:a.getConfig()})}}catch(s){r.e(s)}finally{r.f()}var i={cells:e},o=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(i,o),i}},{key:"getWeights",value:function(){var t,e=[],n=Object(p.a)(this.cells);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push.apply(e,Object(Q.a)(r.weights))}}catch(a){n.e(a)}finally{n.f()}return ve(e)}},{key:"setWeights",value:function(t){var e,n=[],r=Object(p.a)(this.cells);try{for(r.s();!(e=r.n()).done;)for(var a=e.value,i=a.weights.length,o=t.splice(i),s=0;s<a.weights.length;++s)n.push([a.weights[s],o[s]])}catch(u){r.e(u)}finally{r.f()}me(n)}},{key:"stateSize",get:function(){var t,e=[],n=Object(p.a)(this.cells.slice().reverse());try{for(n.s();!(t=n.n()).done;){var r=t.value;Array.isArray(r.stateSize)?e.push.apply(e,Object(Q.a)(r.stateSize)):e.push(r.stateSize)}}catch(a){n.e(a)}finally{n.f()}return e}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var t,e=[],n=Object(p.a)(this.cells);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push.apply(e,Object(Q.a)(r.trainableWeights))}}catch(a){n.e(a)}finally{n.f()}return e}},{key:"nonTrainableWeights",get:function(){var t,e=[],n=Object(p.a)(this.cells);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push.apply(e,Object(Q.a)(r.nonTrainableWeights))}}catch(u){n.e(u)}finally{n.f()}if(!this.trainable){var a,i=[],o=Object(p.a)(this.cells);try{for(o.s();!(a=o.n()).done;){var s=a.value;i.push.apply(i,Object(Q.a)(s.trainableWeights))}}catch(u){o.e(u)}finally{o.f()}return i.concat(e)}return e}}],[{key:"fromConfig",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],i=Object(p.a)(e.cells);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push(We(o,r))}}catch(s){i.e(s)}finally{i.f()}return new t({cells:a})}}]),n}(ti);function ui(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;function a(){return Rt(t(),e)}if(r>1){for(var i=[],s=0;s<r;s++)i.push(Pt(a,t,n));return i.map((function(t){return o.Gb(t.clone())}))}return o.Gb(Pt(a,t,n).clone())}si.className="StackedRNNCells",o.Jc.registerClass(si);var ci=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).layer=t.layer,r}return Object(u.a)(n,[{key:"build",value:function(t){this.built=!0}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(t){this.layer.setWeights(t)}},{key:"getConfig",value:function(){var t={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}},{key:"setFastWeightInitDuringBuild",value:function(t){Object(Be.a)(Object(v.a)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,t),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(t)}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(t){null!=this.layer&&(this.layer.trainable=t)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}}],[{key:"fromConfig",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.layer,a=We(r,n);delete e.layer;var i={layer:a};return Object.assign(i,e),new t(i)}}]),n}(Oe),li=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,t)).supportsMasking=!0,r}return Object(u.a)(n,[{key:"build",value:function(t){if((t=fe(t)).length<3)throw new O("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(t)));this.inputSpec=[{shape:t}];var e=[t[0]].concat(t.slice(2));this.layer.built||(this.layer.build(e),this.layer.built=!0),Object(Be.a)(Object(v.a)(n.prototype),"build",this).call(this,t)}},{key:"computeOutputShape",value:function(t){var e=[(t=fe(t))[0]].concat(t.slice(2)),n=this.layer.computeOutputShape(e),r=t[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){return Za((function(t,r){return[he(n.layer.call(t,e)),[]]}),t=he(t),[],!1,null,null,!1,!0)[1]}))}}]),n}(ci);li.className="TimeDistributed",o.Jc.registerClass(li);var hi=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r;Object(s.a)(this,n),r=e.call(this,t);var a=t.layer.getConfig(),i={};i.className=t.layer.getClassName(),i.config=a,r.forwardLayer=We(i),a.goBackwards=!0!==a.goBackwards;var o,u={};if(u.className=t.layer.getClassName(),u.config=a,r.backwardLayer=We(u),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,r.mergeMode=void 0===t.mergeMode?"concat":t.mergeMode,o=r.mergeMode,z(rt,"BidirectionalMergeMode",o),t.weights)throw new k("weights support is not implemented for Bidirectional layer yet.");return r._stateful=t.layer.stateful,r.returnSequences=t.layer.returnSequences,r.returnState=t.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=t.layer.inputSpec,r.numConstants=null,r}return Object(u.a)(n,[{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(t){var e=t.length,n=Math.floor(e/2);this.forwardLayer.setWeights(t.slice(0,n)),this.backwardLayer.setWeights(t.slice(n))}},{key:"computeOutputShape",value:function(t){var e,n,r,a=this.forwardLayer.computeOutputShape(t);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),a=a,this.returnState?(r=a.slice(1),e=a[0]):e=a[0],e=e,"concat"===this.mergeMode?(e[e.length-1]*=2,n=[e]):n=null==this.mergeMode?[e,e.slice()]:[e],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[e].concat(r).concat(r.slice()):T(n)}},{key:"apply",value:function(t,e){var r=null==e?null:e.initialState,a=null==e?null:e.constants;null==e&&(e={});var i=Ja(t,r,a,this.numConstants);if(t=i.inputs,r=i.initialState,a=i.constants,Array.isArray(t)&&(r=t.slice(1),t=t[0]),(null==r||0===r.length)&&null==a)return Object(Be.a)(Object(v.a)(n.prototype),"apply",this).call(this,t,e);var o=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new O("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");e.initialState=r,o.push.apply(o,Object(Q.a)(r));var c=r.map((function(t){return new ge({shape:t.shape})}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),s.push.apply(s,Object(Q.a)(c))}if(null!=a)throw new k("Support for constants in Bidirectional layers is not implemented yet.");for(var l=o[0]instanceof ye,h=0,f=o;h<f.length;h++){if(f[h]instanceof ye!==l)throw new O("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(l){var p=[t].concat(o),d=this.inputSpec.concat(s),m=this.inputSpec;this.inputSpec=d;var g=Object(Be.a)(Object(v.a)(n.prototype),"apply",this).call(this,p,e);return this.inputSpec=m,g}return Object(Be.a)(Object(v.a)(n.prototype),"apply",this).call(this,t,e)}},{key:"call",value:function(t,e){var n=this;return Object(o.rd)((function(){var r,a,i,s,u=e.initialState;if(null==u)r=n.forwardLayer.call(t,e),a=n.backwardLayer.call(t,e);else{var c=u.slice(0,u.length/2),l=u.slice(u.length/2);r=n.forwardLayer.call(t,Object.assign(e,{initialState:c})),a=n.backwardLayer.call(t,Object.assign(e,{initialState:l}))}return n.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=o.Bc(a,1)),"concat"===n.mergeMode?s=Et([r,a]):"sum"===n.mergeMode?s=o.r(r,a):"ave"===n.mergeMode?s=o.gc(.5,o.r(r,a)):"mul"===n.mergeMode?s=o.gc(r,a):null==n.mergeMode&&(s=[r,a]),n.returnState?null==n.mergeMode?s.concat(i):[s].concat(i):s}))}},{key:"resetStates",value:function(t){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(t){var e=this;ct(this.forwardLayer.name,(function(){e.forwardLayer.build(t)})),ct(this.backwardLayer.name,(function(){e.backwardLayer.build(t)})),this.built=!0}},{key:"computeMask",value:function(t,e){var n;if(Array.isArray(e)&&(e=e[0]),n=this.returnSequences?null==this.mergeMode?[e,e]:e:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(t){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"setFastWeightInitDuringBuild",value:function(t){Object(Be.a)(Object(v.a)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,t),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(t),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(t)}},{key:"getConfig",value:function(){var t={mergeMode:this.mergeMode},e=Object(Be.a)(Object(v.a)(n.prototype),"getConfig",this).call(this);return Object.assign(t,e),t}},{key:"trainable",get:function(){return this._trainable},set:function(t){this._trainable=t,null!=this.forwardLayer&&(this.forwardLayer.trainable=t),null!=this.backwardLayer&&(this.backwardLayer.trainable=t)}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}}],[{key:"fromConfig",value:function(t,e){var n=We(e.layer);if(delete e.layer,null!=e.numConstants)throw new k("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=e;return r.layer=n,new t(r)}}]),n}(ci);function fi(t){return new ke(t)}function pi(t){return new Fr(t)}function di(t){return new Dr(t)}function vi(t){return new Rr(t)}function mi(t){return new Pr(t)}function gi(t){return new zr(t)}function yi(t){return new Lr(t)}function bi(t){return new na(t)}function xi(t){return new Jr(t)}function wi(t){return new Qr(t)}function Oi(t){return new Zr(t)}function ki(t){return new ea(t)}function Si(t){return new ra(t)}function Ei(t){return new aa(t)}function Ci(t){return new ia(t)}function ji(t){return new la(t)}function Ti(t){return new ua(t)}function Ai(t){return new oa(t)}function _i(t){return new sa(t)}function Mi(t){return new ca(t)}function Ni(t){return new ha(t)}function Ii(t){return new fa(t)}function Di(t){return new pa(t)}function Ri(t){return new va(t)}function Pi(t){return new ga(t)}function Fi(t){return new ba(t)}function Li(t){return new Oa(t)}function zi(t){return new xa(t)}function Bi(t){return new wa(t)}function Wi(t){return new ya(t)}function Ui(t){return new Sa(t)}function Vi(t){return new Ma(t)}function Hi(t){return new Na(t)}function Gi(t){return new Ia(t)}function Yi(t){return new La(t)}function qi(t){return Yi(t)}function Xi(t){return Yi(t)}function Ki(t){return new Wa(t)}function $i(t){return Ki(t)}function Ji(t){return Ki(t)}function Zi(t){return new Ha(t)}function Qi(t){return Zi(t)}function to(t){return Zi(t)}function eo(t){return new Ya(t)}function no(t){return new Ka(t)}function ro(t){return new qa(t)}function ao(t){return new $a(t)}function io(t){return new Fa(t)}function oo(t){return new Ba(t)}function so(t){return new Va(t)}function uo(t){return new ai(t)}function co(t){return new ri(t)}function lo(t){return new oi(t)}function ho(t){return new ii(t)}function fo(t){return new ni(t)}function po(t){return new ei(t)}function vo(t){return new Qa(t)}function mo(t){return new si(t)}function go(t){return new hi(t)}function yo(t){return new li(t)}hi.className="Bidirectional",o.Jc.registerClass(hi);var bo=ro,xo=ao,wo=io,Oo=oo;function ko(t){return new Ea(t)}function So(t){return new Ca(t)}function Eo(t){return new ja(t)}function Co(t){return new da(t)}n(40),n(6),n(61);var jo=function(){function t(e,n,r,a,i,o,u){Object(s.a)(this,t),this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=u,this.tensors=[],this.closed_=!1,this.id=t.nextId++}return Object(u.a)(t,[{key:"clearAndClose",value:function(){this.tensors.forEach((function(t){return t.tensor.dispose()})),this.tensors=[],this.closed_=!0}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(t<0||t>=this.size())throw new Error("Tried to read from index ".concat(t,", but array size is: ").concat(this.size()));var e=this.tensors[t];if(e.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(t," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(e.cleared=!0),e.read=!0,e.tensor}},{key:"readMany",value:function(t){var e=this;return t.map((function(t){return e.read(t)}))}},{key:"write",value:function(t,e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(t<0||!this.dynamicSize&&t>=this.maxSize)throw new Error("Tried to write to index ".concat(t,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[t]||{};if(e.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(t,",\n          because the value dtype is ").concat(e.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=e.shape),this.assertShapesMatchAllowUndefinedSize(this.elementShape,e.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(t,".")),n&&n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(t,", because it has already been read."));if(n&&n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(t,", because it has already been written."));n.tensor=e,n.written=!0,this.tensors[t]=n}},{key:"writeMany",value:function(t,e){var n=this;if(t.length!==e.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(t.length," is not the same as tensors size: ").concat(e.length,"."));t.forEach((function(t,r){return n.write(t,e[r])}))}},{key:"gather",value:function(t,e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(e));if(t)t=t.slice(0,this.size());else{t=[];for(var n=0;n<this.size();n++)t.push(n)}if(0===t.length)return Object(o.md)([],[0].concat(this.elementShape));var r=this.readMany(t);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Object(o.fd)(r,0)}},{key:"concat",value:function(t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(t));if(0===this.size())return Object(o.md)([],[0].concat(this.elementShape));for(var e=[],n=0;n<this.size();n++)e.push(n);var r=this.readMany(e);return this.assertShapesMatchAllowUndefinedSize(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),Object(o.R)(r,0)}},{key:"scatter",value:function(t,e){if(e.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(e.dtype));if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var n=Math.max.apply(Math,Object(Q.a)(t));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(t,Object(o.xd)(e,0))}},{key:"split",value:function(t,e){var n=this;if(e.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(e.dtype));var r=0,a=t.map((function(t){return r+=t}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));if(!this.dynamicSize&&t.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(t.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var i=0===r?0:e.size/r,s=[];Object(o.rd)((function(){e=e.reshape([1,r,i]);for(var u=0;u<t.length;++u){var c=[0,0===u?0:a[u-1],0],l=[1,t[u],i];s[u]=Object(o.Qc)(e,c,l).reshape(n.elementShape)}return s}));for(var u=[],c=0;c<t.length;c++)u[c]=c;this.writeMany(u,s)}},{key:"assertShapesMatchAllowUndefinedSize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";o.zd.assert(this.shapesEqualAllowUndefinedSize(t,e),(function(){return n+" Shapes ".concat(t," and ").concat(e," must match")}))}},{key:"shapesEqualAllowUndefinedSize",value:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(-1!==t[n]&&-1!==e[n]&&t[n]!==e[n])return!1;return!0}},{key:"closed",get:function(){return this.closed_}}]),t}();jo.nextId=0;var To=n(47),Ao=n(34),_o=n(43),Mo=function(){function t(){Object(s.a)(this,t),this.size=null}return Object(u.a)(t,[{key:"batch",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return o.zd.assert(t>0,(function(){return"batchSize needs to be positive, but it is\n      ".concat(t)})),e=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/t):Math.floor(this.size/t),No(Object(Te.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.iterator();case 2:return e.abrupt("return",e.sent.columnMajorBatch(t,n,Io));case 3:case"end":return e.stop()}}),e)}))),e)}},{key:"concatenate",value:function(t){var e,n=this;return e=this.size===1/0||t.size===1/0?1/0:null!=this.size&&null!=t.size?this.size+t.size:null,No(Object(Te.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.next=5,t.iterator();case 5:return e.t1=e.sent,e.abrupt("return",e.t0.concatenate.call(e.t0,e.t1));case 7:case"end":return e.stop()}}),e)}))),e)}},{key:"filter",value:function(t){var e,n=this;return e=this.size===1/0?1/0:null,No(Object(Te.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.abrupt("return",e.sent.filter((function(e){return o.rd((function(){return t(e)}))})));case 3:case"end":return e.stop()}}),e)}))),e)}},{key:"forEachAsync",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.iterator();case 2:return t.abrupt("return",t.sent.forEachAsync(e));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"map",value:function(t){var e=this;return No(Object(Te.a)(je.a.mark((function n(){return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.iterator();case 2:return n.abrupt("return",n.sent.map((function(e){return o.rd((function(){return t(e)}))})));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"mapAsync",value:function(t){var e=this;return No(Object(Te.a)(je.a.mark((function n(){return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.iterator();case 2:return n.abrupt("return",n.sent.mapAsync(t));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"prefetch",value:function(t){if(null==t)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var e=this;return No(Object(Te.a)(je.a.mark((function n(){return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.iterator();case 2:return n.abrupt("return",n.sent.prefetch(t));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"repeat",value:function(t){var e,n=this;return e=null!=this.size&&t>0?this.size*t:0===t?0:null!=this.size&&(void 0===t||t<0)?1/0:null,No(Object(Te.a)(je.a.mark((function e(){var r;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Ao.e)(Object(Te.a)(je.a.mark((function t(){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.abrupt("return",{value:t.t0,done:!1});case 4:case"end":return t.stop()}}),t)})))),e.abrupt("return",Object(Ao.d)(r.take(t)));case 2:case"end":return e.stop()}}),e)}))),e)}},{key:"skip",value:function(t){var e,n=this;return e=null!=this.size&&t>=0&&this.size>=t?this.size-t:null!=this.size&&(this.size<t||void 0===t||t<0)?0:null,No(Object(Te.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.abrupt("return",e.sent.skip(t));case 3:case"end":return e.stop()}}),e)}))),e)}},{key:"shuffle",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==t||t<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));var r=this,a=To.alea(e||o.zd.now().toString());return No(Object(Te.a)(je.a.mark((function e(){var i;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.int32(),n&&(i+=a.int32()),e.next=4,r.iterator();case 4:return e.abrupt("return",e.sent.shuffle(t,i.toString()));case 5:case"end":return e.stop()}}),e)}))),this.size)}},{key:"take",value:function(t){var e,n=this;return e=null!=this.size&&this.size>t?t:null!=this.size&&this.size<=t?this.size:null,No(Object(Te.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.abrupt("return",e.sent.take(t));case 3:case"end":return e.stop()}}),e)}))),e)}},{key:"toArray",value:function(){var t=Object(Te.a)(je.a.mark((function t(){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.size!==1/0){t.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return t.next=4,this.iterator();case 4:return t.abrupt("return",t.sent.toArray());case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var t=Object(Te.a)(je.a.mark((function t(){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.size!==1/0){t.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return t.next=4,this.iterator();case 4:return t.abrupt("return",t.sent.toArrayForTest());case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}();function No(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){Object(c.a)(a,n);var r=Object(l.a)(a);function a(){var t;return Object(s.a)(this,a),(t=r.apply(this,arguments)).size=e,t}return Object(u.a)(a,[{key:"iterator",value:function(){var e=Object(Te.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),a}(Mo))}function Io(t){if(null===t)return null;var e=t[0];return Object(_o.a)(e)?{value:function(t){if(0===t.length)throw new Error("Can't make a batch of zero elements.");return t[0]instanceof o.l?o.fd(t):o.md(t)}(t),recurse:!1}:{value:null,recurse:!0}}Mo.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote"),Ao.a,Ao.a,n(212).a;function Do(t,e,n,r){for(var a=o.zd.getTypedArrayFromDType(r,o.zd.sizeFromShape(n)),i=0;i<a.length;++i){for(var s=i*e,u=t[s],c=0;c<e;++c){var l=t[s+c];l>u&&(u=l)}a[i]=u}return a}function Ro(t,e,n,r,a){for(var i=e.length,s=o.zd.sizeFromShape(e),u=o.zd.computeStrides(e),c=o.zd.computeStrides(a),l=o.zd.getTypedArrayFromDType(n,o.zd.sizeFromShape(a)),h=0;h<s;++h){for(var f=o.zd.indexToLoc(h,i,u),p=new Array(f.length),d=0;d<p.length;d++)p[d]=f[r[d]];l[o.zd.locToIndex(p,i,c)]=t[h]}return l}function Po(t,e){Array.isArray(t)||(t=[t]),t.forEach((function(t){null!=t&&o.zd.assert("complex64"!==t.dtype,(function(){return"".concat(e," does not support complex64 tensors in the CPU backend.")}))}))}function Fo(t,e,n,r,a,i){for(var s=a.strideHeight,u=a.strideWidth,c=a.dilationHeight,l=a.dilationWidth,h=a.effectiveFilterHeight,f=a.effectiveFilterWidth,p=a.padInfo.top,d=a.padInfo.left,v="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=Object(o.M)(a.outShape,n),g=m.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],b=a.outShape[2]*a.outShape[3],x=a.outShape[3],w=0;w<a.batchSize;++w)for(var O=w*y,k=w*r[0],S=0;S<a.inChannels;++S)for(var E=0;E<a.outHeight;++E)for(var C=E*s-p,j=Math.max(0,C),T=Math.min(a.inHeight,h+C),A=O+E*b,_=0;_<a.outWidth;++_){for(var M=_*u-d,N=Math.max(0,M),I=Math.min(a.inWidth,f+M),D=v,R=0,P=0,F=j;F<T;F+=c){for(var L=k+F*r[1],z=N;z<I;z+=l){var B=t[L+z*r[2]+S];"max"===i&&B>D?D=B:"avg"===i&&(R+=B,P++)}if(isNaN(D))break}g[A+_*x+S]="avg"===i?R/P:D}return m}function Lo(t,e,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=Object(o.M)(r.outShape,"int32"),u=r.strideHeight,c=r.strideWidth,l=r.dilationHeight,h=r.dilationWidth,f=r.effectiveFilterHeight,p=r.effectiveFilterWidth,d=r.padInfo.top,v=r.padInfo.left,m=Object(o.M)(e,n,t),g=0;g<r.batchSize;++g)for(var y=0;y<r.inChannels;++y)for(var b=0;b<r.outHeight;++b){for(var x=b*u-d,w=x;w<0;)w+=l;for(var O=Math.min(r.inHeight,f+x),k=0;k<r.outWidth;++k){for(var S=k*c-v,E=S;E<0;)E+=h;for(var C=Math.min(r.inWidth,p+S),j=Number.NEGATIVE_INFINITY,T=-1,A=w;A<O;A+=l)for(var _=A-x,M=E;M<C;M+=h){var N=M-S,I=m.get(g,A,M,y);I>j&&(j=I,T=a?i?((g*r.inHeight+A)*r.inWidth+M)*r.inChannels+y:(A*r.inWidth+M)*r.inChannels+y:_*p+N)}s.set(T,g,b,k,y)}}return s}var zo=o.Hb.nonMaxSuppressionV3,Bo=o.Hb.split,Wo=o.Hb.tile,Uo=o.Hb.topkImpl,Vo=o.Hb.whereImpl;function Ho(t,e,n,r){if("linear"===n)return t.linear(e);if("relu"===n)return t.relu(e);if("elu"===n)return t.elu(e);if("relu6"===n)return t.relu6(e);if("prelu"===n)return t.prelu(e,r);throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}var Go=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(s.a)(this,n),(t=e.call(this)).blockSize=48,t.firstUse=!0,t.data=new o.a(Object(d.a)(t),Object(o.kb)()),t}return Object(u.a)(n,[{key:"write",value:function(t,e,n){this.firstUse&&(this.firstUse=!1,Object(o.lb)().get("IS_NODE")&&o.F.warn("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:t,dtype:n}),r}},{key:"move",value:function(t,e,n,r){this.data.set(t,{values:e,dtype:r})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.readSync(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"readSync",value:function(t){var e=this.data.get(t),n=e.dtype,r=e.complexTensors;if("complex64"===n){var a=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return o.F.mergeRealAndImagArrays(a,i)}return this.data.get(t).values}},{key:"bufferSync",value:function(t){var e=this.readSync(t.dataId),n=e;if("string"===t.dtype)try{n=e.map((function(t){return o.zd.decodeString(t)}))}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return o.M(t.shape,t.dtype,n)}},{key:"makeOutput",value:function(t,e,n){var r=this.write(t,e,n);return Object(o.kb)().makeTensorFromDataId(r,e,n,this)}},{key:"disposeData",value:function(t){if(this.data.has(t)){var e=this.data.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.data.delete(t)}}},{key:"time",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){var n,r;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.zd.now(),e(),r=o.zd.now()-n,t.abrupt("return",{kernelMs:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"complex",value:function(t,e){var n=this.makeOutput(null,t.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:Object(o.kb)().keep(t.clone()),imag:Object(o.kb)().keep(e.clone())},n}},{key:"real",value:function(t){return this.data.get(t.dataId).complexTensors.real.clone()}},{key:"imag",value:function(t){return this.data.get(t.dataId).complexTensors.imag.clone()}},{key:"slice",value:function(t,e,n){if(Po(t,"slice"),o.Vc.isSliceContinous(t.shape,e,n)){var r=o.Vc.computeFlatOffset(e,t.strides),a=o.zd.sizeFromShape(n),i=this.readSync(t.dataId);return o.md(i.subarray(r,r+a),n,t.dtype)}for(var s=o.M(n,t.dtype),u=this.bufferSync(t),c=0;c<s.size;++c){var l=s.indexToLoc(c).map((function(t,n){return t+e[n]}));s.values[c]=u.get.apply(u,Object(Q.a)(l))}return s.toTensor()}},{key:"stridedSlice",value:function(t,e,n,r){Po(t,"stridedSlice");var a=o.Vc.computeOutShape(e,n,r);if(a.some((function(t){return 0===t})))return o.md([],a);for(var i=o.M(a,t.dtype),s=this.bufferSync(t),u=0;u<i.size;u++){for(var c=i.indexToLoc(u),l=new Array(c.length),h=0;h<l.length;h++)l[h]=c[h]*r[h]+e[h];i.set.apply(i,[s.get.apply(s,l)].concat(Object(Q.a)(c)))}return i.toTensor()}},{key:"diag",value:function(t){for(var e=this.readSync(t.dataId),n=o.M([t.size,t.size],t.dtype),r=n.values,a=0;a<e.length;a++)r[a*t.size+a]=e[a];return n.toTensor()}},{key:"unstack",value:function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),a=0,i=0;i<t.rank;i++)i!==e&&(r[a++]=t.shape[i]);var o=new Array(t.rank).fill(0),s=t.shape.slice();s[e]=1;for(var u=new Array(n),c=0;c<u.length;c++)o[e]=c,u[c]=this.slice(t,o,s).reshape(r);return u}},{key:"reverse",value:function(t,e){Po(t,"reverse");for(var n=o.M(t.shape,t.dtype),r=this.bufferSync(t),a=function(a){var i=n.indexToLoc(a),o=i.slice();e.forEach((function(e){return o[e]=t.shape[e]-1-o[e]})),n.set.apply(n,[r.get.apply(r,Object(Q.a)(o))].concat(Object(Q.a)(i)))},i=0;i<n.size;i++)a(i);return n.toTensor()}},{key:"concat",value:function(t,e){var n=this;if("complex64"===t[0].dtype){var r=t.map((function(t){return o.vc(t)})),a=t.map((function(t){return o.Cb(t)}));return o.Q(this.concat(r,e),this.concat(a,e))}var i=t.map((function(t){var n=o.zd.sizeFromShape(t.shape.slice(e));return t.as2D(-1,n)})),s=o.F.computeOutShape(i.map((function(t){return t.shape})),1),u=o.M(s,t[0].dtype).values;if(1===i[0].shape[0]){var c=0;i.forEach((function(t){u.set(n.readSync(t.dataId),c),c+=t.size}))}else{var l=0;i.forEach((function(t){for(var e=n.readSync(t.dataId),r=0,a=0;a<t.shape[0];++a)for(var i=a*s[1]+l,o=0;o<t.shape[1];++o)u[i+o]=e[r++];l+=t.shape[1]}))}var h=o.F.computeOutShape(t.map((function(t){return t.shape})),e);return o.md(u,h,t[0].dtype)}},{key:"neg",value:function(t){return Po(t,"neg"),this.multiply(o.Fc(-1),t)}},{key:"add",value:function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),(function(t,e,n,r){return{real:t+n,imag:e+r}})):this.broadcastedBinaryOp(t,e,Object(o.yd)(t.dtype,e.dtype),(function(t,e){return t+e}))}},{key:"addN",value:function(t){var e=this;Po(t,"addN");for(var n=t.map((function(t){return e.readSync(t.dataId)})),r=o.M(t[0].shape,t[0].dtype),a=r.values,i=0;i<t.length;i++)for(var s=n[i],u=0;u<a.length;u++)a[u]+=s[u];return r.toTensor()}},{key:"softmax",value:function(t,e){var n=o.zd.parseAxisParam([e],t.shape),r=Object(o.Vb)(t,n),a=o.F.expandShapeToKeepDim(r.shape,n),i=this.subtract(t,r.reshape(a)),s=this.exp(i),u=this.sum(s,n).reshape(a);return o.gb(s,u)}},{key:"subtract",value:function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),(function(t,e,n,r){return{real:t-n,imag:e-r}})):this.broadcastedBinaryOp(t,e,Object(o.yd)(t.dtype,e.dtype),(function(t,e){return t-e}))}},{key:"pow",value:function(t,e){return Po([t,e],"pow"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.pow(t,e)}))}},{key:"batchMatMul",value:function(t,e,n,r){Po([t,e],"matMul");for(var a=n?t.shape[1]:t.shape[2],i=n?t.shape[2]:t.shape[1],s=r?e.shape[1]:e.shape[2],u=t.shape[0],c=this.readSync(t.dataId),l=this.readSync(e.dataId),h=n?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],p=Object(f.a)(h,3),d=p[0],v=p[1],m=p[2],g=r?[1,e.strides[1],e.strides[0]]:[e.strides[1],1,e.strides[0]],y=Object(f.a)(g,3),b=y[0],x=y[1],w=y[2],O=i*s,k=o.M([u,i,s],t.dtype),S=k.values,E=this.blockSize,C=0;C<u;C++)for(var j=0;j<i;j+=E)for(var T=0;T<s;T+=E)for(var A=0;A<a;A+=E)for(var _=Math.min(j+E,i),M=Math.min(T+E,s),N=Math.min(A+E,a),I=j;I<_;I++)for(var D=T;D<M;D++){for(var R=0,P=A;P<N;P++)R+=c[C*d+I*v+P*m]*l[P*b+D*x+C*w];S[C*O+(I*s+D)]+=R}return k.toTensor()}},{key:"fusedBatchMatMul",value:function(t){var e=t.a,n=t.b,r=t.transposeA,a=t.transposeB,i=t.bias,o=t.activation,s=t.preluActivationWeights,u=this.batchMatMul(e,n,r,a);return i&&(u=this.add(u,i)),o&&(u=Ho(this,u,o,s)),u}},{key:"multiply",value:function(t,e){return"complex64"===t.dtype||"complex64"===e.dtype?this.broadcastedBinaryComplexOp(t.cast("complex64"),e.cast("complex64"),(function(t,e,n,r){return{real:t*n-e*r,imag:t*r+e*n}})):this.broadcastedBinaryOp(t,e,Object(o.yd)(t.dtype,e.dtype),(function(t,e){return t*e}))}},{key:"floorDiv",value:function(t,e){Po([t,e],"floorDiv");return this.broadcastedBinaryOp(t,e,"int32",(function(t,e){return Math.floor(t/e)}))}},{key:"sum",value:function(t,e){Po(t,"sum"),o.F.assertAxesAreInnerMostDims("sum",e,t.rank);for(var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=Object(o.yd)(t.dtype,"int32"),u=o.Fd(a,s),c=o.zd.sizeFromShape(i),l=this.readSync(u.dataId),h=this.readSync(t.dataId),p=0;p<l.length;++p){for(var d=p*c,v=0,m=0;m<c;++m)v+=h[d+m];l[p]=v}return u}},{key:"prod",value:function(t,e){Po(t,"sum");for(var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=Object(o.yd)(t.dtype,"int32"),u=o.Fd(a,s),c=o.zd.sizeFromShape(i),l=this.readSync(u.dataId),h=this.readSync(t.dataId),p=0;p<l.length;++p){for(var d=p*c,v=1,m=0;m<c;++m)v*=h[d+m];l[p]=v}return u}},{key:"unsortedSegmentSum",value:function(t,e,n){Po(t,"unsortedSegmentSum");for(var r=[],a=t.rank-e.rank,i=0;i<a;++i)e=e.expandDims(i+1);for(var s=0;s<n;++s){var u=o.Fc(s,"int32"),c=o.mb(u,e).asType("float32").mul(t).sum(0);r.push(c)}return o.fd(r)}},{key:"argMin",value:function(t,e){Po(t,"argMin");var n=[e];o.F.assertAxesAreInnerMostDims("argMin",n,t.rank);for(var r=o.F.computeOutAndReduceShapes(t.shape,n),a=Object(f.a)(r,2),i=a[0],s=a[1],u=o.Fd(i,"int32"),c=o.zd.sizeFromShape(s),l=this.readSync(u.dataId),h=this.readSync(t.dataId),p=0;p<l.length;++p){for(var d=p*c,v=h[d],m=0,g=0;g<c;++g){var y=h[d+g];y<v&&(v=y,m=g)}l[p]=m}return u}},{key:"argMax",value:function(t,e){Po(t,"argMax");var n=[e];o.F.assertAxesAreInnerMostDims("argMax",n,t.rank);for(var r=o.F.computeOutAndReduceShapes(t.shape,n),a=Object(f.a)(r,2),i=a[0],s=a[1],u=o.Fd(i,"int32"),c=o.zd.sizeFromShape(s),l=this.readSync(u.dataId),h=this.readSync(t.dataId),p=0;p<l.length;++p){for(var d=p*c,v=h[d],m=0,g=0;g<c;++g){var y=h[d+g];y>v&&(v=y,m=g)}l[p]=m}return u}},{key:"cumsum",value:function(t,e,n,r){if(Po(t,"cumsum"),e!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis=".concat(t.rank-1," ")+"but got axis=".concat(e));for(var a=Object(o.yd)(t.dtype,"int32"),i=o.Fd(t.shape,a),s=this.readSync(i.dataId),u=this.readSync(t.dataId),c=t.shape[t.rank-1],l=r?function(t,e){return t+c-e-1}:function(t,e){return t+e},h=0;h<u.length;h+=c)for(var f=0;f<c;f++){var p=l(h,f);if(0===f)s[p]=n?0:u[p];else{var d=l(h,f-1);s[p]=n?u[d]+s[d]:u[p]+s[d]}}return i}},{key:"equal",value:function(t,e){return Po([t,e],"equal"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t===e?1:0}))}},{key:"notEqual",value:function(t,e){return Po([t,e],"notEqual"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t!==e?1:0}))}},{key:"less",value:function(t,e){return Po([t,e],"less"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t<e?1:0}))}},{key:"lessEqual",value:function(t,e){return Po([t,e],"lessEqual"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t<=e?1:0}))}},{key:"greater",value:function(t,e){return Po([t,e],"greater"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t>e?1:0}))}},{key:"greaterEqual",value:function(t,e){return Po([t,e],"greaterEqual"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t>=e?1:0}))}},{key:"logicalNot",value:function(t){Po(t,"logicalNot");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e[r]?0:1;return this.makeOutput(n,t.shape,"bool")}},{key:"logicalAnd",value:function(t,e){return Po([t,e],"logicalAnd"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t&&e}))}},{key:"logicalOr",value:function(t,e){return Po([t,e],"logicalOr"),this.broadcastedBinaryOp(t,e,"bool",(function(t,e){return t||e}))}},{key:"select",value:function(t,e,n){Po([t,e,n],"select");for(var r=this.readSync(t.dataId),a=this.readSync(e.dataId),i=this.readSync(n.dataId),s=o.Fd(e.shape,Object(o.yd)(e.dtype,n.dtype)),u=this.readSync(s.dataId),c=0,l=0===t.rank||t.rank>1||1===e.rank?1:o.zd.sizeFromShape(e.shape.slice(1)),h=0;h<r.length;h++)for(var f=0;f<l;f++)1===r[h]?u[c++]=a[h]:u[c++]=i[h];return s}},{key:"where",value:function(t){Po([t],"where");var e=this.readSync(t.dataId);return Vo(t.shape,e)}},{key:"topk",value:function(t,e,n){Po(t,"topk");var r=this.readSync(t.dataId);return Uo(r,t.shape,t.dtype,e,n)}},{key:"min",value:function(t,e){Po(t,"min"),o.F.assertAxesAreInnerMostDims("min",e,t.rank);for(var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=o.Fd(a,t.dtype),u=o.zd.sizeFromShape(i),c=this.readSync(s.dataId),l=this.readSync(t.dataId),h=0;h<c.length;++h){for(var p=h*u,d=l[p],v=0;v<u;++v){var m=l[p+v];m<d&&(d=m)}c[h]=d}return s}},{key:"minimum",value:function(t,e){return Po([t,e],"minimum"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.min(t,e)}))}},{key:"mod",value:function(t,e){return Po([t,e],"mod"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){var n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}))}},{key:"maximum",value:function(t,e){return Po([t,e],"maximum"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.max(t,e)}))}},{key:"all",value:function(t,e){Po(t,"all"),o.F.assertAxesAreInnerMostDims("all",e,t.rank);for(var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=o.Fd(a,t.dtype),u=o.zd.sizeFromShape(i),c=this.readSync(s.dataId),l=this.readSync(t.dataId),h=0;h<c.length;++h){for(var p=h*u,d=l[p],v=0;v<u;++v){var m=l[p+v];d=d&&m}c[h]=d}return s}},{key:"any",value:function(t,e){Po(t,"any"),o.F.assertAxesAreInnerMostDims("any",e,t.rank);for(var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=o.Fd(a,t.dtype),u=o.zd.sizeFromShape(i),c=this.readSync(s.dataId),l=this.readSync(t.dataId),h=0;h<c.length;++h){for(var p=h*u,d=l[p],v=0;v<u;++v){var m=l[p+v];d=d||m}c[h]=d}return s}},{key:"squaredDifference",value:function(t,e){return Po([t,e],"squaredDifference"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){var n=t-e;return n*n}))}},{key:"ceil",value:function(t){Po(t,"ceil");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.ceil(e[r]);return this.makeOutput(n,t.shape,"float32")}},{key:"floor",value:function(t){Po(t,"floor");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.floor(e[r]);return this.makeOutput(n,t.shape,"float32")}},{key:"sign",value:function(t){Po(t,"x");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)e[r]<0?n[r]=-1:e[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,t.shape,"float32")}},{key:"isNaN",value:function(t){Po(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isNaN(e[r])&&(n[r]=1);return this.makeOutput(n,t.shape,"bool")}},{key:"isInf",value:function(t){Po(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Math.abs(e[r])===1/0&&(n[r]=1);return this.makeOutput(n,t.shape,"bool")}},{key:"isFinite",value:function(t){Po(t,"x");for(var e=this.readSync(t.dataId),n=new Uint8Array(e.length),r=0;r<e.length;++r)Number.isFinite(e[r])&&(n[r]=1);return this.makeOutput(n,t.shape,"bool")}},{key:"round",value:function(t){Po(t,"round");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var a=Math.floor(e[r]);e[r]-a<.5?n[r]=Math.floor(e[r]):e[r]-a>.5?n[r]=Math.ceil(e[r]):n[r]=a%2===0?a:a+1}return this.makeOutput(n,t.shape,"float32")}},{key:"exp",value:function(t){Po(t,"exp");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.exp(e[r]);return this.makeOutput(n,t.shape,"float32")}},{key:"expm1",value:function(t){Po(t,"expm1");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=Math.expm1(e[r]);return this.makeOutput(n,t.shape,"float32")}},{key:"log",value:function(t){Po(t,"log");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var a=e[r];n[r]=Math.log(a)}return this.makeOutput(n,t.shape,"float32")}},{key:"log1p",value:function(t){Po(t,"log1p");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var a=e[r];n[r]=Math.log1p(a)}return this.makeOutput(n,t.shape,"float32")}},{key:"sqrt",value:function(t){Po(t,"sqrt");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var a=e[r];n[r]=Math.sqrt(a)}return this.makeOutput(n,t.shape,"float32")}},{key:"rsqrt",value:function(t){Po(t,"rsqrt");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r){var a=e[r];n[r]=1/Math.sqrt(a)}return this.makeOutput(n,t.shape,"float32")}},{key:"reciprocal",value:function(t){Po(t,"reciprocal");for(var e=this.readSync(t.dataId),n=new Float32Array(e.length),r=0;r<e.length;++r)n[r]=1/e[r];return this.makeOutput(n,t.shape,"float32")}},{key:"linear",value:function(t){return t}},{key:"relu",value:function(t){Po(t,"relu");for(var e=o.Fd(t.shape,t.dtype),n=this.readSync(e.dataId),r=this.readSync(t.dataId),a=0;a<r.length;++a)n[a]=Math.max(0,r[a]);return e}},{key:"relu6",value:function(t){Po(t,"relu");for(var e=o.Fd(t.shape,t.dtype),n=this.readSync(e.dataId),r=this.readSync(t.dataId),a=0;a<r.length;++a)n[a]=Math.min(Math.max(0,r[a]),6);return e}},{key:"prelu",value:function(t,e){return Po([t,e],"prelu"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return t<0?e*t:t}))}},{key:"elu",value:function(t){Po(t,"elu");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r){var a=n[r];e[r]=a>=0?a:Math.exp(a)-1}return this.makeOutput(e,t.shape,"float32")}},{key:"eluDer",value:function(t,e){Po([t,e],"eluDer");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),a=this.readSync(t.dataId),i=0;i<r.length;++i){var o=r[i];n[i]=o>=1?a[i]:a[i]*(o+1)}return this.makeOutput(n,e.shape,"float32")}},{key:"selu",value:function(t){Po(t,"selu");for(var e=o.F.SELU_SCALEALPHA,n=o.F.SELU_SCALE,r=new Float32Array(t.size),a=this.readSync(t.dataId),i=0;i<a.length;++i){var s=a[i];r[i]=s>=0?n*s:e*(Math.exp(s)-1)}return this.makeOutput(r,t.shape,"float32")}},{key:"clip",value:function(t,e,n){Po(t,"clip");for(var r=new Float32Array(t.size),a=this.readSync(t.dataId),i=0;i<a.length;++i){var o=a[i];r[i]=o>n?n:o<e?e:o}return this.makeOutput(r,t.shape,"float32")}},{key:"abs",value:function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.abs(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"complexAbs",value:function(t){for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<t.size;++r){var a=n[2*r],i=n[2*r+1];e[r]=Math.hypot(a,i)}return this.makeOutput(e,t.shape,"float32")}},{key:"int",value:function(t){Po(t,"int");for(var e=new Int32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=n[r];return this.makeOutput(e,t.shape,"int32")}},{key:"sigmoid",value:function(t){Po(t,"sigmoid");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(e,t.shape,"float32")}},{key:"softplus",value:function(t){Po(t,"softplus");for(var e=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(t.size),r=this.readSync(t.dataId),a=0;a<r.length;++a){var i=r[a]>-e,o=r[a]<e,s=Math.exp(r[a]),u=void 0;u=o?s:i?r[a]:Math.log(1+s),n[a]=u}return this.makeOutput(n,t.shape,"float32")}},{key:"sin",value:function(t){Po(t,"sin");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sin(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"cos",value:function(t){Po(t,"cos");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cos(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"tan",value:function(t){Po(t,"tan");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.tan(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"asin",value:function(t){Po(t,"asin");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asin(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"acos",value:function(t){Po(t,"acos");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acos(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"atan",value:function(t){Po(t,"atan");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atan(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"atan2",value:function(t,e){return Po([t,e],"atan2"),this.broadcastedBinaryOp(t,e,t.dtype,(function(t,e){return Math.atan2(t,e)}))}},{key:"sinh",value:function(t){Po(t,"sinh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.sinh(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"cosh",value:function(t){Po(t,"cosh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.cosh(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"tanh",value:function(t){Po(t,"tanh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=o.zd.tanh(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"asinh",value:function(t){Po(t,"asinh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.asinh(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"acosh",value:function(t){Po(t,"acosh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.acosh(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"atanh",value:function(t){Po(t,"atanh");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=0;r<n.length;++r)e[r]=Math.atanh(n[r]);return this.makeOutput(e,t.shape,"float32")}},{key:"erf",value:function(t){Po(t,"erf");for(var e=new Float32Array(t.size),n=this.readSync(t.dataId),r=o.F.ERF_P,a=o.F.ERF_A1,i=o.F.ERF_A2,s=o.F.ERF_A3,u=o.F.ERF_A4,c=o.F.ERF_A5,l=0;l<n.length;++l){var h=Math.sign(n[l]),f=Math.abs(n[l]),p=1/(1+r*f);e[l]=h*(1-((((c*p+u)*p+s)*p+i)*p+a)*p*Math.exp(-f*f))}return this.makeOutput(e,t.shape,"float32")}},{key:"step",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Po(t,"step");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),a=0;a<r.length;++a){var i=r[a];isNaN(i)?n[a]=NaN:n[a]=i>0?1:e}return this.makeOutput(n,t.shape,"float32")}},{key:"fusedConv2d",value:function(t){var e=t.input,n=t.filter,r=t.convInfo,a=t.bias,i=t.activation,o=t.preluActivationWeights,s=this.conv2d(e,n,r);return a&&(s=this.add(s,a)),i&&(s=Ho(this,s,i,o)),s}},{key:"conv2d",value:function(t,e,n){Po([t,e],"conv2d");for(var r=n.filterHeight,a=n.filterWidth,i=n.dilationHeight,s=n.dilationWidth,u=n.padInfo.left,c=n.padInfo.top,l="channelsLast"===n.dataFormat,h=o.M(n.outShape,t.dtype),f=t.strides[0],p=l?t.strides[1]:t.strides[2],d=l?t.strides[2]:1,v=l?1:t.strides[1],m=h.strides[0],g=l?h.strides[1]:h.strides[2],y=l?h.strides[2]:1,b=l?1:h.strides[1],x=this.readSync(t.dataId),w=this.readSync(e.dataId),O=h.values,k=0;k<n.batchSize;++k)for(var S=k*f,E=k*m,C=0;C<n.outHeight;++C)for(var j=E+C*g,T=C*n.strideHeight-c,A=0;A<r;A++){var _=T+A*i;if(!(_<0||_>=n.inHeight))for(var M=A*e.strides[0],N=S+_*p,I=0;I<n.outWidth;++I)for(var D=j+I*y,R=I*n.strideWidth-u,P=0;P<a;P++){var F=R+P*s;if(!(F<0||F>=n.inWidth))for(var L=N+F*d,z=M+P*e.strides[1],B=0;B<n.inChannels;++B){for(var W=x[L+B*v],U=0;U<n.outChannels;++U)O[D+U*b]+=W*w[z+U];z+=n.outChannels}}}return h.toTensor()}},{key:"conv3d",value:function(t,e,n){for(var r=n.filterDepth,a=n.filterHeight,i=n.filterWidth,s=n.dilationDepth,u=n.dilationHeight,c=n.dilationWidth,l=n.padInfo.front,h=n.padInfo.left,f=n.padInfo.top,p=o.M(n.outShape,t.dtype),d=this.readSync(t.dataId),v=this.readSync(e.dataId),m=p.values,g=0;g<n.batchSize;++g)for(var y=g*t.strides[0],b=g*p.strides[0],x=0;x<n.outDepth;++x)for(var w=b+x*p.strides[1],O=x*n.strideDepth-l,k=0;k<r;k++){var S=O+k*s;if(!(S<0||S>=n.inDepth))for(var E=k*e.strides[0],C=y+S*t.strides[1],j=0;j<n.outHeight;++j)for(var T=w+j*p.strides[2],A=j*n.strideHeight-f,_=0;_<a;_++){var M=A+_*u;if(!(M<0||M>=n.inHeight))for(var N=E+_*e.strides[1],I=C+M*t.strides[2],D=0;D<n.outWidth;++D)for(var R=T+D*n.outChannels,P=D*n.strideWidth-h,F=0;F<i;F++){var L=P+F*c;if(!(L<0||L>=n.inWidth))for(var z=N+F*e.strides[2],B=I+L*n.inChannels,W=z,U=0;U<n.inChannels;++U){for(var V=d[B+U],H=0;H<n.outChannels;++H)m[R+H]+=V*v[W+H];W+=n.outChannels}}}}return p.toTensor()}},{key:"conv2dDerInput",value:function(t,e,n){Po([t,e],"conv2dDerInput");for(var r=o.M(n.inShape,"float32"),a=r.values,i=this.readSync(t.dataId),s=this.readSync(e.dataId),u=Object(f.a)(e.strides,3),c=u[0],l=u[1],h=u[2],p=n.batchSize,d=n.filterHeight,v=n.filterWidth,m=n.inChannels,g=n.inHeight,y=n.inWidth,b=n.outChannels,x=n.outHeight,w=n.outWidth,O=n.strideHeight,k=n.strideWidth,S=n.dataFormat,E=d-1-n.padInfo.top,C=v-1-n.padInfo.left,j="channelsLast"===S,T=r.strides[0],A=j?r.strides[1]:r.strides[2],_=j?r.strides[2]:1,M=j?1:r.strides[1],N=t.strides[0],I=j?t.strides[1]:t.strides[2],D=j?t.strides[2]:1,R=j?1:t.strides[1],P=0;P<p;++P)for(var F=0;F<m;++F)for(var L=0;L<g;++L)for(var z=L-E,B=Math.max(0,Math.ceil(z/O)),W=Math.min(x,(d+z)/O),U=0;U<y;++U){for(var V=U-C,H=Math.max(0,Math.ceil(V/k)),G=Math.min(w,(v+V)/k),Y=0,q=B;q<W;++q)for(var X=q*O-z,K=H;K<G;++K)for(var $=N*P+I*q+D*K,J=c*(d-1-X)+l*(v-1-(K*k-V))+h*F,Z=0;Z<b;++Z){Y+=i[$+R*Z]*s[J+Z]}a[T*P+A*L+_*U+M*F]=Y}return r.toTensor()}},{key:"conv3dDerInput",value:function(t,e,n){for(var r=o.M(n.inShape,"float32"),a=r.values,i=Object(f.a)(r.strides,4),s=i[0],u=i[1],c=i[2],l=i[3],h=this.readSync(t.dataId),p=Object(f.a)(t.strides,4),d=p[0],v=p[1],m=p[2],g=p[3],y=this.readSync(e.dataId),b=Object(f.a)(e.strides,4),x=b[0],w=b[1],O=b[2],k=b[3],S=n.batchSize,E=n.filterDepth,C=n.filterHeight,j=n.filterWidth,T=n.inChannels,A=n.inDepth,_=n.inHeight,M=n.inWidth,N=n.outChannels,I=n.outDepth,D=n.outHeight,R=n.outWidth,P=n.strideDepth,F=n.strideHeight,L=n.strideWidth,z=E-1-n.padInfo.front,B=C-1-n.padInfo.top,W=j-1-n.padInfo.left,U=0;U<S;++U)for(var V=0;V<T;++V)for(var H=0;H<A;++H)for(var G=H-z,Y=Math.max(0,Math.ceil(G/P)),q=Math.min(I,(E+G)/P),X=0;X<_;++X)for(var K=X-B,$=Math.max(0,Math.ceil(K/F)),J=Math.min(D,(C+K)/F),Z=0;Z<M;++Z){for(var Q=Z-W,tt=Math.max(0,Math.ceil(Q/L)),et=Math.min(R,(j+Q)/L),nt=0,rt=Y;rt<q;++rt)for(var at=rt*P-G,it=$;it<J;++it)for(var ot=it*F-K,st=tt;st<et;++st)for(var ut=d*U+v*rt+m*it+g*st,ct=x*(E-1-at)+w*(C-1-ot)+O*(j-1-(st*L-Q))+k*V,lt=0;lt<N;++lt){nt+=h[ut+lt]*y[ct+lt]}a[s*U+u*H+c*X+l*Z+V]=nt}return r.toTensor()}},{key:"conv2dDerFilter",value:function(t,e,n){Po([t,e],"conv2dDerFilter");for(var r=n.strideHeight,a=n.strideWidth,i=n.filterHeight,s=n.filterWidth,u="channelsLast"===n.dataFormat,c=o.M(n.filterShape,"float32"),l=n.padInfo.left,h=n.padInfo.top,f=this.bufferSync(t),p=this.bufferSync(e),d=0;d<i;++d)for(var v=Math.max(0,Math.ceil((h-d)/r)),m=Math.min(n.outHeight,(n.inHeight+h-d)/r),g=0;g<s;++g)for(var y=Math.max(0,Math.ceil((l-g)/a)),b=Math.min(n.outWidth,(n.inWidth+l-g)/a),x=0;x<n.inChannels;++x)for(var w=0;w<n.outChannels;++w){for(var O=0,k=0;k<n.batchSize;++k)for(var S=v;S<m;++S)for(var E=d+S*r-h,C=y;C<b;++C){var j=g+C*a-l;O+=u?f.get(k,E,j,x)*p.get(k,S,C,w):f.get(k,x,E,j)*p.get(k,w,S,C)}c.set(O,d,g,x,w)}return c.toTensor()}},{key:"conv3dDerFilter",value:function(t,e,n){for(var r=n.strideDepth,a=n.strideHeight,i=n.strideWidth,s=n.filterDepth,u=n.filterHeight,c=n.filterWidth,l=o.M(n.filterShape,"float32"),h=l.values,p=Object(f.a)(l.strides,4),d=p[0],v=p[1],m=p[2],g=p[3],y=this.readSync(e.dataId),b=Object(f.a)(e.strides,4),x=b[0],w=b[1],O=b[2],k=b[3],S=this.readSync(t.dataId),E=Object(f.a)(t.strides,4),C=E[0],j=E[1],T=E[2],A=E[3],_=n.padInfo.front,M=n.padInfo.left,N=n.padInfo.top,I=0;I<s;++I)for(var D=Math.max(0,Math.ceil((_-I)/r)),R=Math.min(n.outDepth,(n.inDepth+_-I)/r),P=I*d,F=0;F<u;++F)for(var L=Math.max(0,Math.ceil((N-F)/a)),z=Math.min(n.outHeight,(n.inHeight+N-F)/a),B=F*v+P,W=0;W<c;++W)for(var U=Math.max(0,Math.ceil((M-W)/i)),V=Math.min(n.outWidth,(n.inWidth+M-W)/i),H=W*m+B,G=0;G<n.inChannels;++G)for(var Y=G*g+H,q=0;q<n.outChannels;++q){for(var X=0,K=0;K<n.batchSize;++K)for(var $=K*C,J=K*x,Z=D;Z<R;++Z)for(var Q=(I+Z*r-_)*j+$,tt=Z*w+J,et=L;et<z;++et)for(var nt=(F+et*a-N)*T+Q,rt=et*O+tt,at=U;at<V;++at){var it=at*k+rt;X+=S[(W+at*i-M)*A+nt+G]*y[it+q]}h[Y+q]=X}return l.toTensor()}},{key:"fusedDepthwiseConv2D",value:function(t){var e=t.input,n=t.filter,r=t.convInfo,a=t.bias,i=t.activation,o=t.preluActivationWeights,s=this.depthwiseConv2D(e,n,r);return a&&(s=this.add(s,a)),i&&(s=Ho(this,s,i,o)),s}},{key:"depthwiseConv2D",value:function(t,e,n){Po([t,e],"depthwiseConv2D");for(var r=n.filterHeight,a=n.filterWidth,i=n.dilationHeight,s=n.dilationWidth,u=n.padInfo.left,c=n.padInfo.top,l=n.outChannels/n.inChannels,h=o.M(n.outShape,t.dtype),f=this.readSync(t.dataId),p=this.readSync(e.dataId),d=h.values,v=0;v<n.batchSize;++v)for(var m=v*t.strides[0],g=v*h.strides[0],y=0;y<n.outHeight;++y)for(var b=g+y*h.strides[1],x=y*n.strideHeight-u,w=0;w<r;++w){var O=x+w*i;if(!(O<0||O>=n.inHeight))for(var k=w*e.strides[0],S=m+O*t.strides[1],E=0;E<n.outWidth;++E)for(var C=b+E*h.strides[2],j=E*n.strideWidth-c,T=0;T<a;++T){var A=j+T*s;if(!(A<0||A>=n.inWidth))for(var _=k+T*e.strides[1],M=S+A*n.inChannels,N=C,I=_,D=0;D<n.inChannels;++D){for(var R=f[M+D],P=0;P<l;++P)d[N+P]+=R*p[I+P];N+=l,I+=l}}}return h.toTensor()}},{key:"depthwiseConv2DDerInput",value:function(t,e,n){Po([t,e],"depthwiseConv2DDerInput");for(var r=o.M(n.inShape,"float32"),a=r.values,i=Object(f.a)(r.strides,3),s=i[0],u=i[1],c=i[2],l=this.readSync(t.dataId),h=Object(f.a)(t.strides,3),p=h[0],d=h[1],v=h[2],m=this.readSync(e.dataId),g=Object(f.a)(e.strides,3),y=g[0],b=g[1],x=g[2],w=n.batchSize,O=n.filterHeight,k=n.filterWidth,S=n.inChannels,E=n.inHeight,C=n.inWidth,j=n.outChannels,T=n.outHeight,A=n.outWidth,_=n.strideHeight,M=n.strideWidth,N=O-1-n.padInfo.top,I=k-1-n.padInfo.left,D=j/S,R=0;R<w;++R)for(var P=0;P<S;++P)for(var F=0;F<E;++F)for(var L=F-N,z=Math.max(0,Math.ceil(L/_)),B=Math.min(T,(O+L)/_),W=0;W<C;++W){for(var U=W-I,V=Math.max(0,Math.ceil(U/M)),H=Math.min(A,(k+U)/M),G=0,Y=z;Y<B;++Y)for(var q=Y*_-L,X=V;X<H;++X)for(var K=p*R+d*Y+v*X,$=y*(O-1-q)+b*(k-1-(X*M-U))+x*P,J=0;J<D;++J){G+=l[K+(P*D+J)]*m[$+J]}a[s*R+u*F+c*W+P]=G}return r.toTensor()}},{key:"depthwiseConv2DDerFilter",value:function(t,e,n){Po([t,e],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,a=n.strideWidth,i=n.filterHeight,s=n.filterWidth,u=o.M(n.filterShape,"float32"),c=n.padInfo.left,l=n.padInfo.top,h=n.outChannels/n.inChannels,f=this.bufferSync(t),p=this.bufferSync(e),d=0;d<i;++d)for(var v=Math.max(0,Math.ceil((l-d)/r)),m=Math.min(n.outHeight,(n.inHeight+l-d)/r),g=0;g<s;++g)for(var y=Math.max(0,Math.ceil((c-g)/a)),b=Math.min(n.outWidth,(n.inWidth+c-g)/a),x=0;x<n.outChannels;++x){for(var w=Math.trunc(x/h),O=x%h,k=0,S=0;S<n.batchSize;++S)for(var E=v;E<m;++E)for(var C=d+E*r-l,j=y;j<b;++j){var T=g+j*a-c;k+=f.get(S,C,T,w)*p.get(S,E,j,x)}u.set(k,d,g,w,O)}return u.toTensor()}},{key:"tile",value:function(t,e){return Po(t,"tile"),Wo(this.bufferSync(t),e)}},{key:"pad",value:function(t,e,n){Po(t,"pad");var r=e.map((function(e,n){return e[0]+t.shape[n]+e[1]})),a=e.map((function(t){return t[0]})),i=this.bufferSync(t),s=o.M(r,t.dtype);0!==n&&s.values.fill(n);for(var u=0;u<t.size;u++){var c=i.indexToLoc(u),l=c.map((function(t,e){return t+a[e]}));s.set.apply(s,[i.get.apply(i,Object(Q.a)(c))].concat(Object(Q.a)(l)))}return s.toTensor()}},{key:"gather",value:function(t,e,n){Po([t,e],"gather");var r=t.shape.slice(),a=this.readSync(e.dataId);r[n]=a.length;for(var i=o.M(r,t.dtype),s=this.bufferSync(t),u=0;u<i.size;++u){var c=i.indexToLoc(u),l=c.slice();l[n]=a[c[n]];var h=s.locToIndex(l);i.values[u]=s.values[h]}return i.toTensor()}},{key:"batchToSpaceND",value:function(t,e,n){Po([t],"batchToSpaceND");var r=e.reduce((function(t,e){return t*e})),a=o.F.getReshaped(t.shape,e,r),i=o.F.getPermuted(a.length,e.length),s=o.F.getReshapedPermuted(t.shape,e,r),u=o.F.getSliceBeginCoords(n,e.length),c=o.F.getSliceSize(s,n,e.length);return o.vd(t.reshape(a),i).reshape(s).slice(u,c)}},{key:"spaceToBatchND",value:function(t,e,n){Po([t],"spaceToBatchND");var r=e.reduce((function(t,e){return t*e})),a=[[0,0]];a.push.apply(a,Object(Q.a)(n));for(var i=1+e.length;i<t.shape.length;++i)a.push([0,0]);var s=t.pad(a),u=o.F.getReshaped(s.shape,e,r,!1),c=o.F.getPermuted(u.length,e.length,!1),l=o.F.getReshapedPermuted(s.shape,e,r,!1);return o.vd(s.reshape(u),c).reshape(l)}},{key:"maxPool",value:function(t,e){return Po(t,"maxPool"),Fo(this.readSync(t.dataId),t.shape,t.dtype,t.strides,e,"max").toTensor()}},{key:"maxPoolBackprop",value:function(t,e,n,r){Po([e,n],"maxPoolBackprop");for(var a=this.readSync(e.dataId),i=Object(o.M)(r.outShape,e.dtype,Lo(a,e.shape,e.dtype,r).values),s=r.strideHeight,u=r.strideWidth,c=r.dilationHeight,l=r.dilationWidth,h=r.effectiveFilterHeight,f=r.effectiveFilterWidth,p=f-1-r.padInfo.left,d=h-1-r.padInfo.top,v=o.M(e.shape,"float32"),m=this.bufferSync(t),g=0;g<r.batchSize;++g)for(var y=0;y<r.inChannels;++y)for(var b=0;b<r.inHeight;++b)for(var x=0;x<r.inWidth;++x){for(var w=b-d,O=x-p,k=0,S=0;S<h;S+=c){var E=(w+S)/s;if(!(E<0||E>=r.outHeight||Math.floor(E)!==E))for(var C=0;C<f;C+=l){var j=(O+C)/u;if(!(j<0||j>=r.outWidth||Math.floor(j)!==j)){var T=h*f-1-i.get(g,E,j,y)===S*f+C?1:0;if(0!==T)k+=m.get(g,E,j,y)*T}}}v.set(k,g,b,x,y)}return v.toTensor()}},{key:"avgPoolBackprop",value:function(t,e,n){Po([t,e],"avgPoolBackprop");for(var r=n.strideHeight,a=n.strideWidth,i=n.filterHeight,s=n.filterWidth,u=n.dilationHeight,c=n.dilationWidth,l=n.effectiveFilterHeight,h=n.effectiveFilterWidth,f=h-1-n.padInfo.left,p=l-1-n.padInfo.top,d=o.M(e.shape,"float32"),v=1/(i*s),m=this.bufferSync(t),g=0;g<n.batchSize;++g)for(var y=0;y<n.inChannels;++y)for(var b=0;b<n.inHeight;++b)for(var x=0;x<n.inWidth;++x){for(var w=b-p,O=x-f,k=0,S=0;S<l;S+=u){var E=(w+S)/r;if(!(E<0||E>=n.outHeight||Math.floor(E)!==E))for(var C=0;C<h;C+=c){var j=(O+C)/a;if(!(j<0||j>=n.outWidth||Math.floor(j)!==j))k+=m.get(g,E,j,y)}}d.set(k*v,g,b,x,y)}return d.toTensor()}},{key:"pool3d",value:function(t,e,n){Po(t,"pool3d");for(var r=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,p=e.padInfo.front,d=e.padInfo.top,v=e.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(t.dataId),y=o.M(e.outShape,t.dtype),b=y.values,x=e.outShape[1]*e.outShape[2]*e.outShape[3]*e.outShape[4],w=e.outShape[2]*e.outShape[3]*e.outShape[4],O=e.outShape[3]*e.outShape[4],k=e.outShape[4],S=0;S<e.batchSize;++S)for(var E=S*x,C=S*t.strides[0],j=0;j<e.inChannels;++j)for(var T=0;T<e.outDepth;++T){for(var A=T*r-p,_=A;_<0;)_+=s;for(var M=Math.min(e.inDepth,l+A),N=E+T*w,I=0;I<e.outHeight;++I){for(var D=I*a-d,R=D;R<0;)R+=u;for(var P=Math.min(e.inHeight,h+D),F=N+I*O,L=0;L<e.outWidth;++L){for(var z=L*i-v,B=z;B<0;)B+=c;for(var W=Math.min(e.inWidth,f+z),U=F+L*k,V=m,H=0,G=0,Y=_;Y<M;Y+=s){for(var q=C+Y*t.strides[1],X=R;X<P;X+=u){for(var K=q+X*t.strides[2],$=B;$<W;$+=c){var J=g[K+$*t.strides[3]+j];if("max"===n&&J>V?V=J:"avg"===n&&(H+=J,G++),isNaN(V))break}if(isNaN(V))break}if(isNaN(V))break}b[U+j]="avg"===n?H/G:V}}}return y.toTensor()}},{key:"avgPool3d",value:function(t,e){return Po(t,"avgPool3d"),this.pool3d(t,e,"avg").toFloat()}},{key:"avgPool3dBackprop",value:function(t,e,n){Po([t,e],"avgPool3dBackprop");for(var r=n.strideDepth,a=n.strideHeight,i=n.strideWidth,s=n.filterDepth,u=n.filterHeight,c=n.filterWidth,l=n.dilationDepth,h=n.dilationHeight,f=n.dilationWidth,p=n.effectiveFilterDepth,d=n.effectiveFilterHeight,v=n.effectiveFilterWidth,m=p-1-n.padInfo.front,g=v-1-n.padInfo.left,y=d-1-n.padInfo.top,b=o.M(e.shape,"float32"),x=1/(s*u*c),w=this.bufferSync(t),O=0;O<n.batchSize;++O)for(var k=0;k<n.inChannels;++k)for(var S=0;S<n.inDepth;++S)for(var E=0;E<n.inHeight;++E)for(var C=0;C<n.inWidth;++C){for(var j=S-m,T=E-y,A=C-g,_=0,M=0;M<p;M+=l){var N=(j+M)/r;if(!(N<0||N>=n.outDepth||Math.floor(N)!==N))for(var I=0;I<d;I+=h){var D=(T+I)/a;if(!(D<0||D>=n.outHeight||Math.floor(D)!==D))for(var R=0;R<v;R+=f){var P=(A+R)/i;if(!(P<0||P>=n.outWidth||Math.floor(P)!==P))_+=w.get(O,N,D,P,k)}}}b.set(_*x,O,S,E,C,k)}return b.toTensor()}},{key:"maxPool3d",value:function(t,e){return Po(t,"maxPool3d"),this.pool3d(t,e,"max").toFloat()}},{key:"maxPool3dPositions",value:function(t,e){for(var n=o.M(e.outShape,"int32"),r=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,l=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,p=e.padInfo.front,d=e.padInfo.top,v=e.padInfo.left,m=this.bufferSync(t),g=0;g<e.batchSize;++g)for(var y=0;y<e.inChannels;++y)for(var b=0;b<e.outDepth;++b){for(var x=b*r-p,w=x;w<0;)w+=s;for(var O=Math.min(e.inDepth,l+x),k=0;k<e.outHeight;++k){for(var S=k*a-d,E=S;E<0;)E+=u;for(var C=Math.min(e.inHeight,h+S),j=0;j<e.outWidth;++j){for(var T=j*i-v,A=T;A<0;)A+=c;for(var _=Math.min(e.inWidth,f+T),M=Number.NEGATIVE_INFINITY,N=-1,I=w;I<O;I+=s)for(var D=I-x,R=E;R<C;R+=u)for(var P=R-S,F=A;F<_;F+=c){var L=F-T,z=m.get(g,I,R,F,y);z>=M&&(M=z,N=D*h*f+P*h+L)}n.set(N,g,b,k,j,y)}}}return n.toTensor()}},{key:"maxPool3dBackprop",value:function(t,e,n,r){Po([e,n],"maxPool3dBackprop");for(var a=this.maxPool3dPositions(e,r),i=r.strideDepth,s=r.strideHeight,u=r.strideWidth,c=r.dilationDepth,l=r.dilationHeight,h=r.dilationWidth,f=r.effectiveFilterDepth,p=r.effectiveFilterHeight,d=r.effectiveFilterWidth,v=f-1-r.padInfo.front,m=d-1-r.padInfo.left,g=p-1-r.padInfo.top,y=o.M(e.shape,"float32"),b=this.bufferSync(a),x=this.bufferSync(t),w=0;w<r.batchSize;++w)for(var O=0;O<r.inChannels;++O)for(var k=0;k<r.inDepth;++k)for(var S=0;S<r.inHeight;++S)for(var E=0;E<r.inWidth;++E){for(var C=k-v,j=S-g,T=E-m,A=0,_=0;_<f;_+=c){var M=(C+_)/i;if(!(M<0||M>=r.outDepth||Math.floor(M)!==M))for(var N=0;N<p;N+=l){var I=(j+N)/s;if(!(I<0||I>=r.outHeight||Math.floor(I)!==I))for(var D=0;D<d;D+=h){var R=(T+D)/u;if(!(R<0||R>=r.outWidth||Math.floor(R)!==R)){var P=f*p*d-1-b.get(w,M,I,R,O)===_*p*d+N*d+D?1:0;if(0!==P)A+=x.get(w,M,I,R,O)*P}}}}y.set(A,w,k,S,E,O)}return y.toTensor()}},{key:"cast",value:function(t,e){return o.F.castTensor(t,e,this)}},{key:"reshape",value:function(t,e){return o.F.reshapeTensor(t,e)}},{key:"avgPool",value:function(t,e){return Po(t,"avgPool"),Po(t,"maxPool"),Fo(this.readSync(t.dataId),t.shape,t.dtype,t.strides,e,"avg").toTensor().toFloat()}},{key:"resizeBilinear",value:function(t,e,n,r){Po(t,"resizeBilinear");for(var a=Object(f.a)(t.shape,4),i=a[0],s=a[1],u=a[2],c=a[3],l=this.readSync(t.dataId),h=new Float32Array(o.zd.sizeFromShape([i,e,n,c])),p=[r&&e>1?s-1:s,r&&n>1?u-1:u],d=[r&&e>1?e-1:e,r&&n>1?n-1:n],v=0,m=p[0]/d[0],g=p[1]/d[1],y=0;y<i;y++)for(var b=0;b<e;b++)for(var x=m*b,w=Math.floor(x),O=x-w,k=Math.min(s-1,Math.ceil(x)),S=y*t.strides[0]+w*t.strides[1],E=y*t.strides[0]+k*t.strides[1],C=0;C<n;C++)for(var j=g*C,T=Math.floor(j),A=j-T,_=Math.min(u-1,Math.ceil(j)),M=S+T*t.strides[2],N=E+T*t.strides[2],I=S+_*t.strides[2],D=E+_*t.strides[2],R=0;R<c;R++){var P=l[M+R],F=l[N+R],L=P+(l[I+R]-P)*A,z=L+(F+(l[D+R]-F)*A-L)*O;h[v++]=z}return o.md(h,[i,e,n,c])}},{key:"resizeBilinearBackprop",value:function(t,e,n){Po([t,e],"resizeBilinearBackprop");for(var r=Object(f.a)(e.shape,4),a=r[0],i=r[1],s=r[2],u=r[3],c=Object(f.a)(t.shape,3),l=c[1],h=c[2],p=new Float32Array(a*i*s*u),d=[n&&l>1?i-1:i,n&&h>1?s-1:s],v=[n&&l>1?l-1:l,n&&h>1?h-1:h],m=d[0]/v[0],g=d[1]/v[1],y=this.readSync(t.dataId),b=0,x=0;x<a;x++)for(var w=x*e.strides[0],O=0;O<l;O++)for(var k=O*m,S=Math.floor(k),E=Math.min(Math.ceil(k),i-1),C=w+S*e.strides[1],j=w+E*e.strides[1],T=k-S,A=1-T,_=0;_<h;_++)for(var M=_*g,N=Math.floor(M),I=Math.min(Math.ceil(M),s-1),D=M-N,R=1-D,P=C+N*e.strides[2],F=C+I*e.strides[2],L=j+N*e.strides[2],z=j+I*e.strides[2],B=A*R,W=A*D,U=T*R,V=T*D,H=0;H<u;H++){var G=y[b++];p[P+H]+=G*B,p[F+H]+=G*W,p[L+H]+=G*U,p[z+H]+=G*V}return o.pd(p,[a,s,i,u],e.dtype)}},{key:"resizeNearestNeighbor",value:function(t,e,n,r){Po(t,"resizeNearestNeighbor");for(var a=Object(f.a)(t.shape,4),i=a[0],s=a[1],u=a[2],c=a[3],l=this.readSync(t.dataId),h=new Float32Array(i*e*n*c),p=[r&&e>1?s-1:s,r&&n>1?u-1:u],d=[r&&e>1?e-1:e,r&&n>1?n-1:n],v=p[0]/d[0],m=p[1]/d[1],g=0,y=0;y<i;y++)for(var b=y*t.strides[0],x=0;x<e;x++)for(var w=v*x,O=b+Math.min(s-1,r?Math.round(w):Math.floor(w))*t.strides[1],k=0;k<n;k++)for(var S=m*k,E=O+Math.min(u-1,r?Math.round(S):Math.floor(S))*t.strides[2],C=0;C<c;C++){var j=l[E+C];h[g++]=j}return o.md(h,[i,e,n,c],t.dtype)}},{key:"resizeNearestNeighborBackprop",value:function(t,e,n){Po([t,e],"resizeNearestNeighborBackprop");for(var r=Object(f.a)(e.shape,4),a=r[0],i=r[1],s=r[2],u=r[3],c=Object(f.a)(t.shape,3),l=c[1],h=c[2],p=new Float32Array(a*i*s*u),d=this.readSync(t.dataId),v=[n&&l>1?i-1:i,n&&h>1?s-1:s],m=[n&&l>1?l-1:l,n&&h>1?h-1:h],g=v[0]/m[0],y=v[1]/m[1],b=1/g,x=1/y,w=2*Math.ceil(b)+2,O=2*Math.ceil(x)+2,k=0;k<a;k++)for(var S=k*e.strides[0],E=0;E<i;E++)for(var C=S+E*e.strides[1],j=Math.floor(E*b),T=Math.floor(j-w/2),A=0;A<s;A++)for(var _=C+A*e.strides[2],M=Math.floor(A*x),N=Math.floor(M-O/2),I=0;I<u;I++){for(var D=0,R=0;R<w;R++){var P=R+T;if(!(P<0||P>=l)){var F=S+P*t.strides[1],L=P*g;if(E===Math.min(i-1,n?Math.round(L):Math.floor(L)))for(var z=0;z<O;z++){var B=z+N;if(!(B<0||B>=h)){var W=F+B*t.strides[2],U=B*y;A===Math.min(s-1,n?Math.round(U):Math.floor(U))&&(D+=d[W+I])}}}}p[_+I]=D}return o.pd(p,e.shape,e.dtype)}},{key:"batchNorm",value:function(t,e,n,r,a,i){Po([t,e,n,a,r],"batchNorm");for(var s=this.readSync(t.dataId),u=this.readSync(e.dataId),c=this.readSync(n.dataId),l=a?this.readSync(a.dataId):new Float32Array([1]),h=r?this.readSync(r.dataId):new Float32Array([0]),f=new Float32Array(s.length),p=h.length,d=l.length,v=c.length,m=u.length,g=0,y=0,b=0,x=0,w=0;w<s.length;++w)f[w]=h[g++]+(s[w]-u[y++])*l[b++]/Math.sqrt(c[x++]+i),g>=p&&(g=0),y>=m&&(y=0),b>=d&&(b=0),x>=v&&(x=0);return o.pd(f,t.shape)}},{key:"localResponseNormalization4D",value:function(t,e,n,r,a){Po(t,"localResponseNormalization4D");var i=t.shape[3],s=i-1,u=this.readSync(t.dataId),c=t.size,l=new Float32Array(c);function h(t){for(var n=t%i,r=t-n+Math.max(0,n-e),a=t-n+Math.min(n+e,s),o=0;r<=a;r++){var c=u[r];o+=c*c}return o}for(var f=0;f<c;f++){var p=h(f),d=u[f]*Math.pow(n+r*p,-a);l[f]=d}return o.pd(l,t.shape)}},{key:"LRNGrad",value:function(t,e,n,r,a,i,s){Po(t,"LRNGrad");for(var u=t.shape[3],c=this.readSync(t.dataId),l=this.readSync(e.dataId),h=this.readSync(n.dataId),f=new Float32Array(t.size),p=t.size,d=0;d<p;d++){for(var v=d%u,m=d-v+Math.max(0,v-r),g=d-v+Math.min(u,v+r+1),y=0,b=m;b<g;b++)y+=Math.pow(l[b],2);y=i*y+a;for(var x=m;x<g;x++){var w=-2*i*s*l[x]*h[d]/y;d===x&&(w+=Math.pow(y,-s)),w*=c[d],f[x]+=w}}return o.pd(f,t.shape)}},{key:"multinomial",value:function(t,e,n,r){Po(t,"multinomial");for(var a=e?t:o.Wc(t),i=a.shape[0],s=a.shape[1],u=o.Fd([i,n],"int32"),c=this.readSync(u.dataId),l=this.readSync(a.dataId),h=0;h<i;++h){var f=h*s,p=new Float32Array(s-1);p[0]=l[f];for(var d=1;d<p.length;++d)p[d]=p[d-1]+l[f+d];for(var v=To.alea(r.toString()),m=h*n,g=0;g<n;++g){var y=v();c[m+g]=p.length;for(var b=0;b<p.length;b++)if(y<p[b]){c[m+g]=b;break}}}return u}},{key:"oneHot",value:function(t,e,n,r){Po(t,"oneHot");var a=new Float32Array(t.size*e);a.fill(r);for(var i=this.readSync(t.dataId),s=0;s<t.size;++s)i[s]>=0&&i[s]<e&&(a[s*e+i[s]]=n);return o.od(a,[t.size,e],"int32")}},{key:"nonMaxSuppression",value:function(t,e,n,r,a){Po(t,"nonMaxSuppression");var i=this.readSync(t.dataId),o=this.readSync(e.dataId);return zo(i,o,n,r,a)}},{key:"fft",value:function(t){return this.fftBatch(t,!1)}},{key:"ifft",value:function(t){return this.fftBatch(t,!0)}},{key:"fftBatch",value:function(t,e){for(var n=t.shape[0],r=t.shape[1],a=o.M(t.shape,"float32"),i=o.M(t.shape,"float32"),s=o.vc(t).as2D(n,r),u=o.Cb(t).as2D(n,r),c=0;c<n;c++)for(var l=s.slice([c,0],[1,r]),h=u.slice([c,0],[1,r]),f=o.Q(l,h),p=this.readSync(this.fftImpl(f,e).dataId),d=0;d<r;d++){var v=o.F.getComplexWithIndex(p,d);a.values[c*r+d]=v.real,i.values[c*r+d]=v.imag}return o.Q(a.toTensor(),i.toTensor()).as2D(n,r)}},{key:"fftImpl",value:function(t,e){var n=t.as1D(),r=n.size;if(this.isExponentOf2(r)){var a=this.fftRadix2(n,r,e).as2D(t.shape[0],t.shape[1]);return e&&(a=o.Q(o.vc(a).div(o.Fc(r)),o.Cb(a).div(o.Fc(r)))),a}var i=this.readSync(t.dataId),s=this.fourierTransformByMatmul(i,r,e),u=o.F.splitRealAndImagArrays(s);return o.Q(u.real,u.imag).as2D(t.shape[0],t.shape[1])}},{key:"isExponentOf2",value:function(t){return 0===(t&t-1)}},{key:"fftRadix2",value:function(t,e,n){if(1===e)return t;var r=this.readSync(t.dataId),a=e/2,i=o.F.complexWithEvenIndex(r),s=o.Q(i.real,i.imag).as1D(),u=o.F.complexWithOddIndex(r),c=o.Q(u.real,u.imag).as1D();s=this.fftRadix2(s,a,n),c=this.fftRadix2(c,a,n);var l=o.F.exponents(e,n),h=o.Q(l.real,l.imag).mul(c),f=s.add(h),p=s.sub(h),d=o.vc(f).concat(o.vc(p)),v=o.Cb(f).concat(o.Cb(p));return o.Q(d,v).as1D()}},{key:"fourierTransformByMatmul",value:function(t,e,n){for(var r=new Float32Array(2*e),a=0;a<e;a++){for(var i=0,s=0,u=0;u<e;u++){var c=o.F.exponent(a*u,e,n),l=o.F.getComplexWithIndex(t,u);i+=l.real*c.real-l.imag*c.imag,s+=l.real*c.imag+l.imag*c.real}n&&(i/=e,s/=e),o.F.assignToTypedArray(r,i,s,a)}return r}},{key:"depthToSpace",value:function(t,e,n){o.zd.assert("NHWC"===n,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(n)})),o.zd.assert(e>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(e)}));for(var r=t.shape[0],a=t.shape[1],i=t.shape[2],s=t.shape[3],u=a*e,c=i*e,l=s/(e*e),h=this.readSync(t.dataId),f=new Float32Array(r*u*c*l),p=0,d=0;d<r;++d)for(var v=0;v<u;++v)for(var m=Math.floor(v/e),g=v%e,y=0;y<c;++y)for(var b=Math.floor(y/e),x=(g*e+y%e)*l,w=0;w<l;++w){var O=w+x+s*(b+i*(m+a*d));f[p++]=h[O]}return o.pd(f,[r,u,c,l])}},{key:"broadcastedBinaryOp",value:function(t,e,n,r){var a=o.F.assertAndGetBroadcastShape(t.shape,e.shape),i=o.M(a,n),s=this.readSync(t.dataId),u=this.readSync(e.dataId),c=o.F.getBroadcastDims(t.shape,a),l=o.F.getBroadcastDims(e.shape,a),h=i.values;if(c.length+l.length===0)for(var f=0;f<h.length;++f)h[f]=r(s[f%s.length],u[f%u.length]);else for(var p=this.bufferSync(t),d=this.bufferSync(e),v=function(n){var a=i.indexToLoc(n),o=a.slice(-t.rank);c.forEach((function(t){return o[t]=0}));var f=p.locToIndex(o),v=a.slice(-e.rank);l.forEach((function(t){return v[t]=0}));var m=d.locToIndex(v);h[n]=r(s[f],u[m])},m=0;m<h.length;++m)v(m);return i.toTensor()}},{key:"broadcastedBinaryComplexOp",value:function(t,e,n){var r=o.F.assertAndGetBroadcastShape(t.shape,e.shape),a=o.M(r,"float32"),i=o.M(r,"float32"),s=this.readSync(t.dataId),u=this.readSync(e.dataId),c=o.F.getBroadcastDims(t.shape,r),l=o.F.getBroadcastDims(e.shape,r),h=a.values,f=i.values;if(c.length+l.length===0)for(var p=0;p<h.length;p++){var d=p%s.length,v=p%u.length,m=n(s[2*d],s[2*d+1],u[2*v],u[2*v+1]);h[p]=m.real,f[p]=m.imag}else for(var g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=this.bufferSync(this.data.get(e.dataId).complexTensors.real),b=function(r){var i=a.indexToLoc(r),o=i.slice(-t.rank);c.forEach((function(t){return o[t]=0}));var p=g.locToIndex(o),d=i.slice(-e.rank);l.forEach((function(t){return d[t]=0}));var v=y.locToIndex(d),m=n(s[2*p],s[2*p+1],u[2*v],u[2*v+1]);h[r]=m.real,f[r]=m.imag},x=0;x<h.length;x++)b(x);return this.complex(a.toTensor(),i.toTensor())}},{key:"split",value:function(t,e,n){return Bo(t,e,n)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return Object(Be.a)(Object(v.a)(n.prototype),"epsilon",this).call(this)}},{key:"cropAndResize",value:function(t,e,n,r,a,i){for(var s=Object(f.a)(t.shape,4),u=s[0],c=s[1],l=s[2],h=s[3],p=e.shape[0],d=Object(f.a)(r,2),v=d[0],m=d[1],g=o.M([p,v,m,h],"float32"),y=this.readSync(e.dataId),b=this.readSync(n.dataId),x=this.readSync(t.dataId),w=t.strides,O=g.strides,k=0;k<p;k++){var S=4*k,E=y[S],C=y[S+1],j=y[S+2],T=y[S+3],A=b[k];if(!(A>=u))for(var _=v>1?(j-E)*(c-1)/(v-1):0,M=m>1?(T-C)*(l-1)/(m-1):0,N=0;N<v;N++){var I=v>1?E*(c-1)+N*_:.5*(E+j)*(c-1);if(I<0||I>c-1)for(var D=0;D<m;D++)for(var R=0;R<h;R++){var P=R+D*O[2]+N*O[1]+k*O[0];g.values[P]=i}else if("bilinear"===a)for(var F=Math.floor(I),L=Math.ceil(I),z=I-F,B=0;B<m;B++){var W=m>1?C*(l-1)+B*M:.5*(C+T)*(l-1);if(W<0||W>l-1)for(var U=0;U<h;U++){var V=U+B*O[2]+N*O[1]+k*O[0];g.values[V]=i}else for(var H=Math.floor(W),G=Math.ceil(W),Y=W-H,q=0;q<h;q++){var X=q+H*w[2]+F*w[1]+A*w[0],K=x[X],$=x[X=q+G*w[2]+F*w[1]+A*w[0]],J=x[X=q+H*w[2]+L*w[1]+A*w[0]],Z=K+($-K)*Y,Q=J+(x[X=q+G*w[2]+L*w[1]+A*w[0]]-J)*Y;X=q+B*O[2]+N*O[1]+k*O[0],g.values[X]=Z+(Q-Z)*z}}else for(var tt=0;tt<m;++tt){var et=m>1?C*(l-1)+tt*M:.5*(C+T)*(l-1);if(et<0||et>l-1)for(var nt=0;nt<h;nt++){var rt=nt+tt*O[2]+N*O[1]+k*O[0];g.values[rt]=i}else for(var at=Math.round(et),it=Math.round(I),ot=0;ot<h;ot++){var st=ot+at*w[2]+it*w[1]+A*w[0],ut=ot+tt*O[2]+N*O[1]+k*O[0];g.values[ut]=x[st]}}}}return g.toTensor()}},{key:"sparseToDense",value:function(t,e,n,r){var a=o.F.calculateShapes(e,t,n),i=a.sliceRank,s=a.numUpdates,u=a.sliceSize,c=a.strides,l=a.outputSize;return this.scatter(t,e,n,l,u,s,i,c,r,!1)}},{key:"gatherND",value:function(t,e){var n=e.shape,r=n[n.length-1],a=o.F.prepareAndValidate(t,e),i=Object(f.a)(a,4),s=i[0],u=i[1],c=i[2],l=i[3];if(0===u)return o.md([],s,t.dtype);for(var h=new o.m([u,c],t.dtype),p=this.readSync(e.dataId),d=this.readSync(t.dataId),v=0;v<u;v++){for(var m=[],g=0,y=0;y<r;y++){var b=p[v*r+y];g+=b*l[y],m.push(b)}if(g<0||g>=t.size/c)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(t.shape));for(var x=0;x<c;x++)h.values[v*c+x]=d[g*c+x]}return h.toTensor().reshape(s)}},{key:"scatterND",value:function(t,e,n){var r=o.F.calculateShapes(e,t,n),a=r.sliceRank,i=r.numUpdates,s=r.sliceSize,u=r.strides,c=r.outputSize,l=o.Fc(0);return this.scatter(t,e,n,c,s,i,a,u,l,!0)}},{key:"fill",value:function(t,e,n){n=n||o.zd.inferDtype(e);var r=o.zd.getArrayFromDType(n,o.zd.sizeFromShape(t));return r.fill(e),Object(o.kb)().makeTensor(r,t,n,this)}},{key:"onesLike",value:function(t){if("string"===t.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(t.shape,1,t.dtype)}},{key:"zerosLike",value:function(t){var e=o.zd.getArrayFromDType(t.dtype,o.zd.sizeFromShape(t.shape));return this.makeOutput(e,t.shape,t.dtype)}},{key:"linspace",value:function(t,e,n){return o.F.linspaceImpl(t,e,n)}},{key:"scatter",value:function(t,e,n,r,a,i,s,u,c,l){var h=[r/a,a],f=this.readSync(t.dataId),p=this.readSync(e.dataId);if(0===r)return o.md([],n,e.dtype);var d=new o.m(h,e.dtype);d.values.fill(this.readSync(c.dataId)[0]);for(var v=0;v<i;v++){for(var m=[],g=0,y=0;y<s;y++){var b=f[v*s+y];m.push(b),g+=b*u[y]}if(g<0||g>=r/a)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(var x=0;x<a;x++)l?d.values[g*a+x]+=p[v*a+x]:d.values[g*a+x]=0===e.rank?p[0]:p[v*a+x]}return d.toTensor().reshape(n)}}]),n}(o.d);function Yo(t,e){return{kernelName:t,backendName:"cpu",kernelFunc:function(n){var r=n.inputs,a=n.backend,i=r.a,o=r.b,s=a;Po([i,o],t);var u=s.data.get(i.dataId).values,c=s.data.get(o.dataId).values,l=e(i.shape,o.shape,u,c,i.dtype),h=Object(f.a)(l,2),p=h[0],d=h[1];return{dataId:s.write(p,d,i.dtype),shape:d,dtype:i.dtype}}}}function qo(t){return function(e,n,r,a,i){var s=o.F.assertAndGetBroadcastShape(e,n),u=s.length,c=o.zd.computeStrides(s),l=o.zd.sizeFromShape(s),h=o.zd.getTypedArrayFromDType(i,l),f=e.length,p=n.length,d=o.zd.computeStrides(e),v=o.zd.computeStrides(n),m=o.F.getBroadcastDims(e,s),g=o.F.getBroadcastDims(n,s);if(m.length+g.length===0)for(var y=0;y<h.length;++y)h[y]=t(r[y%r.length],a[y%a.length]);else for(var b=function(e){var n=o.zd.indexToLoc(e,u,c),i=n.slice(-f);m.forEach((function(t){return i[t]=0}));var s=o.zd.locToIndex(i,f,d),l=n.slice(-p);g.forEach((function(t){return l[t]=0}));var y=o.zd.locToIndex(l,p,v);h[e]=t(r[s],a[y])},x=0;x<h.length;++x)b(x);return[h,s]}}var Xo=qo((function(t,e){return t/e})),Ko=Yo(o.b,Xo),$o={kernelName:o.e,backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.attrs,r=t.backend,a=e.x,i=n.reductionIndices,s=r,u=a.shape,c=u.length,l=o.zd.parseAxisParam(i,u),h=o.F.getAxesPermutation(l,c),p=s.data.get(a.dataId).values;if(null!=h){for(var d=new Array(c),v=0;v<d.length;v++)d[v]=u[h[v]];p=Ro(p,u,a.dtype,h,d),l=o.F.getInnerMostAxes(l.length,c),u=d}Po(a,"max"),o.F.assertAxesAreInnerMostDims("max",l,c);var m=o.F.computeOutAndReduceShapes(u,l),g=Object(f.a)(m,2),y=g[0],b=g[1],x=Do(p,o.zd.sizeFromShape(b),y,a.dtype);return{dataId:s.write(x,y,a.dtype),shape:y,dtype:a.dtype}}};for(var Jo={kernelName:o.f,backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.attrs,r=t.backend,a=e.x,i=n.filterSize,s=n.strides,u=n.pad,c=n.includeBatchInIndex,l=r;Po(a,"MaxPoolWithArgmax");var h=l.data.get(a.dataId).values,p=o.F.computePool2DInfo(a.shape,i,s,[1,1],u),d=function(t,e,n,r,a){var i=Fo(t,0,n,o.zd.computeStrides(e),a,"max"),s=Lo(t,e,n,a,!0,r);return[i.values,s.values]}(h,a.shape,a.dtype,c,p),v=Object(f.a)(d,2),m=v[0],g=v[1],y=l.write(m,p.outShape,a.dtype),b=l.write(g,p.outShape,a.dtype);return[{dataId:y,shape:p.outShape,dtype:a.dtype},{dataId:b,shape:p.outShape,dtype:"int32"}]}},Zo=o.Hb.nonMaxSuppressionV5,Qo={kernelName:o.h,backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,a=e.boxes,i=e.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.softNmsSigma,l=n;Po(a,"NonMaxSuppressionWithScore");var h=l.data.get(a.dataId).values,f=l.data.get(i.dataId).values,p=Zo(h,f,o,s,u,c);return[p.selectedIndices,p.selectedScores]}},ts={kernelName:o.j,backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,a=n;Po(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];o[s]=u*u}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},es=qo((function(t,e){var n=t-e;return n*n})),ns=0,rs=[Qo,ts,Yo(o.k,es),Ko,{kernelName:o.n,backendName:"cpu",kernelFunc:function(t){var e=t.inputs,n=t.attrs,r=t.backend,a=e.x,i=n.perm,o=r;Po(a,"transpose");for(var s=a.shape.length,u=new Array(s),c=0;c<u.length;c++)u[c]=a.shape[i[c]];var l=Ro(o.data.get(a.dataId).values,a.shape,a.dtype,i,u);return{dataId:o.write(l,u,a.dtype),shape:u,dtype:a.dtype}}},Jo,$o];ns<rs.length;ns++){var as=rs[ns];Object(o.yc)(as)}Object(o.xc)("cpu",(function(){return new Go}),1);var is,os,ss,us={},cs={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function ls(t){t in us||(us[t]=function(t){if(1!==t&&2!==t)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var e=function(t){if("undefined"!==typeof OffscreenCanvas&&2===t)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(t);if(e.addEventListener("webglcontextlost",(function(e){e.preventDefault(),delete us[t]}),!1),1===t)return e.getContext("webgl",cs)||e.getContext("experimental-webgl",cs);return e.getContext("webgl2",cs)}(t));var e=us[t];return e.isContextLost()?(delete us[t],ls(t)):(e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SAMPLE_COVERAGE),e.enable(e.SCISSOR_TEST),e.enable(e.CULL_FACE),e.cullFace(e.BACK),us[t])}function hs(t,e){return[e,t]}function fs(t){var e=o.zd.sizeFromShape(t),n=Math.ceil(e/4);return o.zd.sizeToSquarishShape(n)}function ps(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function ds(t,e){var n,r,a,i,s,u,c,l,h,f=t;return 2===Object(o.lb)().getNumber("WEBGL_VERSION")?(n=f.R32F,r=f.R16F,a=f.RGBA16F,i=f.RGBA32F,s=f.RED,u=4,c=1,l=f.HALF_FLOAT,h=f.FLOAT):(n=t.RGBA,r=t.RGBA,a=t.RGBA,i=f.RGBA,s=t.RGBA,u=4,c=4,l=null!=e?e.HALF_FLOAT_OES:null,h=t.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:s,downloadTextureFormat:t.RGBA,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:l,textureTypeFloat:h}}function vs(t,e,n){var r=n();return e&&function(t){var e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+function(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(e)}}(t,e))}(t),r}!function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"}(is||(is={})),function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"}(os||(os={})),function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(ss||(ss={}));function ms(t){return!!(Object(o.lb)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===t||5.96e-8<Math.abs(t)&&Math.abs(t)<65504)}function gs(t,e,n){return _s(t,e,(function(){return t.getExtension(n)}),'Extension "'+n+'" not supported on this browser.')}function ys(t,e,n){var r=_s(t,e,(function(){return t.createShader(t.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(vs(t,e,(function(){return t.shaderSource(r,n)})),vs(t,e,(function(){return t.compileShader(r)})),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw function(t,e){var n=ws.exec(e);if(null==n)return console.log("Couldn't parse line number in error: ".concat(e)),void console.log(t);for(var r=+n[1],a=t.split("\n"),i=a.length.toString().length+2,s=a.map((function(t,e){return o.zd.rightPad((e+1).toString(),i)+t})),u=0,c=0;c<s.length;c++)u=Math.max(s[c].length,u);var l=s.slice(0,r-1),h=s.slice(r-1,r),f=s.slice(r);console.log(l.join("\n")),console.log(e.split("\n")[0]),console.log("%c ".concat(o.zd.rightPad(h[0],u)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}(n,t.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var bs,xs,ws=/ERROR: [0-9]+:([0-9]+):/g;function Os(t,e,n){if(vs(t,e,(function(){return t.validateProgram(n)})),!1===t.getProgramParameter(n,t.VALIDATE_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function ks(t,e,n,r,a,i,o,s){var u=t.getAttribLocation(n,r);return-1!==u&&(vs(t,e,(function(){return t.bindBuffer(t.ARRAY_BUFFER,a)})),vs(t,e,(function(){return t.vertexAttribPointer(u,i,t.FLOAT,!1,o,s)})),vs(t,e,(function(){return t.enableVertexAttribArray(u)})),!0)}function Ss(t,e,n,r){return _s(t,e,(function(){return t.getUniformLocation(n,r)}),'uniform "'+r+'" not present in program.')}function Es(t,e,n){return t.getUniformLocation(e,n)}function Cs(t,e,n,r,a,i){vs(t,e,(function(){return function(t,e,n,r){Ms(t,r),vs(t,e,(function(){return t.activeTexture(t.TEXTURE0+r)})),vs(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,n)}))}(t,e,r,i)})),vs(t,e,(function(){return t.uniform1i(a,i)}))}function js(t,e,n,r){vs(t,e,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,r)})),vs(t,e,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)}))}function Ts(t,e,n){vs(t,e,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,n)})),vs(t,e,(function(){return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)}))}function As(t){var e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(e)}}(t,e))}function _s(t,e,n,r){var a=vs(t,e,(function(){return n()}));if(null==a)throw new Error(r);return a}function Ms(t,e){var n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function Ns(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return o.zd.sizeFromShape(t.slice(0,t.length-e))}function Is(t){if(0===t.length)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function Ds(t){var e=[1,1,1];return 0===t.length||1===t.length&&1===t[0]||(e=[Ns(t)].concat(Object(Q.a)(Is(t)))),e}function Rs(t){return t%2===0}function Ps(t,e){if(t=t.slice(-2),e=e.slice(-2),o.zd.arraysEqual(t,e))return!0;if(!t.length||!e.length)return!0;if(0===t[0]||0===t[1]||0===e[0]||0===e[1])return!0;if(t.length!==e.length){var n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r)return!0;if(Rs(n)&&Rs(r)&&(1===t[0]||1===e[0]))return!0}return t[1]===e[1]&&Rs(t[0])&&Rs(e[0])}function Fs(t,e){return null!=t.getExtension(e)}function Ls(t){try{if(null!=ls(t))return!0}catch(e){return!1}return!1}function zs(t){if(0===t)return!1;var e=ls(t);if(1!==t){if(Fs(e,"EXT_color_buffer_float"))return Bs(e);if(Fs(e,"EXT_color_buffer_half_float")){var n=e.getExtension("EXT_color_buffer_half_float");return function(t,e){var n=ds(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);var i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(a),i}(e,n)}return!1}return!!Fs(e,"OES_texture_float")&&(!!Fs(e,"WEBGL_color_buffer_float")&&Bs(e))}function Bs(t){var e=ds(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(r),a}var Ws=Object(o.lb)();Ws.registerFlag("HAS_WEBGL",(function(){return Ws.getNumber("WEBGL_VERSION")>0})),Ws.registerFlag("WEBGL_VERSION",(function(){return Ls(2)?2:Ls(1)?1:0})),Ws.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Ws.get("WEBGL_VERSION")})),Ws.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Ws.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Ws.registerFlag("WEBGL_PACK",(function(){return Ws.getBool("HAS_WEBGL")})),Ws.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Ws.getBool("WEBGL_PACK")})),Ws.registerFlag("WEBGL_PACK_CLIP",(function(){return Ws.getBool("WEBGL_PACK")})),Ws.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),Ws.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Ws.getBool("WEBGL_PACK")})),Ws.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Ws.getBool("WEBGL_PACK")})),Ws.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Ws.getBool("WEBGL_PACK")})),Ws.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Ws.getBool("WEBGL_PACK")})),Ws.registerFlag("WEBGL_PACK_REDUCE",(function(){return Ws.getBool("WEBGL_PACK")})),Ws.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Ws.getBool("WEBGL_PACK")})),Ws.registerFlag("WEBGL_CONV_IM2COL",(function(){return Ws.getBool("WEBGL_PACK")})),Ws.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return function(t){if(null==bs){var e=ls(t);bs=e.getParameter(e.MAX_TEXTURE_SIZE)}return bs}(Ws.getNumber("WEBGL_VERSION"))})),Ws.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return function(t){if(null==xs){var e=ls(t);xs=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,xs)}(Ws.getNumber("WEBGL_VERSION"))})),Ws.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var t=Ws.getNumber("WEBGL_VERSION");return 0===t?0:function(t){if(0===t)return 0;var e=ls(t);return Fs(e,"EXT_disjoint_timer_query_webgl2")&&2===t?2:Fs(e,"EXT_disjoint_timer_query")?1:0}(t)})),Ws.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Ws.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!o.eb.isMobile()})),Ws.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return function(t){if(0===t)return!1;var e=ls(t);if(1===t){if(!Fs(e,"OES_texture_float"))return!1}else if(!Fs(e,"EXT_color_buffer_float"))return!1;return Bs(e)}(Ws.getNumber("WEBGL_VERSION"))})),Ws.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Ws.getBool("WEBGL_FORCE_F16_TEXTURES")&&Ws.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Ws.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return zs(Ws.getNumber("WEBGL_VERSION"))})),Ws.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return 2===(t=Ws.getNumber("WEBGL_VERSION"))&&null!=ls(t).fenceSync;var t})),Ws.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Ws.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}));var Us=function t(e,n){Object(s.a)(this,t),this.outputShape=[],this.outputShape=e,this.variableNames=n.map((function(t,e){return"T".concat(e)}));var r=[];this.variableNames.forEach((function(t){r.push("float v".concat(t," = get").concat(t,"AtOutCoords();"))}));var a=this.variableNames.map((function(t){return"v".concat(t)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")},Vs=function t(e,n){Object(s.a)(this,t),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((function(t,e){return"T".concat(e)}));var r=[];this.variableNames.forEach((function(t){r.push("vec4 v".concat(t," = get").concat(t,"AtOutCoords();"))}));var a=this.variableNames.map((function(t){return"v".concat(t)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")},Hs=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["A"];var a=e.windowSize,i=e.batchSize,o=e.inSize,u=Math.ceil(o/a);r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,u];var c="max"===n?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(l,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(c," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")};function Gs(t,e){return["x","y","z","w","u","v"].slice(0,e).map((function(e){return"".concat(t,".").concat(e)}))}function Ys(t,e){return 1===e?[t]:Gs(t,e)}function qs(){var t,e,n,r,a,i,s,u,c,l;return 2===Object(o.lb)().getNumber("WEBGL_VERSION")?(t="#version 300 es",e="in",n="out",r="in",a="texture",i="outputColor",s="out vec4 outputColor;",u="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",c="",l="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(t="",e="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",s="",u="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",l="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:s,defineSpecialNaN:u,defineSpecialInf:c,defineRound:l}}function Xs(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=o.zd.computeStrides(e);return r.map((function(e,a){var i="int ".concat(t[a]," = ").concat(n," / ").concat(e),o=a===r.length-1?"int ".concat(t[a+1]," = ").concat(n," - ").concat(t[a]," * ").concat(e):"index -= ".concat(t[a]," * ").concat(e);return"".concat(i,"; ").concat(o,";")})).join("")}function Ks(t){var e=o.zd.computeStrides(t).map((function(t){return t.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(e[0]," + coords.y * ").concat(e[1]," + coords.z;\n  }\n")}var $s="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",Js=o.F.getBroadcastDims;function Zs(t,e,n,r){var a=[];t.forEach((function(t){var e=o.zd.sizeFromShape(t.shapeInfo.logicalShape);t.shapeInfo.isUniform?a.push("uniform float ".concat(t.name).concat(e>1?"[".concat(e,"]"):"",";")):(a.push("uniform sampler2D ".concat(t.name,";")),a.push("uniform int offset".concat(t.name,";")))}));var i,s,u=a.join("\n"),c=t.map((function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";r+=n?tu(t):Qs(t);var a=t.shapeInfo.logicalShape,i=e.logicalShape;a.length<=i.length&&(r+=n?su(t,e):uu(t,e));return r}(t,e,r)})).join("\n"),l=e.texShape,h=qs(),f=function(t){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(t.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(h),p=function(t){return"".concat(t.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(t.varyingFs," vec2 resultUV;\n    ").concat(t.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(t.defineSpecialNaN,"\n    ").concat(t.defineSpecialInf,"\n    ").concat(t.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(eu,"\n    ").concat(nu,"\n    ").concat(ru,"\n  ")}(h);return e.isPacked?(i=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(1===n[0])return"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(n[1],".0);\n      }\n    ");if(1===n[1])return"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(n[0],".0);\n      }\n    ");return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(n[0],", ").concat(n[1],"));\n      return 2 * (resTexRC.x * ").concat(n[1]," + resTexRC.y);\n    }\n  ")}(0,e);case 2:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(o.zd.arraysEqual(t,e))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(n[0],", ").concat(n[1],"));\n      }\n    ");var r=Math.ceil(t[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(n[0],", ").concat(n[1],"));\n\n      int index = resTexRC.x * ").concat(n[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(t,e);case 3:return function(t,e){var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[2]/2),a=r*Math.ceil(t[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(n[0],", ").concat(n[1],"));\n      int index = resTexRC.x * ").concat(n[1]," + resTexRC.y;\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(t,e);default:return function(t,e){for(var n=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),a=r*Math.ceil(t[t.length-2]/2),i=a,o="",s="b, r, c",u=2;u<t.length-1;u++)i*=t[t.length-u-1],o="\n      int b".concat(u," = index / ").concat(i,";\n      index -= b").concat(u," * ").concat(i,";\n    ")+o,s="b".concat(u,", ")+s;return"\n    ivec".concat(t.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(n[0],", ").concat(n[1],"));\n      int index = resTexRC.x * ").concat(n[1]," + resTexRC.y;\n\n      ").concat(o,"\n\n      int b = index / ").concat(a,";\n      index -= b * ").concat(a,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec").concat(t.length,"(").concat(s,");\n    }\n  ")}(t,e)}}(e.logicalShape,l),s=function(t){return"\n    void setOutput(vec4 val) {\n      ".concat(t.output," = val;\n    }\n  ")}(h)):(i=function(t,e){switch(t.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(t,e){if(1===e[0])return"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(e[1],".0);\n      }\n    ");if(1===e[1])return"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(e[0],".0);\n      }\n    ");return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      return resTexRC.x * ").concat(e[1]," + resTexRC.y;\n    }\n  ")}(0,e);case 2:return function(t,e){if(o.zd.arraysEqual(t,e))return"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(e[0],", ").concat(e[1],"));\n      }\n    ");if(1===t[1])return"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(e[0],", ").concat(e[1],"));\n        int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===t[0])return"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(e[0],", ").concat(e[1],"));\n        int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      int r = index / ").concat(t[1],";\n      int c = index - r * ").concat(t[1],";\n      return ivec2(r, c);\n    }\n  ")}(t,e);case 3:return function(t,e){var n=Xs(["r","c","d"],t);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      ").concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(t,e);case 4:return function(t,e){var n=Xs(["r","c","d","d2"],t);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n      ").concat(n,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(t,e);case 5:return function(t,e){var n=Xs(["r","c","d","d2","d3"],t);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(e[0],",\n                             ").concat(e[1],"));\n\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(t,e);case 6:return function(t,e){var n=Xs(["r","c","d","d2","d3","d4"],t);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(e[0],", ").concat(e[1],"));\n      int index = resTexRC.x * ").concat(e[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(t,e);default:throw new Error("".concat(t.length,"-D output sampling is not yet supported"))}}(e.logicalShape,l),s=function(t){return"\n    void setOutput(float val) {\n      ".concat(t.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(h)),r&&(p+=au),[p,f,s,u,i,c,n].join("\n")}function Qs(t){var e=t.shapeInfo.logicalShape;switch(e.length){case 0:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return"float ".concat(n,"() {return ").concat(e,";}");var r=Object(f.a)(t.shapeInfo.texShape,2),a=r[0],i=r[1];if(1===a&&1===i)return"\n      float ".concat(n,"() {\n        return sampleTexture(").concat(e,", halfCR);\n      }\n    ");var o=Object(f.a)(t.shapeInfo.texShape,2),s=o[0],u=o[1],c=iu(e);return"\n    float ".concat(n,"() {\n      vec2 uv = uvFromFlat(").concat(s,", ").concat(u,", ").concat(c,");\n      return sampleTexture(").concat(e,", uv);\n    }\n  ")}(t);case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1);if(t.shapeInfo.isUniform)return"\n      float ".concat(n,"(int index) {\n        ").concat(ou(t),"\n      }\n    ");var r=t.shapeInfo.texShape,a=r[0],i=r[1];if(1===i&&1===a)return"\n      float ".concat(n,"(int index) {\n        return sampleTexture(").concat(e,", halfCR);\n      }\n    ");var o=iu(e);if(1===i)return"\n      float ".concat(n,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(o,") + 0.5) / ").concat(a,".0);\n        return sampleTexture(").concat(e,", uv);\n      }\n    ");if(1===a)return"\n      float ".concat(n,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(o,") + 0.5) / ").concat(i,".0, 0.5);\n        return sampleTexture(").concat(e,", uv);\n      }\n    ");return"\n    float ".concat(n,"(int index) {\n      vec2 uv = uvFromFlat(").concat(a,", ").concat(i,", index + ").concat(o,");\n      return sampleTexture(").concat(e,", uv);\n    }\n  ")}(t);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t.shapeInfo.texShape;if(null!=a&&o.zd.arraysEqual(e,a)){var i=a[0],s=a[1];return"\n    float ".concat(r,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(i,".0);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}var u=o.zd.squeezeShape(e),c=u.newShape,l=u.keptDims,h=c;if(h.length<e.length){var f=lu(t,h);return"\n      ".concat(Qs(f),"\n      float ").concat(r,"(int row, int col) {\n        return ").concat(r,"(").concat(hu(["row","col"],l),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(e[1],", 1)));\n        ").concat(ou(t),"\n      }\n    ");var p=a[0],d=a[1],v=iu(n);if(1===d)return"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(e[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(p,".0);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");if(1===p)return"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(v,"), vec3(").concat(e[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(d,".0, 0.5);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n  float ".concat(r,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(e[1]," + col + ").concat(v,";\n    vec2 uv = uvFromFlat(").concat(p,", ").concat(d,", index);\n    return sampleTexture(").concat(n,", uv);\n  }\n")}(t);case 3:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[1]*e[2],i=e[2],s=o.zd.squeezeShape(e),u=s.newShape,c=s.keptDims,l=u;if(l.length<e.length){var h=lu(t,l);return"\n        ".concat(Qs(h),"\n        float ").concat(r,"(int row, int col, int depth) {\n          return ").concat(r,"(").concat(hu(["row","col","depth"],c),");\n        }\n      ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(a,", ").concat(i,", 1)));\n        ").concat(ou(t),"\n      }\n    ");var f=t.shapeInfo.texShape,p=f[0],d=f[1],v=t.shapeInfo.flatOffset;if(d===a&&null==v)return"\n        float ".concat(r,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(i,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(d,".0, ").concat(p,".0);\n          return sampleTexture(").concat(n,", uv);\n        }\n      ");if(d===i&&null==v)return"\n    float ".concat(r,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(e[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(d,".0, ").concat(p,".0);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var m=iu(n);return"\n      float ".concat(r,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a," + col * ").concat(i," + depth + ").concat(m,";\n        vec2 uv = uvFromFlat(").concat(p,", ").concat(d,", index);\n        return sampleTexture(").concat(n,", uv);\n      }\n  ")}(t);case 4:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[3],i=e[2]*a,s=e[1]*i,u=o.zd.squeezeShape(e),c=u.newShape,l=u.keptDims;if(c.length<e.length){var h=lu(t,c);return"\n      ".concat(Qs(h),"\n      float ").concat(r,"(int row, int col, int depth, int depth2) {\n        return ").concat(r,"(").concat(hu(["row","col","depth","depth2"],l),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(i,", ").concat(a,", 1)));\n        ").concat(ou(t),"\n      }\n    ");var f=t.shapeInfo.flatOffset,p=t.shapeInfo.texShape,d=p[0],v=p[1];if(v===s&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(i,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(v,".0, ").concat(d,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(v===a&&null==f)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(e[1]*e[2],", ").concat(e[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(v,".0, ").concat(d,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var m=iu(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(i," +\n          depth * ").concat(a," + depth2;\n      vec2 uv = uvFromFlat(").concat(d,", ").concat(v,", index + ").concat(m,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(t);case 5:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[4],i=e[3]*a,s=e[2]*i,u=e[1]*s,c=o.zd.squeezeShape(e),l=c.newShape,h=c.keptDims;if(l.length<e.length){var f=lu(t,l);return"\n      ".concat(Qs(f),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(hu(["row","col","depth","depth2","depth3"],h),");\n      }\n    ")}if(t.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(s,", ").concat(i,", ").concat(a,")) +\n          depth3;\n        ").concat(ou(t),"\n      }\n    ");var p=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,v=d[0],m=d[1];if(m===u&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(s,", ").concat(i,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(m===a&&null==p)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(e[1]*e[2]*e[3],",\n               ").concat(e[2]*e[3],", ").concat(e[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=iu(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(s," + depth * ").concat(i," +\n          depth2 * ").concat(a," + depth3 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(t);case 6:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=o.zd.squeezeShape(e),i=a.newShape,s=a.keptDims;if(i.length<e.length){var u=lu(t,i);return"\n      ".concat(Qs(u),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(hu(["row","col","depth","depth2","depth3","depth4"],s),");\n      }\n    ")}var c=e[5],l=e[4]*c,h=e[3]*l,f=e[2]*h,p=e[1]*f;if(t.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(p,", ").concat(f,", ").concat(h,", ").concat(l,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(c,", 1)));\n        ").concat(ou(t),"\n      }\n    ");var d=t.shapeInfo.flatOffset,v=t.shapeInfo.texShape,m=v[0],g=v[1];if(g===p&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(f,", ").concat(h,", ").concat(l,", ").concat(c,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===c&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(e[1]*e[2]*e[3]*e[4],",\n               ").concat(e[2]*e[3]*e[4],",\n               ").concat(e[3]*e[4],",\n               ").concat(e[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var y=iu(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(p," + col * ").concat(f," + depth * ").concat(h," +\n          depth2 * ").concat(l," + depth3 * ").concat(c," + depth4 + ").concat(y,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(t);default:throw new Error("".concat(e.length,"-D input sampling")+" is not yet supported")}}function tu(t){switch(t.shapeInfo.logicalShape.length){case 0:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=qs();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(e,", halfCR);\n    }\n  ")}(t);case 1:return function(t){var e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=t.shapeInfo.texShape,a=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=qs();return"\n    vec4 ".concat(n,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(a[0],", ").concat(a[1],", index);\n      return ").concat(i.texture2D,"(").concat(e,", uv);\n    }\n  ")}(t);case 2:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t.shapeInfo.texShape,i=a[0],s=a[1],u=qs();if(null!=a&&o.zd.arraysEqual(e,a))return"\n      vec4 ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(i,".0);\n\n        return ").concat(u.texture2D,"(").concat(n,", uv);\n      }\n    ");var c=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],l=Math.ceil(e[1]/2);return"\n    vec4 ".concat(r,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(l,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(u.texture2D,"(").concat(n,", uv);\n    }\n  ")}(t);case 3:return function(t){var e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t.shapeInfo.texShape,i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===e[0]){var o=e.slice(1),s=lu(t,o);return"\n        ".concat(tu(s),"\n        vec4 ").concat(r,"(int b, int row, int col) {\n          return ").concat(r,"(").concat(hu(["b","row","col"],[1,2]),");\n        }\n      ")}var u=i[0],c=i[1],l=Math.ceil(e[2]/2),h=l*Math.ceil(e[1]/2),f=qs();return"\n    vec4 ".concat(r,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(u,", ").concat(c,", ").concat(h,", ").concat(l,", b, row, col);\n      return ").concat(f.texture2D,"(").concat(n,", uv);\n    }\n  ")}(t);default:return function(t){for(var e=t.shapeInfo.logicalShape,n=e.length,r=t.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],s=o[0],u=o[1],c=Math.ceil(e[n-1]/2),l=c*Math.ceil(e[n-2]/2),h="int b, int row, int col",f="b * ".concat(l," + (row / 2) * ").concat(c," + (col / 2)"),p=2;p<n-1;p++)h="int b".concat(p,", ")+h,l*=e[n-p-1],f="b".concat(p," * ").concat(l," + ")+f;var d=qs();return"\n    vec4 ".concat(a,"(").concat(h,") {\n      int index = ").concat(f,";\n      int texR = index / ").concat(u,";\n      int texC = index - texR * ").concat(u,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(u,", ").concat(s,");\n      return ").concat(d.texture2D,"(").concat(r,", uv);\n    }\n  ")}(t)}}var eu="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",nu="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",ru="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",au="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function iu(t){return"offset".concat(t)}function ou(t){var e=t.name,n=o.zd.sizeFromShape(t.shapeInfo.logicalShape);return n<2?"return ".concat(e,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(e,"[i];\n      }\n    }\n  ")}function su(t,e){var n,r=t.name,a=r.charAt(0).toUpperCase()+r.slice(1),i="get"+a+"AtOutCoords",s=t.shapeInfo.logicalShape.length,u=e.logicalShape.length,c=Js(t.shapeInfo.logicalShape,e.logicalShape),l=cu(u),h=u-s,f=["x","y","z","w","u","v"];n=0===s?"":u<2&&c.length>=1?"coords = 0;":c.map((function(t){return"coords.".concat(f[t+h]," = 0;")})).join("\n");var p="";p=u<2&&s>0?"coords":t.shapeInfo.logicalShape.map((function(t,e){return"coords.".concat(f[e+h])})).join(", ");var d="return outputValue;",v=1===o.zd.sizeFromShape(t.shapeInfo.logicalShape),m=1===o.zd.sizeFromShape(e.logicalShape);if(1!==s||v||m){if(v&&!m)d=1===u?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){var g=s-2,y=s-1;c.indexOf(g)>-1&&c.indexOf(y)>-1?d="return vec4(outputValue.x);":c.indexOf(g)>-1?d="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(y)>-1&&(d="return vec4(outputValue.xx, outputValue.zz);")}}else d="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(i,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(a,"(").concat(p,");\n      ").concat(d,"\n    }\n  ")}function uu(t,e){var n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=e.texShape,s=t.shapeInfo.texShape,u=t.shapeInfo.logicalShape.length,c=e.logicalShape.length;if(!t.shapeInfo.isUniform&&u===c&&null==t.shapeInfo.flatOffset&&o.zd.arraysEqual(s,i))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var l,h=cu(c),f=Js(t.shapeInfo.logicalShape,e.logicalShape),p=c-u,d=["x","y","z","w","u","v"];l=0===u?"":c<2&&f.length>=1?"coords = 0;":f.map((function(t){return"coords.".concat(d[t+p]," = 0;")})).join("\n");var v="";return v=c<2&&u>0?"coords":t.shapeInfo.logicalShape.map((function(t,e){return"coords.".concat(d[e+p])})).join(", "),"\n    float ".concat(a,"() {\n      ").concat(h," coords = getOutputCoords();\n      ").concat(l,"\n      return get").concat(r,"(").concat(v,");\n    }\n  ")}function cu(t){if(t<=1)return"int";if(2===t)return"ivec2";if(3===t)return"ivec3";if(4===t)return"ivec4";if(5===t)return"ivec5";if(6===t)return"ivec6";throw Error("GPU for rank ".concat(t," is not yet supported"))}function lu(t,e){var n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function hu(t,e){return e.map((function(e){return t[e]})).join(", ")}var fu=function t(e,n,r,a){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,o.zd.assert(e.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var i=e[e.length-1],u=Math.ceil(i/n);this.outputShape=e.slice(0,-1),u>1&&this.outputShape.push(u),a||this.variableNames.push("bestIndicesA");var c,l,h=this.outputShape,f=h.length,p=cu(f),d=Ys("coords",f);if(1===u){var v=cu(l=f+1);c="\n        ".concat(v," sourceLocR = ").concat(v,"(").concat(d.join(),", 0);\n        ++").concat(d[f-1],";\n        ").concat(v," sourceLocG = ").concat(v,"(").concat(d.join(),", 0);\n        ++").concat(d[f-2],";\n        ").concat(v," sourceLocA = ").concat(v,"(").concat(d.join(),", 0);\n        --").concat(d[f-1],";\n        ").concat(v," sourceLocB = ").concat(v,"(").concat(d.join(),", 0);\n        --").concat(d[f-2],";")}else l=f,c="\n        ".concat(p," sourceLocR = coords;\n        ++").concat(d[f-1],";\n        ").concat(p," sourceLocG = coords;\n        ++").concat(d[f-2],";\n        ").concat(p," sourceLocA = coords;\n        --").concat(d[f-1],";\n        ").concat(p," sourceLocB = coords;\n        --").concat(d[f-2],";");var m=["x","y","z","w","u","v"].slice(0,l),g="."+m[l-1],y=m.map((function(t){return"int "+t})),b=Ys("sourceLocR",l-1).concat("inIdx.r"),x=Ys("sourceLocG",l-1).concat("inIdx.g"),w=Ys("sourceLocB",l-1).concat("inIdx.b"),O=Ys("sourceLocA",l-1).concat("inIdx.a"),k="max"===r?"greaterThan":"lessThan",S=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(w.join(),"),\n                             getBestIndicesAChannel(").concat(O.join(),")));"),E="vec4(\n            getAChannel(".concat(b.join(),"),\n            hasNextCol ? getAChannel(").concat(x.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(w.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(O.join(),") : 0.)"),C=a?"":"\n      float getBestIndicesAChannel(".concat(y.join(),") {\n        return getChannel(getBestIndicesA(").concat(m.join(),"),\n                                          vec2(").concat(m.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(y.join(),") {\n        return getChannel(getA(").concat(m.join(),"),\n                               vec2(").concat(m.slice(-2).join(),"));\n      }\n      ").concat(C,"\n      void main() {\n        ").concat(p," coords = getOutputCoords();\n        bool hasNextCol = ").concat(d[f-1]," < ").concat(h[f-1]-1,";\n        bool hasNextRow = ").concat(d[f-2]," < ").concat(h[f-2]-1,";\n        ").concat(c,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(g,", sourceLocG").concat(g,",\n          sourceLocB").concat(g,", sourceLocA").concat(g,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(E,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(S,"\n          vec4 candidate = ").concat(E,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(k,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")},pu=function t(e){Object(s.a)(this,t),this.variableNames=["dy"],this.outputShape=e.inShape;var n=e.filterHeight,r=e.filterWidth,a=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,l=e.effectiveFilterWidth,h=c-1-e.padInfo.top,f=l-1-e.padInfo.left,p=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(h,", ").concat(f,");\n      const float avgMultiplier = float(").concat(p,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(c,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(l,";\n            wC+= ").concat(u,") {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},du=function t(e){Object(s.a)(this,t),this.variableNames=["dy"],this.outputShape=e.inShape;var n=e.filterDepth,r=e.filterHeight,a=e.filterWidth,i=e.strideDepth,o=e.strideHeight,u=e.strideWidth,c=e.dilationDepth,l=e.dilationHeight,h=e.dilationWidth,f=e.effectiveFilterDepth,p=e.effectiveFilterHeight,d=e.effectiveFilterWidth,v=f-1-e.padInfo.front,m=p-1-e.padInfo.top,g=d-1-e.padInfo.left,y=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(v,", ").concat(m,", ").concat(g,");\n      const float avgMultiplier = float(").concat(y,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(c,") {\n          float dyD = float(dyDCorner + wD) / ").concat(i,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(p,";\n              wR += ").concat(l,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(h,") {\n              float dyC = float(dyCCorner + wC) / ").concat(u,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},vu=function t(e,n,r,a,i,u){Object(s.a)(this,t),this.outputShape=[],this.variableNames=["x","mean","variance"],o.F.assertAndGetBroadcastShape(e,n),o.F.assertAndGetBroadcastShape(e,r);var c="0.0";null!=a&&(o.F.assertAndGetBroadcastShape(e,a),this.variableNames.push("offset"),c="getOffsetAtOutCoords()");var l="1.0";null!=i&&(o.F.assertAndGetBroadcastShape(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(c,";\n        float scale = ").concat(l,";\n        float inv = scale * inversesqrt(variance + float(").concat(u,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")},mu=function t(e,n,r,a,i,u){Object(s.a)(this,t),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],o.F.assertAndGetBroadcastShape(e,n),o.F.assertAndGetBroadcastShape(e,r);var c="vec4(0.0)";null!=a&&(o.F.assertAndGetBroadcastShape(e,a),this.variableNames.push("offset"),c="getOffsetAtOutCoords()");var l="vec4(1.0)";null!=i&&(o.F.assertAndGetBroadcastShape(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = ".concat(c,";\n        vec4 scale = ").concat(l,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(u,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")},gu="return areal * breal - aimag * bimag;",yu="return areal * bimag + aimag * breal;",bu=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=o.F.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")},xu="return a + b;",wu="return a - b;",Ou="return a * b;",ku="return (a < 0.) ? b * a : a;",Su=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["A","B"],this.outputShape=o.F.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")},Eu="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",Cu=function t(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(s.a)(this,t),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o.F.assertAndGetBroadcastShape(n,r);var i=this.outputShape.length,u="";if(a)if(0===i||1===o.zd.sizeFromShape(this.outputShape))u="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var c=cu(i);if(u="\n          ".concat(c," coords = getOutputCoords();\n        "),1===i)u+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var l=Ys("coords",i);u+="\n            bool nextRowOutOfBounds =\n              (".concat(l[i-2]," + 1) >= ").concat(this.outputShape[i-2],";\n            bool nextColOutOfBounds =\n              (").concat(l[i-1]," + 1) >= ").concat(this.outputShape[i-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(u,"\n\n        setOutput(result);\n      }\n    ")},ju=function(){function t(e){Object(s.a)(this,t),this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return Object(u.a)(t,[{key:"getCustomSetupFunc",value:function(t,e){var n=this;return function(r,a){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}}}]),t}(),Tu=function(){function t(e){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return Object(u.a)(t,[{key:"getCustomSetupFunc",value:function(t,e){var n=this;return function(r,a){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(n.minLoc,t),r.gl.uniform1f(n.maxLoc,e)}}}]),t}(),Au=function t(e){Object(s.a)(this,t),this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},_u=function t(e){Object(s.a)(this,t),this.outputShape=[],this.outputShape=o.F.computeOutShape(e,1),this.variableNames=e.map((function(t,e){return"T".concat(e)}));var n=new Array(e.length-1);n[0]=e[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+e[r][1];for(var a=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],i=1;i<n.length;i++){var u=n[i-1];a.push("else if (yC < ".concat(n[i],") ")+"setOutput(getT".concat(i,"(yR, yC-").concat(u,"));"))}var c=n.length,l=n[n.length-1];a.push("else setOutput(getT".concat(c,"(yR, yC-").concat(l,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(a.join("\n        "),"\n      }\n    ")},Mu=function t(e,n){Object(s.a)(this,t),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=o.F.computeOutShape(e,n);var r=this.outputShape,a=r.length,i=cu(a),u=Ys("coords",a),c=["x","y","z","w","u","v"].slice(0,a);this.variableNames=e.map((function(t,e){return"T".concat(e)}));var l=new Array(e.length-1);l[0]=e[0][n];for(var h=1;h<l.length;h++)l[h]=l[h-1]+e[h][n];for(var f=c[n],p=c.slice(-2),d=c.join(),v="if (".concat(f," < ").concat(l[0],") {\n        return getChannel(\n            getT0(").concat(d,"), vec2(").concat(p.join(),"));\n        }"),m=1;m<l.length;m++){var g=l[m-1];v+="\n        if (".concat(f," < ").concat(l[m],"  && ").concat(f," >= ").concat(l[m-1],") {\n          return getChannel(\n            getT").concat(m,"(").concat(Nu(c,f,g),"),\n            vec2(").concat(Nu(p,f,g),"));\n        }")}var y=l.length,b=l[l.length-1];v+="\n        return getChannel(\n          getT".concat(y,"(").concat(Nu(c,f,b),"),\n          vec2(").concat(Nu(p,f,b),"));"),this.userCode="\n      float getValue(".concat(c.map((function(t){return"int "+t})),") {\n        ").concat(v,"\n      }\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(u,"), 0., 0., 0.);\n\n        ").concat(u[a-1]," = ").concat(u[a-1]," + 1;\n        if (").concat(u[a-1]," < ").concat(r[a-1],") {\n          result.g = getValue(").concat(u,");\n        }\n\n        ").concat(u[a-2]," = ").concat(u[a-2]," + 1;\n        if (").concat(u[a-2]," < ").concat(r[a-2],") {\n          result.a = getValue(").concat(u,");\n        }\n\n        ").concat(u[a-1]," = ").concat(u[a-1]," - 1;\n        if (").concat(u[a-2]," < ").concat(r[a-2]," &&\n            ").concat(u[a-1]," < ").concat(r[a-1],") {\n          result.b = getValue(").concat(u,");\n        }\n        setOutput(result);\n      }\n    ")};function Nu(t,e,n){var r=t.indexOf(e);return t.map((function(t,e){return e===r?"".concat(t," - ").concat(n):t})).join()}var Iu=function t(e){Object(s.a)(this,t),this.variableNames=["x","dy"],this.outputShape=e.filterShape;var n=e.strideHeight,r=e.strideWidth,a=e.padInfo.top,i=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              if (").concat(o,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Du=function t(e){Object(s.a)(this,t),this.variableNames=["dy","W"],this.outputShape=e.inShape;var n=e.filterHeight,r=e.filterWidth,a=e.strideHeight,i=e.strideWidth,o="channelsLast"===e.dataFormat,u=n-1-e.padInfo.top,c=r-1-e.padInfo.left,l=o?1:2,h=o?2:3,f=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(c,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(f,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(l,"], coords[").concat(h,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Ru=function t(e){Object(s.a)(this,t),this.variableNames=["x","dy"],this.outputShape=e.filterShape;var n=e.strideDepth,r=e.strideHeight,a=e.strideWidth,i=e.padInfo.front,o=e.padInfo.top,u=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(e.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(i,";\n\n            if (xF < 0 || xF >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(u,";\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Pu=function t(e){Object(s.a)(this,t),this.variableNames=["dy","W"],this.outputShape=e.inShape;var n=e.filterDepth,r=e.filterHeight,a=e.filterWidth,i=e.strideDepth,o=e.strideHeight,u=e.strideWidth,c=n-1-e.padInfo.front,l=r-1-e.padInfo.top,h=a-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(c,", ").concat(l,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(i,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(e.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(u,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Fu=function t(e){Object(s.a)(this,t),this.variableNames=["x","dy"],this.outputShape=e.filterShape;var n=e.strideHeight,r=e.strideWidth,a=e.padInfo.top,i=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(i,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Lu=function t(e){Object(s.a)(this,t),this.variableNames=["dy","W"],this.outputShape=e.inShape;var n=e.filterHeight,r=e.filterWidth,a=e.strideHeight,i=e.strideWidth,o=n-1-e.padInfo.top,u=r-1-e.padInfo.left,c=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(i,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(c,"; dm++) {\n              int d2 = d1 * ").concat(c," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},zu=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(s.a)(this,t),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.padInfo.top,o=e.padInfo.left,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,h=e.dilationWidth,f=e.filterHeight,p=e.filterWidth,d=4*Math.floor(e.inChannels/4),v=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,b=m?3:1,x="",w="";r&&(x=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),w="result = activation(result);");var O=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      ".concat(x,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(i,", ").concat(o,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(b,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(y,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(f,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(p,"; wC++) {\n            int xC = xCCorner + wC * ").concat(h,";\n\n            if (xC < 0 || xC >= ").concat(e.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(d,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(m,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===v,") {\n\n              if (").concat(m,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(d,") *\n                    getW(wR, wC, ").concat(d,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(d,", xR, xC) *\n                    getW(wR, wC, ").concat(d,", d2);\n              }\n\n            } else if (").concat(2===v,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(d,", d2),\n                getW(wR, wC, ").concat(d," + 1, d2)\n              );\n\n              if (").concat(m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(d,"),\n                  getX(batch, xR, xC, ").concat(d," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(d,", xR, xC),\n                  getX(batch, ").concat(d," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===v,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(d,", d2),\n                getW(wR, wC, ").concat(d," + 1, d2),\n                getW(wR, wC, ").concat(d," + 2, d2)\n              );\n\n              if (").concat(m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(d,"),\n                  getX(batch, xR, xC, ").concat(d," + 1),\n                  getX(batch, xR, xC, ").concat(d," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(d,", xR, xC),\n                  getX(batch, ").concat(d," + 1, xR, xC),\n                  getX(batch, ").concat(d," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(O,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")},Bu=function t(e){Object(s.a)(this,t),this.variableNames=["x","W"],this.outputShape=e.outShape;var n=e.padInfo.front,r=e.padInfo.top,a=e.padInfo.left,i=e.strideDepth,o=e.strideHeight,u=e.strideWidth,c=e.dilationDepth,l=e.dilationHeight,h=e.dilationWidth,f=e.filterDepth,p=e.filterHeight,d=e.filterWidth,v=4*Math.floor(e.inChannels/4),m=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(i,", ").concat(o,", ").concat(u,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(f,"; wF++) {\n          int xF = xFCorner + wF * ").concat(c,";\n\n          if (xF < 0 || xF >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,"; wR++) {\n            int xR = xRCorner + wR * ").concat(l,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,"; wC++) {\n              int xC = xCCorner + wC * ").concat(h,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(v,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===m,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(v,") *\n                  getW(wF, wR, wC, ").concat(v,", d2);\n              } else if (").concat(2===m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(v,"),\n                  getX(batch, xF, xR, xC, ").concat(v," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(v,", d2),\n                  getW(wF, wR, wC, ").concat(v," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(v,"),\n                  getX(batch, xF, xR, xC, ").concat(v," + 1),\n                  getX(batch, xF, xR, xC, ").concat(v," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(v,", d2),\n                  getW(wF, wR, wC, ").concat(v," + 1, d2),\n                  getW(wF, wR, wC, ").concat(v," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Wu=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(s.a)(this,t),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.inHeight,o=e.inWidth,u=e.padInfo.top,c=e.padInfo.left,l=e.strideHeight,h=e.strideWidth,f=e.dilationHeight,p=e.dilationWidth,d=e.filterHeight,v=e.filterWidth,m=e.outChannels/e.inChannels,g="",y="";r&&(g=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),y="result = activation(result);");var b=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      ".concat(g,"\n\n      const ivec2 strides = ivec2(").concat(l,", ").concat(h,");\n      const ivec2 pads = ivec2(").concat(u,", ").concat(c,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(m,";\n        int q = d2 - d1 * ").concat(m,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(f,";\n\n          if (xR < 0 || xR >= ").concat(i,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(v,"; wC++) {\n            int xC = xCCorner + wC * ").concat(p,";\n\n            if (xC < 0 || xC >= ").concat(o,") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(b,"\n        ").concat(y,"\n        setOutput(result);\n      }\n    ")},Uu=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(s.a)(this,t),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var i=e.inHeight,u=e.inWidth,c=e.padInfo.top,l=e.padInfo.left,h=e.strideHeight,f=e.strideWidth,p=e.dilationHeight,d=e.dilationWidth,v=e.filterHeight,m=e.filterWidth,g=m,y="int xR; int xC; int xCOffset;",b=0;b<v;b++)for(var x=0;x<m;x++)y+="\n          vec4 xTexelR".concat(b,"C").concat(2*x," = vec4(0.);\n          vec4 wR").concat(b,"C").concat(x," = vec4(0.);\n          vec4 xR").concat(b,"C").concat(x," = vec4(0.);");for(var w=0;w<v;w++)for(var O=0;O<g;O++){var k=2*O;if(y+="\n          xR = xRCorner + ".concat(w*p,";\n          xC = xCCorner + ").concat(k*d,";\n        "),1===f){if(k<m&&(y+=l%2===1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < ".concat(i," && xCOffset >= 0 && xCOffset < ").concat(u,") {\n                  xTexelR").concat(w,"C").concat(k," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ").concat(u,") {\n                    xTexelR").concat(w,"C").concat(k,".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR").concat(w,"C").concat(k," = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < ").concat(i," && xCOffset >= 0 && xCOffset < ").concat(u,") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ").concat(u,") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR").concat(w,"C").concat(k," = vec4(previous.zw, xTexelR").concat(w,"C").concat(k,".xy);\n                } else {\n                  xR").concat(w,"C").concat(k," = vec4(0, 0, xTexelR").concat(w,"C").concat(k,".xy);\n                }\n              "):"\n                if(xR >= 0 && xR < ".concat(i," && xC >= 0 && xC < ").concat(u,") {\n                  xTexelR").concat(w,"C").concat(k," = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR").concat(w,"C").concat(k," = vec4(0.);\n                }\n\n                xR").concat(w,"C").concat(k," = xTexelR").concat(w,"C").concat(k,";\n              "),k+1<m)){var S=l%2===0?o.zd.nearestLargerEven(d):d;d%2===0&&l%2===1||d%2!==0&&l%2!==1?(y+="\n                  xCOffset = xC + ".concat(l%2," + ").concat(S,";\n\n                  if(xR >= 0 && xR < ").concat(i," &&\n                    xCOffset >= 0 && xCOffset < ").concat(u,") {\n                    xTexelR").concat(w,"C").concat(k+2," = getX(batch, xR, xCOffset, d1);\n                  }\n                "),d>1&&(y+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < ".concat(i," &&\n                      xCOffset >= 0 && xCOffset < ").concat(u,") {\n                      xTexelR").concat(w,"C").concat(k," = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR").concat(w,"C").concat(k," = vec4(0.);\n                    }\n                  ")),y+="\n                  xR".concat(w,"C").concat(k+1," = vec4(\n                    xTexelR").concat(w,"C").concat(k,".zw, xTexelR").concat(w,"C").concat(k+2,".xy);\n                ")):y+="\n                  xCOffset = xC + ".concat(S,";\n\n                  if(xR >= 0 && xR < ").concat(i," &&\n                    xCOffset >= 0 && xCOffset < ").concat(u,") {\n                    xTexelR").concat(w,"C").concat(k+2," = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR").concat(w,"C").concat(k+1," = xTexelR").concat(w,"C").concat(k+2,";\n                ")}}else k<m&&(y+="\n              if(xR >= 0 && xR < ".concat(i,") {\n            "),l%2===1?(y+="\n                xCOffset = xC + 1 - ".concat(f,";\n                if(xCOffset >= 0 && xCOffset < ").concat(u,") {\n                  xTexelR").concat(w,"C").concat(k," = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR").concat(w,"C").concat(k," = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < ").concat(u,") {\n                  xTexelR").concat(w,"C").concat(k+2," = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR").concat(w,"C").concat(k+2," = vec4(0.);\n                }\n\n                xR").concat(w,"C").concat(k," = vec4(\n                  xTexelR").concat(w,"C").concat(k,".zw, xTexelR").concat(w,"C").concat(k+2,".zw);\n              "),k+1<m&&(y+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + ".concat(f,";\n                  if(xCOffset >= 0 && xCOffset < ").concat(u,") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR").concat(w,"C").concat(k+1," = vec4(xTexelR").concat(w,"C").concat(k+2,".xy, final.xy);\n                "))):(y+="\n                if(xC >= 0 && xC < ".concat(u,") {\n                  xTexelR").concat(w,"C").concat(k," = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR").concat(w,"C").concat(k," = vec4(0.);\n                }\n\n                xCOffset = xC + ").concat(f,";\n                if(xCOffset >= 0 && xCOffset < ").concat(u,") {\n                  xTexelR").concat(w,"C").concat(k+2," = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR").concat(w,"C").concat(k+2," = vec4(0.);\n                }\n\n                xR").concat(w,"C").concat(k," = vec4(\n                  xTexelR").concat(w,"C").concat(k,".xy, xTexelR").concat(w,"C").concat(k+2,".xy);\n              "),k+1<m&&(y+="\n                  xR".concat(w,"C").concat(k+1," = vec4(\n                    xTexelR").concat(w,"C").concat(k,".zw, xTexelR").concat(w,"C").concat(k+2,".zw);\n                "))),y+="}");k<m&&(y+="\n            vec4 wTexelR".concat(w,"C").concat(k," = getW(").concat(w,", ").concat(k,", d1, q);\n            wR").concat(w,"C").concat(k," = vec4(wTexelR").concat(w,"C").concat(k,".xz, wTexelR").concat(w,"C").concat(k,".xz);\n          "),k+1<m&&(y+="\n              vec4 wTexelR".concat(w,"C").concat(k+1," = getW(").concat(w,", ").concat(k+1,", d1, q);\n              wR").concat(w,"C").concat(k+1," =\n                vec4(wTexelR").concat(w,"C").concat(k+1,".xz, wTexelR").concat(w,"C").concat(k+1,".xz);")))}for(var E=0;E<v;E++)for(var C=0;C<m;C++)y+="dotProd += xR".concat(E,"C").concat(C," * wR").concat(E,"C").concat(C,";");var j="",T="";r&&(j=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),T="result = activation(result);");var A=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      ".concat(j,"\n\n      const ivec2 strides = ivec2(").concat(h,", ").concat(f,");\n      const ivec2 pads = ivec2(").concat(c,", ").concat(l,");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        ").concat(y,"\n\n        vec4 result = dotProd;\n        ").concat(A,"\n        ").concat(T,"\n        setOutput(result);\n      }\n    ")},Vu=function t(e,n,r,a,i){Object(s.a)(this,t),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=Object(f.a)(e,4),u=o[0],c=o[1],l=o[2],h=o[3],p=Object(f.a)(n,1)[0],d=Object(f.a)(r,2),v=d[0],m=d[1];this.outputShape=[p,v,m,h];var g="bilinear"===a?1:0,y="".concat(c-1,".0"),b="".concat(l-1,".0"),x=v>1?["".concat((c-1)/(v-1)),"(y2-y1) * height_ratio","y1*".concat(y," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(y)],w=Object(f.a)(x,3),O=w[0],k=w[1],S=w[2],E=m>1?["".concat((l-1)/(m-1)),"(x2-x1) * width_ratio","x1*".concat(b," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(b)],C=Object(f.a)(E,3),j=C[0],T=C[1],A=C[2];this.userCode="\n      const float height_ratio = float(".concat(O,");\n      const float width_ratio = float(").concat(j,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(u,") {\n          return;\n        }\n\n        float height_scale = ").concat(k,";\n        float width_scale = ").concat(T,";\n\n        float in_y = ").concat(S,";\n        if( in_y < 0.0 || in_y > ").concat(y," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n        float in_x = ").concat(A,";\n        if( in_x < 0.0 || in_x > ").concat(b," ) {\n          setOutput(float(").concat(i,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(g," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")},Hu=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["x"],this.outputShape=e;var a=e.length,i=e[e.length-1],o=r?"<":">";this.userCode="\n      int getIndex(int i) {\n        ".concat(r?"return ".concat(i," -i - 1;"):"return i;","\n      }\n\n      void main() {\n        ").concat(cu(a)," coords = getOutputCoords();\n        int end = ").concat(Gu(a,"coords"),";\n        float val = 0.0;\n        for (int i = ").concat(i," - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx ").concat(o," end) {\n            continue;\n          }\n          if (idx == end && ").concat(n,") {\n            continue;\n          }\n          ").concat(Gu(a,"coords")," = idx;\n          val += getX(").concat(function(t,e){if(1===t)return"".concat(e);if(2===t)return"".concat(e,".x, ").concat(e,".y");if(3===t)return"".concat(e,".x, ").concat(e,".y, ").concat(e,".z");if(4===t)return"".concat(e,".x, ").concat(e,".y, ").concat(e,".z, ").concat(e,".w");throw Error("Cumulative sum for rank ".concat(t," is not yet supported"))}(a,"coords"),");\n        }\n        setOutput(val);\n      }\n    ")};function Gu(t,e){if(1===t)return"".concat(e);if(2===t)return"".concat(e,".y");if(3===t)return"".concat(e,".z");if(4===t)return"".concat(e,".w");throw Error("Cumulative sum for rank ".concat(t," is not yet supported"))}var Yu=function t(e){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=is.DENSE;var n=fs(e),r=qs();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(Xs(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(").concat(n[0],", ").concat(n[1],"));\n        int index = 4 * (resTexRC.x * ").concat(n[1]," + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(r.output," = result;\n      }\n    ")},qu=function t(e){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=is.DENSE;var n=fs(e),r=qs();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(Xs(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(").concat(n[0],", ").concat(n[1],"));\n        int index = 4 * (resTexRC.x * ").concat(n[1]," + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(r.output," = result;\n      }\n    ")},Xu=function(){function t(e,n,r){Object(s.a)(this,t),this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return Object(u.a)(t,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),t}(),Ku=function t(e){Object(s.a)(this,t),this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},$u=function t(e){Object(s.a)(this,t),this.variableNames=["A"],this.outTexUsage=os.DOWNLOAD;var n=qs();this.outputShape=e,this.userCode="\n      ".concat($s,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")},Ju=function t(e){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=os.DOWNLOAD;var n=qs();this.outputShape=e,this.userCode="\n      ".concat($s,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")},Zu=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(s.a)(this,t),this.variableNames=["A"];var a=qs(),i=Object(f.a)(n,2),o=i[0],u=i[1];this.outputShape=e;var c="result";r&&(c="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(Ks(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / ").concat(u,";\n        int c = imod(flatIndex, ").concat(u,");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(").concat(u,".0, ").concat(o,".0);\n        vec4 values = ").concat(a.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(a.output," = vec4(").concat(c,", 0., 0., 0.);\n      }\n    ")},Qu=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var a=qs(),i=Object(f.a)(n,2),o=i[0],u=i[1];this.outputShape=e;var c="",l="result";r&&(l="floor(result * 255. + 0.5)");for(var h=0;h<=1;h++)for(var p=0;p<=1;p++){var d=2*h+p;c+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(p," < ").concat(e[2],") {\n            localCoords[2] += ").concat(p,";\n            if(localCoords[1] + ").concat(h," < ").concat(e[1],") {\n              localCoords[1] += ").concat(h,";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / ").concat(u,";\n              c = imod(flatIndex, ").concat(u,");\n              uv = (vec2(c, r) + halfCR) / vec2(").concat(u,".0, ").concat(o,".0);\n              values = ").concat(a.texture2D,"(A, uv);\n\n              if(offset == 0) {\n                result[").concat(d,"] = values[0];\n              } else if(offset == 1) {\n                result[").concat(d,"] = values[1];\n              } else if(offset == 2) {\n                result[").concat(d,"] = values[2];\n              } else {\n                result[").concat(d,"] = values[3];\n              }\n            }\n          }\n        ")}this.userCode="\n      ".concat(Ks(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        ").concat(c,"\n\n        ").concat(a.output," = ").concat(l,";\n      }\n    ")},tc="return real * expR - imag * expI;",ec="return real * expI + imag * expR;",nc=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var i=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),o=r?"".concat(a,".0"):"1.0";this.userCode="\n      const float exponentMultiplier = ".concat(i,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(e,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(o,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")},rc=function(){function t(e,n){Object(s.a)(this,t),this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return Object(u.a)(t,[{key:"getCustomSetupFunc",value:function(t){var e=this;return function(n,r){null==e.valueLoc&&(e.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(e.valueLoc,t)}}}]),t}(),ac=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["A","indices"];var a=e.slice();a[r]=n,this.outputShape=a,this.rank=a.length;var i=cu(this.rank),o=function(t,e){var n=t.length;if(n>4)throw Error("Gather for rank ".concat(n," is not yet supported"));if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],i=0;i<t.length;i++)i===e?a.push("int(getIndices(".concat(r[i],"))")):a.push("".concat(r[i]));return a.join()}(e,r);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")};var ic=function t(e,n,r){Object(s.a)(this,t),this.sliceDim=e,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var a=cu(n.length),i=cu(r.length),o=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(a," strides = ").concat(a,"(").concat(this.strides,");\n         void main() {\n          ").concat(i," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(o,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")};function oc(t,e){var n=qs();return function(t,e,n){var r=_s(t,e,(function(){return t.createShader(t.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(vs(t,e,(function(){return t.shaderSource(r,n)})),vs(t,e,(function(){return t.compileShader(r)})),!1===t.getShaderParameter(r,t.COMPILE_STATUS))throw console.log(t.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}(t,e,"".concat(n.version,"\n    precision highp float;\n    ").concat(n.attribute," vec3 clipSpacePos;\n    ").concat(n.attribute," vec2 uv;\n    ").concat(n.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function sc(t,e){return function(t,e,n){var r=_s(t,e,(function(){return t.createBuffer()}),"Unable to create WebGLBuffer");return vs(t,e,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),vs(t,e,(function(){return t.bufferData(t.ARRAY_BUFFER,n,t.STATIC_DRAW)})),r}(t,e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function uc(t,e){return function(t,e,n){var r=_s(t,e,(function(){return t.createBuffer()}),"Unable to create WebGLBuffer");return vs(t,e,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r)})),vs(t,e,(function(){return t.bufferData(t.ELEMENT_ARRAY_BUFFER,n,t.STATIC_DRAW)})),r}(t,e,new Uint16Array([0,1,2,2,1,3]))}function cc(t,e,n,r,a,i,s){!function(t,e){var n=Object(o.lb)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){var r="[".concat(t,"x").concat(e,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){var a="[".concat(t,"x").concat(e,"]"),i="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+i+".")}}(n,r);var u=function(t,e){return _s(t,e,(function(){return t.createTexture()}),"Unable to create WebGLTexture.")}(t,e),c=t.TEXTURE_2D;return vs(t,e,(function(){return t.bindTexture(c,u)})),vs(t,e,(function(){return t.texParameteri(c,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)})),vs(t,e,(function(){return t.texParameteri(c,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)})),vs(t,e,(function(){return t.texParameteri(c,t.TEXTURE_MIN_FILTER,t.NEAREST)})),vs(t,e,(function(){return t.texParameteri(c,t.TEXTURE_MAG_FILTER,t.NEAREST)})),vs(t,e,(function(){return t.texImage2D(c,0,a,n,r,0,i,s,null)})),vs(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)})),u}function lc(t,e,n,r,a,i,o,s){var u=t,c=new Float32Array(function(t,e){var n=ps(t,e),r=Object(f.a)(n,2);return r[0]*r[1]*4}(i,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,e),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}var hc=function(){function t(e){Object(s.a)(this,t),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=Object(o.lb)().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,function(t,e){us[t]=e}(n,e)):this.gl=ls(n);var r="WEBGL_color_buffer_float";if(1===Object(o.lb)().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=gs(this.gl,this.debug,"OES_texture_float"),Fs(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=gs(this.gl,this.debug,"OES_texture_half_float");else if(Object(o.lb)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Fs(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=gs(this.gl,this.debug,"EXT_color_buffer_half_float");else if(Object(o.lb)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Fs(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Fs(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=sc(this.gl,this.debug),this.indexBuffer=uc(this.gl,this.debug),this.framebuffer=function(t,e){return _s(t,e,(function(){return t.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}(this.gl,this.debug),this.textureConfig=ds(this.gl,this.textureHalfFloatExtension)}return Object(u.a)(t,[{key:"dispose",value:function(){var t=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var e=this.gl;vs(e,this.debug,(function(){return e.finish()})),vs(e,this.debug,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),vs(e,this.debug,(function(){return e.deleteFramebuffer(t.framebuffer)})),vs(e,this.debug,(function(){return e.bindBuffer(e.ARRAY_BUFFER,null)})),vs(e,this.debug,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)})),vs(e,this.debug,(function(){return e.deleteBuffer(t.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(t,e){return this.throwIfDisposed(),function(t,e,n,r,a){var i=hs(n,r),o=Object(f.a)(i,2);return cc(t,e,o[0],o[1],a.internalFormatFloat,a.textureFormatFloat,t.FLOAT)}(this.gl,this.debug,t,e,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(t,e){return this.throwIfDisposed(),function(t,e,n,r,a){var i=hs(n,r),o=Object(f.a)(i,2);return cc(t,e,o[0],o[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}(this.gl,this.debug,t,e,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(t,e){return this.throwIfDisposed(),function(t,e,n,r,a){var i=hs(n,r),o=Object(f.a)(i,2);return cc(t,e,o[0],o[1],t.RGBA,t.RGBA,t.UNSIGNED_BYTE)}(this.gl,this.debug,t,e,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(t,e){this.throwIfDisposed(),function(t,e,n,r){vs(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,n)})),r.data instanceof Uint8Array?vs(t,e,(function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r.width,r.height,0,t.RGBA,t.UNSIGNED_BYTE,r.data)})):vs(t,e,(function(){return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)})),vs(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))}(this.gl,this.debug,t,e)}},{key:"uploadDenseMatrixToTexture",value:function(t,e,n,r){this.throwIfDisposed(),function(t,e,n,r,a,i,o){var s,u,c;vs(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,n)})),i instanceof Uint8Array?(s=new Uint8Array(r*a*4),u=t.UNSIGNED_BYTE,c=t.RGBA):(s=new Float32Array(r*a*4),u=t.FLOAT,c=o.internalFormatPackedFloat),s.set(i),vs(t,e,(function(){return t.texImage2D(t.TEXTURE_2D,0,c,r,a,0,t.RGBA,u,s)})),vs(t,e,(function(){return t.bindTexture(t.TEXTURE_2D,null)}))}(this.gl,this.debug,t,e,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(t,e){return this.throwIfDisposed(),function(t,e,n,r,a){var i=ps(n,r),o=Object(f.a)(i,2);return cc(t,e,o[0],o[1],a.internalFormatPackedHalfFloat,t.RGBA,a.textureTypeHalfFloat)}(this.gl,this.debug,t,e,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(t,e){return this.throwIfDisposed(),function(t,e,n,r,a){var i=ps(n,r),o=Object(f.a)(i,2);return cc(t,e,o[0],o[1],a.internalFormatPackedFloat,t.RGBA,t.FLOAT)}(this.gl,this.debug,t,e,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(t){var e=this;this.throwIfDisposed(),this.outputTexture===t&&(Ts(this.gl,this.debug,this.framebuffer),this.outputTexture=null),vs(this.gl,this.debug,(function(){return e.gl.deleteTexture(t)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(t,e,n){var r=this;return this.downloadMatrixDriver(t,(function(){return function(t,e,n,r,a){var i=hs(n,r),o=Object(f.a)(i,2),s=o[0],u=o[1],c=new Uint8Array(n*r*4);return vs(t,e,(function(){return t.readPixels(0,0,s,u,a.downloadTextureFormat,t.UNSIGNED_BYTE,c)})),new Float32Array(c.buffer)}(r.gl,r.debug,e,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(t,e,n,r,a,i){return lc(this.gl,t,0,0,0,a,i,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(t,e){return function(t,e,n){var r=t,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,t,e)}},{key:"createBufferFromTexture",value:function(t,e,n){this.bindTextureToFrameBuffer(t);var r=function(t,e,n,r,a){var i=t.createBuffer();vs(t,e,(function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,i)}));var o=16*n*r;return vs(t,e,(function(){return t.bufferData(t.PIXEL_PACK_BUFFER,o,t.STREAM_READ)})),vs(t,e,(function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,0)})),vs(t,e,(function(){return t.bindBuffer(t.PIXEL_PACK_BUFFER,null)})),i}(this.gl,this.debug,e,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var t=this.createFence(this.gl);return this.pollFence(t)}},{key:"createFence",value:function(t){var e,n,r=this;if(Object(o.lb)().getBool("WEBGL_FENCE_API_ENABLED")){var a=t,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),n=function(){var t=a.clientWaitSync(i,0,0);return t===a.ALREADY_SIGNALED||t===a.CONDITION_SATISFIED},e=i}else Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(e=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(e,Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:e,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(t,e,n){var r=this;return this.downloadMatrixDriver(t,(function(){return function(t,e,n,r){var a=new Float32Array(n*r*4);return vs(t,e,(function(){return t.readPixels(0,0,r,n,t.RGBA,t.FLOAT,a)})),a}(r.gl,r.debug,e,n)}))}},{key:"createProgram",value:function(t){this.throwIfDisposed();var e=this.gl,n=ys(e,this.debug,t),r=oc(e,this.debug),a=function(t,e){return _s(t,e,(function(){return t.createProgram()}),"Unable to create WebGLProgram.")}(e,this.debug);return vs(e,this.debug,(function(){return e.attachShader(a,r)})),vs(e,this.debug,(function(){return e.attachShader(a,n)})),function(t,e,n){if(vs(t,e,(function(){return t.linkProgram(n)})),!1===t.getProgramParameter(n,t.LINK_STATUS))throw console.log(t.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}(e,this.debug,a),this.debug&&Os(e,this.debug,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=function(t,e,n,r){return vs(t,e,(function(){return t.bindBuffer(t.ARRAY_BUFFER,r)})),ks(t,e,n,"clipSpacePos",r,3,20,0)&&ks(t,e,n,"uv",r,2,20,12)}(e,this.debug,this.program,this.vertexBuffer)),a}},{key:"deleteProgram",value:function(t){var e=this;this.throwIfDisposed(),t===this.program&&(this.program=null),null!=t&&vs(this.gl,this.debug,(function(){return e.gl.deleteProgram(t)}))}},{key:"setProgram",value:function(t){var e=this;this.throwIfDisposed(),this.program=t,null!=this.program&&this.debug&&Os(this.gl,this.debug,this.program),vs(this.gl,this.debug,(function(){return e.gl.useProgram(t)}))}},{key:"getUniformLocation",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?Ss(this.gl,this.debug,t,e):Es(this.gl,t,e)}},{key:"getAttributeLocation",value:function(t,e){var n=this;return this.throwIfDisposed(),vs(this.gl,this.debug,(function(){return n.gl.getAttribLocation(t,e)}))}},{key:"getUniformLocationNoThrow",value:function(t,e){return this.throwIfDisposed(),this.gl.getUniformLocation(t,e)}},{key:"setInputMatrixTexture",value:function(t,e,n){this.throwIfDisposed(),this.throwIfNoProgram(),Cs(this.gl,this.debug,this.program,t,e,n)}},{key:"setOutputMatrixTexture",value:function(t,e,n){this.setOutputMatrixTextureDriver(t,n,e)}},{key:"setOutputPackedMatrixTexture",value:function(t,e,n){this.throwIfDisposed();var r=ps(e,n),a=Object(f.a)(r,2),i=a[0],o=a[1];this.setOutputMatrixTextureDriver(t,i,o)}},{key:"setOutputMatrixWriteRegion",value:function(t,e,n,r){this.setOutputMatrixWriteRegionDriver(n,t,r,e)}},{key:"setOutputPackedMatrixWriteRegion",value:function(t,e,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&Os(this.gl,this.debug,this.program),As(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),vs(t,this.debug,(function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var t=this;this.throwIfDisposed(),vs(this.gl,this.debug,(function(){return t.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=gs(this.gl,this.debug,2===Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.gl,e=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(e.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var e=this.gl,n=this.getQueryTimerExtensionWebGL2();e.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){var n=this;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.zd.repeatedTry((function(){return n.disposed||n.isQueryAvailable(e,Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return t.abrupt("return",this.getQueryTime(e,Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getQueryTime",value:function(t,e){if(0===e)return null;if(2===e){var n=this.gl;return n.getQueryParameter(t,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(t,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(t,e){if(0===e)return!0;if(2===e){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var i=this.getQueryTimerExtensionWebGL1(),o=i.getQueryObjectEXT(t,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(t){var e=this;return new Promise((function(n){e.addItemToPoll((function(){return t.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var t=function(t){for(var e=0;e<t.length;++e){if(!t[e]())break}return e-1}(this.itemsToPoll.map((function(t){return t.isDoneFn}))),e=0;e<=t;++e){(0,this.itemsToPoll[e].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(t+1)}},{key:"addItemToPoll",value:function(t,e){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:e}),this.itemsToPoll.length>1||o.zd.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(t){this.throwIfDisposed(),js(this.gl,this.debug,t,this.framebuffer),this.debug&&As(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(js(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&As(this.gl)):Ts(this.gl,this.debug,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(t,e){this.bindTextureToFrameBuffer(t);var n=e();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(t,e,n){this.throwIfDisposed();var r=this.gl;js(r,this.debug,t,this.framebuffer),this.debug&&As(r),this.outputTexture=t,vs(r,this.debug,(function(){return r.viewport(0,0,e,n)})),vs(r,this.debug,(function(){return r.scissor(0,0,e,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(t,e,n,r){var a=this;this.throwIfDisposed(),vs(this.gl,this.debug,(function(){return a.gl.scissor(t,e,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}},{key:"debug",get:function(){return Object(o.lb)().getBool("DEBUG")}}]),t}();function fc(t,e,n,r){var a=e.userCode,i=n.map((function(t,n){var r={logicalShape:t.shape,texShape:t.isUniform?null:t.texData.texShape,isUniform:t.isUniform,isPacked:!t.isUniform&&t.texData.isPacked,flatOffset:null};return null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0&&(r.flatOffset=t.texData.slice.flatOffset),{name:e.variableNames[n],shapeInfo:r}})),s=i.map((function(t){return t.shapeInfo})),u={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},c=Zs(i,u,a,e.packedInputs),l=t.createProgram(c),h=null,f=t.getUniformLocation(l,"NAN",!1);1===Object(o.lb)().getNumber("WEBGL_VERSION")&&(h=t.getUniformLocation(l,"INFINITY",!1));for(var p={},d=0;d<e.variableNames.length;d++){var v=e.variableNames[d];p[v]=t.getUniformLocation(l,v,!1),p["offset".concat(v)]=t.getUniformLocation(l,"offset".concat(v),!1)}return{program:e,source:c,webGLProgram:l,uniformLocations:p,inShapeInfos:s,outShapeInfo:u,infLoc:h,nanLoc:f}}function pc(t,e){if(t.length!==e.length)throw Error("Binary was compiled with ".concat(t.length," inputs, but ")+"was executed with ".concat(e.length," inputs"));t.forEach((function(t,n){var r=t.logicalShape,a=e[n],i=a.shape;if(!o.zd.arraysEqual(r,i))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(i," must match"));if(!t.isUniform||!a.isUniform){var s=t.texShape,u=a.isUniform?null:a.texData.texShape;if(!o.zd.arraysEqual(s,u))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(s," and ").concat(u," must match"))}}))}function dc(t,e,n,r,a){pc(e.inShapeInfos,n),pc([e.outShapeInfo],[r]);var i=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(i,s[0],s[1]):t.setOutputMatrixTexture(i,s[0],s[1]),t.setProgram(e.webGLProgram),1===Object(o.lb)().getNumber("WEBGL_VERSION")&&null!==e.infLoc&&t.gl.uniform1f(e.infLoc,1/0),null!==e.nanLoc&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach((function(n,r){var a=e.program.variableNames[r],i=e.uniformLocations[a],s=e.uniformLocations["offset".concat(a)];if(null!=i)if(n.isUniform)if(o.zd.sizeFromShape(n.shape)<2)t.gl.uniform1f(i,n.uniformValues[0]);else{var u=n.uniformValues;u instanceof Float32Array||(u=new Float32Array(u)),t.gl.uniform1fv(i,u)}else null!=n.texData.slice&&null!=s&&t.gl.uniform1i(s,n.texData.slice.flatOffset),t.setInputMatrixTexture(n.texData.texture,i,r)})),null!=a&&a(t,e.webGLProgram),t.executeProgram()}function vc(t,e,n){var r="";e.concat(n).forEach((function(t){var e=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0,n=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(n,"_").concat(e)}));var a=t.userCode,i=t.constructor.name;return i+="_"+r+"_"+a}var mc=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var a=r.filterWidth,i=r.inChannels,o=r.strideWidth,u=r.strideHeight,c=r.padInfo,l=r.outWidth,h=r.dilationWidth,f=r.dilationHeight,p=r.dataFormat,d=c.left,v=c.top,m=i*a,g=qs(),y="channelsLast"===p,b=y?0:1,x=y?1:2,w="",O=0;O<=1;O++)for(var k=0;k<=1;k++)w+="\n          blockIndex = rc.y + ".concat(k,";\n          pos = rc.x + ").concat(O,";\n\n          if(blockIndex < ").concat(e[1]," && pos < ").concat(e[0],") {\n            offsetY = int(blockIndex / (").concat(l,")) * ").concat(u," - ").concat(v,";\n            d0 = offsetY + ").concat(f," * (pos / ").concat(m,");\n\n            if(d0 < ").concat(n[b]," && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), ").concat(l,".) * ").concat(o,". - ").concat(d,".);\n              d1 = offsetX + ").concat(h," * (int(mod(float(pos), ").concat(m,".) / ").concat(i,".));\n\n              if(d1 < ").concat(n[x]," && d1 >= 0) {\n\n                ch = int(mod(float(pos), ").concat(i,".));\n\n                if (").concat(y,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*O+k,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*O+k,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(w,"\n\n        ").concat(g.output," = result;\n      }\n    ")},gc=function t(e,n,r,a,i){Object(s.a)(this,t),this.variableNames=["x"],this.outputShape=[];var o,u=n,c=e[3]-1;this.outputShape=e;var l="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(l,")"):1===i?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(u,"; j <= ").concat(u,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(c,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(o,";\n        setOutput(val);\n      }\n    ")},yc=function t(e,n,r,a,i){Object(s.a)(this,t),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(i,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(i,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")},bc=function t(e,n,r,a,i){Object(s.a)(this,t),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,u=n,c=e[3]-1;this.outputShape=e;var l="float(".concat(r,") + float(").concat(a,") * sum");o=.5===i?"inversesqrt(".concat(l,")"):1===i?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(i,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(u,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(u,"; j <= ").concat(u,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(c,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(o,";\n        setOutput(result);\n      }\n    ")},xc=function t(e){Object(s.a)(this,t),this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var n=e.strideHeight,r=e.strideWidth,a=e.dilationHeight,i=e.effectiveFilterHeight,o=e.effectiveFilterWidth,u=i-1-e.padInfo.top,c=o-1-e.padInfo.left,l=i*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(u,", ").concat(c,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(l," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},wc=function t(e){Object(s.a)(this,t),this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var n=e.strideDepth,r=e.strideHeight,a=e.strideWidth,i=e.dilationDepth,o=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,l=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=c-1-e.padInfo.front,p=l-1-e.padInfo.top,d=h-1-e.padInfo.left,v=c*l*h-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(f,", ").concat(p,", ").concat(d,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(c,";\n           wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(l,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(u,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(v," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(l," * ").concat(h," +\n                  wR * ").concat(h," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")},Oc=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(s.a)(this,t),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n;var c=r?e[1]:e[2],l=Math.ceil(c/2),h=r?"i * 2, rc.y":"rc.y, i * 2",f=a?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],v="",m="";o&&(v=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(o,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(o,"\n        }"),m="result = activation(result);");var g=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      ".concat(v,"\n\n      const float sharedDimension = ").concat(l,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(l,"; i++) {\n          vec4 a = getMatrixA(rc.x, ").concat(h,");\n          vec4 b = getMatrixB(rc.x, ").concat(f,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(p[0]," * ").concat(d[0],");\n          result += (").concat(p[1]," * ").concat(d[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(g,"\n\n        ").concat(m,"\n\n        setOutput(result);\n      }\n    ")},kc=function(){function t(e,n,r){Object(s.a)(this,t),this.variableNames=["probs"],this.outputShape=[e,r],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")}return Object(u.a)(t,[{key:"getCustomSetupFunc",value:function(t){var e=this;return function(n,r){null==e.seedLoc&&(e.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(e.seedLoc,t)}}}]),t}(),Sc=function t(e,n,r,a){Object(s.a)(this,t),this.variableNames=["indices"],this.outputShape=[e,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")},Ec=function t(e){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var n=e.length;if(0===n)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var r=Ys("rc",n),a=cu(n),i=function(t,e,n){if(1===t)return"rc > ".concat(e[0]);for(var r="",a=t-2;a<t;a++)r+="".concat(n[a]," >= ").concat(e[a]),a<t-1&&(r+="||");return r}(n,e,r),o=function(t,e,n,r){if(1===t)return"";var a=r.slice(-2);return"\n    int r = ".concat(a[0],";\n    int c = ").concat(a[1],";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= ").concat(e,";\n    bool rEdge = rp1 >= ").concat(n,";\n  ")}(n,e[e.length-1],e[e.length-2],r),u=function(t,e){var n=t.length,r=function(t,e){for(var n=[],r=0;r<=1;r++)for(var a=0;a<=1;a++){for(var i="".concat(0===r?"r":"rp1",", ").concat(0===a?"c":"cp1"),o=2;o<t;o++)i="".concat(e[e.length-1-o],",")+i;n.push(i)}return n}(n,e);if(1===n)return"getA(rc),\n            rc + 1 >= ".concat(t[0]," ? 0. : getA(rc + 1),\n            0, 0");return"getA(".concat(r[0],"),\n          cEdge ? 0. : getA(").concat(r[1],"),\n          rEdge ? 0. : getA(").concat(r[2],"),\n          rEdge || cEdge ? 0. : getA(").concat(r[3],")")}(e,r);this.userCode="\n        void main() {\n          ".concat(a," rc = getOutputCoords();\n\n          if(").concat(i,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(o,"\n\n            setOutput(vec4(").concat(u,"));\n          }\n        }\n      ")}};var Cc=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["x"],this.outputShape=n.map((function(t,n){return t[0]+e[n]+t[1]}));var a=e.length,i=cu(a),o=n.map((function(t){return t[0]})).join(","),u=n.map((function(t,n){return t[0]+e[n]})).join(","),c=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(i," start = ").concat(i,"(").concat(o,");\n      ").concat(i," end = ").concat(i,"(").concat(u,");\n\n      void main() {\n        ").concat(i," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float(").concat(r,"));\n        } else {\n          ").concat(i," coords = outC - start;\n          setOutput(getX(").concat(c,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(u,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float(").concat(r,"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")},jc=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(t,n){return t[0]+e[n]+t[1]}));for(var a=e.length,i=cu(a),o=n.map((function(t){return t[0]})).join(","),u=n.map((function(t,n){return t[0]+e[n]})).join(","),c=Ys("rc",a),l=Ys("source",a),h="".concat(c[a-1]," < ").concat(this.outputShape[a-1]),f=1===a?"source":"vec2(".concat(l.slice(-2).join(),")"),p=["".concat(i," rc = outputLoc;"),"".concat(c[a-1]," += 1;\n       if(").concat(h,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(c[a-2]," += 1;\n       if(").concat(c[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(c[a-1]," += 1;\n         if(").concat(h,") {")],d=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",v="",m=0,g=1===a?2:4;m<g;m++)v+="\n        ".concat(p[m],"\n        if (").concat(d,") {\n          result[").concat(m,"] = float(").concat(r,");\n        } else {\n          ").concat(i," source = rc - start;\n          result[").concat(m,"] = getChannel(getX(").concat(l.join(),"), ").concat(f,");\n        }\n      ");v+=1===a?"} ":"}}",this.userCode="\n      const ".concat(i," start = ").concat(i,"(").concat(o,");\n      const ").concat(i," end = ").concat(i,"(").concat(u,");\n\n      void main() {\n        ").concat(i," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(v,"\n        setOutput(result);\n      }\n    ")},Tc=function t(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(s.a)(this,t),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=e.filterWidth,u=e.strideHeight,c=e.strideWidth,l=e.dilationHeight,h=e.dilationWidth,f=e.effectiveFilterHeight,p=e.effectiveFilterWidth,d=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;var m="avg"===n,g="((batch  * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),y="(xR * ".concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),b="0.0";if(m||(b="-1.0 / 1e-20"),r){var x=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(u,", ").concat(c,");\n        const ivec2 pads = ivec2(").concat(d,", ").concat(v,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(f,";\n              wR += ").concat(l,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(h,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(x," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?i?g:y:"wR * ".concat(p," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var w="max",O="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(O="avgValue / count");var k=4*Math.floor(o/4),S=o%4,E="\n      if (".concat(m,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(w,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(u,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(v,");\n      const float initializationValue = ").concat(b,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(b,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(f,";\n            wR += ").concat(l,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(k,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(h,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(h,", d),\n              getValue(batch, xR, xC + 2 * ").concat(h,", d),\n              getValue(batch, xR, xC + 3 * ").concat(h,", d)\n            );\n\n            ").concat(E,"\n          }\n\n          int xC = xCCorner + ").concat(k,";\n          if (").concat(1===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(E,"\n          } else if (").concat(2===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(h,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(E,"\n          } else if (").concat(3===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(h,", d),\n              getValue(batch, xR, xC + 2 * ").concat(h,", d),\n              initializationValue\n            );\n\n            ").concat(E,"\n          }\n        }\n        setOutput(").concat(O,");\n      }\n    ")}},Ac=function t(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Object(s.a)(this,t),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=e.filterWidth,u=e.strideDepth,c=e.strideHeight,l=e.strideWidth,h=e.dilationDepth,f=e.dilationHeight,p=e.dilationWidth,d=e.effectiveFilterDepth,v=e.effectiveFilterHeight,m=e.effectiveFilterWidth,g=e.padInfo.front,y=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;var x="avg"===n,w="0.0";if(x||(w="-1.0 / 1e-20"),r){var O=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(u,", ").concat(c,", ").concat(l,");\n        const ivec3 pads = ivec3(").concat(g,", ").concat(y,", ").concat(b,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(d,";\n              wD += ").concat(h,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(v,";\n                wR += ").concat(f,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(m,";\n                  wC += ").concat(p,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(O," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?i?"(((batch * ".concat(e.inDepth," + xD) * ").concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"((xD * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"wD * ".concat(v," * ").concat(m," +\n                      wR * ").concat(m," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var k="max",S="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(S="avgValue / count");var E=4*Math.floor(o/4),C=o%4,j="\n      if (".concat(x,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(k,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(u,", ").concat(c,", ").concat(l,");\n      const ivec3 pads = ivec3(").concat(g,", ").concat(y,", ").concat(b,");\n      const float initializationValue = ").concat(w,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(w,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(h,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(v,";\n            wR += ").concat(f,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(E,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(p,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(p,", ch)\n              );\n\n              ").concat(j,"\n            }\n\n            int xC = xCCorner + ").concat(E,";\n            if (").concat(1===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(j,"\n            } else if (").concat(2===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(j,"\n            } else if (").concat(3===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                initializationValue\n              );\n\n              ").concat(j,"\n            }\n          }\n          setOutput(").concat(S,");\n        }\n      }\n    ")}},_c=function t(e,n){Object(s.a)(this,t),this.variableNames=["x"];var r=e.windowSize,a=e.batchSize,i=e.inSize,o=Math.ceil(i/r);this.outputShape=[a,o];var u="0.0",c="";"prod"===n?u="1.0":"min"===n?(u="1.0 / 1e-20",c="min"):"max"===n&&(u="-1.0 / 1e-20",c="max");var l="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?l="sumValue":"prod"===n?l="prodValue":"all"===n?l="allValue":"any"===n&&(l="anyValue");var h=4*Math.floor(r/4),f=r%4,p="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(c,"(values, minMaxValue);\n      }\n    "),d="vec4";"all"===n?(u="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===n&&(u="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var v="";i%r>0&&(v="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(u,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(v,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(u,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(h,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(d," values = ").concat(d,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(p,"\n        }\n\n        int inIdx = inOffset + ").concat(h,";\n        if (").concat(1===f,") {\n          ").concat(d," values = ").concat(d,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(2===f,") {\n          ").concat(d," values = ").concat(d,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(3===f,") {\n          ").concat(d," values = ").concat(d,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(p,"\n        }\n        setOutput(").concat(l,");\n      }\n    ")},Mc=function t(e,n){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r="",a=0;a<4;a++){var i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+="\n        ".concat(i,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(t){var e=Xs(["r","c","d"],t);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(e,"\n      return ivec3(r, c, d);\n    }\n  ")}(n),"\n      ").concat(Ks(e),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(e[1],";\n        int cols = ").concat(e[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")};var Nc=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var a=Object(f.a)(n.shape,3),i=a[1],o=a[2],u=Object(f.a)(e.shape,3),c=u[1],l=u[2],h=[r&&c>1?i-1:i,r&&l>1?o-1:o],p=[r&&c>1?c-1:c,r&&l>1?l-1:l],d=h[0]/p[0],v=h[1]/p[1],m=1/d,g=1/v,y=2*Math.ceil(m)+2,b=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(d,");\n        const float widthScale = float(").concat(v,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(i-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(o-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")},Ic=function t(e,n,r,a){Object(s.a)(this,t),this.variableNames=["A"],this.outputShape=[];var i=Object(f.a)(e,4),o=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[o,n,r,l];var h=[a&&n>1?u-1:u,a&&r>1?c-1:c],p=[a&&n>1?n-1:n,a&&r>1?r-1:r];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")},Dc=function t(e,n,r,a){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=Object(f.a)(e,4),o=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[o,n,r,l];var h=[a&&n>1?u-1:u,a&&r>1?c-1:c],p=[a&&n>1?n-1:n,a&&r>1?r-1:r];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],",\n          ").concat(h[1]/p[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(c,".0,\n                                     ").concat(c,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")},Rc=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n.shape;var a=Object(f.a)(n.shape,3),i=a[1],o=a[2],u=Object(f.a)(e.shape,3),c=u[1],l=u[2],h=[r&&c>1?i-1:i,r&&l>1?o-1:o],p=[r&&c>1?c-1:c,r&&l>1?l-1:l],d=h[0]/p[0],v=h[1]/p[1],m=1/d,g=1/v,y=2*Math.ceil(m)+2,b=2*Math.ceil(g)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(d,");\n        const float widthScale = float(").concat(v,");\n\n        const float invHeightScale = float(").concat(m,");\n        const float invWidthScale = float(").concat(g,");\n\n        const int winHeight = int(").concat(y,");\n        const int winWidth = int(").concat(b,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(c,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(l,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(h[0],") *\n                (float(dyR) / float(").concat(p[0],"));\n\n            float sourceFracCol =\n                float(").concat(h[1],") *\n                  (float(dyC) / float(").concat(p[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")},Pc=function t(e,n,r,a){Object(s.a)(this,t),this.variableNames=["A"],this.outputShape=[];var i=Object(f.a)(e,4),o=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[o,n,r,l];var h=[a&&n>1?u-1:u,a&&r>1?c-1:c],p=[a&&n>1?n-1:n,a&&r>1?r-1:r],d=a?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(h[0]/p[0],",\n          ").concat(h[1]/p[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")},Fc=function t(e,n){Object(s.a)(this,t),this.variableNames=["x"];var r=e.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=e,1!==r){var a=e.map((function(t,r){return function(t){return-1!==n.indexOf(t)&&1!==e[t]?"".concat(e[t]," - coords[").concat(t,"] - 1"):"coords[".concat(t,"]")}(r)})).join(","),i=cu(r);this.userCode="\n      void main() {\n        ".concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(e[0]," - coord - 1));\n        }\n      ")},Lc=function t(e,n){Object(s.a)(this,t),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=e.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=e;var a=Ys("rc",r),i="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),o="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),u=cu(r);function c(t){var r=e.map((function(r,a){return function(t,r){return-1!==n.indexOf(t)&&1!==e[t]?"".concat(e[t]," - ").concat(r[t]," - 1"):"".concat(r[t])}(a,t)})),a=r.join(","),i=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(i,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(e[0]," - rc - 1),\n            ").concat(e[0]," - rc - 1);\n          if(").concat(i,"){\n              result.g = getChannel(getX(").concat(e[0]," - (rc  + 1) - 1),\n                ").concat(e[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(u," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(t){return c(t)}(a.slice()),";\n          if(").concat(i,"){\n            result.g = ").concat(function(t){return t[r-1]="("+t[r-1]+" + 1)",c(t)}(a.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(t){return t[r-2]="("+t[r-2]+" + 1)",c(t)}(a.slice()),";\n            if(").concat(i,") {\n              result.a = ").concat(function(t){return t[r-1]="("+t[r-1]+" + 1)",t[r-2]="("+t[r-2]+" + 1)",c(t)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")},zc=function t(e,n,r,a,i,o){Object(s.a)(this,t),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var u=cu(i.length),c=cu(o.length),l="";1===r?l="i":2===r&&(l="i, j");var h="getIndices(".concat(l,")"),f="";1===a?f="i":2===a&&(f="i, coords[1]");var p="getUpdates(".concat(f,")"),d=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(u," strides = ").concat(u,"(").concat(i,");\n\n        void main() {\n          ").concat(c," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(e,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(h,");\n              flattenedIndex += index * ").concat(d,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(p,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")},Bc=function t(e,n){Object(s.a)(this,t),this.variableNames=["x","segmentIds"];var r=e.windowSize,a=e.batchSize,i=e.inSize,o=e.numSegments,u=o*Math.ceil(i/r);this.outputShape=[a,u];var c=4*Math.floor(r/4),l=r%4,h="\n        sumValue += dot(values, segFilter);\n    ",f="";i%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return initializationValue;\n        }\n      "));var p="";i%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(i,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(p,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(c,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(h,"\n        }\n\n        int inIdx = inOffset + ").concat(c,";\n        if (").concat(1===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(h,"\n        } else if (").concat(2===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(h,"\n        } else if (").concat(3===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(h,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")},Wc=function t(e,n,r){var a,i;if(Object(s.a)(this,t),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)i="resRC",a="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],c=[],l=0;l<n.length;l++)c.push("".concat(o[l])),l<e&&u.push("".concat(o[l]));a=u.join(),i=c.join()}var h=cu(r);this.userCode="\n      void main() {\n        ".concat(h," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(i,"));\n        } else {\n          setOutput(getB(").concat(i,"));\n        }\n      }\n    ")},Uc=function(){function t(e){Object(s.a)(this,t),this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var n,r=cu(this.rank),a="uniform int start[".concat(this.rank,"];"),i=function(t){if(1===t)return"sourceLoc";if(t<=6)return Vc.slice(0,t).map((function(t){return"sourceLoc."+t})).join(",");throw Error("Slicing for rank ".concat(t," is not yet supported"))}(this.rank),o=e.map((function(t,e){return"sourceLoc.".concat(Vc[e]," = start[").concat(e,"] + coords.").concat(Vc[e],";")}));n="\n        ".concat(r," sourceLoc;\n        ").concat(r," coords = getOutputCoords();\n        ").concat(o.join("\n"),"\n      "),this.userCode="\n      ".concat(a,"\n      void main() {\n        ").concat(n,"\n        setOutput(getSource(").concat(i,"));\n      }\n    ")}return Object(u.a)(t,[{key:"getCustomSetupFunc",value:function(t){var e=this;if(t.length!==this.rank)throw Error("The rank (".concat(this.rank,") of the program must match the ")+"length of start (".concat(t.length,")"));return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}}}]),t}(),Vc=["x","y","z","w","u","v"];var Hc=function(){function t(e){Object(s.a)(this,t),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var n=cu(this.rank),r=Ys("coords",this.rank),a=Ys("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),o="getChannel(getSource(".concat(a.join(),"), ").concat(i,")"),u="\n      result.x = ".concat(o,";\n      if (++").concat(r[this.rank-1]," < ").concat(e[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(a[this.rank-1],";\n      }\n    "),c=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(e[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(r[this.rank-1]," < ").concat(e[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),l=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(e.map((function(t,e){return"start[".concat(e,"]")})).join(),");"):e.map((function(t,e){return"".concat(a[e]," = ").concat(r[e]," + start[").concat(e,"];")})).join("\n");this.userCode="\n      uniform int start[".concat(this.rank,"];\n      void main() {\n        ").concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(l,"\n        vec4 result = vec4(0.);\n        ").concat(u,"\n        ").concat(c,"\n        setOutput(result);\n      }\n    ")}return Object(u.a)(t,[{key:"getCustomSetupFunc",value:function(t){var e=this;if(t.length!==this.rank)throw Error("The rank (".concat(this.rank,") of the program must match the ")+"length of start (".concat(t.length,")"));return function(n,r){null==e.startLoc&&(e.startLoc=n.getUniformLocationNoThrow(r,"start"),null==e.startLoc)||n.gl.uniform1iv(e.startLoc,t)}}}]),t}(),Gc=function t(e,n,r){Object(s.a)(this,t),this.variableNames=["x"],this.outputShape=r;var a=r.length,i=cu(r.length),o=cu(r.length),u="";if(1===a)u="coords * strides + begin";else{var c=0;u=r.map((function(t,e){return c++,1===r.length?"coords * strides[".concat(e,"] + begin[").concat(e,"]"):"coords[".concat(c-1,"] * strides[").concat(e,"] + begin[").concat(e,"]")})).join(",")}this.userCode="\n      ".concat(i," begin = ").concat(i,"(").concat(e,");\n      ").concat(i," strides = ").concat(i,"(").concat(n,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(u,"));\n      }\n    ")},Yc=function(){function t(e){Object(s.a)(this,t),this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return Object(u.a)(t,[{key:"acquireTexture",value:function(t,e,n){var r,a=qc(e,n),i=Xc(t,a,n);if(i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]),this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var o=this.freeTextures[i].shift();return this.usedTextures[i].push(o),o}return this.numUsedTextures++,this.log(),a===ss.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):a===ss.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):a===ss.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):a===ss.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):a===ss.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[i].push(r),r}},{key:"releaseTexture",value:function(t,e,n,r){if(null!=this.freeTextures){var a=Xc(e,qc(n,r),r);a in this.freeTextures||(this.freeTextures[a]=[]),this.freeTextures[a].push(t),this.numFreeTextures++,this.numUsedTextures--;var i=this.usedTextures[a],o=i.indexOf(t);if(o<0)throw new Error("Cannot release a texture that was never provided by this texture manager");i.splice(o,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(t,")"))}}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var t=this;if(null!=this.freeTextures){for(var e in this.freeTextures)this.freeTextures[e].forEach((function(e){t.gpgpu.deleteMatrixTexture(e)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(e){t.gpgpu.deleteMatrixTexture(e)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}}}]),t}();function qc(t,e){if(t===os.UPLOAD)return ss.PACKED_2X2_FLOAT32;if(t===os.RENDER||null==t)return function(t){return Object(o.lb)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?ss.PACKED_2X2_FLOAT32:ss.UNPACKED_FLOAT32:t?ss.PACKED_2X2_FLOAT16:ss.UNPACKED_FLOAT16}(e);if(t===os.DOWNLOAD||t===os.PIXELS)return ss.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(t))}function Xc(t,e,n){return"".concat(t[0],"_").concat(t[1],"_").concat(e,"_").concat(n)}var Kc=function t(e,n){Object(s.a)(this,t),this.variableNames=["A"];for(var r=new Array(e.length),a=0;a<r.length;a++)r[a]=e[a]*n[a];this.outputShape=r,this.rank=r.length;var i=cu(this.rank),o=function(t){var e=t.length;if(e>5)throw Error("Tile for rank ".concat(e," is not yet supported"));if(1===e)return"imod(resRC, ".concat(t[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<t.length;a++)r.push("imod(".concat(n[a],", ").concat(t[a],")"));return r.join()}(e);this.userCode="\n      void main() {\n        ".concat(i," resRC = getOutputCoords();\n        setOutput(getA(").concat(o,"));\n      }\n    ")};var $c=function t(e,n){Object(s.a)(this,t),this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")},Jc="return abs(x);",Zc="if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",Qc="if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",tl="return (x >= 0.0) ? x : (exp(x) - 1.0);",el="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(o.F.SELU_SCALEALPHA,";\n  float scale = ").concat(o.F.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n");var nl="return -x;",rl="return ceil(x);",al="return floor(x);",il="return exp(x);",ol="return exp(x) - 1.0;",sl='\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(o.F.ERF_P,";\n  float a1 = ").concat(o.F.ERF_A1,";\n  float a2 = ").concat(o.F.ERF_A2,";\n  float a3 = ").concat(o.F.ERF_A3,";\n  float a4 = ").concat(o.F.ERF_A4,";\n  float a5 = ").concat(o.F.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n"),ul="return x;",cl="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",ll="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",hl="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",fl=function t(e,n){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")},pl=function t(e){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var n=e.length,r=Ys("rc",n),a=cu(n),i=function(t,e){if(1===t)return"rc";for(var n="",r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}(n,r),o=r.slice(-2),u=n<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(i,");\n\n        setOutput(getChannel(packedInput, ").concat(u,"));\n      }\n    ")},dl=o.F.segment_util,vl=o.Hb.split,ml=o.Hb.tile,gl=o.Hb.topkImpl,yl=o.Hb.whereImpl,bl={};function xl(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===t)return"return x;";if("relu"===t)return e?cl:Zc;if("elu"===t)return e?hl:tl;if("relu6"===t)return e?ll:Qc;if("prelu"===t)return e?Eu:ku;throw new Error("Activation ".concat(t," has not been implemented for the WebGL backend."))}var wl=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t){var r,a;if(Object(s.a)(this,n),(r=e.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!Object(o.lb)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var i=ls(Object(o.lb)().getNumber("WEBGL_VERSION"));r.binaryCache=((a=Object(o.lb)().getNumber("WEBGL_VERSION"))in bl||(bl[a]={}),bl[a]),r.gpgpu=new hc(i),r.canvas=i.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new Yc(r.gpgpu),r.numMBBeforeWarning=null==Object(o.lb)().global.screen?1024:Object(o.lb)().global.screen.height*Object(o.lb)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new o.a(Object(d.a)(r),Object(o.kb)()),r}return Object(u.a)(n,[{key:"numDataIds",value:function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes}},{key:"write",value:function(t,e,n){if(Object(o.lb)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===n&&null!=t)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:e,dtype:n,values:t,usage:os.UPLOAD}),r}},{key:"move",value:function(t,e,n,r){if(Object(o.lb)().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:n,dtype:r,values:e,usage:os.UPLOAD})}},{key:"readSync",value:function(t){var e=this.texData.get(t),n=e.values,r=e.dtype,a=e.complexTensors,i=e.slice,s=e.shape,u=e.isPacked;if(null!=i){var c;c=u?new fl(s,ul):new $c(s,ul);var l=this.runWebGLProgram(c,[{dataId:t,shape:s,dtype:r}],r),h=this.readSync(l.dataId);return this.disposeData(l.dataId),h}if(null!=n)return this.convertAndCacheOnCPU(t);if("string"===r)return n;var f,p,d=null!=this.activeTimers;if(d&&(f=o.zd.now()),"complex64"===r){var v=a.real.dataSync(),m=a.imag.dataSync();p=o.F.mergeRealAndImagArrays(v,m)}else p=this.getValuesFromTexture(t);return d&&(this.downloadWaitMs+=o.zd.now()-f),this.convertAndCacheOnCPU(t,p)}},{key:"read",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){var n,r,a,i,s,u,c,l,h,f,p,d,v,m,g,y,b,x,w,O,k,S;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.pendingRead.has(e)){t.next=3;break}return n=this.pendingRead.get(e),t.abrupt("return",new Promise((function(t){return n.push(t)})));case 3:if(r=this.texData.get(e),a=r.values,i=r.shape,s=r.slice,u=r.dtype,c=r.complexTensors,l=r.isPacked,null==s){t.next=11;break}return h=l?new fl(i,ul):new $c(i,ul),f=this.runWebGLProgram(h,[{dataId:e,shape:i,dtype:u}],u),p=this.read(f.dataId),this.disposeData(f.dataId),t.abrupt("return",p);case 11:if(null==a){t.next=13;break}return t.abrupt("return",this.convertAndCacheOnCPU(e));case 13:if(Object(o.lb)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==Object(o.lb)().getNumber("WEBGL_VERSION")){t.next=15;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 15:if(d=null,"complex64"!==u&&Object(o.lb)().get("WEBGL_BUFFER_SUPPORTED")&&(v=this.decode(e),g=this.texData.get(v.dataId),d=(m=this.gpgpu).createBufferFromTexture.apply(m,[g.texture].concat(Object(Q.a)(fs(i))))),this.pendingRead.set(e,[]),"complex64"===u){t.next=21;break}return t.next=21,this.gpgpu.createAndWaitForFence();case 21:if("complex64"!==u){t.next=30;break}return t.next=24,Promise.all([c.real.data(),c.imag.data()]);case 24:b=t.sent,x=b[0],w=b[1],y=o.F.mergeRealAndImagArrays(x,w),t.next=31;break;case 30:null==d?y=this.getValuesFromTexture(e):(O=o.zd.sizeFromShape(i),y=this.gpgpu.downloadFloat32MatrixFromBuffer(d,O));case 31:return null!=v&&this.disposeData(v.dataId),k=this.convertAndCacheOnCPU(e,y),S=this.pendingRead.get(e),this.pendingRead.delete(e),S.forEach((function(t){return t(k)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),t.abrupt("return",k);case 38:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"checkNumericalProblems",value:function(t){if(null!=t)for(var e=0;e<t.length;e++){var n=t[e];if(!ms(n)){if(Object(o.lb)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(t){var e=this.texData.get(t),n=e.shape,r=e.dtype,a=e.isPacked,i=o.zd.sizeFromShape(n);if(Object(o.lb)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s,u=this.decode(t),c=this.texData.get(u.dataId),l=(s=this.gpgpu).downloadMatrixFromPackedTexture.apply(s,[c.texture].concat(Object(Q.a)(fs(n)))).subarray(0,i);return this.disposeData(u.dataId),l}var h=Object(o.lb)().getBool("WEBGL_PACK")&&!0===a,f=h?Ds(n):n,p=h?new Ju(f):new $u(f),d=this.runWebGLProgram(p,[{shape:f,dtype:r,dataId:t}],"float32"),v=this.texData.get(d.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,i);return this.disposeData(d.dataId),m}},{key:"time",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){var n,r,a,i,s,u,c;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.activeTimers,r=[],a=!1,null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e(),i=o.zd.flatten(this.activeTimers.map((function(t){return t.query}))).filter((function(t){return null!=t})),s=o.zd.flatten(this.activeTimers.map((function(t){return t.name}))).filter((function(t){return null!=t})),this.activeTimers=n,a&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},!(Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){t.next=19;break}return t.next=14,Promise.all(i);case 14:c=t.sent,u.kernelMs=o.zd.sum(c),u.getExtraProfileInfo=function(){return c.map((function(t,e){return{name:s[e],ms:t}})).map((function(t){return"".concat(t.name,": ").concat(t.ms)})).join(", ")},t.next=20;break;case 19:u.kernelMs={error:"WebGL query timers are not supported in this environment."};case 20:return this.uploadWaitMs=0,this.downloadWaitMs=0,t.abrupt("return",u);case 23:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}}},{key:"startTimer",value:function(){return Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:o.zd.now(),endMs:null}}},{key:"endTimer",value:function(t){return Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=o.zd.now(),t)}},{key:"getQueryTime",value:function(){var t=Object(Te.a)(je.a.mark((function t(e){var n;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(Object(o.lb)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){t.next=2;break}return t.abrupt("return",this.gpgpu.waitForQueryAndGetTime(e));case 2:return n=e,t.abrupt("return",n.endMs-n.startMs);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"disposeData",value:function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return this.pendingDisposal.add(t),void this.pendingDeletes++;if(this.texData.has(t)){this.releaseGPUData(t);var e=this.texData.get(t).complexTensors;null!=e&&(e.real.dispose(),e.imag.dispose()),this.texData.delete(t)}}}},{key:"releaseGPUData",value:function(t){var e=this.texData.get(t),n=e.texture,r=e.dtype,a=e.texShape,i=e.usage,o=e.isPacked,s=e.slice,u=s&&s.origDataId||t,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));var l=this.texData.get(t);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(t){return this.uploadToGPU(t),this.texData.get(t).texture}},{key:"getDataInfo",value:function(t){return this.texData.get(t)}},{key:"getCPUBackend",value:function(){return Object(o.lb)().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Object(o.kb)().findBackend("cpu")),this.cpuBackend):null}},{key:"shouldExecuteOnCPU",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128;return null!=this.getCPUBackend()&&t.every((function(t){return null==e.texData.get(t.dataId).texture&&o.zd.sizeFromShape(t.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"complex",value:function(t,e){var n=this.makeOutput(t.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:Object(o.kb)().keep(t.clone()),imag:Object(o.kb)().keep(e.clone())},n}},{key:"real",value:function(t){return this.texData.get(t.dataId).complexTensors.real.clone()}},{key:"imag",value:function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()}},{key:"slice",value:function(t,e,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,e,n);if(0===o.zd.sizeFromShape(n))return Object(o.md)([],n,t.dtype);var r=this.texData.get(t.dataId).isPacked,a=o.Vc.isSliceContinous(t.shape,e,n);if(r||!a){var i=Object(o.lb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Hc(n):new Uc(n),s=i.getCustomSetupFunc(e);return this.compileAndRun(i,[t],null,s)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,e,n)}},{key:"shallowSlice",value:function(t,e,n){var r=this.texData.get(t.dataId),a=this.makeOutput(n,t.dtype),i=this.texData.get(a.dataId);Object.assign(i,r),i.shape=n,i.dtype=t.dtype;var s=o.Vc.computeFlatOffset(e,t.strides);r.slice&&(s+=r.slice.flatOffset),i.slice={flatOffset:s,origDataId:r.slice&&r.slice.origDataId||t.dataId};var u=this.dataRefCount.get(i.slice.origDataId)||1;return this.dataRefCount.set(i.slice.origDataId,u+1),a}},{key:"stridedSlice",value:function(t,e,n,r){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,e,n,r);var a=o.Vc.computeOutShape(e,n,r);if(a.some((function(t){return 0===t})))return Object(o.md)([],a);var i=new Gc(e,r,a);return this.compileAndRun(i,[t])}},{key:"reverse",value:function(t,e){var n=Object(o.lb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Lc(t.shape,e):new Fc(t.shape,e);return this.compileAndRun(n,[t])}},{key:"concat",value:function(t,e){if("complex64"===t[0].dtype){var n=t.map((function(t){return Object(o.vc)(t)})),r=t.map((function(t){return Object(o.Cb)(t)}));return Object(o.Q)(this.concat(n,e),this.concat(r,e))}if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,e);if(1===t.length)return t[0];if(t.length>Object(o.lb)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(t.length/2),i=this.concat(t.slice(0,a),e),s=this.concat(t.slice(a),e);return this.concat([i,s],e)}if(Object(o.lb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].rank>1){var u=new Mu(t.map((function(t){return t.shape})),e);return this.compileAndRun(u,t)}var c=o.F.computeOutShape(t.map((function(t){return t.shape})),e),l=t.map((function(t){return t.as2D(-1,o.zd.sizeFromShape(t.shape.slice(e)))})),h=new _u(l.map((function(t){return t.shape})));return this.compileAndRun(h,l).reshape(c)}},{key:"neg",value:function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.neg(t);if(Object(o.lb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,nl,t.dtype);var e=new $c(t.shape,nl);return this.compileAndRun(e,[t])}},{key:"batchMatMul",value:function(t,e,n,r){var a=n?t.shape[2]:t.shape[1],i=r?e.shape[1]:e.shape[2],s=n?t.shape[1]:t.shape[2],u=Object(f.a)(t.shape,2)[0];if((1===a||1===i)&&s>1e3){n&&(t=Object(o.vd)(t,[0,2,1])),r&&(e=Object(o.vd)(e,[0,2,1]));var c=1===i?t:t.as3D(u,s,1),l=1===i?2:1,h=1===i?e.as3D(u,1,s):e;return this.multiply(c,h).sum(l,!0)}var p=Object(o.yd)(t.dtype,e.dtype),d=new Oc(t.shape,[u,a,i],n,r);return this.compileAndRun(d,[t,e],p)}},{key:"fusedBatchMatMul",value:function(t){var e=t.a,n=t.b,r=t.transposeA,a=t.transposeB,i=t.bias,s=t.activation,u=t.preluActivationWeights,c=r?e.shape[2]:e.shape[1],l=a?n.shape[1]:n.shape[2],h=Object(f.a)(e.shape,2)[0],p=Object(o.yd)(e.dtype,n.dtype),d=null!=i,v=null!=u,m=s?xl(s,!0):null,g=new Oc(e.shape,[h,c,l],r,a,d,m,v),y=[e,n];return i&&y.push(i),u&&y.push(u),this.compileAndRun(g,y,p)}},{key:"multiply",value:function(t,e){if("complex64"===t.dtype){var n=this.texData.get(t.dataId),r=this.texData.get(e.dataId),a=new bu(gu,t.shape,e.shape),i=new bu(yu,t.shape,e.shape),s=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag),this.makeComplexComponentTensorInfo(e,r.complexTensors.real),this.makeComplexComponentTensorInfo(e,r.complexTensors.imag)],u=this.compileAndRun(a,s),c=this.compileAndRun(i,s),l=this.complex(u,c);return u.dispose(),c.dispose(),l}if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.multiply(t,e);if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,Ou,t.dtype);var h=new Su(Ou,t.shape,e.shape);return this.compileAndRun(h,[t,e],t.dtype)}},{key:"batchNorm",value:function(t,e,n,r,a,i){var s=[t,e,n],u=null;null!=r&&(u=r.shape,s.push(r));var c=null;if(null!=a&&(c=a.shape,s.push(a)),Object(o.lb)().getBool("WEBGL_PACK_NORMALIZATION")){var l=new mu(t.shape,e.shape,n.shape,u,c,i);return this.compileAndRun(l,s)}var h=new vu(t.shape,e.shape,n.shape,u,c,i);return this.compileAndRun(h,s)}},{key:"localResponseNormalization4D",value:function(t,e,n,r,a){var i=Object(o.lb)().getBool("WEBGL_PACK_NORMALIZATION")?new bc(t.shape,e,n,r,a):new gc(t.shape,e,n,r,a);return this.compileAndRun(i,[t])}},{key:"LRNGrad",value:function(t,e,n,r,a,i,o){var s=new yc(e.shape,r,a,i,o);return this.compileAndRun(s,[e,n,t])}},{key:"tile",value:function(t,e){if("string"===t.dtype){var n=this.readSync(t.dataId).map((function(t){return o.zd.decodeString(t)})),r=Object(o.M)(t.shape,t.dtype,n);return ml(r,e)}var a=new Kc(t.shape,e);return this.compileAndRun(a,[t])}},{key:"pad",value:function(t,e,n){var r=Object(o.lb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new jc(t.shape,e,n):new Cc(t.shape,e,n);return this.compileAndRun(r,[t])}},{key:"gather",value:function(t,e,n){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.gather(t,e,n);var r=new ac(t.shape,e.size,n);return this.compileAndRun(r,[t,e])}},{key:"batchToSpaceND",value:function(t,e,n){o.zd.assert(t.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var r=e.reduce((function(t,e){return t*e})),a=o.F.getReshaped(t.shape,e,r),i=o.F.getPermuted(a.length,e.length),s=o.F.getReshapedPermuted(t.shape,e,r),u=o.F.getSliceBeginCoords(n,e.length),c=o.F.getSliceSize(s,n,e.length);return Object(o.vd)(t.reshape(a),i).reshape(s).slice(u,c)}},{key:"spaceToBatchND",value:function(t,e,n){o.zd.assert(t.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var r=e.reduce((function(t,e){return t*e})),a=[[0,0]];a.push.apply(a,Object(Q.a)(n));for(var i=1+e.length;i<t.shape.length;++i)a.push([0,0]);var s=t.pad(a),u=o.F.getReshaped(s.shape,e,r,!1),c=o.F.getPermuted(u.length,e.length,!1),l=o.F.getReshapedPermuted(s.shape,e,r,!1);return Object(o.vd)(s.reshape(u),c).reshape(l)}},{key:"reduce",value:function(t,e,n){var r=t.shape[0],a=t.shape[1],i=o.F.computeOptimalWindowSize(a),s=new _c({windowSize:i,inSize:a,batchSize:r},e),u=this.compileAndRun(s,[t],n);return 1===u.shape[1]?u:this.reduce(u,e,n)}},{key:"argReduce",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.shape[0],a=t.shape[1];null!=n&&(r=n.shape[0],a=n.shape[1]);var i=o.F.computeOptimalWindowSize(a),s={windowSize:i,inSize:a,batchSize:r},u=new Hs(s,e,null==n),c=[t];null!=n&&c.push(n);var l=this.compileAndRun(u,c,"int32");return 1===l.shape[1]?l:this.argReduce(t,e,l)}},{key:"argReducePacked",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null!=n?n.shape:t.shape,a=r[r.length-1],i=o.F.computeOptimalWindowSize(a),s=new fu(r,i,e,null==n),u=null==n?[t]:[t,n],c=this.compileAndRun(s,u,"int32");return c.rank===t.rank?this.argReducePacked(t,e,c):c}},{key:"sum",value:function(t,e){o.F.assertAxesAreInnerMostDims("sum",e,t.rank);var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=o.zd.sizeFromShape(i),u=t.as2D(-1,s),c=o.jd(t.dtype);return this.reduce(u,"sum",c).reshape(a)}},{key:"prod",value:function(t,e){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,e);var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=o.zd.sizeFromShape(i),u=t.as2D(-1,s),c=o.jd(t.dtype);return this.reduce(u,"prod",c).reshape(a)}},{key:"unsortedSegmentSum",value:function(t,e,n){var r=0,a=o.F.getAxesPermutation([r],t.rank),i=t;null!=a&&(i=Object(o.vd)(t,a),r=o.F.getInnerMostAxes(1,t.rank)[0]);var s=dl.computeOutShape(i.shape,r,n),u=o.zd.sizeFromShape([i.shape[r]]),c=i.as2D(-1,u),l=o.jd(t.dtype),h=this.segOpCompute(c,"unsortedSegmentSum",e,l,n).reshape(s);return null!=a&&(h=Object(o.vd)(h,o.F.getUndoAxesPermutation(a))),h}},{key:"segOpCompute",value:function(t,e,n,r,a){var i=t.shape[0],s=t.shape[1],u=dl.segOpComputeOptimalWindowSize(s,a),c=new Bc({windowSize:u,inSize:s,batchSize:i,numSegments:a},e),l=this.compileAndRun(c,[t,n],r);return l.shape[1]===a?l:(n=Object(o.uc)(0,a).tile([s/u]),this.segOpCompute(l,e,n,r,a))}},{key:"argMinMaxReduce",value:function(t,e,n){var r=[e];if(o.F.assertAxesAreInnerMostDims("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,t.rank),!Object(o.lb)().getBool("WEBGL_PACK_REDUCE")||t.rank<=2){var a=o.F.computeOutAndReduceShapes(t.shape,r),i=Object(f.a)(a,2),s=i[0],u=i[1],c=o.zd.sizeFromShape(u),l=t.as2D(-1,c);return this.argReduce(l,n).reshape(s)}return this.argReducePacked(t,n)}},{key:"argMin",value:function(t,e){return this.argMinMaxReduce(t,e,"min")}},{key:"argMax",value:function(t,e){return this.argMinMaxReduce(t,e,"max")}},{key:"cumsum",value:function(t,e,n,r){if(e!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis=".concat(t.rank-1," ")+"but got axis=".concat(e));var a=new Hu(t.shape,n,r);return this.compileAndRun(a,[t])}},{key:"equal",value:function(t,e){if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(equal(a, b));\n","bool");var n=new Su("return float(a == b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")}},{key:"notEqual",value:function(t,e){if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(notEqual(a, b));\n","bool");var n=new Su("return float(a != b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")}},{key:"less",value:function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.less(t,e);if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(lessThan(a, b));\n","bool");var n=new Su("return float(a < b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")}},{key:"lessEqual",value:function(t,e){if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new Su("return float(a <= b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")}},{key:"greater",value:function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.greater(t,e);if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new Su("return float(a > b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")}},{key:"greaterEqual",value:function(t,e){if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new Su("return float(a >= b);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")}},{key:"logicalNot",value:function(t){var e=new $c(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(e,[t])}},{key:"logicalAnd",value:function(t,e){if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new Su("return float(a >= 1.0 && b >= 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")}},{key:"logicalOr",value:function(t,e){if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new Su("return float(a >= 1.0 || b >= 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e],"bool")}},{key:"select",value:function(t,e,n){var r=new Wc(t.rank,e.shape,e.rank);return this.compileAndRun(r,[t,e,n],Object(o.yd)(e.dtype,n.dtype))}},{key:"where",value:function(t){o.F.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var e=t.dataSync();return yl(t.shape,e)}},{key:"topk",value:function(t,e,n){var r=t.dataSync();return gl(r,t.shape,t.dtype,e,n)}},{key:"min",value:function(t,e){o.F.assertAxesAreInnerMostDims("min",e,t.rank);var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=o.zd.sizeFromShape(i),u=t.as2D(-1,s);return this.reduce(u,"min",u.dtype).reshape(a)}},{key:"minimum",value:function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.minimum(t,e);var n=Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Cu("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Su("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])}},{key:"mod",value:function(t,e){var n=Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Cu("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Su("if (b == 0.0) return NAN;\n  return mod(a, b);",t.shape,e.shape);return this.compileAndRun(n,[t,e])}},{key:"maximum",value:function(t,e){if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.maximum(t,e);var n=Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Cu("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Su("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])}},{key:"all",value:function(t,e){o.F.assertAxesAreInnerMostDims("all",e,t.rank);var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=o.zd.sizeFromShape(i),u=t.as2D(-1,s);return this.reduce(u,"all",u.dtype).reshape(a)}},{key:"any",value:function(t,e){o.F.assertAxesAreInnerMostDims("any",e,t.rank);var n=o.F.computeOutAndReduceShapes(t.shape,e),r=Object(f.a)(n,2),a=r[0],i=r[1],s=o.zd.sizeFromShape(i),u=t.as2D(-1,s);return this.reduce(u,"any",u.dtype).reshape(a)}},{key:"floorDiv",value:function(t,e){if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new Su("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",t.shape,e.shape);return this.compileAndRun(n,[t,e],"int32")}},{key:"add",value:function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,xu);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.add(t,e);var n=Object(o.yd)(t.dtype,e.dtype);if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,xu,n);var r=new Su(xu,t.shape,e.shape);return this.compileAndRun(r,[t,e],n)}},{key:"packedUnaryOp",value:function(t,e,n){var r=new fl(t.shape,e);return this.compileAndRun(r,[t],n)}},{key:"packedBinaryOp",value:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=new Cu(n,t.shape,e.shape,a);return this.compileAndRun(i,[t,e],r)}},{key:"complexSeparableBinaryOp",value:function(t,e,n){var r=this,a=this.texData.get(t.dataId),i=this.texData.get(e.dataId),s=[[a.complexTensors.real,i.complexTensors.real],[a.complexTensors.imag,i.complexTensors.imag]].map((function(a){var i=Object(f.a)(a,2),s=i[0],u=i[1],c=r.makeComplexComponentTensorInfo(t,s),l=r.makeComplexComponentTensorInfo(e,u),h=new Su(n,t.shape,e.shape);return r.compileAndRun(h,[c,l],Object(o.yd)(s.dtype,u.dtype))})),u=Object(f.a)(s,2),c=u[0],l=u[1],h=this.complex(c,l);return c.dispose(),l.dispose(),h}},{key:"makeComplexComponentTensorInfo",value:function(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}},{key:"addN",value:function(t){if(1===t.length)return t[0];if(t.length>Object(o.lb)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var e=Math.floor(t.length/2),n=this.addN(t.slice(0,e)),r=this.addN(t.slice(e));return this.addN([n,r])}var a=t.map((function(t){return t.dtype})).reduce((function(t,e){return Object(o.yd)(t,e)})),i=t.map((function(t){return t.shape})),s=Object(o.lb)().getBool("WEBGL_PACK")?new Vs(t[0].shape,i):new Us(t[0].shape,i);return this.compileAndRun(s,t,a)}},{key:"subtract",value:function(t,e){if("complex64"===t.dtype&&"complex64"===e.dtype)return this.complexSeparableBinaryOp(t,e,wu);if(this.shouldExecuteOnCPU([t,e]))return this.cpuBackend.subtract(t,e);var n=Object(o.yd)(t.dtype,e.dtype);if(Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,e,wu,t.dtype);var r=new Su(wu,t.shape,e.shape);return this.compileAndRun(r,[t,e],n)}},{key:"pow",value:function(t,e){var n=Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Cu("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Su("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",t.shape,e.shape),r=Object(o.yd)(t.dtype,e.dtype);return this.compileAndRun(n,[t,e],r)}},{key:"ceil",value:function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.ceil(t);if(Object(o.lb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,rl,t.dtype);var e=new $c(t.shape,rl);return this.compileAndRun(e,[t])}},{key:"floor",value:function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.floor(t);if(Object(o.lb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,al,t.dtype);var e=new $c(t.shape,al);return this.compileAndRun(e,[t])}},{key:"sign",value:function(t){var e=new $c(t.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(e,[t])}},{key:"isNaN",value:function(t){var e=new $c(t.shape,"return float(isnan(x));");return this.compileAndRun(e,[t],"bool")}},{key:"isInf",value:function(t){var e=new $c(t.shape,"return float(isinf(x));");return this.compileAndRun(e,[t],"bool")}},{key:"isFinite",value:function(t){var e=new $c(t.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(e,[t],"bool")}},{key:"round",value:function(t){var e=new $c(t.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(e,[t])}},{key:"exp",value:function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.exp(t);if(Object(o.lb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,il,t.dtype);var e=new $c(t.shape,il);return this.compileAndRun(e,[t])}},{key:"expm1",value:function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.expm1(t);if(Object(o.lb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,ol,t.dtype);var e=new $c(t.shape,ol);return this.compileAndRun(e,[t])}},{key:"softmax",value:function(t,e){var n=o.zd.parseAxisParam([e],t.shape),r=Object(o.Vb)(t,n),a=o.F.expandShapeToKeepDim(r.shape,n),i=this.subtract(t,r.reshape(a)),s=this.exp(i),u=this.sum(s,n).reshape(a);return Object(o.gb)(s,u)}},{key:"log",value:function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.log(t);if(Object(o.lb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",t.dtype);var e=new $c(t.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(e,[t])}},{key:"log1p",value:function(t){var e=new $c(t.shape,"return log(1.0 + x);");return this.compileAndRun(e,[t])}},{key:"sqrt",value:function(t){var e=new $c(t.shape,"return sqrt(x);");return this.compileAndRun(e,[t])}},{key:"rsqrt",value:function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var e=new $c(t.shape,"return inversesqrt(x);");return this.compileAndRun(e,[t])}},{key:"reciprocal",value:function(t){var e=new $c(t.shape,"return 1.0 / x;");return this.compileAndRun(e,[t])}},{key:"relu",value:function(t){var e;return e=Object(o.lb)().getBool("WEBGL_PACK")?new fl(t.shape,cl):new $c(t.shape,Zc),this.compileAndRun(e,[t])}},{key:"relu6",value:function(t){var e;return e=Object(o.lb)().getBool("WEBGL_PACK")?new fl(t.shape,ll):new $c(t.shape,Qc),this.compileAndRun(e,[t])}},{key:"prelu",value:function(t,e){var n=Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Cu(Eu,t.shape,e.shape):new Su(ku,t.shape,e.shape);return this.compileAndRun(n,[t,e])}},{key:"elu",value:function(t){if(Object(o.lb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,hl,t.dtype);var e=new $c(t.shape,tl);return this.compileAndRun(e,[t])}},{key:"eluDer",value:function(t,e){var n=Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Cu("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",t.shape,e.shape):new Su("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,e.shape);return this.compileAndRun(n,[t,e])}},{key:"selu",value:function(t){var e=new $c(t.shape,el);return this.compileAndRun(e,[t])}},{key:"int",value:function(t){var e=new $c(t.shape,"return float(int(x));");return this.compileAndRun(e,[t],"int32")}},{key:"clip",value:function(t,e,n){var r,a=(r=Object(o.lb)().getBool("WEBGL_PACK_CLIP")?new Tu(t.shape):new ju(t.shape)).getCustomSetupFunc(e,n);return this.compileAndRun(r,[t],null,a)}},{key:"abs",value:function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.abs(t);if(Object(o.lb)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,Jc,t.dtype);var e=new $c(t.shape,Jc);return this.compileAndRun(e,[t])}},{key:"complexAbs",value:function(t){var e=this.texData.get(t.dataId),n=new Au(t.shape),r=[this.makeComplexComponentTensorInfo(t,e.complexTensors.real),this.makeComplexComponentTensorInfo(t,e.complexTensors.imag)];return this.compileAndRun(n,r)}},{key:"sigmoid",value:function(t){var e=new $c(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(e,[t])}},{key:"softplus",value:function(t){var e=new $c(t.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(e,[t])}},{key:"sin",value:function(t){var e=new $c(t.shape,"if (isnan(x)) return x;\n  return sin(x);\n");return this.compileAndRun(e,[t])}},{key:"cos",value:function(t){var e=new $c(t.shape,"if (isnan(x)) return x;\n  return cos(x);\n");return this.compileAndRun(e,[t])}},{key:"tan",value:function(t){var e=new $c(t.shape,"return tan(x);");return this.compileAndRun(e,[t])}},{key:"asin",value:function(t){var e=new $c(t.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n");return this.compileAndRun(e,[t])}},{key:"acos",value:function(t){var e=new $c(t.shape,"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n");return this.compileAndRun(e,[t])}},{key:"atan",value:function(t){var e=new $c(t.shape,"if (isnan(x)) return x;\n  return atan(x);\n");return this.compileAndRun(e,[t])}},{key:"atan2",value:function(t,e){var n=Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Cu("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",t.shape,e.shape):new Su("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",t.shape,e.shape);return this.compileAndRun(n,[t,e])}},{key:"sinh",value:function(t){var e=new $c(t.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])}},{key:"cosh",value:function(t){var e=new $c(t.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(e,[t])}},{key:"tanh",value:function(t){var e=new $c(t.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(e,[t])}},{key:"asinh",value:function(t){var e=new $c(t.shape,"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));");return this.compileAndRun(e,[t])}},{key:"acosh",value:function(t){var e=new $c(t.shape,"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));");return this.compileAndRun(e,[t])}},{key:"atanh",value:function(t){var e=new $c(t.shape,"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;");return this.compileAndRun(e,[t])}},{key:"erf",value:function(t){var e=new $c(t.shape,sl);return this.compileAndRun(e,[t])}},{key:"step",value:function(t,e){var n=new $c(t.shape,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"if (isnan(x)) return x;"+"\n    return x > 0.0 ? 1.0 : float(".concat(t,");\n  ")}(e));return this.compileAndRun(n,[t])}},{key:"conv2dByMatMul",value:function(t,e,n,r,a,i){var s=t.shape,u=this.texData.get(t.dataId),c=n.inChannels,l=s[0]*s[1]*s[2],h=n.outChannels,f="channelsLast"===n.dataFormat,p=(1===l||1===h)&&c>1e3,d=s[2]%2!==0&&!!u.isPacked;if(p||!Object(o.lb)().getBool("WEBGL_LAZILY_UNPACK")||!Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!d){var v=f?s[0]*s[1]*s[2]:s[0]*s[2]*s[3],m=this.reshape(t,[1,v,n.inChannels]),g=this.reshape(e,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:g,transposeA:!1,transposeB:!1,bias:r,activation:a,preluActivationWeights:i}),n.outShape)}var y=f?s[0]*s[1]*(s[2]+1):s[0]*s[2]*(s[3]+1),b={dataId:t.dataId,shape:[1,y,n.inChannels],dtype:t.dtype},x=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,o.zd.assert(Ps(u.shape,b.shape),(function(){return"packed reshape ".concat(u.shape," to ").concat(b.shape," isn't free")}));var w=this.reshape(e,[1,n.inChannels,n.outChannels]),O=this.fusedBatchMatMul({a:b,b:w,transposeA:!1,transposeB:!1,bias:r,activation:a,preluActivationWeights:i}),k=this.texData.get(O.dataId);return o.zd.assert(k.isPacked,(function(){return"batchMatMul result is expected to be packed"})),u.shape=x,k.shape=n.outShape,Object(o.kb)().makeTensorFromDataId(O.dataId,n.outShape,O.dtype)}},{key:"conv2dWithIm2Row",value:function(t,e,n,r,a,i){var o=n.filterWidth,s=n.filterHeight,u=n.inChannels,c=n.outWidth,l=n.outHeight,h="channelsLast"===n.dataFormat,f=o*s*u,p=l*c,d=[f,p],v=t.squeeze([0]),m=e.reshape([1,f,-1]),g=new mc(d,v.shape,n),y=this.compileAndRun(g,[v]).reshape([1,d[0],d[1]]),b=null!=r,x=null!=i,w=a?xl(a,!0):null,O=new Oc(y.shape,[1,p,n.outChannels],!0,!1,b,w,x),k=[y,m];r&&k.push(r),x&&k.push(i);var S=this.compileAndRun(O,k);return h?S.reshape([1,l,c,n.outChannels]):S.reshape([1,n.outChannels,l,c])}},{key:"fusedConv2d",value:function(t){var e=t.input,n=t.filter,r=t.convInfo,a=t.bias,i=t.activation,s=t.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(e,n,r,a,i,s);if(Object(o.lb)().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,n,r,a,i,s);var u=null!=a,c=null!=s,l=i?xl(i,!1):null,h=new zu(r,u,l,c),f=[e,n];return a&&f.push(a),s&&f.push(s),this.compileAndRun(h,f)}},{key:"conv2d",value:function(t,e,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(t,e,n);if(Object(o.lb)().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,e,n);var r=new zu(n);return this.compileAndRun(r,[t,e])}},{key:"conv2dDerInput",value:function(t,e,n){var r=new Du(n);return this.compileAndRun(r,[t,e])}},{key:"conv2dDerFilter",value:function(t,e,n){var r=new Iu(n);return this.compileAndRun(r,[t,e])}},{key:"fusedDepthwiseConv2D",value:function(t){var e,n=t.input,r=t.filter,a=t.convInfo,i=t.bias,s=t.activation,u=t.preluActivationWeights,c=Object(o.lb)().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels===1,l=s?xl(s,c):null,h=[n,r],f=null!=i,p=null!=u;return f&&h.push(i),p&&h.push(u),c?(e=new Uu(a,f,l,p),this.compileAndRun(e,h)):(e=new Wu(a,f,l,p),this.compileAndRun(e,h))}},{key:"depthwiseConv2D",value:function(t,e,n){var r;return Object(o.lb)().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels===1?(r=new Uu(n),this.compileAndRun(r,[t,e])):(r=new Wu(n),this.compileAndRun(r,[t,e]))}},{key:"depthwiseConv2DDerInput",value:function(t,e,n){var r=new Lu(n);return this.compileAndRun(r,[t,e])}},{key:"depthwiseConv2DDerFilter",value:function(t,e,n){var r=new Fu(n);return this.compileAndRun(r,[t,e])}},{key:"conv3d",value:function(t,e,n){var r=new Bu(n);return this.compileAndRun(r,[t,e])}},{key:"conv3dDerInput",value:function(t,e,n){var r=new Pu(n);return this.compileAndRun(r,[t,e])}},{key:"conv3dDerFilter",value:function(t,e,n){var r=new Ru(n);return this.compileAndRun(r,[t,e])}},{key:"maxPool",value:function(t,e){var n=new Tc(e,"max",!1);return this.compileAndRun(n,[t])}},{key:"avgPool",value:function(t,e){var n=new Tc(e,"avg",!1);return this.compileAndRun(n,[t],"float32")}},{key:"maxPoolBackprop",value:function(t,e,n,r){var a=new Tc(r,"max",!0),i=this.compileAndRun(a,[e]),o=new xc(r),s=this.compileAndRun(o,[t,i],e.dtype);return i.dispose(),s}},{key:"avgPoolBackprop",value:function(t,e,n){var r=new pu(n);return this.compileAndRun(r,[t],e.dtype)}},{key:"cast",value:function(t,e){return o.F.castTensor(t,e,this)}},{key:"unstack",value:function(t,e){for(var n=t.shape[e],r=new Array(t.rank-1),a=0,i=0;i<t.rank;i++)i!==e&&(r[a++]=t.shape[i]);var o=new Array(t.rank).fill(0),s=t.shape.slice();s[e]=1;for(var u=new Array(n),c=0;c<u.length;c++)o[e]=c,u[c]=this.slice(t,o,s).reshape(r);return u}},{key:"avgPool3d",value:function(t,e){var n=new Ac(e,"avg",!1);return this.compileAndRun(n,[t],"float32")}},{key:"avgPool3dBackprop",value:function(t,e,n){var r=new du(n);return this.compileAndRun(r,[t],e.dtype)}},{key:"maxPool3d",value:function(t,e){var n=new Ac(e,"max",!1);return this.compileAndRun(n,[t],"float32")}},{key:"maxPool3dBackprop",value:function(t,e,n,r){var a=new Ac(r,"max",!0),i=this.compileAndRun(a,[e]),o=new wc(r),s=this.compileAndRun(o,[t,i],e.dtype);return i.dispose(),s}},{key:"reshape",value:function(t,e){var n=this.texData.get(t.dataId);if(n.isPacked&&!Ps(t.shape,e)&&(null===n.texture||!Ps(n.shape,e))){var r=this.packedReshape(t,e);return Object(o.kb)().makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return o.F.reshapeTensor(t,e)}},{key:"resizeBilinear",value:function(t,e,n,r){var a=Object(o.lb)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Dc(t.shape,e,n,r):new Ic(t.shape,e,n,r);return this.compileAndRun(a,[t],"float32")}},{key:"resizeBilinearBackprop",value:function(t,e,n){var r=new Nc(t,e,n);return this.compileAndRun(r,[t])}},{key:"resizeNearestNeighbor",value:function(t,e,n,r){var a=new Pc(t.shape,e,n,r);return this.compileAndRun(a,[t])}},{key:"resizeNearestNeighborBackprop",value:function(t,e,n){var r=new Rc(t,e,n);return this.compileAndRun(r,[t])}},{key:"multinomial",value:function(t,e,n,r){var a=e?t:Object(o.Wc)(t),i=a.shape[0],s=a.shape[1],u=new kc(i,s,n),c=u.getCustomSetupFunc(r);return this.compileAndRun(u,[a],"int32",c)}},{key:"oneHot",value:function(t,e,n,r){var a=new Sc(t.size,e,n,r);return this.compileAndRun(a,[t])}},{key:"diag",value:function(t){var e=new Ku(t.size);return this.compileAndRun(e,[t])}},{key:"cropAndResize",value:function(t,e,n,r,a,i){var o=new Vu(t.shape,e.shape,r,a,i);return this.compileAndRun(o,[t,e,n],"float32")}},{key:"depthToSpace",value:function(t,e,n){o.zd.assert(e>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(e)}));var r=t.shape[0],a="NHWC"===n?t.shape[1]:t.shape[2],i="NHWC"===n?t.shape[2]:t.shape[3],s="NHWC"===n?t.shape[3]:t.shape[1],u=a*e,c=i*e,l=s/(e*e),h=new Xu("NHWC"===n?[r,u,c,l]:[r,l,u,c],e,n);return this.compileAndRun(h,[t])}},{key:"split",value:function(t,e,n){return vl(t,e,n)}},{key:"scatterND",value:function(t,e,n){var r=o.F.calculateShapes(e,t,n),a=r.sliceRank,i=r.numUpdates,s=r.sliceSize,u=r.strides,c=r.outputSize,l=[c/s,s],h=t.reshape([i,a]),f=e.reshape([i,s]);if(0===c)return o.F.reshapeTensor(Object(o.md)([]),n);var p=Object(o.Fc)(0),d=new zc(i,a,h.rank,f.rank,u,l);return this.compileAndRun(d,[f,h,p]).reshape(n)}},{key:"sparseToDense",value:function(t,e,n,r){var a=o.F.calculateShapes(e,t,n),i=a.sliceRank,s=a.numUpdates,u=a.strides,c=a.outputSize,l=new zc(s,i,t.rank,e.rank,u,[c,1],!1);return this.compileAndRun(l,[e,t,r]).reshape(n)}},{key:"fft",value:function(t){return this.fftImpl(t,!1)}},{key:"ifft",value:function(t){return this.fftImpl(t,!0)}},{key:"fftImpl",value:function(t,e){var n=this.texData.get(t.dataId),r=new nc(tc,t.shape,e),a=new nc(ec,t.shape,e),i=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag)],o=this.compileAndRun(r,i),s=this.compileAndRun(a,i),u=this.complex(o,s).as2D(t.shape[0],t.shape[1]);return o.dispose(),s.dispose(),u}},{key:"gatherND",value:function(t,e){var n=e.shape,r=n[n.length-1],a=o.F.prepareAndValidate(t,e),i=Object(f.a)(a,4),s=i[0],u=i[1],c=i[2],l=i[3],h=e.reshape([u,r]),p=t.reshape([t.size/c,c]),d=new ic(r,l,[u,c]);return this.compileAndRun(d,[p,h]).reshape(s)}},{key:"fill",value:function(t,e,n){if("string"===(n=n||o.zd.inferDtype(e))){var r=o.zd.getArrayFromDType(n,o.zd.sizeFromShape(t));return r.fill(e),Object(o.kb)().makeTensor(r,t,n,this)}var a=new rc(t,e),i=a.getCustomSetupFunc(e);return this.compileAndRun(a,[],n,i)}},{key:"onesLike",value:function(t){if("string"===t.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(t.shape,1,t.dtype)}},{key:"zerosLike",value:function(t){return this.fill(t.shape,"string"===t.dtype?"":0,t.dtype)}},{key:"linspace",value:function(t,e,n){return o.F.linspaceImpl(t,e,n)}},{key:"makeTensorInfo",value:function(t,e){var n=this.write(null,t,e);return this.texData.get(n).usage=null,{dataId:n,shape:t,dtype:e}}},{key:"makeOutput",value:function(t,e){var n=this.makeTensorInfo(t,e).dataId;return Object(o.kb)().makeTensorFromDataId(n,t,e,this)}},{key:"unpackTensor",value:function(t){var e=new pl(t.shape);return this.runWebGLProgram(e,[t],t.dtype)}},{key:"packTensor",value:function(t){var e=new Ec(t.shape);return this.runWebGLProgram(e,[t],t.dtype,null,!0)}},{key:"packedReshape",value:function(t,e){var n=[Ns(t.shape)].concat(Object(Q.a)(Is(t.shape))),r={dtype:t.dtype,shape:n,dataId:t.dataId},a=[Ns(e)].concat(Object(Q.a)(Is(e))),i=new Mc(a,n),o=this.runWebGLProgram(i,[r],t.dtype,null,!0);return{dataId:o.dataId,shape:e,dtype:o.dtype}}},{key:"decode",value:function(t){var e,n=this.texData.get(t),r=n.isPacked,a=n.shape,i=n.dtype,o=Ds(a);e=r?new qu(o):new Yu(o);return{dtype:i,shape:a,dataId:this.runWebGLProgram(e,[{shape:o,dtype:i,dataId:t}],i,null,!0).dataId}}},{key:"runWebGLProgram",value:function(t,e,n,r){var a=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.makeTensorInfo(t.outputShape,n),u=this.texData.get(s.dataId);if(t.packedOutput&&(u.isPacked=!0),t.outPackingScheme===is.DENSE){var c=fs(t.outputShape);u.texShape=c.map((function(t){return 2*t}))}if(null!=t.outTexUsage&&(u.usage=t.outTexUsage),0===o.zd.sizeFromShape(s.shape))return u.values=o.zd.getTypedArrayFromDType(s.dtype,0),s;var l=[],h=e.map((function(e){if("complex64"===e.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(e.dataId);if(null==n.texture){if(!t.packedInputs&&o.zd.sizeFromShape(e.shape)<=Object(o.lb)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:e.shape,texData:null,isUniform:!0,uniformValues:n.values};t.packedInputs&&(n.isPacked=!0,n.shape=e.shape)}else if(!!n.isPacked!==!!t.packedInputs)e=n.isPacked?a.unpackTensor(e):a.packTensor(e),l.push(e),n=a.texData.get(e.dataId);else if(n.isPacked&&!Ps(n.shape,e.shape)){var r=e,i=e.shape;e.shape=n.shape,e=a.packedReshape(e,i),l.push(e),n=a.texData.get(e.dataId),r.shape=i}return a.uploadToGPU(e.dataId),{shape:e.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);var f,p={shape:s.shape,texData:u,isUniform:!1},d=vc(t,h,p),v=this.getAndSaveBinary(d,(function(){return fc(a.gpgpu,t,h,p)})),m=null!=this.activeTimers;if(m&&(f=this.startTimer()),dc(this.gpgpu,v,h,p,r),l.forEach((function(t){return a.disposeData(t.dataId)})),m&&(f=this.endTimer(f),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(f)})),!Object(o.lb)().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&!1===i){var g=this.unpackTensor(s);return this.disposeData(s.dataId),g}return s}},{key:"compileAndRun",value:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||e[0].dtype;var i=this.runWebGLProgram(t,e,n,r,a);return Object(o.kb)().makeTensorFromDataId(i.dataId,i.shape,i.dtype)}},{key:"getAndSaveBinary",value:function(t,e){return t in this.binaryCache||(this.binaryCache[t]=e()),this.binaryCache[t]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var t=this;if(!this.disposed){if(!Object(o.lb)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(e){t.gpgpu.deleteProgram(t.binaryCache[e].webGLProgram),delete t.binaryCache[e]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var t=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Object(o.rd)((function(){if(!Object(o.lb)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var e=Object(o.lb)().getBool("DEBUG");Object(o.lb)().set("DEBUG",!1);var n=t.abs(Object(o.Fc)(1e-8)).dataSync()[0];if(Object(o.lb)().set("DEBUG",e),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(t){var e=this.texData.get(t),n=e.shape,r=e.dtype,a=e.values,i=e.texture,s=e.usage,u=e.isPacked;if(null==i){var c,l=null!=this.activeTimers;l&&(c=o.zd.now());var h=e.texShape;if(null==h&&(h=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(o.lb)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e&&(n*=2,1===(t=t.map((function(e,n){return n>=t.length-2?o.zd.nearestLargerEven(t[n]):t[n]}))).length&&(t=[2,t[0]])),2!==t.length){var r=o.zd.squeezeShape(t);t=r.newShape}var a=o.zd.sizeFromShape(t);if(t.length<=1&&a<=n)return[1,a];if(2===t.length&&t[0]<=n&&t[1]<=n)return t;if(3===t.length&&t[0]*t[1]<=n&&t[2]<=n)return[t[0]*t[1],t[2]];if(3===t.length&&t[0]<=n&&t[1]*t[2]<=n)return[t[0],t[1]*t[2]];if(4===t.length&&t[0]*t[1]*t[2]<=n&&t[3]<=n)return[t[0]*t[1]*t[2],t[3]];if(4===t.length&&t[0]<=n&&t[1]*t[2]*t[3]<=n)return[t[0],t[1]*t[2]*t[3]];if(e){var i=Ns(t),s=2,u=2;if(t.length){var c=Is(t),l=Object(f.a)(c,2);s=l[0],u=l[1]}return a=i*(s/2)*(u/2),o.zd.sizeToSquarishShape(a).map((function(t){return 2*t}))}return o.zd.sizeToSquarishShape(a)}(n,u),e.texShape=h),null!=a){var p,d=Ds(n),v=h[1],m=h[0],g=a instanceof Uint8Array;if(u){var y=ps(h[0],h[1]),b=Object(f.a)(y,2);v=b[0],m=b[1],p=new Qu(d,[m,v],g)}else p=new Zu(d,[m,v],g);var x=this.makeTensorInfo([m,v],r);this.texData.get(x.dataId).usage=g?os.PIXELS:os.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),v,m,a);var w=this.runWebGLProgram(p,[x],r,null,!0),O=this.texData.get(w.dataId);e.texture=O.texture,e.texShape=O.texShape,e.isPacked=O.isPacked,e.usage=O.usage,this.disposeData(x.dataId),this.texData.delete(w.dataId),e.values=null,l&&(this.uploadWaitMs+=o.zd.now()-c)}else{var k=this.acquireTexture(h,s,r,u);e.texture=k}}}},{key:"convertAndCacheOnCPU",value:function(t,e){var n=this.texData.get(t),r=n.dtype;return this.releaseGPUData(t),null!=e&&(n.values=function(t,e){if("float32"===e||"complex64"===e)return t;if("int32"===e||"bool"===e){for(var n="int32"===e?new Int32Array(t.length):new Uint8Array(t.length),r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}throw new Error("Unknown dtype ".concat(e))}(e,r)),n.values}},{key:"acquireTexture",value:function(t,e,n,r){if(this.numBytesInGPU+=this.computeBytes(t,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(t,e,r)}},{key:"computeBytes",value:function(t,e){return t[0]*t[1]*o.zd.bytesPerElement(e)}}]),n}(o.d);var Ol,kl={kernelName:o.b,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend;return function(t,e,n){var r=new Su("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",t.shape,e.shape);return Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&(r=new Cu("\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",t.shape,e.shape,!0)),n.runWebGLProgram(r,[t,e],"float32")}(e.a,e.b,n)}},Sl=function t(e){Object(s.a)(this,t),this.variableNames=["A"];var n=qs(),r=Object(f.a)(e,2),a=r[0],i=r[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(i,".0, ").concat(a,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")},El=function t(e){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=qs(),r=Object(f.a)(e,2),a=r[0],i=r[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(i,".0, ").concat(a,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")},Cl={kernelName:o.c,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs,a=e.pixels,i=r.numChannels,s="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,u="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,c=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],l=Object(f.a)(c,2),h=l[0],p=l[1],d=[p,h],v=[p,h,i];(u||s)&&(null==Ol&&(Ol=document.createElement("canvas").getContext("2d")),Ol.canvas.width=h,Ol.canvas.height=p,Ol.drawImage(a,0,0,h,p),a=Ol.canvas);var m=n.makeTensorInfo(d,"int32");n.texData.get(m.dataId).usage=os.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(m.dataId),a);var g=Object(o.lb)().getBool("WEBGL_PACK")?new El(v):new Sl(v),y=n.runWebGLProgram(g,[m],"int32");return n.disposeData(m.dataId),y}};var jl=a.maxImpl,Tl=a.transposeImpl;function Al(t,e,n){var r=n.texData.get(t.dataId);return!r.isPacked||Ps(t.shape,e)||null!==r.texture&&Ps(r.shape,e)?{dataId:t.dataId,shape:e,dtype:t.dtype}:function(t,e,n){var r=[Ns(t.shape)].concat(Object(Q.a)(Is(t.shape))),a={dtype:t.dtype,shape:r,dataId:t.dataId},i=[Ns(e)].concat(Object(Q.a)(Is(e))),o=new Mc(i,r),s=n.runWebGLProgram(o,[a],t.dtype,null,!0);return{dataId:s.dataId,shape:e,dtype:s.dtype}}(t,e,n)}function _l(t,e,n,r){var a=o.zd.sizeFromShape(e),i=Al(t,[o.zd.sizeFromShape(t.shape)/a,a],r),s=function t(e,n,r,a){var i=Object(f.a)(e.shape,2),s=i[0],u=i[1],c=o.F.computeOptimalWindowSize(u),l=new _c({windowSize:c,inSize:u,batchSize:s},r),h=a.runWebGLProgram(l,[e],n);return 1===h.shape[1]?h:t(h,n,r,a)}(i,t.dtype,"max",r);return i.dataId!==t.dataId&&r.disposeData(i.dataId),Al(s,n,r)}var Ml=function t(e,n){Object(s.a)(this,t),this.variableNames=["A"];for(var r=new Array(e.length),a=0;a<r.length;a++)r[a]=e[n[a]];this.outputShape=r,this.rank=r.length;var i=cu(this.rank),o=function(t){var e=t.length;if(e>6)throw Error("Transpose for rank ".concat(e," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e),a=0;a<t.length;a++)r[t[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(i," resRC = getOutputCoords();\n      setOutput(getA(").concat(o,"));\n    }\n    ")};var Nl=function t(e,n){Object(s.a)(this,t),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(e.length),a=0;a<r.length;a++)r[a]=e[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var i=cu(this.rank),o=Gs("rc",this.rank),u=new Array(this.rank),c=0;c<n.length;c++)u[n[c]]=o[c];var l="vec2(".concat(u.slice(-2).join(),")"),h="++".concat(o[this.rank-1]," < ").concat(r[this.rank-1]),f="getChannel(getA(".concat(u.join(),"), ").concat(l,")");this.userCode="\n    void main() {\n      ".concat(i," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(f,";\n      if(").concat(h,") {\n        result[1] = ").concat(f,";\n      }\n      --").concat(o[this.rank-1],";\n      if(++").concat(o[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(f,";\n        if(").concat(h,") {\n          result[3] = ").concat(f,";\n        }\n      }\n      setOutput(result);\n    }\n    ")};function Il(t,e,n){var r=Object(o.lb)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Nl(t.shape,e):new Ml(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}var Dl={kernelName:o.e,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.attrs,r=t.backend,a=e.x,i=n.reductionIndices,s=r,u=a.shape.length,c=o.zd.parseAxisParam(i,a.shape),l=o.F.getAxesPermutation(c,u),h=null!=l,p=s.shouldExecuteOnCPU([a]),d=a;if(h){if(p){for(var v=s.texData.get(d.dataId).values,m=new Array(u),g=0;g<m.length;g++)m[g]=a.shape[l[g]];var y=Tl(v,a.shape,a.dtype,l,m);d=s.makeTensorInfo(m,a.dtype),s.texData.get(d.dataId).values=y}else d=Il(a,l,s);c=o.F.getInnerMostAxes(c.length,u)}o.F.assertAxesAreInnerMostDims("max",c,u);var b,x=o.F.computeOutAndReduceShapes(d.shape,c),w=Object(f.a)(x,2),O=w[0],k=w[1];if(p){var S=s.texData.get(d.dataId).values,E=jl(S,o.zd.sizeFromShape(k),O,a.dtype);b=s.makeTensorInfo(O,a.dtype),s.texData.get(b.dataId).values=E}else b=_l(d,k,O,s);return h&&s.disposeData(d.dataId),b}};for(var Rl={kernelName:o.f,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.attrs,r=t.backend,a=e.x,i=n.filterSize,s=n.strides,u=n.pad,c=n.includeBatchInIndex,l=r;o.zd.assert(4===a.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")}));var h=[1,1];o.zd.assert(o.F.eitherStridesOrDilationsAreOne(s,h),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(h,"'")}));var p=o.F.computePool2DInfo(a.shape,i,s,h,u),d=function(t,e,n,r){var a=new Tc(n,"max",!1),i=r.runWebGLProgram(a,[t],"float32");return a=new Tc(n,"max",!0,!0,e),[i,r.runWebGLProgram(a,[t],"float32")]}(a,c,p,l),v=Object(f.a)(d,2);return[v[0],v[1]]}},Pl={kernelName:o.g,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs;o.F.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=e.boxes,i=e.scores,s=r.maxOutputSize,u=r.iouThreshold,c=r.scoreThreshold,l=n,h=l.readSync(a.dataId),f=l.readSync(i.dataId),p=s,d=u,v=c;return o.Hb.nonMaxSuppressionV3(h,f,p,d,v)}},Fl=o.Hb.nonMaxSuppressionV5,Ll=0,zl=[Dl,Cl,kl,Pl,{kernelName:o.h,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=t.attrs;o.F.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=e.boxes,i=e.scores,s=r.maxOutputSize,u=r.iouThreshold,c=r.scoreThreshold,l=r.softNmsSigma,h=n,f=h.readSync(a.dataId),p=h.readSync(i.dataId),d=Fl(f,p,s,u,c,l);return[d.selectedIndices,d.selectedScores]}},{kernelName:o.j,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.x,a=n,i=new $c(r.shape,"return x * x;");return a.runWebGLProgram(i,[r],r.dtype)}},{kernelName:o.k,backendName:"webgl",kernelFunc:function(t){var e=t.inputs,n=t.backend,r=e.a,a=e.b,i=n,s=Object(o.lb)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Cu("return (a - b) * (a - b);",r.shape,a.shape):new Su("return (a - b) * (a - b);",r.shape,a.shape);return i.compileAndRun(s,[r,a])}},{kernelName:o.n,backendName:"webgl",kernelFunc:function(t){for(var e,n=t.inputs,r=t.attrs,a=t.backend,i=n.x,o=r.perm,s=a,u=i.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=i.shape[o[l]];if(s.shouldExecuteOnCPU([i])){var h=s.texData.get(i.dataId).values,f=Tl(h,i.shape,i.dtype,o,c);e=s.makeTensorInfo(c,i.dtype),s.texData.get(e.dataId).values=f}else e=Il(i,o,s);return e}},Rl];Ll<zl.length;Ll++){var Bl=zl[Ll];Object(o.yc)(Bl)}o.eb.isBrowser()&&Object(o.xc)("webgl",(function(){return new wl}),2);o.Cd},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"f",(function(){return b})),n.d(e,"e",(function(){return x})),n.d(e,"d",(function(){return w})),n.d(e,"g",(function(){return O})),n.d(e,"a",(function(){return S})),n.d(e,"b",(function(){return R})),n.d(e,"c",(function(){return k}));var r=n(15),a=n(13),i=n(14),o=n(4),s=n.n(o),u=n(12),c=n(5),l=n(9),h=n(0),f=n(47),p=n(43);function d(t){return t instanceof h.l?{value:t.clone(),recurse:!1}:Object(p.e)(t)?{value:null,recurse:!0}:{value:t,recurse:!1}}var v=n(20),m=n(19),g=function(){function t(e){if(Object(c.a)(this,t),this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}return Object(l.a)(t,[{key:"wrap",value:function(t){for(;t<0;)t+=this.doubledCapacity;return t%this.doubledCapacity}},{key:"get",value:function(t){if(t<0)throw new RangeError("Can't get item at a negative index.");return this.data[t%this.capacity]}},{key:"set",value:function(t,e){if(t<0)throw new RangeError("Can't set item at a negative index.");this.data[t%this.capacity]=e}},{key:"length",value:function(){var t=this.end-this.begin;return t<0&&(t=this.doubledCapacity+t),t}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(t){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,t),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(t){var e,n=Object(r.a)(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;this.push(a)}}catch(i){n.e(i)}finally{n.f()}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var t=this.get(this.end);return this.set(this.end,void 0),t}},{key:"unshift",value:function(t){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,t)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),t}},{key:"shuffleExcise",value:function(t){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.wrap(this.begin+t),n=this.get(e);return this.set(e,this.pop()),n}}]),t}(),y=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(){return Object(c.a)(this,n),e.call(this,n.INITIAL_CAPACITY)}return Object(l.a)(n,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(t){Object(v.a)(Object(m.a)(n.prototype),"isFull",this).call(this)&&this.expand(),Object(v.a)(Object(m.a)(n.prototype),"push",this).call(this,t)}},{key:"unshift",value:function(t){Object(v.a)(Object(m.a)(n.prototype),"isFull",this).call(this)&&this.expand(),Object(v.a)(Object(m.a)(n.prototype),"unshift",this).call(this,t)}},{key:"expand",value:function(){for(var t=2*this.capacity,e=new Array(t),n=this.length(),r=0;r<n;r++)e[r]=this.get(this.wrap(this.begin+r));this.data=e,this.capacity=t,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),n}(g);function b(t){return new E(t)}function x(t){return new C(t)}function w(t,e){return new F(t,e)}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.FAIL;return new L(t,e)}y.INITIAL_CAPACITY=32;var k,S=function(){function t(){Object(c.a)(this,t)}return Object(l.a)(t,[{key:"toArray",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,this.next();case 3:n=t.sent;case 4:if(n.done){t.next=11;break}return e.push(n.value),t.next=8,this.next();case 8:n=t.sent,t.next=4;break;case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.prefetch(100),n=[],t.next=4,e.next();case 4:r=t.sent;case 5:if(r.done){t.next=12;break}return n.push(r.value),t.next=9,e.next();case 9:r=t.sent,t.next=5;break;case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next();case 2:e=t.sent;case 3:if(e.done){t.next=9;break}return t.next=6,this.next();case 6:e=t.sent,t.next=3;break;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var t=Object(u.a)(s.a.mark((function t(e){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next();case 2:n=t.sent,r=e(n.value);case 4:if(n.done||!r){t.next=11;break}return t.next=7,this.next();case 7:n=t.sent,r=e(n.value),t.next=4;break;case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleErrors",value:function(t){return new I(this,t)}},{key:"filter",value:function(t){return new M(this,t)}},{key:"map",value:function(t){return new N(this,t)}},{key:"mapAsync",value:function(t){return new D(this,t)}},{key:"serialMapAsync",value:function(t){return new D(this,t).serial()}},{key:"flatmap",value:function(t){return new P(this,t)}},{key:"forEachAsync",value:function(){var t=Object(u.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.map(e).resolveFully());case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var t=Object(u.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.serialMapAsync(e).resolveWhile((function(t){return!0===t})));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new _(this,t,e)}},{key:"columnMajorBatch",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.f,r=this.rowMajorBatch(t,e);return r.map((function(t){return Object(p.d)(t,n)}))}},{key:"concatenate",value:function(t,e){return new F(b([this,t]),e)}},{key:"take",value:function(t){return t<0||null==t?this:new A(this,t)}},{key:"skip",value:function(t){return t<0||null==t?this:new T(this,t)}},{key:"prefetch",value:function(t){return new z(this,t)}},{key:"shuffle",value:function(t,e){return new B(this,t,e)}},{key:"serial",value:function(){return new j(this)}}]),t}(),E=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=e.call(this)).items=t,r.trav=0,r}return Object(l.a)(n,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.trav>=this.items.length)){t.next=2;break}return t.abrupt("return",{value:null,done:!0});case 2:return e=this.items[this.trav],this.trav++,t.abrupt("return",{value:(n=e,Object(p.b)(n,d)),done:!1});case 5:case"end":return t.stop()}var n}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),C=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=e.call(this)).nextFn=t,r}return Object(l.a)(n,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",this.nextFn());case 4:throw t.prev=4,t.t0=t.catch(0),t.t0.message="Error thrown while iterating through a dataset: ".concat(t.t0.message),t.t0;case 8:case"end":return t.stop()}}),t,this,[[0,4]])})));return function(){return t.apply(this,arguments)}}()}]),n}(S),j=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=e.call(this)).upstream=t,r.lastRead=Promise.resolve({value:null,done:!1}),r}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),t.abrupt("return",this.lastRead);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"serialNext",value:function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.upstream.next());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),T=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a;return Object(c.a)(this,n),(a=e.call(this)).upstream=t,a.maxCount=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),t.abrupt("return",this.lastRead);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"serialNext",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.count++<this.maxCount)){t.next=9;break}return t.next=3,this.upstream.next();case 3:if(!(e=t.sent).done){t.next=6;break}return t.abrupt("return",e);case 6:h.fb(e.value),t.next=0;break;case 9:return t.abrupt("return",this.upstream.next());case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),A=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a;return Object(c.a)(this,n),(a=e.call(this)).upstream=t,a.maxCount=r,a.count=0,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.count++>=this.maxCount)){t.next=2;break}return t.abrupt("return",{value:null,done:!0});case 2:return t.abrupt("return",this.upstream.next());case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),_=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(c.a)(this,n),(a=e.call(this)).upstream=t,a.batchSize=r,a.enableSmallLastBatch=i,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),t.abrupt("return",this.lastRead);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"serialNext",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[];case 1:if(!(e.length<this.batchSize)){t.next=12;break}return t.next=4,this.upstream.next();case 4:if(!(n=t.sent).done){t.next=9;break}if(!(this.enableSmallLastBatch&&e.length>0)){t.next=8;break}return t.abrupt("return",{value:e,done:!1});case 8:return t.abrupt("return",{value:null,done:!0});case 9:e.push(n.value),t.next=1;break;case 12:return t.abrupt("return",{value:e,done:!1});case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),M=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a;return Object(c.a)(this,n),(a=e.call(this)).upstream=t,a.predicate=r,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),t.abrupt("return",this.lastRead);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"serialNext",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,this.upstream.next();case 3:if(!(e=t.sent).done&&!this.predicate(e.value)){t.next=6;break}return t.abrupt("return",e);case 6:h.fb(e.value),t.next=0;break;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),N=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a;return Object(c.a)(this,n),(a=e.call(this)).upstream=t,a.transform=r,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,n,a,i,o,u,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.upstream.next();case 2:if(!(e=t.sent).done){t.next=5;break}return t.abrupt("return",{value:null,done:!0});case 5:n=h.qd.getTensorsInContainer(e.value),a=this.transform(e.value),i=h.qd.getTensorsInContainer(a),o=Object(r.a)(n);try{for(o.s();!(u=o.n()).done;)c=u.value,h.qd.isTensorInList(c,i)||c.dispose()}catch(s){o.e(s)}finally{o.f()}return t.abrupt("return",{value:a,done:!1});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),I=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a;return Object(c.a)(this,n),(a=e.call(this)).upstream=t,a.handler=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),t.abrupt("return",this.lastRead);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"serialNext",value:function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,this.upstream.next();case 4:return t.abrupt("return",t.sent);case 7:if(t.prev=7,t.t0=t.catch(1),this.handler(t.t0)){t.next=11;break}return t.abrupt("return",{value:null,done:!0});case 11:t.next=0;break;case 13:case"end":return t.stop()}}),t,this,[[1,7]])})));return function(){return t.apply(this,arguments)}}()}]),n}(S),D=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a;return Object(c.a)(this,n),(a=e.call(this)).upstream=t,a.transform=r,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,n,a,i,o,u,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.upstream.next();case 2:if(!(e=t.sent).done){t.next=5;break}return t.abrupt("return",{value:null,done:!0});case 5:return n=h.qd.getTensorsInContainer(e.value),t.next=8,this.transform(e.value);case 8:a=t.sent,i=h.qd.getTensorsInContainer(a),o=Object(r.a)(n);try{for(o.s();!(u=o.n()).done;)c=u.value,h.qd.isTensorInList(c,i)||c.dispose()}catch(s){o.e(s)}finally{o.f()}return t.abrupt("return",{value:a,done:!1});case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),R=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).outputQueue=new y,t.lastRead=Promise.resolve({value:null,done:!1}),t}return Object(l.a)(n,[{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),t.abrupt("return",this.lastRead);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"serialNext",value:function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.outputQueue.length()){t.next=7;break}return t.next=3,this.pump();case 3:if(t.sent){t.next=5;break}return t.abrupt("return",{value:null,done:!0});case 5:t.next=0;break;case 7:return t.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),P=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a;return Object(c.a)(this,n),(a=e.call(this)).upstream=t,a.transform=r,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,n,a,i,o,u,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.upstream.next();case 2:if(!(e=t.sent).done){t.next=5;break}return t.abrupt("return",!1);case 5:n=h.qd.getTensorsInContainer(e.value),a=this.transform(e.value),i=h.qd.getTensorsInContainer(a),this.outputQueue.pushAll(a),o=Object(r.a)(n);try{for(o.s();!(u=o.n()).done;)c=u.value,h.qd.isTensorInList(c,i)||c.dispose()}catch(s){o.e(s)}finally{o.f()}return t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(R),F=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a;return Object(c.a)(this,n),(a=e.call(this)).baseErrorHandler=r,a.lastRead=null,a.iterator=null,a.moreIterators=t,a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastRead=this.readFromChain(this.lastRead),t.abrupt("return",this.lastRead);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var t=Object(u.a)(s.a.mark((function t(e){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(null!=this.iterator){t.next=10;break}return t.next=5,this.moreIterators.next();case 5:if(!(n=t.sent).done){t.next=8;break}return t.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 10:return t.next=12,this.iterator.next();case 12:if(!(r=t.sent).done){t.next=16;break}return this.iterator=null,t.abrupt("return",this.readFromChain(e));case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(S);!function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"}(k||(k={}));var L=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.FAIL;return Object(c.a)(this,n),(r=e.call(this)).iterators=t,r.mismatchMode=a,r.count=0,r.currentPromise=null,r}return Object(l.a)(n,[{key:"summary",value:function(){return"{".concat("TODO: fill in upstream of zip summaries","} -> Zip")}},{key:"nextState",value:function(){var t=Object(u.a)(s.a.mark((function t(e){var n,r,a,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(t){return t instanceof S?{value:t.next().then((function(t){return n++,t.done&&r++,t.value})),recurse:!1}:{value:null,recurse:!0}},t.next=3,e;case 3:return n=0,r=0,t.next=7,Object(p.c)(this.iterators,a);case 7:if(i=t.sent,n!==r){t.next=10;break}return t.abrupt("return",{value:null,done:!0});case 10:if(!(r>0)){t.next=16;break}t.t0=this.mismatchMode,t.next=t.t0===k.FAIL?14:t.t0===k.SHORTEST?15:(t.t0,k.LONGEST,16);break;case 14:throw new Error("Zipped streams should have the same length. "+"Mismatched at element ".concat(this.count,"."));case 15:return t.abrupt("return",{value:null,done:!0});case 16:return this.count++,t.abrupt("return",{value:i,done:!1});case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.currentPromise=this.nextState(this.currentPromise),t.abrupt("return",this.currentPromise);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(S),z=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r){var a;return Object(c.a)(this,n),(a=e.call(this)).upstream=t,a.bufferSize=r,a.buffer=new g(r),a}return Object(l.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var t=this.upstream.next();this.buffer.push(t)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),n}(S),B=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t,r,a){var i;return Object(c.a)(this,n),(i=e.call(this,t,r)).upstream=t,i.windowSize=r,i.upstreamExhausted=!1,i.random=f.alea(a||h.zd.now().toString()),i.lastRead=Promise.resolve({value:null,done:!1}),i}return Object(l.a)(n,[{key:"next",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),t.abrupt("return",this.lastRead);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"randomInt",value:function(t){return Math.floor(this.random()*t)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){t.next=14;break}return e=this.chooseIndex(),t.next=5,this.buffer.shuffleExcise(e);case 5:if(!(n=t.sent).done){t.next=10;break}this.upstreamExhausted=!0,t.next=12;break;case 10:return this.refill(),t.abrupt("return",n);case 12:t.next=1;break;case 14:return t.abrupt("return",{value:null,done:!0});case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(z)},function(t,e,n){(function(t,r){var a;(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",l="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",d="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",x="[object String]",w="[object Symbol]",O="[object WeakMap]",k="[object ArrayBuffer]",S="[object DataView]",E="[object Float32Array]",C="[object Float64Array]",j="[object Int8Array]",T="[object Int16Array]",A="[object Int32Array]",_="[object Uint8Array]",M="[object Uint16Array]",N="[object Uint32Array]",I=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,P=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,L=RegExp(P.source),z=RegExp(F.source),B=/<%-([\s\S]+?)%>/g,W=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/[\\^$.*+?()[\]{}|]/g,q=RegExp(Y.source),X=/^\s+|\s+$/g,K=/^\s+/,$=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,at=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,ut=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",vt="["+pt+"]",mt="["+ft+"]",gt="\\d+",yt="[\\u2700-\\u27bf]",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",xt="[^\\ud800-\\udfff"+pt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",wt="\\ud83c[\\udffb-\\udfff]",Ot="[^\\ud800-\\udfff]",kt="(?:\\ud83c[\\udde6-\\uddff]){2}",St="[\\ud800-\\udbff][\\udc00-\\udfff]",Et="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ct="(?:"+bt+"|"+xt+")",jt="(?:"+Et+"|"+xt+")",Tt="(?:"+mt+"|"+wt+")"+"?",At="[\\ufe0e\\ufe0f]?"+Tt+("(?:\\u200d(?:"+[Ot,kt,St].join("|")+")[\\ufe0e\\ufe0f]?"+Tt+")*"),_t="(?:"+[yt,kt,St].join("|")+")"+At,Mt="(?:"+[Ot+mt+"?",mt,kt,St,dt].join("|")+")",Nt=RegExp("['\u2019]","g"),It=RegExp(mt,"g"),Dt=RegExp(wt+"(?="+wt+")|"+Mt+At,"g"),Rt=RegExp([Et+"?"+bt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[vt,Et,"$"].join("|")+")",jt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[vt,Et+Ct,"$"].join("|")+")",Et+"?"+Ct+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Et+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,_t].join("|"),"g"),Pt=RegExp("[\\u200d\\ud800-\\udfff"+ft+"\\ufe0e\\ufe0f]"),Ft=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zt=-1,Bt={};Bt[E]=Bt[C]=Bt[j]=Bt[T]=Bt[A]=Bt[_]=Bt["[object Uint8ClampedArray]"]=Bt[M]=Bt[N]=!0,Bt[u]=Bt[c]=Bt[k]=Bt[l]=Bt[S]=Bt[h]=Bt[f]=Bt[p]=Bt[v]=Bt[m]=Bt[g]=Bt[y]=Bt[b]=Bt[x]=Bt[O]=!1;var Wt={};Wt[u]=Wt[c]=Wt[k]=Wt[S]=Wt[l]=Wt[h]=Wt[E]=Wt[C]=Wt[j]=Wt[T]=Wt[A]=Wt[v]=Wt[m]=Wt[g]=Wt[y]=Wt[b]=Wt[x]=Wt[w]=Wt[_]=Wt["[object Uint8ClampedArray]"]=Wt[M]=Wt[N]=!0,Wt[f]=Wt[p]=Wt[O]=!1;var Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vt=parseFloat,Ht=parseInt,Gt="object"==typeof t&&t&&t.Object===Object&&t,Yt="object"==typeof self&&self&&self.Object===Object&&self,qt=Gt||Yt||Function("return this")(),Xt=e&&!e.nodeType&&e,Kt=Xt&&"object"==typeof r&&r&&!r.nodeType&&r,$t=Kt&&Kt.exports===Xt,Jt=$t&&Gt.process,Zt=function(){try{var t=Kt&&Kt.require&&Kt.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(e){}}(),Qt=Zt&&Zt.isArrayBuffer,te=Zt&&Zt.isDate,ee=Zt&&Zt.isMap,ne=Zt&&Zt.isRegExp,re=Zt&&Zt.isSet,ae=Zt&&Zt.isTypedArray;function ie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function oe(t,e,n,r){for(var a=-1,i=null==t?0:t.length;++a<i;){var o=t[a];e(r,o,n(o),t)}return r}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function ue(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function le(t,e){for(var n=-1,r=null==t?0:t.length,a=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[a++]=o)}return i}function he(t,e){return!!(null==t?0:t.length)&&we(t,e,0)>-1}function fe(t,e,n){for(var r=-1,a=null==t?0:t.length;++r<a;)if(n(e,t[r]))return!0;return!1}function pe(t,e){for(var n=-1,r=null==t?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}function de(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}function ve(t,e,n,r){var a=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++a]);++a<i;)n=e(n,t[a],a,t);return n}function me(t,e,n,r){var a=null==t?0:t.length;for(r&&a&&(n=t[--a]);a--;)n=e(n,t[a],a,t);return n}function ge(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ye=Ee("length");function be(t,e,n){var r;return n(t,(function(t,n,a){if(e(t,n,a))return r=n,!1})),r}function xe(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1}function we(t,e,n){return e===e?function(t,e,n){var r=n-1,a=t.length;for(;++r<a;)if(t[r]===e)return r;return-1}(t,e,n):xe(t,ke,n)}function Oe(t,e,n,r){for(var a=n-1,i=t.length;++a<i;)if(r(t[a],e))return a;return-1}function ke(t){return t!==t}function Se(t,e){var n=null==t?0:t.length;return n?Te(t,e)/n:NaN}function Ee(t){return function(e){return null==e?void 0:e[t]}}function Ce(t){return function(e){return null==t?void 0:t[e]}}function je(t,e,n,r,a){return a(t,(function(t,a,i){n=r?(r=!1,t):e(n,t,a,i)})),n}function Te(t,e){for(var n,r=-1,a=t.length;++r<a;){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}function Ae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function _e(t){return function(e){return t(e)}}function Me(t,e){return pe(e,(function(e){return t[e]}))}function Ne(t,e){return t.has(e)}function Ie(t,e){for(var n=-1,r=t.length;++n<r&&we(e,t[n],0)>-1;);return n}function De(t,e){for(var n=t.length;n--&&we(e,t[n],0)>-1;);return n}function Re(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Pe=Ce({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Fe=Ce({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Le(t){return"\\"+Ut[t]}function ze(t){return Pt.test(t)}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function We(t,e){return function(n){return t(e(n))}}function Ue(t,e){for(var n=-1,r=t.length,a=0,i=[];++n<r;){var s=t[n];s!==e&&s!==o||(t[n]=o,i[a++]=n)}return i}function Ve(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function Ge(t){return ze(t)?function(t){var e=Dt.lastIndex=0;for(;Dt.test(t);)++e;return e}(t):ye(t)}function Ye(t){return ze(t)?function(t){return t.match(Dt)||[]}(t):function(t){return t.split("")}(t)}var qe=Ce({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xe=function t(e){var n=(e=null==e?qt:Xe.defaults(qt.Object(),e,Xe.pick(qt,Lt))).Array,r=e.Date,a=e.Error,ft=e.Function,pt=e.Math,dt=e.Object,vt=e.RegExp,mt=e.String,gt=e.TypeError,yt=n.prototype,bt=ft.prototype,xt=dt.prototype,wt=e["__core-js_shared__"],Ot=bt.toString,kt=xt.hasOwnProperty,St=0,Et=function(){var t=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ct=xt.toString,jt=Ot.call(dt),Tt=qt._,At=vt("^"+Ot.call(kt).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=$t?e.Buffer:void 0,Mt=e.Symbol,Dt=e.Uint8Array,Pt=_t?_t.allocUnsafe:void 0,Ut=We(dt.getPrototypeOf,dt),Gt=dt.create,Yt=xt.propertyIsEnumerable,Xt=yt.splice,Kt=Mt?Mt.isConcatSpreadable:void 0,Jt=Mt?Mt.iterator:void 0,Zt=Mt?Mt.toStringTag:void 0,ye=function(){try{var t=Za(dt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ce=e.clearTimeout!==qt.clearTimeout&&e.clearTimeout,Ke=r&&r.now!==qt.Date.now&&r.now,$e=e.setTimeout!==qt.setTimeout&&e.setTimeout,Je=pt.ceil,Ze=pt.floor,Qe=dt.getOwnPropertySymbols,tn=_t?_t.isBuffer:void 0,en=e.isFinite,nn=yt.join,rn=We(dt.keys,dt),an=pt.max,on=pt.min,sn=r.now,un=e.parseInt,cn=pt.random,ln=yt.reverse,hn=Za(e,"DataView"),fn=Za(e,"Map"),pn=Za(e,"Promise"),dn=Za(e,"Set"),vn=Za(e,"WeakMap"),mn=Za(dt,"create"),gn=vn&&new vn,yn={},bn=Ei(hn),xn=Ei(fn),wn=Ei(pn),On=Ei(dn),kn=Ei(vn),Sn=Mt?Mt.prototype:void 0,En=Sn?Sn.valueOf:void 0,Cn=Sn?Sn.toString:void 0;function jn(t){if(Vo(t)&&!No(t)&&!(t instanceof Mn)){if(t instanceof _n)return t;if(kt.call(t,"__wrapped__"))return Ci(t)}return new _n(t)}var Tn=function(){function t(){}return function(e){if(!Uo(e))return{};if(Gt)return Gt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function An(){}function _n(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Mn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Dn;++e<n;)this.add(t[e])}function Pn(t){var e=this.__data__=new In(t);this.size=e.size}function Fn(t,e){var n=No(t),r=!n&&Mo(t),a=!n&&!r&&Po(t),i=!n&&!r&&!a&&Jo(t),o=n||r||a||i,s=o?Ae(t.length,mt):[],u=s.length;for(var c in t)!e&&!kt.call(t,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ii(c,u))||s.push(c);return s}function Ln(t){var e=t.length;return e?t[Rr(0,e-1)]:void 0}function zn(t,e){return Oi(ma(t),Xn(e,0,t.length))}function Bn(t){return Oi(ma(t))}function Wn(t,e,n){(void 0!==n&&!To(t[e],n)||void 0===n&&!(e in t))&&Yn(t,e,n)}function Un(t,e,n){var r=t[e];kt.call(t,e)&&To(r,n)&&(void 0!==n||e in t)||Yn(t,e,n)}function Vn(t,e){for(var n=t.length;n--;)if(To(t[n][0],e))return n;return-1}function Hn(t,e,n,r){return Qn(t,(function(t,a,i){e(r,t,n(t),i)})),r}function Gn(t,e){return t&&ga(e,bs(e),t)}function Yn(t,e,n){"__proto__"==e&&ye?ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function qn(t,e){for(var r=-1,a=e.length,i=n(a),o=null==t;++r<a;)i[r]=o?void 0:ds(t,e[r]);return i}function Xn(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Kn(t,e,n,r,a,i){var o,s=1&e,c=2&e,f=4&e;if(n&&(o=a?n(t,r,a,i):n(t)),void 0!==o)return o;if(!Uo(t))return t;var O=No(t);if(O){if(o=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&kt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return ma(t,o)}else{var I=ei(t),D=I==p||I==d;if(Po(t))return la(t,s);if(I==g||I==u||D&&!a){if(o=c||D?{}:ri(t),!s)return c?function(t,e){return ga(t,ti(t),e)}(t,function(t,e){return t&&ga(e,xs(e),t)}(o,t)):function(t,e){return ga(t,Qa(t),e)}(t,Gn(o,t))}else{if(!Wt[I])return a?t:{};o=function(t,e,n){var r=t.constructor;switch(e){case k:return ha(t);case l:case h:return new r(+t);case S:return function(t,e){var n=e?ha(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case E:case C:case j:case T:case A:case _:case"[object Uint8ClampedArray]":case M:case N:return fa(t,n);case v:return new r;case m:case x:return new r(t);case y:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case w:return a=t,En?dt(En.call(a)):{}}var a}(t,I,s)}}i||(i=new Pn);var R=i.get(t);if(R)return R;i.set(t,o),Xo(t)?t.forEach((function(r){o.add(Kn(r,e,n,r,t,i))})):Ho(t)&&t.forEach((function(r,a){o.set(a,Kn(r,e,n,a,t,i))}));var P=O?void 0:(f?c?Ga:Ha:c?xs:bs)(t);return se(P||t,(function(r,a){P&&(r=t[a=r]),Un(o,a,Kn(r,e,n,a,t,i))})),o}function $n(t,e,n){var r=n.length;if(null==t)return!r;for(t=dt(t);r--;){var a=n[r],i=e[a],o=t[a];if(void 0===o&&!(a in t)||!i(o))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new gt(i);return yi((function(){t.apply(void 0,n)}),e)}function Zn(t,e,n,r){var a=-1,i=he,o=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=pe(e,_e(n))),r?(i=fe,o=!1):e.length>=200&&(i=Ne,o=!1,e=new Rn(e));t:for(;++a<s;){var l=t[a],h=null==n?l:n(l);if(l=r||0!==l?l:0,o&&h===h){for(var f=c;f--;)if(e[f]===h)continue t;u.push(l)}else i(e,h,r)||u.push(l)}return u}jn.templateSettings={escape:B,evaluate:W,interpolate:U,variable:"",imports:{_:jn}},jn.prototype=An.prototype,jn.prototype.constructor=jn,_n.prototype=Tn(An.prototype),_n.prototype.constructor=_n,Mn.prototype=Tn(An.prototype),Mn.prototype.constructor=Mn,Nn.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},Nn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Nn.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return kt.call(e,t)?e[t]:void 0},Nn.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:kt.call(e,t)},Nn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},In.prototype.clear=function(){this.__data__=[],this.size=0},In.prototype.delete=function(t){var e=this.__data__,n=Vn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Xt.call(e,n,1),--this.size,!0)},In.prototype.get=function(t){var e=this.__data__,n=Vn(e,t);return n<0?void 0:e[n][1]},In.prototype.has=function(t){return Vn(this.__data__,t)>-1},In.prototype.set=function(t,e){var n=this.__data__,r=Vn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Dn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(fn||In),string:new Nn}},Dn.prototype.delete=function(t){var e=$a(this,t).delete(t);return this.size-=e?1:0,e},Dn.prototype.get=function(t){return $a(this,t).get(t)},Dn.prototype.has=function(t){return $a(this,t).has(t)},Dn.prototype.set=function(t,e){var n=$a(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Rn.prototype.add=Rn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Rn.prototype.has=function(t){return this.__data__.has(t)},Pn.prototype.clear=function(){this.__data__=new In,this.size=0},Pn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Pn.prototype.get=function(t){return this.__data__.get(t)},Pn.prototype.has=function(t){return this.__data__.has(t)},Pn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof In){var r=n.__data__;if(!fn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dn(r)}return n.set(t,e),this.size=n.size,this};var Qn=xa(sr),tr=xa(ur,!0);function er(t,e){var n=!0;return Qn(t,(function(t,r,a){return n=!!e(t,r,a)})),n}function nr(t,e,n){for(var r=-1,a=t.length;++r<a;){var i=t[r],o=e(i);if(null!=o&&(void 0===s?o===o&&!$o(o):n(o,s)))var s=o,u=i}return u}function rr(t,e){var n=[];return Qn(t,(function(t,r,a){e(t,r,a)&&n.push(t)})),n}function ar(t,e,n,r,a){var i=-1,o=t.length;for(n||(n=ai),a||(a=[]);++i<o;){var s=t[i];e>0&&n(s)?e>1?ar(s,e-1,n,r,a):de(a,s):r||(a[a.length]=s)}return a}var ir=wa(),or=wa(!0);function sr(t,e){return t&&ir(t,e,bs)}function ur(t,e){return t&&or(t,e,bs)}function cr(t,e){return le(e,(function(e){return zo(t[e])}))}function lr(t,e){for(var n=0,r=(e=oa(e,t)).length;null!=t&&n<r;)t=t[Si(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return No(t)?r:de(r,n(t))}function fr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Zt&&Zt in dt(t)?function(t){var e=kt.call(t,Zt),n=t[Zt];try{t[Zt]=void 0;var r=!0}catch(i){}var a=Ct.call(t);r&&(e?t[Zt]=n:delete t[Zt]);return a}(t):function(t){return Ct.call(t)}(t)}function pr(t,e){return t>e}function dr(t,e){return null!=t&&kt.call(t,e)}function vr(t,e){return null!=t&&e in dt(t)}function mr(t,e,r){for(var a=r?fe:he,i=t[0].length,o=t.length,s=o,u=n(o),c=1/0,l=[];s--;){var h=t[s];s&&e&&(h=pe(h,_e(e))),c=on(h.length,c),u[s]=!r&&(e||i>=120&&h.length>=120)?new Rn(s&&h):void 0}h=t[0];var f=-1,p=u[0];t:for(;++f<i&&l.length<c;){var d=h[f],v=e?e(d):d;if(d=r||0!==d?d:0,!(p?Ne(p,v):a(l,v,r))){for(s=o;--s;){var m=u[s];if(!(m?Ne(m,v):a(t[s],v,r)))continue t}p&&p.push(v),l.push(d)}}return l}function gr(t,e,n){var r=null==(t=di(t,e=oa(e,t)))?t:t[Si(Fi(e))];return null==r?void 0:ie(r,t,n)}function yr(t){return Vo(t)&&fr(t)==u}function br(t,e,n,r,a){return t===e||(null==t||null==e||!Vo(t)&&!Vo(e)?t!==t&&e!==e:function(t,e,n,r,a,i){var o=No(t),s=No(e),p=o?c:ei(t),d=s?c:ei(e),O=(p=p==u?g:p)==g,E=(d=d==u?g:d)==g,C=p==d;if(C&&Po(t)){if(!Po(e))return!1;o=!0,O=!1}if(C&&!O)return i||(i=new Pn),o||Jo(t)?Ua(t,e,n,r,a,i):function(t,e,n,r,a,i,o){switch(n){case S:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!i(new Dt(t),new Dt(e)));case l:case h:case m:return To(+t,+e);case f:return t.name==e.name&&t.message==e.message;case y:case x:return t==e+"";case v:var s=Be;case b:var u=1&r;if(s||(s=Ve),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;r|=2,o.set(t,e);var p=Ua(s(t),s(e),r,a,i,o);return o.delete(t),p;case w:if(En)return En.call(t)==En.call(e)}return!1}(t,e,p,n,r,a,i);if(!(1&n)){var j=O&&kt.call(t,"__wrapped__"),T=E&&kt.call(e,"__wrapped__");if(j||T){var A=j?t.value():t,_=T?e.value():e;return i||(i=new Pn),a(A,_,n,r,i)}}if(!C)return!1;return i||(i=new Pn),function(t,e,n,r,a,i){var o=1&n,s=Ha(t),u=s.length,c=Ha(e).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var h=s[l];if(!(o?h in e:kt.call(e,h)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var p=!0;i.set(t,e),i.set(e,t);var d=o;for(;++l<u;){h=s[l];var v=t[h],m=e[h];if(r)var g=o?r(m,v,h,e,t,i):r(v,m,h,t,e,i);if(!(void 0===g?v===m||a(v,m,n,r,i):g)){p=!1;break}d||(d="constructor"==h)}if(p&&!d){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,n,r,a,i)}(t,e,n,r,br,a))}function xr(t,e,n,r){var a=n.length,i=a,o=!r;if(null==t)return!i;for(t=dt(t);a--;){var s=n[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<i;){var u=(s=n[a])[0],c=t[u],l=s[1];if(o&&s[2]){if(void 0===c&&!(u in t))return!1}else{var h=new Pn;if(r)var f=r(c,l,u,t,e,h);if(!(void 0===f?br(l,c,3,r,h):f))return!1}}return!0}function wr(t){return!(!Uo(t)||(e=t,Et&&Et in e))&&(zo(t)?At:ot).test(Ei(t));var e}function Or(t){return"function"==typeof t?t:null==t?Gs:"object"==typeof t?No(t)?Tr(t[0],t[1]):jr(t):tu(t)}function kr(t){if(!li(t))return rn(t);var e=[];for(var n in dt(t))kt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Sr(t){if(!Uo(t))return function(t){var e=[];if(null!=t)for(var n in dt(t))e.push(n);return e}(t);var e=li(t),n=[];for(var r in t)("constructor"!=r||!e&&kt.call(t,r))&&n.push(r);return n}function Er(t,e){return t<e}function Cr(t,e){var r=-1,a=Do(t)?n(t.length):[];return Qn(t,(function(t,n,i){a[++r]=e(t,n,i)})),a}function jr(t){var e=Ja(t);return 1==e.length&&e[0][2]?fi(e[0][0],e[0][1]):function(n){return n===t||xr(n,t,e)}}function Tr(t,e){return si(t)&&hi(e)?fi(Si(t),e):function(n){var r=ds(n,t);return void 0===r&&r===e?vs(n,t):br(e,r,3)}}function Ar(t,e,n,r,a){t!==e&&ir(e,(function(i,o){if(a||(a=new Pn),Uo(i))!function(t,e,n,r,a,i,o){var s=mi(t,n),u=mi(e,n),c=o.get(u);if(c)return void Wn(t,n,c);var l=i?i(s,u,n+"",t,e,o):void 0,h=void 0===l;if(h){var f=No(u),p=!f&&Po(u),d=!f&&!p&&Jo(u);l=u,f||p||d?No(s)?l=s:Ro(s)?l=ma(s):p?(h=!1,l=la(u,!0)):d?(h=!1,l=fa(u,!0)):l=[]:Yo(u)||Mo(u)?(l=s,Mo(s)?l=is(s):Uo(s)&&!zo(s)||(l=ri(u))):h=!1}h&&(o.set(u,l),a(l,u,r,i,o),o.delete(u));Wn(t,n,l)}(t,e,o,n,Ar,r,a);else{var s=r?r(mi(t,o),i,o+"",t,e,a):void 0;void 0===s&&(s=i),Wn(t,o,s)}}),xs)}function _r(t,e){var n=t.length;if(n)return ii(e+=e<0?n:0,n)?t[e]:void 0}function Mr(t,e,n){var r=-1;return e=pe(e.length?e:[Gs],_e(Ka())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(Cr(t,(function(t,n,a){return{criteria:pe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,a=t.criteria,i=e.criteria,o=a.length,s=n.length;for(;++r<o;){var u=pa(a[r],i[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)}))}function Nr(t,e,n){for(var r=-1,a=e.length,i={};++r<a;){var o=e[r],s=lr(t,o);n(s,o)&&Br(i,oa(o,t),s)}return i}function Ir(t,e,n,r){var a=r?Oe:we,i=-1,o=e.length,s=t;for(t===e&&(e=ma(e)),n&&(s=pe(t,_e(n)));++i<o;)for(var u=0,c=e[i],l=n?n(c):c;(u=a(s,l,u,r))>-1;)s!==t&&Xt.call(s,u,1),Xt.call(t,u,1);return t}function Dr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var a=e[n];if(n==r||a!==i){var i=a;ii(a)?Xt.call(t,a,1):Zr(t,a)}}return t}function Rr(t,e){return t+Ze(cn()*(e-t+1))}function Pr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Ze(e/2))&&(t+=t)}while(e);return n}function Fr(t,e){return bi(pi(t,e,Gs),t+"")}function Lr(t){return Ln(Ts(t))}function zr(t,e){var n=Ts(t);return Oi(n,Xn(e,0,n.length))}function Br(t,e,n,r){if(!Uo(t))return t;for(var a=-1,i=(e=oa(e,t)).length,o=i-1,s=t;null!=s&&++a<i;){var u=Si(e[a]),c=n;if(a!=o){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Uo(l)?l:ii(e[a+1])?[]:{})}Un(s,u,c),s=s[u]}return t}var Wr=gn?function(t,e){return gn.set(t,e),t}:Gs,Ur=ye?function(t,e){return ye(t,"toString",{configurable:!0,enumerable:!1,value:Us(e),writable:!0})}:Gs;function Vr(t){return Oi(Ts(t))}function Hr(t,e,r){var a=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=n(i);++a<i;)o[a]=t[a+e];return o}function Gr(t,e){var n;return Qn(t,(function(t,r,a){return!(n=e(t,r,a))})),!!n}function Yr(t,e,n){var r=0,a=null==t?r:t.length;if("number"==typeof e&&e===e&&a<=2147483647){for(;r<a;){var i=r+a>>>1,o=t[i];null!==o&&!$o(o)&&(n?o<=e:o<e)?r=i+1:a=i}return a}return qr(t,e,Gs,n)}function qr(t,e,n,r){e=n(e);for(var a=0,i=null==t?0:t.length,o=e!==e,s=null===e,u=$o(e),c=void 0===e;a<i;){var l=Ze((a+i)/2),h=n(t[l]),f=void 0!==h,p=null===h,d=h===h,v=$o(h);if(o)var m=r||d;else m=c?d&&(r||f):s?d&&f&&(r||!p):u?d&&f&&!p&&(r||!v):!p&&!v&&(r?h<=e:h<e);m?a=l+1:i=l}return on(i,4294967294)}function Xr(t,e){for(var n=-1,r=t.length,a=0,i=[];++n<r;){var o=t[n],s=e?e(o):o;if(!n||!To(s,u)){var u=s;i[a++]=0===o?0:o}}return i}function Kr(t){return"number"==typeof t?t:$o(t)?NaN:+t}function $r(t){if("string"==typeof t)return t;if(No(t))return pe(t,$r)+"";if($o(t))return Cn?Cn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jr(t,e,n){var r=-1,a=he,i=t.length,o=!0,s=[],u=s;if(n)o=!1,a=fe;else if(i>=200){var c=e?null:Pa(t);if(c)return Ve(c);o=!1,a=Ne,u=new Rn}else u=e?[]:s;t:for(;++r<i;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,o&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(l)}else a(u,h,n)||(u!==s&&u.push(h),s.push(l))}return s}function Zr(t,e){return null==(t=di(t,e=oa(e,t)))||delete t[Si(Fi(e))]}function Qr(t,e,n,r){return Br(t,e,n(lr(t,e)),r)}function ta(t,e,n,r){for(var a=t.length,i=r?a:-1;(r?i--:++i<a)&&e(t[i],i,t););return n?Hr(t,r?0:i,r?i+1:a):Hr(t,r?i+1:0,r?a:i)}function ea(t,e){var n=t;return n instanceof Mn&&(n=n.value()),ve(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function na(t,e,r){var a=t.length;if(a<2)return a?Jr(t[0]):[];for(var i=-1,o=n(a);++i<a;)for(var s=t[i],u=-1;++u<a;)u!=i&&(o[i]=Zn(o[i]||s,t[u],e,r));return Jr(ar(o,1),e,r)}function ra(t,e,n){for(var r=-1,a=t.length,i=e.length,o={};++r<a;){var s=r<i?e[r]:void 0;n(o,t[r],s)}return o}function aa(t){return Ro(t)?t:[]}function ia(t){return"function"==typeof t?t:Gs}function oa(t,e){return No(t)?t:si(t,e)?[t]:ki(os(t))}var sa=Fr;function ua(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Hr(t,e,n)}var ca=Ce||function(t){return qt.clearTimeout(t)};function la(t,e){if(e)return t.slice();var n=t.length,r=Pt?Pt(n):new t.constructor(n);return t.copy(r),r}function ha(t){var e=new t.constructor(t.byteLength);return new Dt(e).set(new Dt(t)),e}function fa(t,e){var n=e?ha(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function pa(t,e){if(t!==e){var n=void 0!==t,r=null===t,a=t===t,i=$o(t),o=void 0!==e,s=null===e,u=e===e,c=$o(e);if(!s&&!c&&!i&&t>e||i&&o&&u&&!s&&!c||r&&o&&u||!n&&u||!a)return 1;if(!r&&!i&&!c&&t<e||c&&n&&a&&!r&&!i||s&&n&&a||!o&&a||!u)return-1}return 0}function da(t,e,r,a){for(var i=-1,o=t.length,s=r.length,u=-1,c=e.length,l=an(o-s,0),h=n(c+l),f=!a;++u<c;)h[u]=e[u];for(;++i<s;)(f||i<o)&&(h[r[i]]=t[i]);for(;l--;)h[u++]=t[i++];return h}function va(t,e,r,a){for(var i=-1,o=t.length,s=-1,u=r.length,c=-1,l=e.length,h=an(o-u,0),f=n(h+l),p=!a;++i<h;)f[i]=t[i];for(var d=i;++c<l;)f[d+c]=e[c];for(;++s<u;)(p||i<o)&&(f[d+r[s]]=t[i++]);return f}function ma(t,e){var r=-1,a=t.length;for(e||(e=n(a));++r<a;)e[r]=t[r];return e}function ga(t,e,n,r){var a=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var s=e[i],u=r?r(n[s],t[s],s,n,t):void 0;void 0===u&&(u=t[s]),a?Yn(n,s,u):Un(n,s,u)}return n}function ya(t,e){return function(n,r){var a=No(n)?oe:Hn,i=e?e():{};return a(n,t,Ka(r,2),i)}}function ba(t){return Fr((function(e,n){var r=-1,a=n.length,i=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(a--,i):void 0,o&&oi(n[0],n[1],o)&&(i=a<3?void 0:i,a=1),e=dt(e);++r<a;){var s=n[r];s&&t(e,s,r,i)}return e}))}function xa(t,e){return function(n,r){if(null==n)return n;if(!Do(n))return t(n,r);for(var a=n.length,i=e?a:-1,o=dt(n);(e?i--:++i<a)&&!1!==r(o[i],i,o););return n}}function wa(t){return function(e,n,r){for(var a=-1,i=dt(e),o=r(e),s=o.length;s--;){var u=o[t?s:++a];if(!1===n(i[u],u,i))break}return e}}function Oa(t){return function(e){var n=ze(e=os(e))?Ye(e):void 0,r=n?n[0]:e.charAt(0),a=n?ua(n,1).join(""):e.slice(1);return r[t]()+a}}function ka(t){return function(e){return ve(zs(Ms(e).replace(Nt,"")),t,"")}}function Sa(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Tn(t.prototype),r=t.apply(n,e);return Uo(r)?r:n}}function Ea(t){return function(e,n,r){var a=dt(e);if(!Do(e)){var i=Ka(n,3);e=bs(e),n=function(t){return i(a[t],t,a)}}var o=t(e,n,r);return o>-1?a[i?e[o]:o]:void 0}}function Ca(t){return Va((function(e){var n=e.length,r=n,a=_n.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new gt(i);if(a&&!s&&"wrapper"==qa(o))var s=new _n([],!0)}for(r=s?r:n;++r<n;){var u=qa(o=e[r]),c="wrapper"==u?Ya(o):void 0;s=c&&ui(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[qa(c[0])].apply(s,c[3]):1==o.length&&ui(o)?s[u]():s.thru(o)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&No(r))return s.plant(r).value();for(var a=0,i=n?e[a].apply(this,t):r;++a<n;)i=e[a].call(this,i);return i}}))}function ja(t,e,r,a,i,o,s,u,c,l){var h=128&e,f=1&e,p=2&e,d=24&e,v=512&e,m=p?void 0:Sa(t);return function g(){for(var y=arguments.length,b=n(y),x=y;x--;)b[x]=arguments[x];if(d)var w=Xa(g),O=Re(b,w);if(a&&(b=da(b,a,i,d)),o&&(b=va(b,o,s,d)),y-=O,d&&y<l){var k=Ue(b,w);return Da(t,e,ja,g.placeholder,r,b,k,u,c,l-y)}var S=f?r:this,E=p?S[t]:t;return y=b.length,u?b=vi(b,u):v&&y>1&&b.reverse(),h&&c<y&&(b.length=c),this&&this!==qt&&this instanceof g&&(E=m||Sa(E)),E.apply(S,b)}}function Ta(t,e){return function(n,r){return function(t,e,n,r){return sr(t,(function(t,a,i){e(r,n(t),a,i)})),r}(n,t,e(r),{})}}function Aa(t,e){return function(n,r){var a;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(a=n),void 0!==r){if(void 0===a)return r;"string"==typeof n||"string"==typeof r?(n=$r(n),r=$r(r)):(n=Kr(n),r=Kr(r)),a=t(n,r)}return a}}function _a(t){return Va((function(e){return e=pe(e,_e(Ka())),Fr((function(n){var r=this;return t(e,(function(t){return ie(t,r,n)}))}))}))}function Ma(t,e){var n=(e=void 0===e?" ":$r(e)).length;if(n<2)return n?Pr(e,t):e;var r=Pr(e,Je(t/Ge(e)));return ze(e)?ua(Ye(r),0,t).join(""):r.slice(0,t)}function Na(t){return function(e,r,a){return a&&"number"!=typeof a&&oi(e,r,a)&&(r=a=void 0),e=es(e),void 0===r?(r=e,e=0):r=es(r),function(t,e,r,a){for(var i=-1,o=an(Je((e-t)/(r||1)),0),s=n(o);o--;)s[a?o:++i]=t,t+=r;return s}(e,r,a=void 0===a?e<r?1:-1:es(a),t)}}function Ia(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=as(e),n=as(n)),t(e,n)}}function Da(t,e,n,r,a,i,o,s,u,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var h=[t,e,a,l?i:void 0,l?o:void 0,l?void 0:i,l?void 0:o,s,u,c],f=n.apply(void 0,h);return ui(t)&&gi(f,h),f.placeholder=r,xi(f,t,e)}function Ra(t){var e=pt[t];return function(t,n){if(t=as(t),(n=null==n?0:on(ns(n),292))&&en(t)){var r=(os(t)+"e").split("e");return+((r=(os(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Pa=dn&&1/Ve(new dn([,-0]))[1]==1/0?function(t){return new dn(t)}:$s;function Fa(t){return function(e){var n=ei(e);return n==v?Be(e):n==b?He(e):function(t,e){return pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function La(t,e,r,a,s,u,c,l){var h=2&e;if(!h&&"function"!=typeof t)throw new gt(i);var f=a?a.length:0;if(f||(e&=-97,a=s=void 0),c=void 0===c?c:an(ns(c),0),l=void 0===l?l:ns(l),f-=s?s.length:0,64&e){var p=a,d=s;a=s=void 0}var v=h?void 0:Ya(t),m=[t,e,r,a,s,p,d,u,c,l];if(v&&function(t,e){var n=t[1],r=e[1],a=n|r,i=a<131,s=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!s)return t;1&r&&(t[2]=e[2],a|=1&n?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?da(c,u,e[4]):u,t[4]=c?Ue(t[3],o):e[4]}(u=e[5])&&(c=t[5],t[5]=c?va(c,u,e[6]):u,t[6]=c?Ue(t[5],o):e[6]);(u=e[7])&&(t[7]=u);128&r&&(t[8]=null==t[8]?e[8]:on(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=a}(m,v),t=m[0],e=m[1],r=m[2],a=m[3],s=m[4],!(l=m[9]=void 0===m[9]?h?0:t.length:an(m[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)g=8==e||16==e?function(t,e,r){var a=Sa(t);return function i(){for(var o=arguments.length,s=n(o),u=o,c=Xa(i);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:Ue(s,c);if((o-=l.length)<r)return Da(t,e,ja,i.placeholder,void 0,s,l,void 0,void 0,r-o);var h=this&&this!==qt&&this instanceof i?a:t;return ie(h,this,s)}}(t,e,l):32!=e&&33!=e||s.length?ja.apply(void 0,m):function(t,e,r,a){var i=1&e,o=Sa(t);return function e(){for(var s=-1,u=arguments.length,c=-1,l=a.length,h=n(l+u),f=this&&this!==qt&&this instanceof e?o:t;++c<l;)h[c]=a[c];for(;u--;)h[c++]=arguments[++s];return ie(f,i?r:this,h)}}(t,e,r,a);else var g=function(t,e,n){var r=1&e,a=Sa(t);return function e(){var i=this&&this!==qt&&this instanceof e?a:t;return i.apply(r?n:this,arguments)}}(t,e,r);return xi((v?Wr:gi)(g,m),t,e)}function za(t,e,n,r){return void 0===t||To(t,xt[n])&&!kt.call(r,n)?e:t}function Ba(t,e,n,r,a,i){return Uo(t)&&Uo(e)&&(i.set(e,t),Ar(t,e,void 0,Ba,i),i.delete(e)),t}function Wa(t){return Yo(t)?void 0:t}function Ua(t,e,n,r,a,i){var o=1&n,s=t.length,u=e.length;if(s!=u&&!(o&&u>s))return!1;var c=i.get(t);if(c&&i.get(e))return c==e;var l=-1,h=!0,f=2&n?new Rn:void 0;for(i.set(t,e),i.set(e,t);++l<s;){var p=t[l],d=e[l];if(r)var v=o?r(d,p,l,e,t,i):r(p,d,l,t,e,i);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!ge(e,(function(t,e){if(!Ne(f,e)&&(p===t||a(p,t,n,r,i)))return f.push(e)}))){h=!1;break}}else if(p!==d&&!a(p,d,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Va(t){return bi(pi(t,void 0,Ni),t+"")}function Ha(t){return hr(t,bs,Qa)}function Ga(t){return hr(t,xs,ti)}var Ya=gn?function(t){return gn.get(t)}:$s;function qa(t){for(var e=t.name+"",n=yn[e],r=kt.call(yn,e)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==t)return a.name}return e}function Xa(t){return(kt.call(jn,"placeholder")?jn:t).placeholder}function Ka(){var t=jn.iteratee||Ys;return t=t===Ys?Or:t,arguments.length?t(arguments[0],arguments[1]):t}function $a(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ja(t){for(var e=bs(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,hi(a)]}return e}function Za(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return wr(n)?n:void 0}var Qa=Qe?function(t){return null==t?[]:(t=dt(t),le(Qe(t),(function(e){return Yt.call(t,e)})))}:ru,ti=Qe?function(t){for(var e=[];t;)de(e,Qa(t)),t=Ut(t);return e}:ru,ei=fr;function ni(t,e,n){for(var r=-1,a=(e=oa(e,t)).length,i=!1;++r<a;){var o=Si(e[r]);if(!(i=null!=t&&n(t,o)))break;t=t[o]}return i||++r!=a?i:!!(a=null==t?0:t.length)&&Wo(a)&&ii(o,a)&&(No(t)||Mo(t))}function ri(t){return"function"!=typeof t.constructor||li(t)?{}:Tn(Ut(t))}function ai(t){return No(t)||Mo(t)||!!(Kt&&t&&t[Kt])}function ii(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ut.test(t))&&t>-1&&t%1==0&&t<e}function oi(t,e,n){if(!Uo(n))return!1;var r=typeof e;return!!("number"==r?Do(n)&&ii(e,n.length):"string"==r&&e in n)&&To(n[e],t)}function si(t,e){if(No(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!$o(t))||(H.test(t)||!V.test(t)||null!=e&&t in dt(e))}function ui(t){var e=qa(t),n=jn[e];if("function"!=typeof n||!(e in Mn.prototype))return!1;if(t===n)return!0;var r=Ya(n);return!!r&&t===r[0]}(hn&&ei(new hn(new ArrayBuffer(1)))!=S||fn&&ei(new fn)!=v||pn&&"[object Promise]"!=ei(pn.resolve())||dn&&ei(new dn)!=b||vn&&ei(new vn)!=O)&&(ei=function(t){var e=fr(t),n=e==g?t.constructor:void 0,r=n?Ei(n):"";if(r)switch(r){case bn:return S;case xn:return v;case wn:return"[object Promise]";case On:return b;case kn:return O}return e});var ci=wt?zo:au;function li(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xt)}function hi(t){return t===t&&!Uo(t)}function fi(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in dt(n)))}}function pi(t,e,r){return e=an(void 0===e?t.length-1:e,0),function(){for(var a=arguments,i=-1,o=an(a.length-e,0),s=n(o);++i<o;)s[i]=a[e+i];i=-1;for(var u=n(e+1);++i<e;)u[i]=a[i];return u[e]=r(s),ie(t,this,u)}}function di(t,e){return e.length<2?t:lr(t,Hr(e,0,-1))}function vi(t,e){for(var n=t.length,r=on(e.length,n),a=ma(t);r--;){var i=e[r];t[r]=ii(i,n)?a[i]:void 0}return t}function mi(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var gi=wi(Wr),yi=$e||function(t,e){return qt.setTimeout(t,e)},bi=wi(Ur);function xi(t,e,n){var r=e+"";return bi(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(J,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return se(s,(function(n){var r="_."+n[0];e&n[1]&&!he(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(Z);return e?e[1].split(Q):[]}(r),n)))}function wi(t){var e=0,n=0;return function(){var r=sn(),a=16-(r-n);if(n=r,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Oi(t,e){var n=-1,r=t.length,a=r-1;for(e=void 0===e?r:e;++n<e;){var i=Rr(n,a),o=t[i];t[i]=t[n],t[n]=o}return t.length=e,t}var ki=function(t){var e=Oo(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(G,(function(t,n,r,a){e.push(r?a.replace(et,"$1"):n||t)})),e}));function Si(t){if("string"==typeof t||$o(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ei(t){if(null!=t){try{return Ot.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ci(t){if(t instanceof Mn)return t.clone();var e=new _n(t.__wrapped__,t.__chain__);return e.__actions__=ma(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ji=Fr((function(t,e){return Ro(t)?Zn(t,ar(e,1,Ro,!0)):[]})),Ti=Fr((function(t,e){var n=Fi(e);return Ro(n)&&(n=void 0),Ro(t)?Zn(t,ar(e,1,Ro,!0),Ka(n,2)):[]})),Ai=Fr((function(t,e){var n=Fi(e);return Ro(n)&&(n=void 0),Ro(t)?Zn(t,ar(e,1,Ro,!0),void 0,n):[]}));function _i(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=null==n?0:ns(n);return a<0&&(a=an(r+a,0)),xe(t,Ka(e,3),a)}function Mi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=r-1;return void 0!==n&&(a=ns(n),a=n<0?an(r+a,0):on(a,r-1)),xe(t,Ka(e,3),a,!0)}function Ni(t){return(null==t?0:t.length)?ar(t,1):[]}function Ii(t){return t&&t.length?t[0]:void 0}var Di=Fr((function(t){var e=pe(t,aa);return e.length&&e[0]===t[0]?mr(e):[]})),Ri=Fr((function(t){var e=Fi(t),n=pe(t,aa);return e===Fi(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mr(n,Ka(e,2)):[]})),Pi=Fr((function(t){var e=Fi(t),n=pe(t,aa);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mr(n,void 0,e):[]}));function Fi(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Li=Fr(zi);function zi(t,e){return t&&t.length&&e&&e.length?Ir(t,e):t}var Bi=Va((function(t,e){var n=null==t?0:t.length,r=qn(t,e);return Dr(t,pe(e,(function(t){return ii(t,n)?+t:t})).sort(pa)),r}));function Wi(t){return null==t?t:ln.call(t)}var Ui=Fr((function(t){return Jr(ar(t,1,Ro,!0))})),Vi=Fr((function(t){var e=Fi(t);return Ro(e)&&(e=void 0),Jr(ar(t,1,Ro,!0),Ka(e,2))})),Hi=Fr((function(t){var e=Fi(t);return e="function"==typeof e?e:void 0,Jr(ar(t,1,Ro,!0),void 0,e)}));function Gi(t){if(!t||!t.length)return[];var e=0;return t=le(t,(function(t){if(Ro(t))return e=an(t.length,e),!0})),Ae(e,(function(e){return pe(t,Ee(e))}))}function Yi(t,e){if(!t||!t.length)return[];var n=Gi(t);return null==e?n:pe(n,(function(t){return ie(e,void 0,t)}))}var qi=Fr((function(t,e){return Ro(t)?Zn(t,e):[]})),Xi=Fr((function(t){return na(le(t,Ro))})),Ki=Fr((function(t){var e=Fi(t);return Ro(e)&&(e=void 0),na(le(t,Ro),Ka(e,2))})),$i=Fr((function(t){var e=Fi(t);return e="function"==typeof e?e:void 0,na(le(t,Ro),void 0,e)})),Ji=Fr(Gi);var Zi=Fr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Yi(t,n)}));function Qi(t){var e=jn(t);return e.__chain__=!0,e}function to(t,e){return e(t)}var eo=Va((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,a=function(e){return qn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Mn&&ii(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:to,args:[a],thisArg:void 0}),new _n(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(a)}));var no=ya((function(t,e,n){kt.call(t,n)?++t[n]:Yn(t,n,1)}));var ro=Ea(_i),ao=Ea(Mi);function io(t,e){return(No(t)?se:Qn)(t,Ka(e,3))}function oo(t,e){return(No(t)?ue:tr)(t,Ka(e,3))}var so=ya((function(t,e,n){kt.call(t,n)?t[n].push(e):Yn(t,n,[e])}));var uo=Fr((function(t,e,r){var a=-1,i="function"==typeof e,o=Do(t)?n(t.length):[];return Qn(t,(function(t){o[++a]=i?ie(e,t,r):gr(t,e,r)})),o})),co=ya((function(t,e,n){Yn(t,n,e)}));function lo(t,e){return(No(t)?pe:Cr)(t,Ka(e,3))}var ho=ya((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var fo=Fr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&oi(t,e[0],e[1])?e=[]:n>2&&oi(e[0],e[1],e[2])&&(e=[e[0]]),Mr(t,ar(e,1),[])})),po=Ke||function(){return qt.Date.now()};function vo(t,e,n){return e=n?void 0:e,La(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function mo(t,e){var n;if("function"!=typeof e)throw new gt(i);return t=ns(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var go=Fr((function(t,e,n){var r=1;if(n.length){var a=Ue(n,Xa(go));r|=32}return La(t,r,e,n,a)})),yo=Fr((function(t,e,n){var r=3;if(n.length){var a=Ue(n,Xa(yo));r|=32}return La(e,r,t,n,a)}));function bo(t,e,n){var r,a,o,s,u,c,l=0,h=!1,f=!1,p=!0;if("function"!=typeof t)throw new gt(i);function d(e){var n=r,i=a;return r=a=void 0,l=e,s=t.apply(i,n)}function v(t){return l=t,u=yi(g,e),h?d(t):s}function m(t){var n=t-c;return void 0===c||n>=e||n<0||f&&t-l>=o}function g(){var t=po();if(m(t))return y(t);u=yi(g,function(t){var n=e-(t-c);return f?on(n,o-(t-l)):n}(t))}function y(t){return u=void 0,p&&r?d(t):(r=a=void 0,s)}function b(){var t=po(),n=m(t);if(r=arguments,a=this,c=t,n){if(void 0===u)return v(c);if(f)return ca(u),u=yi(g,e),d(c)}return void 0===u&&(u=yi(g,e)),s}return e=as(e)||0,Uo(n)&&(h=!!n.leading,o=(f="maxWait"in n)?an(as(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==u&&ca(u),l=0,r=c=a=u=void 0},b.flush=function(){return void 0===u?s:y(po())},b}var xo=Fr((function(t,e){return Jn(t,1,e)})),wo=Fr((function(t,e,n){return Jn(t,as(e)||0,n)}));function Oo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new gt(i);var n=function n(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Oo.Cache||Dn),n}function ko(t){if("function"!=typeof t)throw new gt(i);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Oo.Cache=Dn;var So=sa((function(t,e){var n=(e=1==e.length&&No(e[0])?pe(e[0],_e(Ka())):pe(ar(e,1),_e(Ka()))).length;return Fr((function(r){for(var a=-1,i=on(r.length,n);++a<i;)r[a]=e[a].call(this,r[a]);return ie(t,this,r)}))})),Eo=Fr((function(t,e){return La(t,32,void 0,e,Ue(e,Xa(Eo)))})),Co=Fr((function(t,e){return La(t,64,void 0,e,Ue(e,Xa(Co)))})),jo=Va((function(t,e){return La(t,256,void 0,void 0,void 0,e)}));function To(t,e){return t===e||t!==t&&e!==e}var Ao=Ia(pr),_o=Ia((function(t,e){return t>=e})),Mo=yr(function(){return arguments}())?yr:function(t){return Vo(t)&&kt.call(t,"callee")&&!Yt.call(t,"callee")},No=n.isArray,Io=Qt?_e(Qt):function(t){return Vo(t)&&fr(t)==k};function Do(t){return null!=t&&Wo(t.length)&&!zo(t)}function Ro(t){return Vo(t)&&Do(t)}var Po=tn||au,Fo=te?_e(te):function(t){return Vo(t)&&fr(t)==h};function Lo(t){if(!Vo(t))return!1;var e=fr(t);return e==f||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Yo(t)}function zo(t){if(!Uo(t))return!1;var e=fr(t);return e==p||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Bo(t){return"number"==typeof t&&t==ns(t)}function Wo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Uo(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Vo(t){return null!=t&&"object"==typeof t}var Ho=ee?_e(ee):function(t){return Vo(t)&&ei(t)==v};function Go(t){return"number"==typeof t||Vo(t)&&fr(t)==m}function Yo(t){if(!Vo(t)||fr(t)!=g)return!1;var e=Ut(t);if(null===e)return!0;var n=kt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ot.call(n)==jt}var qo=ne?_e(ne):function(t){return Vo(t)&&fr(t)==y};var Xo=re?_e(re):function(t){return Vo(t)&&ei(t)==b};function Ko(t){return"string"==typeof t||!No(t)&&Vo(t)&&fr(t)==x}function $o(t){return"symbol"==typeof t||Vo(t)&&fr(t)==w}var Jo=ae?_e(ae):function(t){return Vo(t)&&Wo(t.length)&&!!Bt[fr(t)]};var Zo=Ia(Er),Qo=Ia((function(t,e){return t<=e}));function ts(t){if(!t)return[];if(Do(t))return Ko(t)?Ye(t):ma(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=ei(t);return(e==v?Be:e==b?Ve:Ts)(t)}function es(t){return t?(t=as(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function ns(t){var e=es(t),n=e%1;return e===e?n?e-n:e:0}function rs(t){return t?Xn(ns(t),0,4294967295):0}function as(t){if("number"==typeof t)return t;if($o(t))return NaN;if(Uo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Uo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(X,"");var n=it.test(t);return n||st.test(t)?Ht(t.slice(2),n?2:8):at.test(t)?NaN:+t}function is(t){return ga(t,xs(t))}function os(t){return null==t?"":$r(t)}var ss=ba((function(t,e){if(li(e)||Do(e))ga(e,bs(e),t);else for(var n in e)kt.call(e,n)&&Un(t,n,e[n])})),us=ba((function(t,e){ga(e,xs(e),t)})),cs=ba((function(t,e,n,r){ga(e,xs(e),t,r)})),ls=ba((function(t,e,n,r){ga(e,bs(e),t,r)})),hs=Va(qn);var fs=Fr((function(t,e){t=dt(t);var n=-1,r=e.length,a=r>2?e[2]:void 0;for(a&&oi(e[0],e[1],a)&&(r=1);++n<r;)for(var i=e[n],o=xs(i),s=-1,u=o.length;++s<u;){var c=o[s],l=t[c];(void 0===l||To(l,xt[c])&&!kt.call(t,c))&&(t[c]=i[c])}return t})),ps=Fr((function(t){return t.push(void 0,Ba),ie(Os,void 0,t)}));function ds(t,e,n){var r=null==t?void 0:lr(t,e);return void 0===r?n:r}function vs(t,e){return null!=t&&ni(t,e,vr)}var ms=Ta((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ct.call(e)),t[e]=n}),Us(Gs)),gs=Ta((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ct.call(e)),kt.call(t,e)?t[e].push(n):t[e]=[n]}),Ka),ys=Fr(gr);function bs(t){return Do(t)?Fn(t):kr(t)}function xs(t){return Do(t)?Fn(t,!0):Sr(t)}var ws=ba((function(t,e,n){Ar(t,e,n)})),Os=ba((function(t,e,n,r){Ar(t,e,n,r)})),ks=Va((function(t,e){var n={};if(null==t)return n;var r=!1;e=pe(e,(function(e){return e=oa(e,t),r||(r=e.length>1),e})),ga(t,Ga(t),n),r&&(n=Kn(n,7,Wa));for(var a=e.length;a--;)Zr(n,e[a]);return n}));var Ss=Va((function(t,e){return null==t?{}:function(t,e){return Nr(t,e,(function(e,n){return vs(t,n)}))}(t,e)}));function Es(t,e){if(null==t)return{};var n=pe(Ga(t),(function(t){return[t]}));return e=Ka(e),Nr(t,n,(function(t,n){return e(t,n[0])}))}var Cs=Fa(bs),js=Fa(xs);function Ts(t){return null==t?[]:Me(t,bs(t))}var As=ka((function(t,e,n){return e=e.toLowerCase(),t+(n?_s(e):e)}));function _s(t){return Ls(os(t).toLowerCase())}function Ms(t){return(t=os(t))&&t.replace(ct,Pe).replace(It,"")}var Ns=ka((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Is=ka((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ds=Oa("toLowerCase");var Rs=ka((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Ps=ka((function(t,e,n){return t+(n?" ":"")+Ls(e)}));var Fs=ka((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ls=Oa("toUpperCase");function zs(t,e,n){return t=os(t),void 0===(e=n?void 0:e)?function(t){return Ft.test(t)}(t)?function(t){return t.match(Rt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Bs=Fr((function(t,e){try{return ie(t,void 0,e)}catch(n){return Lo(n)?n:new a(n)}})),Ws=Va((function(t,e){return se(e,(function(e){e=Si(e),Yn(t,e,go(t[e],t))})),t}));function Us(t){return function(){return t}}var Vs=Ca(),Hs=Ca(!0);function Gs(t){return t}function Ys(t){return Or("function"==typeof t?t:Kn(t,1))}var qs=Fr((function(t,e){return function(n){return gr(n,t,e)}})),Xs=Fr((function(t,e){return function(n){return gr(t,n,e)}}));function Ks(t,e,n){var r=bs(e),a=cr(e,r);null!=n||Uo(e)&&(a.length||!r.length)||(n=e,e=t,t=this,a=cr(e,bs(e)));var i=!(Uo(n)&&"chain"in n)||!!n.chain,o=zo(t);return se(a,(function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__),a=n.__actions__=ma(this.__actions__);return a.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function $s(){}var Js=_a(pe),Zs=_a(ce),Qs=_a(ge);function tu(t){return si(t)?Ee(Si(t)):function(t){return function(e){return lr(e,t)}}(t)}var eu=Na(),nu=Na(!0);function ru(){return[]}function au(){return!1}var iu=Aa((function(t,e){return t+e}),0),ou=Ra("ceil"),su=Aa((function(t,e){return t/e}),1),uu=Ra("floor");var cu=Aa((function(t,e){return t*e}),1),lu=Ra("round"),hu=Aa((function(t,e){return t-e}),0);return jn.after=function(t,e){if("function"!=typeof e)throw new gt(i);return t=ns(t),function(){if(--t<1)return e.apply(this,arguments)}},jn.ary=vo,jn.assign=ss,jn.assignIn=us,jn.assignInWith=cs,jn.assignWith=ls,jn.at=hs,jn.before=mo,jn.bind=go,jn.bindAll=Ws,jn.bindKey=yo,jn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return No(t)?t:[t]},jn.chain=Qi,jn.chunk=function(t,e,r){e=(r?oi(t,e,r):void 0===e)?1:an(ns(e),0);var a=null==t?0:t.length;if(!a||e<1)return[];for(var i=0,o=0,s=n(Je(a/e));i<a;)s[o++]=Hr(t,i,i+=e);return s},jn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,a=[];++e<n;){var i=t[e];i&&(a[r++]=i)}return a},jn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],a=t;a--;)e[a-1]=arguments[a];return de(No(r)?ma(r):[r],ar(e,1))},jn.cond=function(t){var e=null==t?0:t.length,n=Ka();return t=e?pe(t,(function(t){if("function"!=typeof t[1])throw new gt(i);return[n(t[0]),t[1]]})):[],Fr((function(n){for(var r=-1;++r<e;){var a=t[r];if(ie(a[0],this,n))return ie(a[1],this,n)}}))},jn.conforms=function(t){return function(t){var e=bs(t);return function(n){return $n(n,t,e)}}(Kn(t,1))},jn.constant=Us,jn.countBy=no,jn.create=function(t,e){var n=Tn(t);return null==e?n:Gn(n,e)},jn.curry=function t(e,n,r){var a=La(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return a.placeholder=t.placeholder,a},jn.curryRight=function t(e,n,r){var a=La(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return a.placeholder=t.placeholder,a},jn.debounce=bo,jn.defaults=fs,jn.defaultsDeep=ps,jn.defer=xo,jn.delay=wo,jn.difference=ji,jn.differenceBy=Ti,jn.differenceWith=Ai,jn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=n||void 0===e?1:ns(e))<0?0:e,r):[]},jn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,0,(e=r-(e=n||void 0===e?1:ns(e)))<0?0:e):[]},jn.dropRightWhile=function(t,e){return t&&t.length?ta(t,Ka(e,3),!0,!0):[]},jn.dropWhile=function(t,e){return t&&t.length?ta(t,Ka(e,3),!0):[]},jn.fill=function(t,e,n,r){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&oi(t,e,n)&&(n=0,r=a),function(t,e,n,r){var a=t.length;for((n=ns(n))<0&&(n=-n>a?0:a+n),(r=void 0===r||r>a?a:ns(r))<0&&(r+=a),r=n>r?0:rs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},jn.filter=function(t,e){return(No(t)?le:rr)(t,Ka(e,3))},jn.flatMap=function(t,e){return ar(lo(t,e),1)},jn.flatMapDeep=function(t,e){return ar(lo(t,e),1/0)},jn.flatMapDepth=function(t,e,n){return n=void 0===n?1:ns(n),ar(lo(t,e),n)},jn.flatten=Ni,jn.flattenDeep=function(t){return(null==t?0:t.length)?ar(t,1/0):[]},jn.flattenDepth=function(t,e){return(null==t?0:t.length)?ar(t,e=void 0===e?1:ns(e)):[]},jn.flip=function(t){return La(t,512)},jn.flow=Vs,jn.flowRight=Hs,jn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var a=t[e];r[a[0]]=a[1]}return r},jn.functions=function(t){return null==t?[]:cr(t,bs(t))},jn.functionsIn=function(t){return null==t?[]:cr(t,xs(t))},jn.groupBy=so,jn.initial=function(t){return(null==t?0:t.length)?Hr(t,0,-1):[]},jn.intersection=Di,jn.intersectionBy=Ri,jn.intersectionWith=Pi,jn.invert=ms,jn.invertBy=gs,jn.invokeMap=uo,jn.iteratee=Ys,jn.keyBy=co,jn.keys=bs,jn.keysIn=xs,jn.map=lo,jn.mapKeys=function(t,e){var n={};return e=Ka(e,3),sr(t,(function(t,r,a){Yn(n,e(t,r,a),t)})),n},jn.mapValues=function(t,e){var n={};return e=Ka(e,3),sr(t,(function(t,r,a){Yn(n,r,e(t,r,a))})),n},jn.matches=function(t){return jr(Kn(t,1))},jn.matchesProperty=function(t,e){return Tr(t,Kn(e,1))},jn.memoize=Oo,jn.merge=ws,jn.mergeWith=Os,jn.method=qs,jn.methodOf=Xs,jn.mixin=Ks,jn.negate=ko,jn.nthArg=function(t){return t=ns(t),Fr((function(e){return _r(e,t)}))},jn.omit=ks,jn.omitBy=function(t,e){return Es(t,ko(Ka(e)))},jn.once=function(t){return mo(2,t)},jn.orderBy=function(t,e,n,r){return null==t?[]:(No(e)||(e=null==e?[]:[e]),No(n=r?void 0:n)||(n=null==n?[]:[n]),Mr(t,e,n))},jn.over=Js,jn.overArgs=So,jn.overEvery=Zs,jn.overSome=Qs,jn.partial=Eo,jn.partialRight=Co,jn.partition=ho,jn.pick=Ss,jn.pickBy=Es,jn.property=tu,jn.propertyOf=function(t){return function(e){return null==t?void 0:lr(t,e)}},jn.pull=Li,jn.pullAll=zi,jn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ir(t,e,Ka(n,2)):t},jn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ir(t,e,void 0,n):t},jn.pullAt=Bi,jn.range=eu,jn.rangeRight=nu,jn.rearg=jo,jn.reject=function(t,e){return(No(t)?le:rr)(t,ko(Ka(e,3)))},jn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,a=[],i=t.length;for(e=Ka(e,3);++r<i;){var o=t[r];e(o,r,t)&&(n.push(o),a.push(r))}return Dr(t,a),n},jn.rest=function(t,e){if("function"!=typeof t)throw new gt(i);return Fr(t,e=void 0===e?e:ns(e))},jn.reverse=Wi,jn.sampleSize=function(t,e,n){return e=(n?oi(t,e,n):void 0===e)?1:ns(e),(No(t)?zn:zr)(t,e)},jn.set=function(t,e,n){return null==t?t:Br(t,e,n)},jn.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Br(t,e,n,r)},jn.shuffle=function(t){return(No(t)?Bn:Vr)(t)},jn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&oi(t,e,n)?(e=0,n=r):(e=null==e?0:ns(e),n=void 0===n?r:ns(n)),Hr(t,e,n)):[]},jn.sortBy=fo,jn.sortedUniq=function(t){return t&&t.length?Xr(t):[]},jn.sortedUniqBy=function(t,e){return t&&t.length?Xr(t,Ka(e,2)):[]},jn.split=function(t,e,n){return n&&"number"!=typeof n&&oi(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=os(t))&&("string"==typeof e||null!=e&&!qo(e))&&!(e=$r(e))&&ze(t)?ua(Ye(t),0,n):t.split(e,n):[]},jn.spread=function(t,e){if("function"!=typeof t)throw new gt(i);return e=null==e?0:an(ns(e),0),Fr((function(n){var r=n[e],a=ua(n,0,e);return r&&de(a,r),ie(t,this,a)}))},jn.tail=function(t){var e=null==t?0:t.length;return e?Hr(t,1,e):[]},jn.take=function(t,e,n){return t&&t.length?Hr(t,0,(e=n||void 0===e?1:ns(e))<0?0:e):[]},jn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Hr(t,(e=r-(e=n||void 0===e?1:ns(e)))<0?0:e,r):[]},jn.takeRightWhile=function(t,e){return t&&t.length?ta(t,Ka(e,3),!1,!0):[]},jn.takeWhile=function(t,e){return t&&t.length?ta(t,Ka(e,3)):[]},jn.tap=function(t,e){return e(t),t},jn.throttle=function(t,e,n){var r=!0,a=!0;if("function"!=typeof t)throw new gt(i);return Uo(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),bo(t,e,{leading:r,maxWait:e,trailing:a})},jn.thru=to,jn.toArray=ts,jn.toPairs=Cs,jn.toPairsIn=js,jn.toPath=function(t){return No(t)?pe(t,Si):$o(t)?[t]:ma(ki(os(t)))},jn.toPlainObject=is,jn.transform=function(t,e,n){var r=No(t),a=r||Po(t)||Jo(t);if(e=Ka(e,4),null==n){var i=t&&t.constructor;n=a?r?new i:[]:Uo(t)&&zo(i)?Tn(Ut(t)):{}}return(a?se:sr)(t,(function(t,r,a){return e(n,t,r,a)})),n},jn.unary=function(t){return vo(t,1)},jn.union=Ui,jn.unionBy=Vi,jn.unionWith=Hi,jn.uniq=function(t){return t&&t.length?Jr(t):[]},jn.uniqBy=function(t,e){return t&&t.length?Jr(t,Ka(e,2)):[]},jn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jr(t,void 0,e):[]},jn.unset=function(t,e){return null==t||Zr(t,e)},jn.unzip=Gi,jn.unzipWith=Yi,jn.update=function(t,e,n){return null==t?t:Qr(t,e,ia(n))},jn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Qr(t,e,ia(n),r)},jn.values=Ts,jn.valuesIn=function(t){return null==t?[]:Me(t,xs(t))},jn.without=qi,jn.words=zs,jn.wrap=function(t,e){return Eo(ia(e),t)},jn.xor=Xi,jn.xorBy=Ki,jn.xorWith=$i,jn.zip=Ji,jn.zipObject=function(t,e){return ra(t||[],e||[],Un)},jn.zipObjectDeep=function(t,e){return ra(t||[],e||[],Br)},jn.zipWith=Zi,jn.entries=Cs,jn.entriesIn=js,jn.extend=us,jn.extendWith=cs,Ks(jn,jn),jn.add=iu,jn.attempt=Bs,jn.camelCase=As,jn.capitalize=_s,jn.ceil=ou,jn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=as(n))===n?n:0),void 0!==e&&(e=(e=as(e))===e?e:0),Xn(as(t),e,n)},jn.clone=function(t){return Kn(t,4)},jn.cloneDeep=function(t){return Kn(t,5)},jn.cloneDeepWith=function(t,e){return Kn(t,5,e="function"==typeof e?e:void 0)},jn.cloneWith=function(t,e){return Kn(t,4,e="function"==typeof e?e:void 0)},jn.conformsTo=function(t,e){return null==e||$n(t,e,bs(e))},jn.deburr=Ms,jn.defaultTo=function(t,e){return null==t||t!==t?e:t},jn.divide=su,jn.endsWith=function(t,e,n){t=os(t),e=$r(e);var r=t.length,a=n=void 0===n?r:Xn(ns(n),0,r);return(n-=e.length)>=0&&t.slice(n,a)==e},jn.eq=To,jn.escape=function(t){return(t=os(t))&&z.test(t)?t.replace(F,Fe):t},jn.escapeRegExp=function(t){return(t=os(t))&&q.test(t)?t.replace(Y,"\\$&"):t},jn.every=function(t,e,n){var r=No(t)?ce:er;return n&&oi(t,e,n)&&(e=void 0),r(t,Ka(e,3))},jn.find=ro,jn.findIndex=_i,jn.findKey=function(t,e){return be(t,Ka(e,3),sr)},jn.findLast=ao,jn.findLastIndex=Mi,jn.findLastKey=function(t,e){return be(t,Ka(e,3),ur)},jn.floor=uu,jn.forEach=io,jn.forEachRight=oo,jn.forIn=function(t,e){return null==t?t:ir(t,Ka(e,3),xs)},jn.forInRight=function(t,e){return null==t?t:or(t,Ka(e,3),xs)},jn.forOwn=function(t,e){return t&&sr(t,Ka(e,3))},jn.forOwnRight=function(t,e){return t&&ur(t,Ka(e,3))},jn.get=ds,jn.gt=Ao,jn.gte=_o,jn.has=function(t,e){return null!=t&&ni(t,e,dr)},jn.hasIn=vs,jn.head=Ii,jn.identity=Gs,jn.includes=function(t,e,n,r){t=Do(t)?t:Ts(t),n=n&&!r?ns(n):0;var a=t.length;return n<0&&(n=an(a+n,0)),Ko(t)?n<=a&&t.indexOf(e,n)>-1:!!a&&we(t,e,n)>-1},jn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=null==n?0:ns(n);return a<0&&(a=an(r+a,0)),we(t,e,a)},jn.inRange=function(t,e,n){return e=es(e),void 0===n?(n=e,e=0):n=es(n),function(t,e,n){return t>=on(e,n)&&t<an(e,n)}(t=as(t),e,n)},jn.invoke=ys,jn.isArguments=Mo,jn.isArray=No,jn.isArrayBuffer=Io,jn.isArrayLike=Do,jn.isArrayLikeObject=Ro,jn.isBoolean=function(t){return!0===t||!1===t||Vo(t)&&fr(t)==l},jn.isBuffer=Po,jn.isDate=Fo,jn.isElement=function(t){return Vo(t)&&1===t.nodeType&&!Yo(t)},jn.isEmpty=function(t){if(null==t)return!0;if(Do(t)&&(No(t)||"string"==typeof t||"function"==typeof t.splice||Po(t)||Jo(t)||Mo(t)))return!t.length;var e=ei(t);if(e==v||e==b)return!t.size;if(li(t))return!kr(t).length;for(var n in t)if(kt.call(t,n))return!1;return!0},jn.isEqual=function(t,e){return br(t,e)},jn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?br(t,e,void 0,n):!!r},jn.isError=Lo,jn.isFinite=function(t){return"number"==typeof t&&en(t)},jn.isFunction=zo,jn.isInteger=Bo,jn.isLength=Wo,jn.isMap=Ho,jn.isMatch=function(t,e){return t===e||xr(t,e,Ja(e))},jn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,xr(t,e,Ja(e),n)},jn.isNaN=function(t){return Go(t)&&t!=+t},jn.isNative=function(t){if(ci(t))throw new a("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(t)},jn.isNil=function(t){return null==t},jn.isNull=function(t){return null===t},jn.isNumber=Go,jn.isObject=Uo,jn.isObjectLike=Vo,jn.isPlainObject=Yo,jn.isRegExp=qo,jn.isSafeInteger=function(t){return Bo(t)&&t>=-9007199254740991&&t<=9007199254740991},jn.isSet=Xo,jn.isString=Ko,jn.isSymbol=$o,jn.isTypedArray=Jo,jn.isUndefined=function(t){return void 0===t},jn.isWeakMap=function(t){return Vo(t)&&ei(t)==O},jn.isWeakSet=function(t){return Vo(t)&&"[object WeakSet]"==fr(t)},jn.join=function(t,e){return null==t?"":nn.call(t,e)},jn.kebabCase=Ns,jn.last=Fi,jn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var a=r;return void 0!==n&&(a=(a=ns(n))<0?an(r+a,0):on(a,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,a):xe(t,ke,a,!0)},jn.lowerCase=Is,jn.lowerFirst=Ds,jn.lt=Zo,jn.lte=Qo,jn.max=function(t){return t&&t.length?nr(t,Gs,pr):void 0},jn.maxBy=function(t,e){return t&&t.length?nr(t,Ka(e,2),pr):void 0},jn.mean=function(t){return Se(t,Gs)},jn.meanBy=function(t,e){return Se(t,Ka(e,2))},jn.min=function(t){return t&&t.length?nr(t,Gs,Er):void 0},jn.minBy=function(t,e){return t&&t.length?nr(t,Ka(e,2),Er):void 0},jn.stubArray=ru,jn.stubFalse=au,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=cu,jn.nth=function(t,e){return t&&t.length?_r(t,ns(e)):void 0},jn.noConflict=function(){return qt._===this&&(qt._=Tt),this},jn.noop=$s,jn.now=po,jn.pad=function(t,e,n){t=os(t);var r=(e=ns(e))?Ge(t):0;if(!e||r>=e)return t;var a=(e-r)/2;return Ma(Ze(a),n)+t+Ma(Je(a),n)},jn.padEnd=function(t,e,n){t=os(t);var r=(e=ns(e))?Ge(t):0;return e&&r<e?t+Ma(e-r,n):t},jn.padStart=function(t,e,n){t=os(t);var r=(e=ns(e))?Ge(t):0;return e&&r<e?Ma(e-r,n)+t:t},jn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),un(os(t).replace(K,""),e||0)},jn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&oi(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=es(t),void 0===e?(e=t,t=0):e=es(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var a=cn();return on(t+a*(e-t+Vt("1e-"+((a+"").length-1))),e)}return Rr(t,e)},jn.reduce=function(t,e,n){var r=No(t)?ve:je,a=arguments.length<3;return r(t,Ka(e,4),n,a,Qn)},jn.reduceRight=function(t,e,n){var r=No(t)?me:je,a=arguments.length<3;return r(t,Ka(e,4),n,a,tr)},jn.repeat=function(t,e,n){return e=(n?oi(t,e,n):void 0===e)?1:ns(e),Pr(os(t),e)},jn.replace=function(){var t=arguments,e=os(t[0]);return t.length<3?e:e.replace(t[1],t[2])},jn.result=function(t,e,n){var r=-1,a=(e=oa(e,t)).length;for(a||(a=1,t=void 0);++r<a;){var i=null==t?void 0:t[Si(e[r])];void 0===i&&(r=a,i=n),t=zo(i)?i.call(t):i}return t},jn.round=lu,jn.runInContext=t,jn.sample=function(t){return(No(t)?Ln:Lr)(t)},jn.size=function(t){if(null==t)return 0;if(Do(t))return Ko(t)?Ge(t):t.length;var e=ei(t);return e==v||e==b?t.size:kr(t).length},jn.snakeCase=Rs,jn.some=function(t,e,n){var r=No(t)?ge:Gr;return n&&oi(t,e,n)&&(e=void 0),r(t,Ka(e,3))},jn.sortedIndex=function(t,e){return Yr(t,e)},jn.sortedIndexBy=function(t,e,n){return qr(t,e,Ka(n,2))},jn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Yr(t,e);if(r<n&&To(t[r],e))return r}return-1},jn.sortedLastIndex=function(t,e){return Yr(t,e,!0)},jn.sortedLastIndexBy=function(t,e,n){return qr(t,e,Ka(n,2),!0)},jn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Yr(t,e,!0)-1;if(To(t[n],e))return n}return-1},jn.startCase=Ps,jn.startsWith=function(t,e,n){return t=os(t),n=null==n?0:Xn(ns(n),0,t.length),e=$r(e),t.slice(n,n+e.length)==e},jn.subtract=hu,jn.sum=function(t){return t&&t.length?Te(t,Gs):0},jn.sumBy=function(t,e){return t&&t.length?Te(t,Ka(e,2)):0},jn.template=function(t,e,n){var r=jn.templateSettings;n&&oi(t,e,n)&&(e=void 0),t=os(t),e=cs({},e,r,za);var a,i,o=cs({},e.imports,r.imports,za),s=bs(o),u=Me(o,s),c=0,l=e.interpolate||lt,h="__p += '",f=vt((e.escape||lt).source+"|"+l.source+"|"+(l===U?nt:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),p="//# sourceURL="+(kt.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++zt+"]")+"\n";t.replace(f,(function(e,n,r,o,s,u){return r||(r=o),h+=t.slice(c,u).replace(ht,Le),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(i=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),h+="';\n";var d=kt.call(e,"variable")&&e.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(i?h.replace(I,""):h).replace(D,"$1").replace(R,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Bs((function(){return ft(s,p+"return "+h).apply(void 0,u)}));if(v.source=h,Lo(v))throw v;return v},jn.times=function(t,e){if((t=ns(t))<1||t>9007199254740991)return[];var n=4294967295,r=on(t,4294967295);t-=4294967295;for(var a=Ae(r,e=Ka(e));++n<t;)e(n);return a},jn.toFinite=es,jn.toInteger=ns,jn.toLength=rs,jn.toLower=function(t){return os(t).toLowerCase()},jn.toNumber=as,jn.toSafeInteger=function(t){return t?Xn(ns(t),-9007199254740991,9007199254740991):0===t?t:0},jn.toString=os,jn.toUpper=function(t){return os(t).toUpperCase()},jn.trim=function(t,e,n){if((t=os(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=$r(e)))return t;var r=Ye(t),a=Ye(e);return ua(r,Ie(r,a),De(r,a)+1).join("")},jn.trimEnd=function(t,e,n){if((t=os(t))&&(n||void 0===e))return t.replace($,"");if(!t||!(e=$r(e)))return t;var r=Ye(t);return ua(r,0,De(r,Ye(e))+1).join("")},jn.trimStart=function(t,e,n){if((t=os(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=$r(e)))return t;var r=Ye(t);return ua(r,Ie(r,Ye(e))).join("")},jn.truncate=function(t,e){var n=30,r="...";if(Uo(e)){var a="separator"in e?e.separator:a;n="length"in e?ns(e.length):n,r="omission"in e?$r(e.omission):r}var i=(t=os(t)).length;if(ze(t)){var o=Ye(t);i=o.length}if(n>=i)return t;var s=n-Ge(r);if(s<1)return r;var u=o?ua(o,0,s).join(""):t.slice(0,s);if(void 0===a)return u+r;if(o&&(s+=u.length-s),qo(a)){if(t.slice(s).search(a)){var c,l=u;for(a.global||(a=vt(a.source,os(rt.exec(a))+"g")),a.lastIndex=0;c=a.exec(l);)var h=c.index;u=u.slice(0,void 0===h?s:h)}}else if(t.indexOf($r(a),s)!=s){var f=u.lastIndexOf(a);f>-1&&(u=u.slice(0,f))}return u+r},jn.unescape=function(t){return(t=os(t))&&L.test(t)?t.replace(P,qe):t},jn.uniqueId=function(t){var e=++St;return os(t)+e},jn.upperCase=Fs,jn.upperFirst=Ls,jn.each=io,jn.eachRight=oo,jn.first=Ii,Ks(jn,function(){var t={};return sr(jn,(function(e,n){kt.call(jn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),jn.VERSION="4.17.15",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){jn[t].placeholder=jn})),se(["drop","take"],(function(t,e){Mn.prototype[t]=function(n){n=void 0===n?1:an(ns(n),0);var r=this.__filtered__&&!e?new Mn(this):this.clone();return r.__filtered__?r.__takeCount__=on(n,r.__takeCount__):r.__views__.push({size:on(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Mn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Mn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ka(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Mn.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Mn.prototype[t]=function(){return this.__filtered__?new Mn(this):this[n](1)}})),Mn.prototype.compact=function(){return this.filter(Gs)},Mn.prototype.find=function(t){return this.filter(t).head()},Mn.prototype.findLast=function(t){return this.reverse().find(t)},Mn.prototype.invokeMap=Fr((function(t,e){return"function"==typeof t?new Mn(this):this.map((function(n){return gr(n,t,e)}))})),Mn.prototype.reject=function(t){return this.filter(ko(Ka(t)))},Mn.prototype.slice=function(t,e){t=ns(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Mn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=ns(e))<0?n.dropRight(-e):n.take(e-t)),n)},Mn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mn.prototype.toArray=function(){return this.take(4294967295)},sr(Mn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),a=jn[r?"take"+("last"==e?"Right":""):e],i=r||/^find/.test(e);a&&(jn.prototype[e]=function(){var e=this.__wrapped__,o=r?[1]:arguments,s=e instanceof Mn,u=o[0],c=s||No(e),l=function(t){var e=a.apply(jn,de([t],o));return r&&h?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var h=this.__chain__,f=!!this.__actions__.length,p=i&&!h,d=s&&!f;if(!i&&c){e=d?e:new Mn(this);var v=t.apply(e,o);return v.__actions__.push({func:to,args:[l],thisArg:void 0}),new _n(v,h)}return p&&d?t.apply(this,o):(v=this.thru(l),p?r?v.value()[0]:v.value():v)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);jn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var a=this.value();return e.apply(No(a)?a:[],t)}return this[n]((function(n){return e.apply(No(n)?n:[],t)}))}})),sr(Mn.prototype,(function(t,e){var n=jn[e];if(n){var r=n.name+"";kt.call(yn,r)||(yn[r]=[]),yn[r].push({name:e,func:n})}})),yn[ja(void 0,2).name]=[{name:"wrapper",func:void 0}],Mn.prototype.clone=function(){var t=new Mn(this.__wrapped__);return t.__actions__=ma(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ma(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ma(this.__views__),t},Mn.prototype.reverse=function(){if(this.__filtered__){var t=new Mn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Mn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=No(t),r=e<0,a=n?t.length:0,i=function(t,e,n){var r=-1,a=n.length;for(;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=on(e,t+o);break;case"takeRight":t=an(t,e-o)}}return{start:t,end:e}}(0,a,this.__views__),o=i.start,s=i.end,u=s-o,c=r?s:o-1,l=this.__iteratees__,h=l.length,f=0,p=on(u,this.__takeCount__);if(!n||!r&&a==u&&p==u)return ea(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var v=-1,m=t[c+=e];++v<h;){var g=l[v],y=g.iteratee,b=g.type,x=y(m);if(2==b)m=x;else if(!x){if(1==b)continue t;break t}}d[f++]=m}return d},jn.prototype.at=eo,jn.prototype.chain=function(){return Qi(this)},jn.prototype.commit=function(){return new _n(this.value(),this.__chain__)},jn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},jn.prototype.plant=function(t){for(var e,n=this;n instanceof An;){var r=Ci(n);r.__index__=0,r.__values__=void 0,e?a.__wrapped__=r:e=r;var a=r;n=n.__wrapped__}return a.__wrapped__=t,e},jn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Mn){var e=t;return this.__actions__.length&&(e=new Mn(this)),(e=e.reverse()).__actions__.push({func:to,args:[Wi],thisArg:void 0}),new _n(e,this.__chain__)}return this.thru(Wi)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return ea(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Jt&&(jn.prototype[Jt]=function(){return this}),jn}();qt._=Xe,void 0===(a=function(){return Xe}.call(e,n,e,r))||(r.exports=a)}).call(this)}).call(this,n(59),n(46)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return c}));var r=n(11),a=n(7),i=n(2),o=n(8);var s=Object(o.a)({complex_:function(t,e){var n=Object(a.a)(t,"real","complex"),o=Object(a.a)(e,"imag","complex");return i.assertShapesMatch(n.shape,o.shape,"real and imag shapes, ".concat(n.shape," and ").concat(o.shape,", ")+"must match in call to tf.complex()."),r.a.runKernelFunc((function(t){return t.complex(n,o)}),{$real:n,$imag:o})}}),u=Object(o.a)({real_:function(t){var e=Object(a.a)(t,"input","real");return r.a.runKernelFunc((function(t){return t.real(e)}),{$input:e})}}),c=Object(o.a)({imag_:function(t){var e=Object(a.a)(t,"input","imag");return r.a.runKernelFunc((function(t){return t.imag(e)}),{$input:e})}})},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";n.d(e,"d",(function(){return Ye})),n.d(e,"c",(function(){return on})),n.d(e,"a",(function(){return bh})),n.d(e,"e",(function(){return jh})),n.d(e,"f",(function(){return Rh})),n.d(e,"b",(function(){return pd}));var r={};n.r(r),n.d(r,"scaleBand",(function(){return ya})),n.d(r,"scalePoint",(function(){return xa})),n.d(r,"scaleIdentity",(function(){return Wi})),n.d(r,"scaleLinear",(function(){return Bi})),n.d(r,"scaleLog",(function(){return $i})),n.d(r,"scaleSymlog",(function(){return to})),n.d(r,"scaleOrdinal",(function(){return ga})),n.d(r,"scaleImplicit",(function(){return ma})),n.d(r,"scalePow",(function(){return io})),n.d(r,"scaleSqrt",(function(){return oo})),n.d(r,"scaleQuantile",(function(){return so})),n.d(r,"scaleQuantize",(function(){return uo})),n.d(r,"scaleThreshold",(function(){return co})),n.d(r,"scaleTime",(function(){return du})),n.d(r,"scaleUtc",(function(){return wu})),n.d(r,"scaleSequential",(function(){return Su})),n.d(r,"scaleSequentialLog",(function(){return Eu})),n.d(r,"scaleSequentialPow",(function(){return ju})),n.d(r,"scaleSequentialSqrt",(function(){return Tu})),n.d(r,"scaleSequentialSymlog",(function(){return Cu})),n.d(r,"scaleSequentialQuantile",(function(){return Au})),n.d(r,"scaleDiverging",(function(){return Mu})),n.d(r,"scaleDivergingLog",(function(){return Nu})),n.d(r,"scaleDivergingPow",(function(){return Du})),n.d(r,"scaleDivergingSqrt",(function(){return Ru})),n.d(r,"scaleDivergingSymlog",(function(){return Iu})),n.d(r,"tickFormat",(function(){return Li}));n(251),n(273);if(!Object.setPrototypeOf&&!{}.__proto__){var a=Object.getPrototypeOf;Object.getPrototypeOf=function(t){return t.__proto__?t.__proto__:a.call(Object,t)}}var i=n(22),o=n.n(i),s=n(21),u=n.n(s),c=n(77),l=n.n(c),h=n(3),f=n.n(h),p=n(1),d=n.n(p),v=n(63),m=n.n(v),g=n(57),y=n.n(g);function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=function r(a){n<0&&(n=a),a-n>e?(t(a),n=-1):y()(r)};y()(r)}function x(t){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function O(){var t=function(){return null},e=!1;return{stop:function(){e=!0},start:function(n){e=!1,function n(r){if(!e){if(Array.isArray(r)){if(!r.length)return;var a=w(r),i=a[0],o=a.slice(1);return"number"===typeof i?void b(n.bind(null,o),i):(n(i),void b(n.bind(null,o)))}"object"===x(r)&&t(r),"function"===typeof r&&r()}}(n)},subscribe:function(e){return t=e,function(){t=function(){return null}}}}}var k=n(188),S=n.n(k);function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){C(t,e,n[e])}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j=["Webkit","Moz","O","ms"],T=["-webkit-","-moz-","-o-","-ms-"],A=["transform","transformOrigin","transition"],_=function(t){return t},M=function(t,e){return Object.keys(e).reduce((function(n,r){return E({},n,C({},r,t(r,e[r])))}),{})},N=function(t){return Object.keys(t).reduce((function(t,e){return E({},t,function(t,e){if(-1===A.indexOf(t))return C({},t,e);var n="transition"===t,r=t.replace(/(\w)/,(function(t){return t.toUpperCase()})),a=e;return j.reduce((function(t,i,o){return n&&(a=e.replace(/(transform|transform-origin)/gim,"".concat(T[o],"$1"))),E({},t,C({},i+r,a))}),{})}(e,t[e]))}),t)},I=function(t,e,n){return t.map((function(t){return"".concat((r=t,r.replace(/([A-Z])/g,(function(t){return"-".concat(t.toLowerCase())})))," ").concat(e,"ms ").concat(n);var r})).join(",")};function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function R(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var P=function(t,e){return[0,3*t,3*e-6*t,3*t-3*e+1]},F=function(t,e){return t.map((function(t,n){return t*Math.pow(e,n)})).reduce((function(t,e){return t+e}))},L=function(t,e){return function(n){var r=P(t,e);return F(r,n)}},z=function(t,e){return function(n){var r=R(P(t,e).map((function(t,e){return t*e})).slice(1)).concat([0]);return F(r,n)}},B=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=e[1],i=e[2],o=e[3];if(1===e.length)switch(e[0]){case"linear":r=0,a=0,i=1,o=1;break;case"ease":r=.25,a=.1,i=.25,o=1;break;case"ease-in":r=.42,a=0,i=1,o=1;break;case"ease-out":r=.42,a=0,i=.58,o=1;break;case"ease-in-out":r=0,a=0,i=.58,o=1;break;default:var s=e[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var u=s[1].split(")")[0].split(",").map((function(t){return parseFloat(t)})),c=D(u,4);r=c[0],a=c[1],i=c[2],o=c[3]}}[r,i,a,o].every((function(t){return"number"===typeof t&&t>=0&&t<=1}));var l=L(r,i),h=L(a,o),f=z(r,i),p=function(t){return t>1?1:t<0?0:t},d=function(t){for(var e=t>1?1:t,n=e,r=0;r<8;++r){var a=l(n)-e,i=f(n);if(Math.abs(a-e)<1e-4||i<1e-4)return h(n);n=p(n-a/i)}return h(n)};return d.isStepper=!1,d},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stiff,n=void 0===e?100:e,r=t.damping,a=void 0===r?8:r,i=t.dt,o=void 0===i?17:i,s=function(t,e,r){var i=r+(-(t-e)*n-r*a)*o/1e3,s=r*o/1e3+t;return Math.abs(s-e)<1e-4&&Math.abs(i)<1e-4?[e,0]:[s,i]};return s.isStepper=!0,s.dt=o,s},U=n(189),V=n.n(U);function H(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Y(t,e,n[e])}))}return t}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var X=function(t,e,n){return t+(e-t)*n},K=function(t){return t.from!==t.to},$=function(t,e,n,r,a){var i,o,s,u,c=(i=t,o=e,S()(Object.keys(i),Object.keys(o))),l=c.reduce((function(n,r){return G({},n,Y({},r,[t[r],e[r]]))}),{}),h=c.reduce((function(n,r){return G({},n,Y({},r,{from:t[r],velocity:0,to:e[r]}))}),{}),f=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var i=(r-s)/n.dt;h=function t(e,n,r){var a=M((function(t,n){if(K(n)){var r=q(e(n.from,n.to,n.velocity),2);return G({},n,{from:r[0],velocity:r[1]})}return n}),n);return r<1?M((function(t,e){return K(e)?G({},e,{velocity:X(e.velocity,a[t].velocity,r),from:X(e.from,a[t].from,r)}):e}),n):t(e,a,r-1)}(n,h,i),a(G({},t,e,M((function(t,e){return e.from}),h))),s=r,V()(h,K).length&&(f=y()(p))}:function(i){u||(u=i);var o=(i-u)/r,s=M((function(t,e){return X.apply(void 0,H(e).concat([n(o)]))}),l);if(a(G({},t,e,s)),o<1)f=y()(p);else{var c=M((function(t,e){return X.apply(void 0,H(e).concat([n(1)]))}),l);a(G({},t,e,c))}},function(){return y()(p),function(){Object(g.cancel)(f)}}};function J(t){return(J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Q(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){et(t,e,n[e])}))}return t}function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rt(t,e){return!e||"object"!==J(e)&&"function"!==typeof e?ot(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var st=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=(r=rt(this,at(e).call(this,t,n))).props,i=a.isActive,o=a.attributeName,s=a.from,u=a.to,c=a.steps,l=a.children;if(r.handleStyleChange=r.handleStyleChange.bind(ot(ot(r))),r.changeStyle=r.changeStyle.bind(ot(ot(r))),!i)return r.state={style:{}},"function"===typeof l&&(r.state={style:u}),rt(r);if(c&&c.length)r.state={style:c[0].style};else if(s){if("function"===typeof l)return r.state={style:s},rt(r);r.state={style:o?et({},o,s):s}}else r.state={style:{}};return r}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props,e=t.isActive,n=t.canBegin;this.mounted=!0,e&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.isActive,r=e.canBegin,a=e.attributeName,i=e.shouldReAnimate;if(r)if(n){if(!(m()(t.to,this.props.to)&&t.canBegin&&t.isActive)){var o=!t.canBegin||!t.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var s=o||i?this.props.from:t.to;this.setState({style:a?et({},a,s):s}),this.runAnimation(tt({},this.props,{from:s,begin:0}))}}else this.setState({style:a?et({},a,this.props.to):this.props.to})}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(t){var e=this,n=t.from,r=t.to,a=t.duration,i=t.easing,o=t.begin,s=t.onAnimationEnd,u=t.onAnimationStart,c=$(n,r,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return B(r);case"spring":return W();default:if("cubic-bezier"===r.split("(")[0])return B(r)}return"function"===typeof r?r:null}(i),a,this.changeStyle);this.manager.start([u,o,function(){e.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(t){var e=this,n=t.steps,r=t.begin,a=t.onAnimationStart,i=n[0],o=i.style,s=i.duration,u=void 0===s?0:s;return this.manager.start([a].concat(Q(n.reduce((function(t,r,a){if(0===a)return t;var i=r.duration,o=r.easing,s=void 0===o?"ease":o,u=r.style,c=r.properties,l=r.onAnimationEnd,h=a>0?n[a-1]:r,f=c||Object.keys(u);if("function"===typeof s||"spring"===s)return Q(t).concat([e.runJSAnimation.bind(e,{from:h.style,to:u,duration:i,easing:s}),i]);var p=I(f,i,s),d=tt({},h.style,u,{transition:p});return Q(t).concat([d,i,l]).filter(_)}),[o,Math.max(u,r)])),[t.onAnimationEnd]))}},{key:"runAnimation",value:function(t){this.manager||(this.manager=O());var e=t.begin,n=t.duration,r=t.attributeName,a=t.to,i=t.easing,o=t.onAnimationStart,s=t.onAnimationEnd,u=t.steps,c=t.children,l=this.manager;if(this.unSubscribe=l.subscribe(this.handleStyleChange),"function"!==typeof i&&"function"!==typeof c&&"spring"!==i)if(u.length>1)this.runStepAnimation(t);else{var h=r?et({},r,a):a,f=I(Object.keys(h),n,i);l.start([o,e,tt({},h,{transition:f}),n,s])}else this.runJSAnimation(t)}},{key:"handleStyleChange",value:function(t){this.changeStyle(t)}},{key:"changeStyle",value:function(t){this.mounted&&this.setState({style:t})}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.begin,t.duration,t.attributeName,t.easing,t.isActive),r=(t.steps,t.from,t.to,t.canBegin,t.onAnimationEnd,t.shouldReAnimate,t.onAnimationReStart,Z(t,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"])),a=h.Children.count(e),i=N(this.state.style);if("function"===typeof e)return e(i);if(!n||0===a)return e;var o=function(t){var e=t.props,n=e.style,a=void 0===n?{}:n,o=e.className;return Object(h.cloneElement)(t,tt({},r,{style:tt({},a,i),className:o}))};return 1===a?o(h.Children.only(e)):f.a.createElement("div",null,h.Children.map(e,(function(t){return o(t)})))}}])&&nt(n.prototype,r),a&&nt(n,a),e}(h.PureComponent);st.displayName="Animate",st.propTypes={from:d.a.oneOfType([d.a.object,d.a.string]),to:d.a.oneOfType([d.a.object,d.a.string]),attributeName:d.a.string,duration:d.a.number,begin:d.a.number,easing:d.a.oneOfType([d.a.string,d.a.func]),steps:d.a.arrayOf(d.a.shape({duration:d.a.number.isRequired,style:d.a.object.isRequired,easing:d.a.oneOfType([d.a.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),d.a.func]),properties:d.a.arrayOf("string"),onAnimationEnd:d.a.func})),children:d.a.oneOfType([d.a.node,d.a.func]),isActive:d.a.bool,canBegin:d.a.bool,onAnimationEnd:d.a.func,shouldReAnimate:d.a.bool,onAnimationStart:d.a.func,onAnimationReStart:d.a.func},st.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};var ut=st,ct=n(101),lt=n(73),ht=n.n(lt);function ft(t){return(ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(){return(pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function dt(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e){return!e||"object"!==ft(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.steps,n=t.duration;return e&&e.length?e.reduce((function(t,e){return t+(ht()(e.duration)&&e.duration>0?e.duration:0)}),0):ht()(n)?n:0},Ot=function(t){function e(){var t,n;mt(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=yt(this,(t=bt(e)).call.apply(t,[this].concat(a)))).state={isActive:!1},n.handleEnter=function(t,e){var r=n.props,a=r.appearOptions,i=r.enterOptions;n.handleStyleActive(e?a:i)},n.handleExit=function(){n.handleStyleActive(n.props.leaveOptions)},n}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,t),n=e,(r=[{key:"handleStyleActive",value:function(t){if(t){var e=t.onAnimationEnd?function(){t.onAnimationEnd()}:null;this.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){vt(t,e,n[e])}))}return t}({},t,{onAnimationEnd:e,isActive:!0}))}}},{key:"parseTimeout",value:function(){var t=this.props,e=t.appearOptions,n=t.enterOptions,r=t.leaveOptions;return wt(e)+wt(n)+wt(r)}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,r=(e.appearOptions,e.enterOptions,e.leaveOptions,dt(e,["children","appearOptions","enterOptions","leaveOptions"]));return f.a.createElement(ct.Transition,pt({},r,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return f.a.createElement(ut,t.state,h.Children.only(n))}))}}])&&gt(n.prototype,r),a&&gt(n,a),e}(h.Component);Ot.propTypes={appearOptions:d.a.object,enterOptions:d.a.object,leaveOptions:d.a.object,children:d.a.element};var kt=Ot;function St(t){var e=t.component,n=t.children,r=t.appear,a=t.enter,i=t.leave;return f.a.createElement(ct.TransitionGroup,{component:e},h.Children.map(n,(function(t,e){return f.a.createElement(kt,{appearOptions:r,enterOptions:a,leaveOptions:i,key:"child-".concat(e)},t)})))}St.propTypes={appear:d.a.object,enter:d.a.object,leave:d.a.object,children:d.a.oneOfType([d.a.array,d.a.element]),component:d.a.any},St.defaultProps={component:"span"};var Et=ut,Ct=n(25),jt=n.n(Ct),Tt=n(74),At=n.n(Tt),_t=n(26),Mt=n.n(_t),Nt=n(44),It=n.n(Nt),Dt=n(64),Rt=n.n(Dt),Pt=n(53),Ft=n.n(Pt),Lt=function(t){return 0===t?0:t>0?1:-1},zt=function(t){return Ft()(t)&&t.indexOf("%")===t.length-1},Bt=function(t){return ht()(t)&&!Rt()(t)},Wt=function(t){return Bt(t)||Ft()(t)},Ut=0,Vt=function(t){var e=++Ut;return"".concat(t||"").concat(e)},Ht=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Bt(t)&&!Ft()(t))return r;if(zt(t)){var i=t.indexOf("%");n=e*parseFloat(t.slice(0,i))/100}else n=+t;return Rt()(n)&&(n=r),a&&n>e&&(n=e),n},Gt=function(t){if(!t)return null;var e=Object.keys(t);return e&&e.length?t[e[0]]:null},Yt=function(t,e){return Bt(t)&&Bt(e)?function(n){return t+n*(e-t)}:function(){return e}},qt=function(t,e,n){return t&&t.length?t.find((function(t){return t&&("function"===typeof e?e(t):It()(t,e))===n})):null};function Xt(t){return(Xt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(n,!0).forEach((function(e){Zt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,e){return!e||"object"!==Xt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ae=function(t){return Mt()(t)&&Wt(t[0])&&Wt(t[1])?t.join(" ~ "):t},ie=function(t){function e(){return Qt(this,e),ee(this,ne(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,t),n=e,(r=[{key:"renderContent",value:function(){var t=this.props,e=t.payload,n=t.separator,r=t.formatter,a=t.itemStyle,i=t.itemSorter;if(e&&e.length){var o=(i?At()(e,i):e).map((function(t,e){if("none"===t.type)return null;var i=Jt({display:"block",paddingTop:4,paddingBottom:4,color:t.color||"#000"},a),o=t.formatter||r||ae,s=t.name,u=t.value;if(o){var c=o(u,s,t,e);if(Array.isArray(c)){var l=Kt(c,2);u=l[0],s=l[1]}else u=c}return f.a.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(e),style:i},Wt(s)?f.a.createElement("span",{className:"recharts-tooltip-item-name"},s):null,Wt(s)?f.a.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,f.a.createElement("span",{className:"recharts-tooltip-item-value"},u),f.a.createElement("span",{className:"recharts-tooltip-item-unit"},t.unit||""))}));return f.a.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},o)}return null}},{key:"render",value:function(){var t=this.props,e=t.wrapperClassName,n=t.contentStyle,r=t.labelClassName,a=t.labelStyle,i=t.label,o=t.labelFormatter,s=Jt({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),u=Jt({margin:0},a),c=Wt(i),l=c?i:"",h=jt()("recharts-default-tooltip",e),p=jt()("recharts-tooltip-label",r);return c&&o&&(l=o(i)),f.a.createElement("div",{className:h,style:s},f.a.createElement("p",{className:p,style:u},l),this.renderContent())}}])&&te(n.prototype,r),a&&te(n,a),e}(h.PureComponent);ie.displayName="DefaultTooltipContent",ie.propTypes={separator:d.a.string,wrapperClassName:d.a.string,labelClassName:d.a.string,formatter:d.a.func,contentStyle:d.a.object,itemStyle:d.a.object,labelStyle:d.a.object,labelFormatter:d.a.func,label:d.a.any,payload:d.a.arrayOf(d.a.shape({name:d.a.any,value:d.a.oneOfType([d.a.number,d.a.string,d.a.array]),unit:d.a.any})),itemSorter:d.a.func},ie.defaultProps={separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}};var oe=ie,se=n(37),ue=n.n(se);function ce(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function le(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function he(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var fe={"aria-current":d.a.string,"aria-details":d.a.any,"aria-disabled":d.a.any,"aria-hidden":d.a.any,"aria-invalid":d.a.any,"aria-keyshortcuts":d.a.any,"aria-label":d.a.any,"aria-roledescription":d.a.any,"aria-autocomplete":d.a.any,"aria-checked":d.a.any,"aria-expanded":d.a.any,"aria-haspopup":d.a.any,"aria-level":d.a.any,"aria-modal":d.a.any,"aria-multiline":d.a.any,"aria-multiselectable":d.a.any,"aria-orientation":d.a.any,"aria-placeholder":d.a.any,"aria-pressed":d.a.any,"aria-readonly":d.a.any,"aria-required":d.a.any,"aria-selected":d.a.any,"aria-sort":d.a.any,"aria-valuemax":d.a.any,"aria-valuemin":d.a.any,"aria-valuenow":d.a.any,"aria-valuetext":d.a.any,"aria-atomic":d.a.any,"aria-busy":d.a.any,"aria-live":d.a.any,"aria-relevant":d.a.any,"aria-dropeffect":d.a.any,"aria-grabbed":d.a.any,"aria-activedescendant":d.a.any,"aria-colcount":d.a.any,"aria-colindex":d.a.any,"aria-colspan":d.a.any,"aria-controls":d.a.any,"aria-describedby":d.a.any,"aria-errormessage":d.a.any,"aria-flowto":d.a.any,"aria-labelledby":d.a.any,"aria-owns":d.a.any,"aria-posinset":d.a.any,"aria-rowcount":d.a.any,"aria-rowindex":d.a.any,"aria-rowspan":d.a.any,"aria-setsize":d.a.any,alignmentBaseline:d.a.string,angle:d.a.number,baselineShift:d.a.string,clip:d.a.string,clipPath:d.a.string,clipRule:d.a.string,color:d.a.string,colorInterpolation:d.a.string,colorInterpolationFilters:d.a.string,colorProfile:d.a.string,colorRendering:d.a.string,cursor:d.a.string,direction:d.a.oneOf(["ltr","rtl","inherit"]),display:d.a.string,dominantBaseline:d.a.string,enableBackground:d.a.string,fill:d.a.string,fillOpacity:d.a.oneOfType([d.a.string,d.a.number]),fillRule:d.a.oneOf(["nonzero","evenodd","inherit"]),filter:d.a.string,floodColor:d.a.string,floodOpacity:d.a.oneOfType([d.a.string,d.a.number]),font:d.a.string,fontFamily:d.a.string,fontSize:d.a.oneOfType([d.a.number,d.a.string]),fontSizeAdjust:d.a.oneOfType([d.a.number,d.a.string]),fontStretch:d.a.oneOf(["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit"]),fontStyle:d.a.oneOf(["normal","italic","oblique","inherit"]),fontVariant:d.a.oneOf(["normal","small-caps","inherit"]),fontWeight:d.a.oneOf(["normal","bold","bolder","lighter",100,200,300,400,500,600,700,800,900,"inherit"]),glyphOrientationHorizontal:d.a.string,glyphOrientationVertical:d.a.string,imageRendering:d.a.oneOf(["auto","optimizeSpeed","optimizeQuality","inherit"]),kerning:d.a.oneOfType([d.a.number,d.a.string]),letterSpacing:d.a.oneOfType([d.a.number,d.a.string]),lightingColor:d.a.string,lineHeight:d.a.oneOfType([d.a.number,d.a.string]),markerEnd:d.a.string,markerMid:d.a.string,markerStart:d.a.string,mask:d.a.string,opacity:d.a.oneOfType([d.a.number,d.a.string]),overflow:d.a.oneOf(["visible","hidden","scroll","auto","inherit"]),pointerEvents:d.a.oneOf(["visiblePainted","visibleFill","visibleStroke","visible","painted","fill","stroke","all","none","inherit"]),shapeRendering:d.a.oneOf(["auto","optimizeSpeed","crispEdges","geometricPrecision","inherit"]),stopColor:d.a.string,stopOpacity:d.a.oneOfType([d.a.number,d.a.string]),stroke:d.a.oneOfType([d.a.number,d.a.string]),strokeDasharray:d.a.string,strokeDashoffset:d.a.oneOfType([d.a.number,d.a.string]),strokeLinecap:d.a.oneOf(["butt","round","square","inherit"]),strokeLinejoin:d.a.oneOf(["miter","round","bevel","inherit"]),strokeMiterlimit:d.a.oneOfType([d.a.number,d.a.string]),strokeOpacity:d.a.oneOfType([d.a.number,d.a.string]),strokeWidth:d.a.oneOfType([d.a.number,d.a.string]),textAnchor:d.a.oneOf(["start","middle","end","inherit"]),textDecoration:d.a.oneOf(["none","underline","overline","line-through","blink","inherit"]),textRendering:d.a.oneOf(["auto","optimizeSpeed","optimizeLegibility","geometricPrecision","inherit"]),unicodeBidi:d.a.oneOf(["normal","embed","bidi-override","inherit"]),visibility:d.a.oneOf(["visible","hidden","collapse","inherit"]),wordSpacing:d.a.oneOfType([d.a.number,d.a.string]),writingMode:d.a.oneOf(["lr-tb","rl-tb","tb-rl","lr","rl","tb","inherit"]),transform:d.a.string,role:d.a.string,focusable:d.a.string,tabIndex:d.a.string,style:d.a.object,width:d.a.number,height:d.a.number,dx:d.a.number,dy:d.a.number,x:d.a.number,y:d.a.number,r:d.a.number,radius:d.a.oneOfType([d.a.number,d.a.array])},pe={onClick:d.a.func,onMouseDown:d.a.func,onMouseUp:d.a.func,onMouseOver:d.a.func,onMouseMove:d.a.func,onMouseOut:d.a.func,onMouseEnter:d.a.func,onMouseLeave:d.a.func,onTouchEnd:d.a.func,onTouchMove:d.a.func,onTouchStart:d.a.func,onTouchCancel:d.a.func},de={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ve=["plainline","line","square","rect","circle","cross","diamond","star","triangle","wye","none"],me=["none"],ge=function(t){return"string"===typeof t?t:t?t.displayName||t.name||"Component":""},ye=function(t,e){var n=[],r=[];return r=Mt()(e)?e.map((function(t){return ge(t)})):[ge(e)],f.a.Children.forEach(t,(function(t){var e=t&&t.type&&(t.type.displayName||t.type.name);-1!==r.indexOf(e)&&n.push(t)})),n},be=function(t,e){var n=ye(t,e);return n&&n[0]},xe=function(t){if(!t||u()(t))return null;var e=f.a.isValidElement(t)?t.props:t;if(!ue()(e))return null;var n=null;for(var r in e)({}).hasOwnProperty.call(e,r)&&fe[r]&&(n||(n={}),n[r]=e[r]);return n},we=function(t,e){return function(n){return t(e,n),null}},Oe=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||u()(t))return null;var r=f.a.isValidElement(t)?t.props:t;if(!ue()(r))return null;var a=null;for(var i in r)({}).hasOwnProperty.call(r,i)&&pe[i]&&(a||(a={}),a[i]=e||(n?we(r[i],r):r[i]));return a},ke=function(t,e,n){return function(r){return t(e,n,r),null}},Se=function(t,e,n){if(!ue()(t))return null;var r=null;for(var a in t)({}).hasOwnProperty.call(t,a)&&pe[a]&&u()(t[a])&&(r||(r={}),r[a]=ke(t[a],e,n));return r},Ee=function(t){if(!t||!t.props)return!1;var e=t.props,n=e.width,r=e.height;return!(!Bt(n)||n<=0||!Bt(r)||r<=0)},Ce=function(){return!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout)},je=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Te=function(t,e){if(o()(t)&&o()(e))return!0;if(!o()(t)&&!o()(e)){var n=t.props||{},r=n.children,a=he(n,["children"]),i=e.props||{},s=i.children,u=he(i,["children"]);return r&&s?ce(a,u)&&Ae(r,s):!r&&!s&&ce(a,u)}return!1},Ae=function t(e,n){if(e===n)return!0;if(h.Children.count(e)!==h.Children.count(n))return!1;var r=h.Children.count(e);if(0===r)return!0;if(1===r)return Te(Mt()(e)?e[0]:e,Mt()(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],o=n[a];if(Mt()(i)||Mt()(o)){if(!t(i,o))return!1}else if(!Te(i,o))return!1}return!0},_e=function(t,e){var n=[],r={};return h.Children.forEach(t,(function(t,a){if(t&&function(t){return t&&t.type&&Ft()(t.type)&&je.indexOf(t.type)>=0}(t))n.push(t);else if(t&&e[ge(t.type)]){var i=ge(t.type),o=e[i],s=o.handler,u=o.once;if(u&&!r[i]||!u){var c=s(t,i,a);Mt()(c)?n=[n].concat(le(c)):n.push(c),r[i]=!0}}})),n},Me=function(t,e){var n=-1;return h.Children.forEach(e,(function(e,r){e===t&&(n=r)})),n};function Ne(t){return(Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(n,!0).forEach((function(e){Re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Le(t,e){return!e||"object"!==Ne(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Be(t,e){return(Be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var We="recharts-tooltip-wrapper",Ue=function(t){return t.dataKey},Ve={allowEscapeViewBox:d.a.shape({x:d.a.boolean,y:d.a.boolean}),content:d.a.oneOfType([d.a.element,d.a.func]),viewBox:d.a.shape({x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number}),active:d.a.bool,separator:d.a.string,formatter:d.a.func,offset:d.a.number,itemStyle:d.a.object,labelStyle:d.a.object,wrapperStyle:d.a.object,contentStyle:d.a.object,cursor:d.a.oneOfType([d.a.bool,d.a.element,d.a.object]),coordinate:d.a.shape({x:d.a.number,y:d.a.number}),position:d.a.shape({x:d.a.number,y:d.a.number}),label:d.a.any,payload:d.a.arrayOf(d.a.shape({name:d.a.any,value:d.a.oneOfType([d.a.number,d.a.string,d.a.array]),unit:d.a.any,type:d.a.oneOf(me)})),paylodUniqBy:d.a.oneOfType([d.a.func,d.a.bool]),isAnimationActive:d.a.bool,animationDuration:d.a.number,animationEasing:d.a.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),itemSorter:d.a.func,filterNull:d.a.bool,useTranslate3d:d.a.bool},He={active:!1,allowEscapeViewBox:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,isAnimationActive:!Ce(),animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1},Ge=function(t){function e(){var t,n;Pe(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Le(this,(t=ze(e)).call.apply(t,[this].concat(a)))).state={boxWidth:-1,boxHeight:-1},n.getTranslate=function(t){var e=t.key,r=t.tooltipDimension,a=t.viewBoxDimension,i=n.props,o=i.allowEscapeViewBox,s=i.coordinate,u=i.offset,c=i.position,l=i.viewBox;if(c&&Bt(c[e]))return c[e];var h=s[e]-r-u,f=s[e]+u;return o[e]?f:s[e]+r+u>l[e]+a?Math.max(h,l[e]):Math.max(f,l[e])},n}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Be(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var t=this.state,e=t.boxWidth,n=t.boxHeight;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-e)>1||Math.abs(r.height-n)>1)&&this.setState({boxWidth:r.width,boxHeight:r.height})}else-1===e&&-1===n||this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var t,e,n,r=this,a=this.props,i=a.payload,s=a.isAnimationActive,c=a.animationDuration,h=a.animationEasing,p=a.filterNull,d=function(t,e){return!0===t?l()(e,Ue):u()(t)?l()(e,t):e}(a.paylodUniqBy,p&&i&&i.length?i.filter((function(t){return!o()(t.value)})):i),v=d&&d.length,m=this.props,g=m.content,y=m.viewBox,b=m.coordinate,x=m.position,w=m.active,O=De({pointerEvents:"none",visibility:w&&v?"visible":"hidden",position:"absolute",top:0},m.wrapperStyle);if(x&&Bt(x.x)&&Bt(x.y))e=x.x,n=x.y;else{var k=this.state,S=k.boxWidth,E=k.boxHeight;S>0&&E>0&&b?(e=this.getTranslate({key:"x",tooltipDimension:S,viewBoxDimension:y.width}),n=this.getTranslate({key:"y",tooltipDimension:E,viewBoxDimension:y.height})):O.visibility="hidden"}O=De({},N({transform:this.props.useTranslate3d?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}),{},O),s&&w&&(O=De({},N({transition:"transform ".concat(c,"ms ").concat(h)}),{},O));var C=jt()(We,(Re(t={},"".concat(We,"-right"),Bt(e)&&b&&Bt(b.x)&&e>=b.x),Re(t,"".concat(We,"-left"),Bt(e)&&b&&Bt(b.x)&&e<b.x),Re(t,"".concat(We,"-bottom"),Bt(n)&&b&&Bt(b.y)&&n>=b.y),Re(t,"".concat(We,"-top"),Bt(n)&&b&&Bt(b.y)&&n<b.y),t));return f.a.createElement("div",{className:C,style:O,ref:function(t){r.wrapperNode=t}},function(t,e){return f.a.isValidElement(t)?f.a.cloneElement(t,e):u()(t)?t(e):f.a.createElement(oe,e)}(g,De({},this.props,{payload:d})))}}])&&Fe(n.prototype,r),a&&Fe(n,a),e}(h.PureComponent);Ge.displayName="Tooltip",Ge.propTypes=Ve,Ge.defaultProps=He;var Ye=Ge;function qe(t){return(qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(){return(Xe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ke(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function $e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$e(n,!0).forEach((function(e){Ze(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$e(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function en(t,e){return!e||"object"!==qe(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nn(t){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rn(t,e){return(rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var an=function(t){function e(){return Qe(this,e),en(this,nn(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rn(t,e)}(e,t),n=e,a=[{key:"renderLineItem",value:function(t,e){var n;if(f.a.isValidElement(t))n=f.a.cloneElement(t,e);else if(u()(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,o=e.y2,s=e.key,c=Ke(e,["x1","y1","x2","y2","key"]);n=f.a.createElement("line",Xe({},xe(c),{x1:r,y1:a,x2:i,y2:o,fill:"none",key:s}))}return n}}],(r=[{key:"renderHorizontal",value:function(t){var e=this,n=this.props,r=n.x,a=n.width,i=n.horizontal;if(!t||!t.length)return null;var o=t.map((function(t,n){var o=Je({},e.props,{x1:r,y1:t,x2:r+a,y2:t,key:"line-".concat(n),index:n});return e.constructor.renderLineItem(i,o)}));return f.a.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}},{key:"renderVertical",value:function(t){var e=this,n=this.props,r=n.y,a=n.height,i=n.vertical;if(!t||!t.length)return null;var o=t.map((function(t,n){var o=Je({},e.props,{x1:t,y1:r,x2:t,y2:r+a,key:"line-".concat(n),index:n});return e.constructor.renderLineItem(i,o)}));return f.a.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}},{key:"renderVerticalStripes",value:function(t){var e=this.props.verticalFill;if(!e||!e.length)return null;var n=this.props,r=n.fillOpacity,a=n.x,i=n.y,o=n.width,s=n.height,u=t.slice().sort((function(t,e){return t-e}));a!==u[0]&&u.unshift(0);var c=u.map((function(t,n){var c=u[n+1]?u[n+1]-t:a+o-t;if(c<=0)return null;var l=n%e.length;return f.a.createElement("rect",{key:"react-".concat(n),x:Math.round(t+a-a),y:i,width:c,height:s,stroke:"none",fill:e[l],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return f.a.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}},{key:"renderHorizontalStripes",value:function(t){var e=this.props.horizontalFill;if(!e||!e.length)return null;var n=this.props,r=n.fillOpacity,a=n.x,i=n.y,o=n.width,s=n.height,u=t.slice().sort((function(t,e){return t-e}));i!==u[0]&&u.unshift(0);var c=u.map((function(t,n){var c=u[n+1]?u[n+1]-t:i+s-t;if(c<=0)return null;var l=n%e.length;return f.a.createElement("rect",{key:"react-".concat(n),y:Math.round(t+i-i),x:a,height:c,width:o,stroke:"none",fill:e[l],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return f.a.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}},{key:"renderBackground",value:function(){var t=this.props.fill;if(!t||"none"===t)return null;var e=this.props,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height;return f.a.createElement("rect",{x:r,y:a,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.width,a=t.height,i=t.horizontal,o=t.vertical,s=t.horizontalCoordinatesGenerator,c=t.verticalCoordinatesGenerator,l=t.xAxis,h=t.yAxis,p=t.offset,d=t.chartWidth,v=t.chartHeight;if(!Bt(r)||r<=0||!Bt(a)||a<=0||!Bt(e)||e!==+e||!Bt(n)||n!==+n)return null;var m=this.props,g=m.horizontalPoints,y=m.verticalPoints;return g&&g.length||!u()(s)||(g=s({yAxis:h,width:d,height:v,offset:p})),y&&y.length||!u()(c)||(y=c({xAxis:l,width:d,height:v,offset:p})),f.a.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),i&&this.renderHorizontal(g),o&&this.renderVertical(y),i&&this.renderHorizontalStripes(g),o&&this.renderVerticalStripes(y))}}])&&tn(n.prototype,r),a&&tn(n,a),e}(h.PureComponent);an.displayName="CartesianGrid",an.propTypes=Je({},fe,{x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number,horizontal:d.a.oneOfType([d.a.object,d.a.element,d.a.func,d.a.bool]),vertical:d.a.oneOfType([d.a.object,d.a.element,d.a.func,d.a.bool]),horizontalPoints:d.a.arrayOf(d.a.number),verticalPoints:d.a.arrayOf(d.a.number),horizontalCoordinatesGenerator:d.a.func,verticalCoordinatesGenerator:d.a.func,xAxis:d.a.object,yAxis:d.a.object,offset:d.a.object,chartWidth:d.a.number,chartHeight:d.a.number,verticalFill:d.a.arrayOf(d.a.string),horizontalFill:d.a.arrayOf(d.a.string)}),an.defaultProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};var on=an,sn=n(48),un=n.n(sn),cn=function(){};function ln(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function hn(t){this._context=t}hn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ln(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ln(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fn(t){this._context=t}fn.prototype={areaStart:cn,areaEnd:cn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ln(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pn(t){this._context=t}pn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ln(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dn(t){this._context=t}dn.prototype={areaStart:cn,areaEnd:cn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function vn(t){this._context=t}vn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var mn=function(t){return new vn(t)};function gn(t){return t<0?-1:1}function yn(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(gn(i)+gn(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function bn(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xn(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,s=(i-r)/3;t._context.bezierCurveTo(r+s,a+s*e,i-s,o-s*n,i,o)}function wn(t){this._context=t}function On(t){this._context=new kn(t)}function kn(t){this._context=t}function Sn(t){this._context=t}function En(t){var e,n,r=t.length-1,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}wn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xn(this,this._t0,bn(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xn(this,bn(this,n=yn(this,t,e)),n);break;default:xn(this,this._t0,n=yn(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(On.prototype=Object.create(wn.prototype)).point=function(t,e){wn.prototype.point.call(this,e,t)},kn.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}},Sn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=En(t),a=En(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Cn(t,e){this._context=t,this._t=e}Cn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var jn=Math.PI,Tn=2*jn,An=Tn-1e-6;function _n(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Mn(){return new _n}_n.prototype=Mn.prototype={constructor:_n,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,s=n-t,u=r-e,c=i-t,l=o-e,h=c*c+l*l;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(l*s-u*c)>1e-6&&a){var f=n-i,p=r-o,d=s*s+u*u,v=f*f+p*p,m=Math.sqrt(d),g=Math.sqrt(h),y=a*Math.tan((jn-Math.acos((d+h-v)/(2*m*g)))/2),b=y/g,x=y/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+a+","+a+",0,0,"+ +(l*f>c*p)+","+(this._x1=t+x*s)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,a,i){t=+t,e=+e,i=!!i;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+o,c=e+s,l=1^i,h=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Tn+Tn),h>An?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=jn)+","+l+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Nn=Mn,In=function(t){return function(){return t}};function Dn(t){return t[0]}function Rn(t){return t[1]}var Pn=function(){var t=Dn,e=Rn,n=In(!0),r=null,a=mn,i=null;function o(o){var s,u,c,l=o.length,h=!1;for(null==r&&(i=a(c=Nn())),s=0;s<=l;++s)!(s<l&&n(u=o[s],s,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(u,s,o),+e(u,s,o));if(c)return i=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"===typeof e?e:In(+e),o):t},o.y=function(t){return arguments.length?(e="function"===typeof t?t:In(+t),o):e},o.defined=function(t){return arguments.length?(n="function"===typeof t?t:In(!!t),o):n},o.curve=function(t){return arguments.length?(a=t,null!=r&&(i=a(r)),o):a},o.context=function(t){return arguments.length?(null==t?r=i=null:i=a(r=t),o):r},o},Fn=function(){var t=Dn,e=null,n=In(0),r=Rn,a=In(!0),i=null,o=mn,s=null;function u(u){var c,l,h,f,p,d=u.length,v=!1,m=new Array(d),g=new Array(d);for(null==i&&(s=o(p=Nn())),c=0;c<=d;++c){if(!(c<d&&a(f=u[c],c,u))===v)if(v=!v)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=l;--h)s.point(m[h],g[h]);s.lineEnd(),s.areaEnd()}v&&(m[c]=+t(f,c,u),g[c]=+n(f,c,u),s.point(e?+e(f,c,u):m[c],r?+r(f,c,u):g[c]))}if(p)return s=null,p+""||null}function c(){return Pn().defined(a).curve(o).context(i)}return u.x=function(n){return arguments.length?(t="function"===typeof n?n:In(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"===typeof e?e:In(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"===typeof t?t:In(+t),u):e},u.y=function(t){return arguments.length?(n="function"===typeof t?t:In(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"===typeof t?t:In(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:In(+t),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(t){return arguments.length?(a="function"===typeof t?t:In(!!t),u):a},u.curve=function(t){return arguments.length?(o=t,null!=i&&(s=o(i)),u):o},u.context=function(t){return arguments.length?(null==t?i=s=null:s=o(i=t),u):i},u};function Ln(t){return(Ln="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zn(){return(zn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Bn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bn(n,!0).forEach((function(e){Un(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bn(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(t,e){return!e||"object"!==Ln(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yn(t){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xn={curveBasisClosed:function(t){return new fn(t)},curveBasisOpen:function(t){return new pn(t)},curveBasis:function(t){return new hn(t)},curveLinearClosed:function(t){return new dn(t)},curveLinear:mn,curveMonotoneX:function(t){return new wn(t)},curveMonotoneY:function(t){return new On(t)},curveNatural:function(t){return new Sn(t)},curveStep:function(t){return new Cn(t,.5)},curveStepAfter:function(t){return new Cn(t,1)},curveStepBefore:function(t){return new Cn(t,0)}},Kn=function(t){return t.x===+t.x&&t.y===+t.y},$n=function(t){return t.x},Jn=function(t){return t.y},Zn=function(t){function e(){return Vn(this,e),Gn(this,Yn(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}(e,t),n=e,(r=[{key:"getPath",value:function(){var t,e=this.props,n=e.type,r=e.points,a=e.baseLine,i=e.layout,o=e.connectNulls,s=function(t,e){if(u()(t))return t;var n="curve".concat(t.slice(0,1).toUpperCase()).concat(t.slice(1));return"curveMonotone"===n&&e?Xn["".concat(n).concat("vertical"===e?"Y":"X")]:Xn[n]||mn}(n,i),c=o?r.filter((function(t){return Kn(t)})):r;if(Mt()(a)){var l=o?a.filter((function(t){return Kn(t)})):a,h=c.map((function(t,e){return Wn({},t,{base:l[e]})}));return(t="vertical"===i?Fn().y(Jn).x1($n).x0((function(t){return t.base.x})):Fn().x($n).y1(Jn).y0((function(t){return t.base.y}))).defined(Kn).curve(s),t(h)}return(t="vertical"===i&&Bt(a)?Fn().y(Jn).x1($n).x0(a):Bt(a)?Fn().x($n).y1(Jn).y0(a):Pn().x($n).y(Jn)).defined(Kn).curve(s),t(c)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.points,r=t.path,a=t.pathRef;if((!n||!n.length)&&!r)return null;var i=n&&n.length?this.getPath():r;return f.a.createElement("path",zn({},xe(this.props),Oe(this.props,null,!0),{className:jt()("recharts-curve",e),d:i,ref:a}))}}])&&Hn(n.prototype,r),a&&Hn(n,a),e}(h.PureComponent);Zn.displayName="Curve",Zn.propTypes=Wn({},fe,{className:d.a.string,type:d.a.oneOfType([d.a.oneOf(["basis","basisClosed","basisOpen","linear","linearClosed","natural","monotoneX","monotoneY","monotone","step","stepBefore","stepAfter"]),d.a.func]),layout:d.a.oneOf(["horizontal","vertical"]),baseLine:d.a.oneOfType([d.a.number,d.a.array]),points:d.a.arrayOf(d.a.object),connectNulls:d.a.bool,path:d.a.string,pathRef:d.a.func}),Zn.defaultProps={type:"linear",points:[],connectNulls:!1};var Qn=Zn;function tr(t){return(tr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function er(){return(er=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ar(t,e){return!e||"object"!==tr(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ir(t){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function or(t,e){return(or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var sr=function(t){function e(){return nr(this,e),ar(this,ir(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&or(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.cx,n=t.cy,r=t.r,a=t.className,i=jt()("recharts-dot",a);return e===+e&&n===+n&&r===+r?f.a.createElement("circle",er({},xe(this.props),Oe(this.props,null,!0),{className:i,cx:e,cy:n,r:r})):null}}])&&rr(n.prototype,r),a&&rr(n,a),e}(h.PureComponent);sr.displayName="Dot",sr.propTypes={className:d.a.string,cx:d.a.number,cy:d.a.number,r:d.a.number};var ur=sr;function cr(){return(cr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lr(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var hr={className:d.a.string,children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node])};function fr(t){var e=t.children,n=t.className,r=lr(t,["children","className"]),a=jt()("recharts-layer",n);return f.a.createElement("g",cr({className:a},r),e)}fr.propTypes=hr;var pr=fr,dr=n(190),vr=n.n(dr),mr=n(103),gr=n.n(mr);function yr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yr(n,!0).forEach((function(e){xr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yr(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function xr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wr(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Or={widthCache:{},cacheCount:0},kr={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Sr=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"];var Er=function(t){return Object.keys(t).reduce((function(e,n){return"".concat(e).concat((i=n,i.split("").reduce((function(t,e){return e===e.toUpperCase()?[].concat(wr(t),["-",e.toLowerCase()]):[].concat(wr(t),[e])}),[]).join("")),":").concat((r=n,a=t[n],Sr.indexOf(r)>=0&&a===+a?"".concat(a,"px"):a),";");var r,a,i}),"")},Cr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===t||null===t||Ce())return{width:0,height:0};var n="".concat(t),r=Er(e),a="".concat(n,"-").concat(r);if(Or.widthCache[a])return Or.widthCache[a];try{var i=document.getElementById("recharts_measurement_span");i||((i=document.createElement("span")).setAttribute("id","recharts_measurement_span"),document.body.appendChild(i));var o=br({},kr,{},e);Object.keys(o).map((function(t){return i.style[t]=o[t],t})),i.textContent=n;var s=i.getBoundingClientRect(),u={width:s.width,height:s.height};return Or.widthCache[a]=u,++Or.cacheCount>2e3&&(Or.cacheCount=0,Or.widthCache={}),u}catch(c){return{width:0,height:0}}};function jr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ar(t){return(Ar="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _r(){return(_r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Mr(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ir(t,e){return!e||"object"!==Ar(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dr(t){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rr(t,e){return(Rr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pr=/[ \f\n\r\t\v\u2028\u2029]+/,Fr=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ir(this,Dr(e).call(this,t))).getWordsWithoutCalculate=function(t){return[{words:o()(t.children)?[]:t.children.toString().split(Pr)}]},n.state={wordsByLines:n.getWordsByLines(t,!0)},n}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rr(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.updateWordsByLines(this.props,!0)}},{key:"componentDidUpdate",value:function(t){if(t.width!==this.props.width||t.scaleToFit!==this.props.scaleToFit||t.children!==this.props.children||t.style!==this.props.style){var e=this.props.children!==t.children||this.props.style!==t.style;this.updateWordsByLines(this.props,e)}}},{key:"updateWordsByLines",value:function(t,e){this.setState({wordsByLines:this.getWordsByLines(t,e)})}},{key:"getWordsByLines",value:function(t,e){if((t.width||t.scaleToFit)&&!Ce()){if(e){var n=function(t){try{return{wordsWithComputedWidth:(o()(t.children)?[]:t.children.toString().split(Pr)).map((function(e){return{word:e,width:Cr(e,t.style).width}})),spaceWidth:Cr("\xa0",t.style).width}}catch(e){return null}}(t);if(!n)return this.getWordsWithoutCalculate(t);var r=n.wordsWithComputedWidth,a=n.spaceWidth;this.wordsWithComputedWidth=r,this.spaceWidth=a}return this.calculateWordsByLines(this.wordsWithComputedWidth,this.spaceWidth,t.width)}return this.getWordsWithoutCalculate(t)}},{key:"calculateWordsByLines",value:function(t,e,n){var r=this.props.scaleToFit;return(t||[]).reduce((function(t,a){var i=a.word,o=a.width,s=t[t.length-1];if(s&&(null==n||r||s.width+o+e<n))s.words.push(i),s.width+=o+e;else{var u={words:[i],width:o};t.push(u)}return t}),[])}},{key:"render",value:function(){var t=this.props,e=t.dx,n=t.dy,r=t.textAnchor,a=t.verticalAnchor,i=t.scaleToFit,o=t.angle,s=t.lineHeight,u=t.capHeight,c=t.className,l=Mr(t,["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className"]),h=this.state.wordsByLines;if(!Wt(l.x)||!Wt(l.y))return null;var p,d=l.x+(Bt(e)?e:0),v=l.y+(Bt(n)?n:0);switch(a){case"start":p=gr()("calc(".concat(u,")"));break;case"middle":p=gr()("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:p=gr()("calc(".concat(h.length-1," * -").concat(s,")"))}var m=[];if(i){var g=h[0].width;m.push("scale(".concat(this.props.width/g,")"))}return o&&m.push("rotate(".concat(o,", ").concat(d,", ").concat(v,")")),m.length&&(l.transform=m.join(" ")),f.a.createElement("text",_r({},xe(l),Oe(l),{x:d,y:v,className:jt()("recharts-text",c),textAnchor:r}),h.map((function(t,e){return f.a.createElement("tspan",{x:d,dy:0===e?p:s,key:e},t.words.join(" "))})))}}])&&Nr(n.prototype,r),a&&Nr(n,a),e}(h.Component);Fr.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jr(n,!0).forEach((function(e){Tr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jr(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fe,{scaleToFit:d.a.bool,angle:d.a.number,textAnchor:d.a.oneOf(["start","middle","end","inherit"]),verticalAnchor:d.a.oneOf(["start","middle","end"]),style:d.a.object}),Fr.defaultProps={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end"};var Lr=Fr,zr=n(85),Br=n.n(zr),Wr=n(191),Ur=n.n(Wr),Vr=n(128),Hr=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Gr=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Hr(e(t),n)}),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}};var Yr=Gr(Hr),qr=Yr.right,Xr=(Yr.left,qr);var Kr=function(t){return null===t?NaN:+t},$r=Array.prototype,Jr=($r.slice,$r.map,function(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}),Zr=Math.sqrt(50),Qr=Math.sqrt(10),ta=Math.sqrt(2),ea=function(t,e,n){var r,a,i,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=na(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++s<a;)i[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(a=Math.ceil(t-e+1));++s<a;)i[s]=(t-s)/o;return r&&i.reverse(),i};function na(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=Zr?10:i>=Qr?5:i>=ta?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Zr?10:i>=Qr?5:i>=ta?2:1)}function ra(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=Zr?a*=10:i>=Qr?a*=5:i>=ta&&(a*=2),e<t?-a:a}var aa=function(t,e,n){if(null==n&&(n=Kr),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t);return o+(+n(t[i+1],i+1,t)-o)*(a-i)}};function ia(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function oa(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}function sa(){}function ua(t,e){var n=new sa;if(t instanceof sa)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,a=-1,i=t.length;if(null==e)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e(r=t[a],a,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}sa.prototype=ua.prototype={constructor:sa,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var ca=ua;function la(){}var ha=ca.prototype;function fa(t,e){var n=new la;if(t instanceof la)t.each((function(t){n.add(t)}));else if(t){var r=-1,a=t.length;if(null==e)for(;++r<a;)n.add(t[r]);else for(;++r<a;)n.add(e(t[r],r,t))}return n}la.prototype=fa.prototype={constructor:la,has:ha.has,add:function(t){return this["$"+(t+="")]=t,this},remove:ha.remove,clear:ha.clear,values:ha.keys,size:ha.size,empty:ha.empty,each:ha.each};var pa=Array.prototype,da=pa.map,va=pa.slice,ma={name:"implicit"};function ga(){var t=ca(),e=[],n=[],r=ma;function a(a){var i=a+"",o=t.get(i);if(!o){if(r!==ma)return r;t.set(i,o=e.push(a))}return n[(o-1)%n.length]}return a.domain=function(n){if(!arguments.length)return e.slice();e=[],t=ca();for(var r,i,o=-1,s=n.length;++o<s;)t.has(i=(r=n[o])+"")||t.set(i,e.push(r));return a},a.range=function(t){return arguments.length?(n=va.call(t),a):n.slice()},a.unknown=function(t){return arguments.length?(r=t,a):r},a.copy=function(){return ga(e,n).unknown(r)},ia.apply(a,arguments),a}function ya(){var t,e,n=ga().unknown(void 0),r=n.domain,a=n.range,i=[0,1],o=!1,s=0,u=0,c=.5;function l(){var n=r().length,l=i[1]<i[0],h=i[l-0],f=i[1-l];t=(f-h)/Math.max(1,n-s+2*u),o&&(t=Math.floor(t)),h+=(f-h-t*(n-s))*c,e=t*(1-s),o&&(h=Math.round(h),e=Math.round(e));var p=Jr(n).map((function(e){return h+t*e}));return a(l?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),l()):r()},n.range=function(t){return arguments.length?(i=[+t[0],+t[1]],l()):i.slice()},n.rangeRound=function(t){return i=[+t[0],+t[1]],o=!0,l()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,l()):o},n.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),l()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),l()):s},n.paddingOuter=function(t){return arguments.length?(u=+t,l()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},n.copy=function(){return ya(r(),i).round(o).paddingInner(s).paddingOuter(u).align(c)},ia.apply(l(),arguments)}function ba(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ba(e())},t}function xa(){return ba(ya.apply(null,arguments).paddingInner(1))}var wa=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Oa(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ka(){}var Sa="\\s*([+-]?\\d+)\\s*",Ea="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ca="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ja=/^#([0-9a-f]{3,8})$/,Ta=new RegExp("^rgb\\("+[Sa,Sa,Sa]+"\\)$"),Aa=new RegExp("^rgb\\("+[Ca,Ca,Ca]+"\\)$"),_a=new RegExp("^rgba\\("+[Sa,Sa,Sa,Ea]+"\\)$"),Ma=new RegExp("^rgba\\("+[Ca,Ca,Ca,Ea]+"\\)$"),Na=new RegExp("^hsl\\("+[Ea,Ca,Ca]+"\\)$"),Ia=new RegExp("^hsla\\("+[Ea,Ca,Ca,Ea]+"\\)$"),Da={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ra(){return this.rgb().formatHex()}function Pa(){return this.rgb().formatRgb()}function Fa(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ja.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?La(e):3===n?new Ua(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?za(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?za(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ta.exec(t))?new Ua(e[1],e[2],e[3],1):(e=Aa.exec(t))?new Ua(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=_a.exec(t))?za(e[1],e[2],e[3],e[4]):(e=Ma.exec(t))?za(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Na.exec(t))?Ya(e[1],e[2]/100,e[3]/100,1):(e=Ia.exec(t))?Ya(e[1],e[2]/100,e[3]/100,e[4]):Da.hasOwnProperty(t)?La(Da[t]):"transparent"===t?new Ua(NaN,NaN,NaN,0):null}function La(t){return new Ua(t>>16&255,t>>8&255,255&t,1)}function za(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ua(t,e,n,r)}function Ba(t){return t instanceof ka||(t=Fa(t)),t?new Ua((t=t.rgb()).r,t.g,t.b,t.opacity):new Ua}function Wa(t,e,n,r){return 1===arguments.length?Ba(t):new Ua(t,e,n,null==r?1:r)}function Ua(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Va(){return"#"+Ga(this.r)+Ga(this.g)+Ga(this.b)}function Ha(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ga(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ya(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xa(t,e,n,r)}function qa(t){if(t instanceof Xa)return new Xa(t.h,t.s,t.l,t.opacity);if(t instanceof ka||(t=Fa(t)),!t)return new Xa;if(t instanceof Xa)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,s=i-a,u=(i+a)/2;return s?(o=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new Xa(o,s,u,t.opacity)}function Xa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ka(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function $a(t,e,n,r,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*e+(4-6*i+3*o)*n+(1+3*t+3*i-3*o)*r+o*a)/6}wa(ka,Fa,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ra,formatHex:Ra,formatHsl:function(){return qa(this).formatHsl()},formatRgb:Pa,toString:Pa}),wa(Ua,Wa,Oa(ka,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ua(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ua(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Va,formatHex:Va,formatRgb:Ha,toString:Ha})),wa(Xa,(function(t,e,n,r){return 1===arguments.length?qa(t):new Xa(t,e,n,null==r?1:r)}),Oa(ka,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Xa(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Xa(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Ua(Ka(t>=240?t-240:t+120,a,r),Ka(t,a,r),Ka(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ja=function(t){return function(){return t}};function Za(t,e){return function(n){return t+n*e}}function Qa(t){return 1===(t=+t)?ti:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ja(isNaN(e)?n:e)}}function ti(t,e){var n=e-t;return n?Za(t,n):Ja(isNaN(t)?e:t)}var ei=function t(e){var n=Qa(e);function r(t,e){var r=n((t=Wa(t)).r,(e=Wa(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),o=ti(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function ni(t){return function(e){var n,r,a=e.length,i=new Array(a),o=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=Wa(e[n]),i[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return i=t(i),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=o(t),r.b=s(t),r+""}}}ni((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1],o=r>0?t[r-1]:2*a-i,s=r<e-1?t[r+2]:2*i-a;return $a((n-r/e)*e,o,a,i,s)}})),ni((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],i=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return $a((n-r/e)*e,a,i,o,s)}}));var ri=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,a=e.slice();return function(i){for(n=0;n<r;++n)a[n]=t[n]*(1-i)+e[n]*i;return a}};function ai(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ii(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=fi(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}var oi=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},si=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},ui=function(t,e){var n,r={},a={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=fi(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}},ci=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,li=new RegExp(ci.source,"g");var hi=function(t,e){var n,r,a,i=ci.lastIndex=li.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=ci.exec(t))&&(r=li.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:si(n,r)})),i=li.lastIndex;return i<e.length&&(a=e.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},fi=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?Ja(e):("number"===r?si:"string"===r?(n=Fa(e))?(e=n,ei):hi:e instanceof Fa?ei:e instanceof Date?oi:ai(e)?ri:Array.isArray(e)?ii:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?ui:si)(t,e)},pi=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},di=function(t){return+t},vi=[0,1];function mi(t){return t}function gi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function yi(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function bi(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=gi(a,r),i=n(o,i)):(r=gi(r,a),i=n(i,o)),function(t){return i(r(t))}}function xi(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=gi(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(e){var n=Xr(t,e,1,r)-1;return i[n](a[n](e))}}function wi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Oi(){var t,e,n,r,a,i,o=vi,s=vi,u=fi,c=mi;function l(){return r=Math.min(o.length,s.length)>2?xi:bi,a=i=null,h}function h(e){return isNaN(e=+e)?n:(a||(a=r(o.map(t),s,u)))(t(c(e)))}return h.invert=function(n){return c(e((i||(i=r(s,o.map(t),si)))(n)))},h.domain=function(t){return arguments.length?(o=da.call(t,di),c===mi||(c=yi(o)),l()):o.slice()},h.range=function(t){return arguments.length?(s=va.call(t),l()):s.slice()},h.rangeRound=function(t){return s=va.call(t),u=pi,l()},h.clamp=function(t){return arguments.length?(c=t?yi(o):mi,h):c!==mi},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}function ki(t,e){return Oi()(t,e)}var Si=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ei(t){if(!(e=Si.exec(t)))throw new Error("invalid format: "+t);var e;return new Ci({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ci(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Ei.prototype=Ci.prototype,Ci.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ji,Ti,Ai,_i,Mi=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Ni=function(t){return(t=Mi(Math.abs(t)))?t[1]:NaN},Ii=function(t,e){var n=Mi(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")},Di={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ii(100*t,e)},r:Ii,s:function(t,e){var n=Mi(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(ji=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Mi(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ri=function(t){return t},Pi=Array.prototype.map,Fi=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];Ti=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ri:(e=Pi.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var a=t.length,i=[],o=0,s=e[0],u=0;a>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(t.substring(a-=s,a+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(n)}),a=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ri:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Pi.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Ei(t)).fill,n=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,v=t.comma,m=t.precision,g=t.trim,y=t.type;"n"===y?(v=!0,y="g"):Di[y]||(void 0===m&&(m=12),g=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===f?a:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?i:/[%p]/.test(y)?u:"",w=Di[y],O=/[defgprs%]/.test(y);function k(t){var a,i,u,f=b,k=x;if("c"===y)k=w(t)+k,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),m),g&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(!+t[r])break t;a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==h&&(S=!1),f=(S?"("===h?h:c:"-"===h||"("===h?"":h)+f,k=("s"===y?Fi[8+ji/3]:"")+k+(S&&"("===h?")":""),O)for(a=-1,i=t.length;++a<i;)if(48>(u=t.charCodeAt(a))||u>57){k=(46===u?o+t.slice(a+1):t.slice(a))+k,t=t.slice(0,a);break}}v&&!p&&(t=r(t,1/0));var E=f.length+t.length+k.length,C=E<d?new Array(d-E+1).join(e):"";switch(v&&p&&(t=r(C+t,C.length?d-k.length:1/0),C=""),n){case"<":t=f+t+k+C;break;case"=":t=f+C+t+k;break;case"^":t=C.slice(0,E=C.length>>1)+f+t+k+C.slice(E);break;default:t=C+f+t+k}return s(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=Ei(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ni(e)/3))),a=Math.pow(10,-r),i=Fi[8+r/3];return function(t){return n(a*t)+i}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Ai=Ti.format,_i=Ti.formatPrefix;var Li=function(t,e,n,r){var a,i=ra(t,e,n);switch((r=Ei(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ni(e)/3)))-Ni(Math.abs(t)))}(i,o))||(r.precision=a),_i(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ni(e)-Ni(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(t){return Math.max(0,-Ni(Math.abs(t)))}(i))||(r.precision=a-2*("%"===r.type))}return Ai(r)};function zi(t){var e=t.domain;return t.ticks=function(t){var n=e();return ea(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Li(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,a=e(),i=0,o=a.length-1,s=a[i],u=a[o];return u<s&&(r=s,s=u,u=r,r=i,i=o,o=r),(r=na(s,u,n))>0?r=na(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=na(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(a[i]=Math.floor(s/r)*r,a[o]=Math.ceil(u/r)*r,e(a)):r<0&&(a[i]=Math.ceil(s*r)/r,a[o]=Math.floor(u*r)/r,e(a)),t},t}function Bi(){var t=ki(mi,mi);return t.copy=function(){return wi(t,Bi())},ia.apply(t,arguments),zi(t)}function Wi(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=da.call(e,di),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Wi(t).unknown(e)},t=arguments.length?da.call(t,di):[0,1],zi(n)}var Ui=function(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t};function Vi(t){return Math.log(t)}function Hi(t){return Math.exp(t)}function Gi(t){return-Math.log(-t)}function Yi(t){return-Math.exp(-t)}function qi(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xi(t){return function(e){return-t(-e)}}function Ki(t){var e,n,r=t(Vi,Hi),a=r.domain,i=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(i),n=function(t){return 10===t?qi:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(i),a()[0]<0?(e=Xi(e),n=Xi(n),t(Gi,Yi)):t(Vi,Hi),r}return r.base=function(t){return arguments.length?(i=+t,o()):i},r.domain=function(t){return arguments.length?(a(t),o()):a()},r.ticks=function(t){var r,o=a(),s=o[0],u=o[o.length-1];(r=u<s)&&(f=s,s=u,u=f);var c,l,h,f=e(s),p=e(u),d=null==t?10:+t,v=[];if(!(i%1)&&p-f<d){if(f=Math.round(f)-1,p=Math.round(p)+1,s>0){for(;f<p;++f)for(l=1,c=n(f);l<i;++l)if(!((h=c*l)<s)){if(h>u)break;v.push(h)}}else for(;f<p;++f)for(l=i-1,c=n(f);l>=1;--l)if(!((h=c*l)<s)){if(h>u)break;v.push(h)}}else v=ea(f,p,Math.min(p-f,d)).map(n);return r?v.reverse():v},r.tickFormat=function(t,a){if(null==a&&(a=10===i?".0e":","),"function"!==typeof a&&(a=Ai(a)),t===1/0)return a;null==t&&(t=10);var o=Math.max(1,i*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*i<i-.5&&(r*=i),r<=o?a(t):""}},r.nice=function(){return a(Ui(a(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function $i(){var t=Ki(Oi()).domain([1,10]);return t.copy=function(){return wi(t,$i()).base(t.base())},ia.apply(t,arguments),t}function Ji(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Zi(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Qi(t){var e=1,n=t(Ji(e),Zi(e));return n.constant=function(n){return arguments.length?t(Ji(e=+n),Zi(e)):e},zi(n)}function to(){var t=Qi(Oi());return t.copy=function(){return wi(t,to()).constant(t.constant())},ia.apply(t,arguments)}function eo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function no(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ro(t){return t<0?-t*t:t*t}function ao(t){var e=t(mi,mi),n=1;function r(){return 1===n?t(mi,mi):.5===n?t(no,ro):t(eo(n),eo(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},zi(e)}function io(){var t=ao(Oi());return t.copy=function(){return wi(t,io()).exponent(t.exponent())},ia.apply(t,arguments),t}function oo(){return io.apply(null,arguments).exponent(.5)}function so(){var t,e=[],n=[],r=[];function a(){var t=0,a=Math.max(1,n.length);for(r=new Array(a-1);++t<a;)r[t-1]=aa(e,t/a);return i}function i(e){return isNaN(e=+e)?t:n[Xr(r,e)]}return i.invertExtent=function(t){var a=n.indexOf(t);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},i.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,i=t.length;r<i;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(Hr),a()},i.range=function(t){return arguments.length?(n=va.call(t),a()):n.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return r.slice()},i.copy=function(){return so().domain(e).range(n).unknown(t)},ia.apply(i,arguments)}function uo(){var t,e=0,n=1,r=1,a=[.5],i=[0,1];function o(e){return e<=e?i[Xr(a,e,0,r)]:t}function s(){var t=-1;for(a=new Array(r);++t<r;)a[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},o.range=function(t){return arguments.length?(r=(i=va.call(t)).length-1,s()):i.slice()},o.invertExtent=function(t){var o=i.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,a[0]]:o>=r?[a[r-1],n]:[a[o-1],a[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return uo().domain([e,n]).range(i).unknown(t)},ia.apply(zi(o),arguments)}function co(){var t,e=[.5],n=[0,1],r=1;function a(a){return a<=a?n[Xr(e,a,0,r)]:t}return a.domain=function(t){return arguments.length?(e=va.call(t),r=Math.min(e.length,n.length-1),a):e.slice()},a.range=function(t){return arguments.length?(n=va.call(t),r=Math.min(e.length,n.length-1),a):n.slice()},a.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return co().domain(e).range(n).unknown(t)},ia.apply(a,arguments)}var lo=new Date,ho=new Date;function fo(t,e,n,r){function a(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return a.floor=function(e){return t(e=new Date(+e)),e},a.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(n,r,i){var o,s=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r)||!(i>0))return s;do{s.push(o=new Date(+n)),e(n,i),t(n)}while(o<n&&n<r);return s},a.filter=function(n){return fo((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(a.count=function(e,r){return lo.setTime(+e),ho.setTime(+r),t(lo),t(ho),Math.floor(n(lo,ho))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?function(e){return r(e)%t===0}:function(e){return a.count(0,e)%t===0}):a:null}),a}var po=fo((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));po.every=function(t){return isFinite(t=Math.floor(t))&&t>0?fo((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var vo=po,mo=(po.range,fo((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),go=mo;mo.range;function yo(t){return fo((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var bo=yo(0),xo=yo(1),wo=yo(2),Oo=yo(3),ko=yo(4),So=yo(5),Eo=yo(6),Co=(bo.range,xo.range,wo.range,Oo.range,ko.range,So.range,Eo.range,fo((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),jo=Co,To=(Co.range,fo((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),Ao=To,_o=(To.range,fo((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),Mo=_o,No=(_o.range,fo((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()}))),Io=No,Do=(No.range,fo((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));Do.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?fo((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Do:null};var Ro=Do;Do.range;function Po(t){return fo((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var Fo=Po(0),Lo=Po(1),zo=Po(2),Bo=Po(3),Wo=Po(4),Uo=Po(5),Vo=Po(6),Ho=(Fo.range,Lo.range,zo.range,Bo.range,Wo.range,Uo.range,Vo.range,fo((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),Go=Ho,Yo=(Ho.range,fo((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Yo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?fo((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var qo=Yo;Yo.range;function Xo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ko(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $o(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Jo,Zo,Qo,ts={"-":"",_:" ",0:"0"},es=/^\s*\d+/,ns=/^%/,rs=/[\\^$*+?|[\]().{}]/g;function as(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function is(t){return t.replace(rs,"\\$&")}function os(t){return new RegExp("^(?:"+t.map(is).join("|")+")","i")}function ss(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function us(t,e,n){var r=es.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cs(t,e,n){var r=es.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ls(t,e,n){var r=es.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hs(t,e,n){var r=es.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fs(t,e,n){var r=es.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ps(t,e,n){var r=es.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ds(t,e,n){var r=es.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vs(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ms(t,e,n){var r=es.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function gs(t,e,n){var r=es.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ys(t,e,n){var r=es.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bs(t,e,n){var r=es.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function xs(t,e,n){var r=es.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ws(t,e,n){var r=es.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Os(t,e,n){var r=es.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ks(t,e,n){var r=es.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ss(t,e,n){var r=es.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Es(t,e,n){var r=ns.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Cs(t,e,n){var r=es.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function js(t,e,n){var r=es.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ts(t,e){return as(t.getDate(),e,2)}function As(t,e){return as(t.getHours(),e,2)}function _s(t,e){return as(t.getHours()%12||12,e,2)}function Ms(t,e){return as(1+jo.count(vo(t),t),e,3)}function Ns(t,e){return as(t.getMilliseconds(),e,3)}function Is(t,e){return Ns(t,e)+"000"}function Ds(t,e){return as(t.getMonth()+1,e,2)}function Rs(t,e){return as(t.getMinutes(),e,2)}function Ps(t,e){return as(t.getSeconds(),e,2)}function Fs(t){var e=t.getDay();return 0===e?7:e}function Ls(t,e){return as(bo.count(vo(t)-1,t),e,2)}function zs(t,e){var n=t.getDay();return t=n>=4||0===n?ko(t):ko.ceil(t),as(ko.count(vo(t),t)+(4===vo(t).getDay()),e,2)}function Bs(t){return t.getDay()}function Ws(t,e){return as(xo.count(vo(t)-1,t),e,2)}function Us(t,e){return as(t.getFullYear()%100,e,2)}function Vs(t,e){return as(t.getFullYear()%1e4,e,4)}function Hs(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+as(e/60|0,"0",2)+as(e%60,"0",2)}function Gs(t,e){return as(t.getUTCDate(),e,2)}function Ys(t,e){return as(t.getUTCHours(),e,2)}function qs(t,e){return as(t.getUTCHours()%12||12,e,2)}function Xs(t,e){return as(1+Go.count(qo(t),t),e,3)}function Ks(t,e){return as(t.getUTCMilliseconds(),e,3)}function $s(t,e){return Ks(t,e)+"000"}function Js(t,e){return as(t.getUTCMonth()+1,e,2)}function Zs(t,e){return as(t.getUTCMinutes(),e,2)}function Qs(t,e){return as(t.getUTCSeconds(),e,2)}function tu(t){var e=t.getUTCDay();return 0===e?7:e}function eu(t,e){return as(Fo.count(qo(t)-1,t),e,2)}function nu(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Wo(t):Wo.ceil(t),as(Wo.count(qo(t),t)+(4===qo(t).getUTCDay()),e,2)}function ru(t){return t.getUTCDay()}function au(t,e){return as(Lo.count(qo(t)-1,t),e,2)}function iu(t,e){return as(t.getUTCFullYear()%100,e,2)}function ou(t,e){return as(t.getUTCFullYear()%1e4,e,4)}function su(){return"+0000"}function uu(){return"%"}function cu(t){return+t}function lu(t){return Math.floor(+t/1e3)}!function(t){Jo=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,c=os(a),l=ss(a),h=os(i),f=ss(i),p=os(o),d=ss(o),v=os(s),m=ss(s),g=os(u),y=ss(u),b={a:function(t){return o[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Ts,e:Ts,f:Is,H:As,I:_s,j:Ms,L:Ns,m:Ds,M:Rs,p:function(t){return a[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:cu,s:lu,S:Ps,u:Fs,U:Ls,V:zs,w:Bs,W:Ws,x:null,X:null,y:Us,Y:Vs,Z:Hs,"%":uu},x={a:function(t){return o[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Gs,e:Gs,f:$s,H:Ys,I:qs,j:Xs,L:Ks,m:Js,M:Zs,p:function(t){return a[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:cu,s:lu,S:Qs,u:tu,U:eu,V:nu,w:ru,W:au,x:null,X:null,y:iu,Y:ou,Z:su,"%":uu},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:ys,e:ys,f:Ss,H:xs,I:xs,j:bs,L:ks,m:gs,M:ws,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:ms,Q:Cs,s:js,S:Os,u:cs,U:ls,V:hs,w:us,W:fs,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:ds,Y:ps,Z:vs,"%":Es};function O(t,e){return function(n){var r,a,i,o=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(a=ts[r=t.charAt(++s)])?r=t.charAt(++s):a="e"===r?" ":"0",(i=e[r])&&(r=i(n,a)),o.push(r),u=s+1);return o.push(t.slice(u,s)),o.join("")}}function k(t,e){return function(n){var r,a,i=$o(1900,void 0,1);if(S(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(e&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=Ko($o(i.y,0,1))).getUTCDay(),r=a>4||0===a?Lo.ceil(r):Lo(r),r=Go.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=Xo($o(i.y,0,1))).getDay(),r=a>4||0===a?xo.ceil(r):xo(r),r=jo.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Ko($o(i.y,0,1)).getUTCDay():Xo($o(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Ko(i)):Xo(i)}}function S(t,e,n,r){for(var a,i,o=0,s=e.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=w[a in ts?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return b.x=O(n,b),b.X=O(r,b),b.c=O(e,b),x.x=O(n,x),x.X=O(r,x),x.c=O(e,x),{format:function(t){var e=O(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=O(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}(t),Zo=Jo.format,Jo.parse,Qo=Jo.utcFormat,Jo.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hu(t){return new Date(t)}function fu(t){return t instanceof Date?+t:+new Date(+t)}function pu(t,e,n,r,a,i,o,s,u){var c=ki(mi,mi),l=c.invert,h=c.domain,f=u(".%L"),p=u(":%S"),d=u("%I:%M"),v=u("%I %p"),m=u("%a %d"),g=u("%b %d"),y=u("%B"),b=u("%Y"),x=[[o,1,1e3],[o,5,5e3],[o,15,15e3],[o,30,3e4],[i,1,6e4],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,36e5],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function w(s){return(o(s)<s?f:i(s)<s?p:a(s)<s?d:r(s)<s?v:e(s)<s?n(s)<s?m:g:t(s)<s?y:b)(s)}function O(e,n,r,a){if(null==e&&(e=10),"number"===typeof e){var i=Math.abs(r-n)/e,o=Gr((function(t){return t[2]})).right(x,i);o===x.length?(a=ra(n/31536e6,r/31536e6,e),e=t):o?(a=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],e=o[0]):(a=Math.max(ra(n,r,e),1),e=s)}return null==a?e:e.every(a)}return c.invert=function(t){return new Date(l(t))},c.domain=function(t){return arguments.length?h(da.call(t,fu)):h().map(hu)},c.ticks=function(t,e){var n,r=h(),a=r[0],i=r[r.length-1],o=i<a;return o&&(n=a,a=i,i=n),n=(n=O(t,a,i,e))?n.range(a,i+1):[],o?n.reverse():n},c.tickFormat=function(t,e){return null==e?w:u(e)},c.nice=function(t,e){var n=h();return(t=O(t,n[0],n[n.length-1],e))?h(Ui(n,t)):c},c.copy=function(){return wi(c,pu(t,e,n,r,a,i,o,s,u))},c}var du=function(){return ia.apply(pu(vo,go,bo,jo,Ao,Mo,Io,Ro,Zo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},vu=fo((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),mu=vu,gu=(vu.range,fo((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),yu=gu,bu=(gu.range,fo((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}))),xu=bu,wu=(bu.range,function(){return ia.apply(pu(qo,mu,Fo,Go,yu,xu,Io,Ro,Qo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)});function Ou(){var t,e,n,r,a,i=0,o=1,s=mi,u=!1;function c(e){return isNaN(e=+e)?a:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}return c.domain=function(a){return arguments.length?(t=r(i=+a[0]),e=r(o=+a[1]),n=t===e?0:1/(e-t),c):[i,o]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(a=t,c):a},function(a){return r=a,t=a(i),e=a(o),n=t===e?0:1/(e-t),c}}function ku(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Su(){var t=zi(Ou()(mi));return t.copy=function(){return ku(t,Su())},oa.apply(t,arguments)}function Eu(){var t=Ki(Ou()).domain([1,10]);return t.copy=function(){return ku(t,Eu()).base(t.base())},oa.apply(t,arguments)}function Cu(){var t=Qi(Ou());return t.copy=function(){return ku(t,Cu()).constant(t.constant())},oa.apply(t,arguments)}function ju(){var t=ao(Ou());return t.copy=function(){return ku(t,ju()).exponent(t.exponent())},oa.apply(t,arguments)}function Tu(){return ju.apply(null,arguments).exponent(.5)}function Au(){var t=[],e=mi;function n(n){if(!isNaN(n=+n))return e((Xr(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,a=0,i=e.length;a<i;++a)null==(r=e[a])||isNaN(r=+r)||t.push(r);return t.sort(Hr),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Au(e).domain(t)},oa.apply(n,arguments)}function _u(){var t,e,n,r,a,i,o,s=0,u=.5,c=1,l=mi,h=!1;function f(t){return isNaN(t=+t)?o:(t=.5+((t=+i(t))-e)*(t<e?r:a),l(h?Math.max(0,Math.min(1,t)):t))}return f.domain=function(o){return arguments.length?(t=i(s=+o[0]),e=i(u=+o[1]),n=i(c=+o[2]),r=t===e?0:.5/(e-t),a=e===n?0:.5/(n-e),f):[s,u,c]},f.clamp=function(t){return arguments.length?(h=!!t,f):h},f.interpolator=function(t){return arguments.length?(l=t,f):l},f.unknown=function(t){return arguments.length?(o=t,f):o},function(o){return i=o,t=o(s),e=o(u),n=o(c),r=t===e?0:.5/(e-t),a=e===n?0:.5/(n-e),f}}function Mu(){var t=zi(_u()(mi));return t.copy=function(){return ku(t,Mu())},oa.apply(t,arguments)}function Nu(){var t=Ki(_u()).domain([.1,1,10]);return t.copy=function(){return ku(t,Nu()).base(t.base())},oa.apply(t,arguments)}function Iu(){var t=Qi(_u());return t.copy=function(){return ku(t,Iu()).constant(t.constant())},oa.apply(t,arguments)}function Du(){var t=ao(_u());return t.copy=function(){return ku(t,Du()).exponent(t.exponent())},oa.apply(t,arguments)}function Ru(){return Du.apply(null,arguments).exponent(.5)}var Pu=function(t,e){if((a=t.length)>1)for(var n,r,a,i=1,o=t[e[0]],s=o.length;i<a;++i)for(r=o,o=t[e[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},Fu=Array.prototype.slice,Lu=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function zu(t,e){return t[e]}function Bu(t){return(Bu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wu(){return(Wu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Uu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vu(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Hu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yu(t,e){return!e||"object"!==Bu(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qu(t){return(qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xu(t,e){return(Xu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ku=function(t){function e(){return Hu(this,e),Yu(this,qu(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xu(t,e)}(e,t),n=e,(r=[{key:"renderErrorBars",value:function(){var t=this.props,e=t.offset,n=t.layout,r=t.width,a=t.dataKey,i=t.data,o=t.dataPointFormatter,s=t.xAxis,u=t.yAxis,c=Vu(t,["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"]),l=xe(c);return i.map((function(t,i){var c,h,p,d,v,m,g,y,b,x,w,O,k=o(t,a),S=k.x,E=k.y,C=k.value,j=k.errorVal;if(!j)return null;if(Array.isArray(j)){var T=Uu(j,2);w=T[0],O=T[1]}else w=O=j;return"vertical"===n?(g=s.scale,h=E+e,p=g((c=C)-w),d=h+r,y={x1:v=g(c+O),y1:d,x2:v,y2:m=h-r},b={x1:p,y1:h,x2:v,y2:h},x={x1:p,y1:d,x2:p,y2:m}):"horizontal"===n&&(g=u.scale,p=(c=S+e)-r,v=c+r,d=g((h=C)-w),y={x1:p,y1:m=g(h+O),x2:v,y2:m},b={x1:c,y1:d,x2:c,y2:m},x={x1:p,y1:d,x2:v,y2:d}),f.a.createElement(pr,Wu({className:"recharts-errorBar",key:"bar-".concat(i)},l),f.a.createElement("line",y),f.a.createElement("line",b),f.a.createElement("line",x))}))}},{key:"render",value:function(){return f.a.createElement(pr,{className:"recharts-errorBars"},this.renderErrorBars())}}])&&Gu(n.prototype,r),a&&Gu(n,a),e}(h.Component);Ku.propTypes={dataKey:d.a.oneOfType([d.a.string,d.a.number,d.a.func]).isRequired,data:d.a.array,xAxis:d.a.object,yAxis:d.a.object,layout:d.a.string,dataPointFormatter:d.a.func,stroke:d.a.string,strokeWidth:d.a.number,width:d.a.number,offset:d.a.number},Ku.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};var $u=Ku;function Ju(){return(Ju=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Zu(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var Qu={width:d.a.number.isRequired,height:d.a.number.isRequired,viewBox:d.a.shape({x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number}),className:d.a.string,style:d.a.object,children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node])};function tc(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,o=t.style,s=Zu(t,["children","width","height","viewBox","className","style"]),u=a||{width:n,height:r,x:0,y:0},c=jt()("recharts-surface",i),l=xe(s);return f.a.createElement("svg",Ju({},l,{className:c,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),version:"1.1"}),e)}tc.propTypes=Qu;var ec=tc,nc=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI),rc=2*nc;var ac={draw:function(t,e){var n=Math.sqrt(e/nc);t.moveTo(n,0),t.arc(0,0,n,0,rc)}},ic={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},oc=Math.sqrt(1/3),sc=2*oc,uc={draw:function(t,e){var n=Math.sqrt(e/sc),r=n*oc;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},cc={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},lc=Math.sin(nc/10)/Math.sin(7*nc/10),hc=Math.sin(rc/10)*lc,fc=-Math.cos(rc/10)*lc,pc={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=hc*n,a=fc*n;t.moveTo(0,-n),t.lineTo(r,a);for(var i=1;i<5;++i){var o=rc*i/5,s=Math.cos(o),u=Math.sin(o);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*a,u*r+s*a)}t.closePath()}},dc=Math.sqrt(3),vc={draw:function(t,e){var n=-Math.sqrt(e/(3*dc));t.moveTo(0,2*n),t.lineTo(-dc*n,-n),t.lineTo(dc*n,-n),t.closePath()}},mc=Math.sqrt(3)/2,gc=1/Math.sqrt(12),yc=3*(gc/2+1),bc={draw:function(t,e){var n=Math.sqrt(e/yc),r=n/2,a=n*gc,i=r,o=n*gc+n,s=-i,u=o;t.moveTo(r,a),t.lineTo(i,o),t.lineTo(s,u),t.lineTo(-.5*r-mc*a,mc*r+-.5*a),t.lineTo(-.5*i-mc*o,mc*i+-.5*o),t.lineTo(-.5*s-mc*u,mc*s+-.5*u),t.lineTo(-.5*r+mc*a,-.5*a-mc*r),t.lineTo(-.5*i+mc*o,-.5*o-mc*i),t.lineTo(-.5*s+mc*u,-.5*u-mc*s),t.closePath()}};function xc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oc(t){return(Oc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kc(){return(kc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Sc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cc(t,e){return!e||"object"!==Oc(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jc(t){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tc(t,e){return(Tc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ac={symbolCircle:ac,symbolCross:ic,symbolDiamond:uc,symbolSquare:cc,symbolStar:pc,symbolTriangle:vc,symbolWye:bc},_c=Math.PI/180,Mc=function(t){function e(){return Sc(this,e),Cc(this,jc(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tc(t,e)}(e,t),n=e,(r=[{key:"getPath",value:function(){var t=this.props,e=t.size,n=t.sizeType,r=t.type,a=function(t){var e="symbol".concat(t.slice(0,1).toUpperCase()).concat(t.slice(1));return Ac[e]||ac}(r);return function(){var t=In(ac),e=In(64),n=null;function r(){var r;if(n||(n=r=Nn()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"===typeof e?e:In(e),r):t},r.size=function(t){return arguments.length?(e="function"===typeof t?t:In(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}().type(a).size(function(t,e,n){if("area"===e)return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return.5*t*t/Math.sqrt(3);case"square":return t*t;case"star":var r=18*_c;return 1.25*t*t*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}}(e,n,r))()}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.cx,r=t.cy,a=t.size;return n===+n&&r===+r&&a===+a?f.a.createElement("path",kc({},xe(this.props),Oe(this.props),{className:jt()("recharts-symbols",e),transform:"translate(".concat(n,", ").concat(r,")"),d:this.getPath()})):null}}])&&Ec(n.prototype,r),a&&Ec(n,a),e}(h.PureComponent);Mc.displayName="Symbols",Mc.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xc(n,!0).forEach((function(e){wc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xc(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fe,{className:d.a.string,type:d.a.oneOf(["circle","cross","diamond","square","star","triangle","wye"]),cx:d.a.number,cy:d.a.number,size:d.a.number,sizeType:d.a.oneOf(["area","diameter"])}),Mc.defaultProps={type:"circle",size:64,sizeType:"area"};var Nc=Mc;function Ic(t){return(Ic="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dc(){return(Dc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Rc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lc(t,e){return!e||"object"!==Ic(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zc(t){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bc(t,e){return(Bc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wc=ve.filter((function(t){return"none"!==t})),Uc=function(t){function e(){return Pc(this,e),Lc(this,zc(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bc(t,e)}(e,t),n=e,(r=[{key:"renderIcon",value:function(t){var e=this.props.inactiveColor,n=t.inactive?e:t.color;return"plainline"===t.type?f.a.createElement("line",{strokeWidth:4,fill:"none",stroke:n,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"}):"line"===t.type?f.a.createElement("path",{strokeWidth:4,fill:"none",stroke:n,d:"M0,".concat(16,"h").concat(32/3,"\n            A").concat(32/6,",").concat(32/6,",0,1,1,").concat(32/3*2,",").concat(16,"\n            H").concat(32,"M").concat(32/3*2,",").concat(16,"\n            A").concat(32/6,",").concat(32/6,",0,1,1,").concat(32/3,",").concat(16),className:"recharts-legend-icon"}):"rect"===t.type?f.a.createElement("path",{stroke:"none",fill:n,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"}):f.a.createElement(Nc,{fill:n,cx:16,cy:16,size:32,sizeType:"diameter",type:t.type})}},{key:"renderItems",value:function(){var t=this,e=this.props,n=e.payload,r=e.iconSize,a=e.layout,i=e.formatter,o={x:0,y:0,width:32,height:32},s={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(e,n){var a,c=e.formatter||i,l=jt()((Rc(a={"recharts-legend-item":!0},"legend-item-".concat(n),!0),Rc(a,"inactive",e.inactive),a));return"none"===e.type?null:f.a.createElement("li",Dc({className:l,style:s,key:"legend-item-".concat(n)},Se(t.props,e,n)),f.a.createElement(ec,{width:r,height:r,viewBox:o,style:u},t.renderIcon(e)),f.a.createElement("span",{className:"recharts-legend-item-text"},c?c(e.value,e,n):e.value))}))}},{key:"render",value:function(){var t=this.props,e=t.payload,n=t.layout,r=t.align;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return f.a.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])&&Fc(n.prototype,r),a&&Fc(n,a),e}(h.PureComponent);Uc.displayName="Legend",Uc.propTypes={content:d.a.element,iconSize:d.a.number,iconType:d.a.oneOf(Wc),layout:d.a.oneOf(["horizontal","vertical"]),align:d.a.oneOf(["center","left","right"]),verticalAlign:d.a.oneOf(["top","bottom","middle"]),payload:d.a.arrayOf(d.a.shape({value:d.a.any,id:d.a.any,type:d.a.oneOf(ve)})),inactiveColor:d.a.string,formatter:d.a.func,onMouseEnter:d.a.func,onMouseLeave:d.a.func,onClick:d.a.func},Uc.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"};var Vc=Uc;function Hc(t){return(Hc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gc(n,!0).forEach((function(e){qc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gc(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $c(t,e){return!e||"object"!==Hc(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jc(t){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zc(t,e){return(Zc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qc=function(t){return t.value},tl=function(t,e){return!0===t?l()(e,Qc):u()(t)?l()(e,t):e},el=ve.filter((function(t){return"none"!==t})),nl=function(t){function e(){var t,n;Xc(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=$c(this,(t=Jc(e)).call.apply(t,[this].concat(a)))).state={boxWidth:-1,boxHeight:-1},n}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zc(t,e)}(e,t),n=e,a=[{key:"getWithHeight",value:function(t,e){var n=t.props.layout;return"vertical"===n&&Bt(t.props.height)?{height:t.props.height}:"horizontal"===n?{width:t.props.width||e}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){var t=this.state,e=t.boxWidth,n=t.boxHeight;return e>=0&&n>=0?{width:e,height:n}:null}},{key:"getDefaultPosition",value:function(t){var e,n,r=this.props,a=r.layout,i=r.align,o=r.verticalAlign,s=r.margin,u=r.chartWidth,c=r.chartHeight;return t&&(void 0!==t.left&&null!==t.left||void 0!==t.right&&null!==t.right)||(e="center"===i&&"vertical"===a?{left:((u||0)-(this.getBBox()||{width:0}).width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),t&&(void 0!==t.top&&null!==t.top||void 0!==t.bottom&&null!==t.bottom)||(n="middle"===o?{top:((c||0)-(this.getBBox()||{height:0}).height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Yc({},e,{},n)}},{key:"updateBBox",value:function(){var t=this.state,e=t.boxWidth,n=t.boxHeight,r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-e)>1||Math.abs(a.height-n)>1)&&this.setState({boxWidth:a.width,boxHeight:a.height},(function(){r&&r(a)}))}else-1===e&&-1===n||this.setState({boxWidth:-1,boxHeight:-1},(function(){r&&r(null)}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.content,r=e.width,a=e.height,i=e.wrapperStyle,o=e.paylodUniqBy,s=e.payload,c=Yc({position:"absolute",width:r||"auto",height:a||"auto"},this.getDefaultPosition(i),{},i);return f.a.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(e){t.wrapperNode=e}},function(t,e){return f.a.isValidElement(t)?f.a.cloneElement(t,e):u()(t)?t(e):f.a.createElement(Vc,e)}(n,Yc({},this.props,{payload:tl(o,s)})))}}])&&Kc(n.prototype,r),a&&Kc(n,a),e}(h.PureComponent);nl.displayName="Legend",nl.propTypes={content:d.a.oneOfType([d.a.element,d.a.func]),wrapperStyle:d.a.object,chartWidth:d.a.number,chartHeight:d.a.number,width:d.a.number,height:d.a.number,iconSize:d.a.number,iconType:d.a.oneOf(el),layout:d.a.oneOf(["horizontal","vertical"]),align:d.a.oneOf(["center","left","right"]),verticalAlign:d.a.oneOf(["top","bottom","middle"]),margin:d.a.shape({top:d.a.number,left:d.a.number,bottom:d.a.number,right:d.a.number}),payload:d.a.arrayOf(d.a.shape({value:d.a.any,id:d.a.any,type:d.a.oneOf(ve)})),paylodUniqBy:d.a.oneOfType([d.a.func,d.a.bool]),formatter:d.a.func,onMouseEnter:d.a.func,onMouseLeave:d.a.func,onClick:d.a.func,onBBoxUpdate:d.a.func},nl.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"};var rl=nl;function al(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function il(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ol(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?il(n,!0).forEach((function(e){sl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):il(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ul=function(t,e,n){return o()(t)||o()(e)?n:Wt(e)?It()(t,e,n):u()(e)?e(t):n},cl=function(t,e,n,r){var a=Ur()(t,(function(t){return ul(t,e)}));if("number"===n){var i=a.filter((function(t){return Bt(t)||parseFloat(t,10)}));return i.length?[Br()(i),un()(i)]:[1/0,-1/0]}return(r?a.filter((function(t){return!o()(t)})):a).map((function(t){return Wt(t)?t:""}))},ll=function(t){var e,n=t.type.displayName,r=t.props,a=r.stroke,i=r.fill;switch(n){case"Line":e=a;break;case"Area":case"Radar":e=a&&"none"!==a?a:i;break;default:e=i}return e},hl=function(t){var e,n=t.children,r=t.formatedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=be(n,rl);return o?(e=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(r||[]).reduce((function(t,e){var n=e.item,r=e.props,a=r.sectors||r.data||[];return t.concat(a.map((function(t){return{type:o.props.iconType||n.props.legendType,value:t.name,color:t.fill,payload:t}})))}),[]):(r||[]).map((function(t){var e=t.item,n=e.props,r=n.dataKey,a=n.name,i=n.legendType;return{inactive:n.hide,dataKey:r,type:o.props.iconType||i||"square",color:ll(e),value:a||r,payload:e.props}})),ol({},o.props,{},rl.getWithHeight(o,a),{payload:e,item:o})):null},fl=function(t,e,n,r){var a=e.props.children,i=ye(a,$u).filter((function(t){var e=t.props.direction;return!(!o()(e)&&!o()(r))||r.indexOf(e)>=0}));if(i&&i.length){var s=i.map((function(t){return t.props.dataKey}));return t.reduce((function(t,e){var r=ul(e,n,0),a=Mt()(r)?[Br()(r),un()(r)]:[r,r],i=s.reduce((function(t,n){var r=ul(e,n,0),i=a[0]-Math.abs(Mt()(r)?r[0]:r),o=a[1]+Math.abs(Mt()(r)?r[1]:r);return[Math.min(i,t[0]),Math.max(o,t[1])]}),[1/0,-1/0]);return[Math.min(i[0],t[0]),Math.max(i[1],t[1])]}),[1/0,-1/0])}return null},pl=function(t,e,n,r){var a=e.map((function(e){var a=e.props.dataKey;return"number"===n&&a&&fl(t,e,a)||cl(t,a,n,r)}));if("number"===n)return a.reduce((function(t,e){return[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}),[1/0,-1/0]);var i={};return a.reduce((function(t,e){for(var n=0,r=e.length;n<r;n++)i[e[n]]||(i[e[n]]=!0,t.push(e[n]));return t}),[])},dl=function(t,e){return"horizontal"===t&&"xAxis"===e||"vertical"===t&&"yAxis"===e||"centric"===t&&"angleAxis"===e||"radial"===t&&"radiusAxis"===e},vl=function(t,e,n){var r,a,i=t.map((function(t){return t.coordinate===e&&(r=!0),t.coordinate===n&&(a=!0),t.coordinate}));return r||i.push(e),a||i.push(n),i},ml=function(t,e,n){if(!t)return null;var r=t.scale,a=t.duplicateDomain,i=t.type,o=t.range,s=(e||n)&&"category"===i&&r.bandwidth?r.bandwidth()/2:0;return s="angleAxis"===t.axisType?2*Lt(o[0]-o[1])*s:s,e&&(t.ticks||t.niceTicks)?(t.ticks||t.niceTicks).map((function(t){var e=a?a.indexOf(t):t;return{coordinate:r(e)+s,value:t,offset:s}})):t.isCategorial&&t.categoricalDomain?t.categoricalDomain.map((function(t,e){return{coordinate:r(t),value:t,index:e,offset:s}})):r.ticks&&!n?r.ticks(t.tickCount).map((function(t){return{coordinate:r(t)+s,value:t,offset:s}})):r.domain().map((function(t,e){return{coordinate:r(t)+s,value:a?a[t]:t,index:e,offset:s}}))},gl=function(t,e,n){var r;return u()(n)?r=n:u()(e)&&(r=e),u()(t)||r?function(e,n,a,i){u()(t)&&t(e,n,a,i),u()(r)&&r(e,n,a,i)}:null},yl=function(t,e){var n=t.scale,a=t.type,i=t.layout,o=t.axisType;if("auto"===n)return"radial"===i&&"radiusAxis"===o?{scale:ya(),realScaleType:"band"}:"radial"===i&&"angleAxis"===o?{scale:Bi(),realScaleType:"linear"}:"category"===a&&e&&(e.indexOf("LineChart")>=0||e.indexOf("AreaChart")>=0)?{scale:xa(),realScaleType:"point"}:"category"===a?{scale:ya(),realScaleType:"band"}:{scale:Bi(),realScaleType:"linear"};if(Ft()(n)){var s="scale".concat(n.slice(0,1).toUpperCase()).concat(n.slice(1));return{scale:(r[s]||xa)(),realScaleType:r[s]?s:"point"}}return u()(n)?{scale:n}:{scale:xa(),realScaleType:"point"}},bl=function(t){var e=t.domain();if(e&&!(e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-1e-4,i=Math.max(r[0],r[1])+1e-4,o=t(e[0]),s=t(e[n-1]);(o<a||o>i||s<a||s>i)&&t.domain([e[0],e[n-1]])}},xl={sign:function(t){var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,i=0,o=0;o<e;++o){var s=Rt()(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1])}},expand:function(t,e){if((r=t.length)>0){for(var n,r,a,i=0,o=t[0].length;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Pu(t,e)}},none:Pu,silhouette:function(t,e){if((n=t.length)>0){for(var n,r=0,a=t[e[0]],i=a.length;r<i;++r){for(var o=0,s=0;o<n;++o)s+=t[o][r][1]||0;a[r][1]+=a[r][0]=-s/2}Pu(t,e)}},wiggle:function(t,e){if((a=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,a,i=0,o=1;o<r;++o){for(var s=0,u=0,c=0;s<a;++s){for(var l=t[e[s]],h=l[o][1]||0,f=(h-(l[o-1][1]||0))/2,p=0;p<s;++p){var d=t[e[p]];f+=(d[o][1]||0)-(d[o-1][1]||0)}u+=h,c+=f*h}n[o-1][1]+=n[o-1][0]=i,u&&(i-=c/u)}n[o-1][1]+=n[o-1][0]=i,Pu(t,e)}}},wl=function(t,e,n){var r=e.map((function(t){return t.props.dataKey}));return function(){var t=In([]),e=Lu,n=Pu,r=zu;function a(a){var i,o,s=t.apply(this,arguments),u=a.length,c=s.length,l=new Array(c);for(i=0;i<c;++i){for(var h,f=s[i],p=l[i]=new Array(u),d=0;d<u;++d)p[d]=h=[0,+r(a[d],f,d,a)],h.data=a[d];p.key=f}for(i=0,o=e(l);i<c;++i)l[o[i]].index=i;return n(l,o),l}return a.keys=function(e){return arguments.length?(t="function"===typeof e?e:In(Fu.call(e)),a):t},a.value=function(t){return arguments.length?(r="function"===typeof t?t:In(+t),a):r},a.order=function(t){return arguments.length?(e=null==t?Lu:"function"===typeof t?t:In(Fu.call(t)),a):e},a.offset=function(t){return arguments.length?(n=null==t?Pu:t,a):n},a}().keys(r).value((function(t,e){return+ul(t,e,0)})).order(Lu).offset(xl[n])(t)},Ol=function(t,e){var n=e.realScaleType,r=e.type,a=e.tickCount,i=e.originalDomain,o=e.allowDecimals,s=n||e.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var u=t.domain(),c=Object(Vr.getNiceTickValues)(u,a,o);return t.domain(function(t,e){return"number"===e?[Br()(t),un()(t)]:t}(c,r)),{niceTicks:c}}if(a&&"number"===r){var l=t.domain();return{niceTicks:Object(Vr.getTickValuesFixedDomain)(l,a,o)}}return null},kl=function(t){var e=t.axis,n=t.ticks,r=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if("category"===e.type){if(!e.allowDuplicatedCategory&&e.dataKey&&!o()(a[e.dataKey])){var u=qt(n,"value",a[e.dataKey]);if(u)return u.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=ul(a,o()(s)?e.dataKey:s);return o()(c)?null:e.scale(c)},Sl=function(t,e,n){return Object.keys(t).reduce((function(r,a){var i=t[a].stackedData.reduce((function(t,r){var a=r.slice(e,n+1).reduce((function(t,e){return[Br()(e.concat([t[0]]).filter(Bt)),un()(e.concat([t[1]]).filter(Bt))]}),[1/0,-1/0]);return[Math.min(t[0],a[0]),Math.max(t[1],a[1])]}),[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]}),[1/0,-1/0]).map((function(t){return t===1/0||t===-1/0?0:t}))},El=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Cl=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jl=function(t,e,n){if(!Mt()(t))return e;var r=[];if(Bt(t[0]))r[0]=n?t[0]:Math.min(t[0],e[0]);else if(El.test(t[0])){var a=+El.exec(t[0])[1];r[0]=e[0]-a}else u()(t[0])?r[0]=t[0](e[0]):r[0]=e[0];if(Bt(t[1]))r[1]=n?t[1]:Math.max(t[1],e[1]);else if(Cl.test(t[1])){var i=+Cl.exec(t[1])[1];r[1]=e[1]+i}else u()(t[1])?r[1]=t[1](e[1]):r[1]=e[1];return r},Tl=function(t,e){if(t&&t.scale&&t.scale.bandwidth)return t.scale.bandwidth();if(t&&e&&e.length>=2){for(var n=At()(e,(function(t){return t.coordinate})),r=1/0,a=1,i=n.length;a<i;a++){var o=n[a],s=n[a-1];r=Math.min((o.coordinate||0)-(s.coordinate||0),r)}return r===1/0?0:r}return 0},Al=function(t,e,n){return t&&t.length?m()(t,It()(n,"type.defaultProps.domain"))?e:t:e};function _l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_l(n,!0).forEach((function(e){Nl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Il=Math.PI/180,Dl=function(t){return 180*t/Math.PI},Rl=function(t,e,n,r){return{x:t+Math.cos(-Il*r)*n,y:e+Math.sin(-Il*r)*n}},Pl=function(t,e){var n=t.x,r=t.y,a=e.cx,i=e.cy,o=function(t,e){var n=t.x,r=t.y,a=e.x,i=e.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-i,2))}({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o};var s=(n-a)/o,u=Math.acos(s);return r>i&&(u=2*Math.PI-u),{radius:o,angle:Dl(u),angleInRadian:u}},Fl=function(t,e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360);return t+360*Math.min(a,i)},Ll=function(t,e){var n=t.x,r=t.y,a=Pl({x:n,y:r},e),i=a.radius,o=a.angle,s=e.innerRadius,u=e.outerRadius;if(i<s||i>u)return!1;if(0===i)return!0;var c,l=function(t){var e=t.startAngle,n=t.endAngle,r=Math.floor(e/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:e-360*i,endAngle:n-360*i}}(e),h=l.startAngle,f=l.endAngle,p=o;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;c=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;c=p>=f&&p<=h}return c?Ml({},e,{radius:i,angle:Fl(p,e)}):null};function zl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Bl(){return(Bl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Wl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ul(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vl=d.a.shape({x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number}),Hl=d.a.shape({cx:d.a.number,cy:d.a.number,innerRadius:d.a.number,outerRadius:d.a.number,startAngle:d.a.number,endAngle:d.a.number}),Gl=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wl(n,!0).forEach((function(e){Ul(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wl(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fe,{viewBox:d.a.oneOfType([Vl,Hl]),formatter:d.a.func,value:d.a.oneOfType([d.a.number,d.a.string]),offset:d.a.number,position:d.a.oneOf(["top","left","right","bottom","inside","outside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight","insideStart","insideEnd","end","center","centerTop","centerBottom"]),children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node]),className:d.a.string,content:d.a.oneOfType([d.a.element,d.a.func])}),Yl=function(t,e,n){var r,a,i=t.position,s=t.viewBox,u=t.offset,c=t.className,l=s.cx,h=s.cy,p=s.innerRadius,d=s.outerRadius,v=s.startAngle,m=s.endAngle,g=s.clockWise,y=(p+d)/2,b=function(t,e){return Lt(e-t)*Math.min(Math.abs(e-t),360)}(v,m),x=b>=0?1:-1;"insideStart"===i?(r=v+x*u,a=g):"insideEnd"===i?(r=m-x*u,a=!g):"end"===i&&(r=m+x*u,a=g),a=b<=0?a:!a;var w=Rl(l,h,y,r),O=Rl(l,h,y,r+359*(a?1:-1)),k="M".concat(w.x,",").concat(w.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(a?0:1,",\n    ").concat(O.x,",").concat(O.y),S=o()(t.id)?Vt("recharts-radial-line-"):t.id;return f.a.createElement("text",Bl({},n,{dominantBaseline:"central",className:jt()("recharts-radial-bar-label",c)}),f.a.createElement("defs",null,f.a.createElement("path",{id:S,d:k})),f.a.createElement("textPath",{xlinkHref:"#".concat(S)},e))};function ql(t){var e,n=t.viewBox,r=t.position,a=t.value,i=t.children,s=t.content,c=t.className,l=void 0===c?"":c;if(!n||o()(a)&&o()(i)&&!Object(h.isValidElement)(s)&&!u()(s))return null;if(Object(h.isValidElement)(s))return Object(h.cloneElement)(s,t);if(u()(s)){if(e=s(t),Object(h.isValidElement)(e))return e}else e=function(t){var e=t.value,n=t.formatter,r=o()(t.children)?e:t.children;return u()(n)?n(r):r}(t);var p=function(t){return Bt(t.cx)}(n),d=xe(t),v=Oe(t);if(p&&("insideStart"===r||"insideEnd"===r||"end"===r))return Yl(t,e,d);var m=p?function(t){var e=t.viewBox,n=t.offset,r=t.position,a=e.cx,i=e.cy,o=e.innerRadius,s=e.outerRadius,u=(e.startAngle+e.endAngle)/2;if("outside"===r){var c=Rl(a,i,s+n,u),l=c.x;return{x:l,y:c.y,textAnchor:l>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=Rl(a,i,(o+s)/2,u);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(t):function(t){var e=t.viewBox,n=t.offset,r=t.position,a=e.x,i=e.y,o=e.width,s=e.height,u=s>=0?1:-1;return"top"===r?{x:a+o/2,y:i-u*n,textAnchor:"middle",verticalAnchor:u>0?"end":"start"}:"bottom"===r?{x:a+o/2,y:i+s+u*n,textAnchor:"middle",verticalAnchor:"start"}:"left"===r?{x:a-n,y:i+s/2,textAnchor:"end",verticalAnchor:"middle"}:"right"===r?{x:a+o+n,y:i+s/2,textAnchor:"start",verticalAnchor:"middle"}:"insideLeft"===r?{x:a+n,y:i+s/2,textAnchor:"start",verticalAnchor:"middle"}:"insideRight"===r?{x:a+o-n,y:i+s/2,textAnchor:"end",verticalAnchor:"middle"}:"insideTop"===r?{x:a+o/2,y:i+u*n,textAnchor:"middle",verticalAnchor:"start"}:"insideBottom"===r?{x:a+o/2,y:i+s-u*n,textAnchor:"middle",verticalAnchor:"end"}:"insideTopLeft"===r?{x:a+n,y:i+u*n,textAnchor:"start",verticalAnchor:"start"}:"insideTopRight"===r?{x:a+o-n,y:i+u*n,textAnchor:"end",verticalAnchor:"start"}:"insideBottomLeft"===r?{x:a+n,y:i+s-u*n,textAnchor:"start",verticalAnchor:"end"}:"insideBottomRight"===r?{x:a+o-n,y:i+s-u*n,textAnchor:"end",verticalAnchor:"end"}:ue()(r)&&(Bt(r.x)||zt(r.x))&&(Bt(r.y)||zt(r.y))?{x:a+Ht(r.x,o),y:i+Ht(r.y,s),textAnchor:"end",verticalAnchor:"end"}:{x:a+o/2,y:i+s/2,textAnchor:"middle",verticalAnchor:"middle"}}(t);return f.a.createElement(Lr,Bl({className:jt()("recharts-label",l)},d,m,v),e)}ql.displayName="Label",ql.defaultProps={offset:5},ql.propTypes=Gl;var Xl=function(t){var e=t.cx,n=t.cy,r=t.angle,a=t.startAngle,i=t.endAngle,o=t.r,s=t.radius,u=t.innerRadius,c=t.outerRadius,l=t.x,h=t.y,f=t.top,p=t.left,d=t.width,v=t.height,m=t.clockWise;if(Bt(d)&&Bt(v)){if(Bt(l)&&Bt(h))return{x:l,y:h,width:d,height:v};if(Bt(f)&&Bt(p))return{x:f,y:p,width:d,height:v}}return Bt(l)&&Bt(h)?{x:l,y:h,width:0,height:0}:Bt(e)&&Bt(n)?{cx:e,cy:n,startAngle:a||r||0,endAngle:i||r||0,innerRadius:u||0,outerRadius:c||s||o||0,clockWise:m}:t.viewBox?t.viewBox:{}},Kl=function(t,e){return t?!0===t?f.a.createElement(ql,{key:"label-implicit",viewBox:e}):Wt(t)?f.a.createElement(ql,{key:"label-implicit",viewBox:e,value:t}):Object(h.isValidElement)(t)?t.type===ql?Object(h.cloneElement)(t,{key:"label-implicit",viewBox:e}):f.a.createElement(ql,{key:"label-implicit",content:t,viewBox:e}):u()(t)?f.a.createElement(ql,{key:"label-implicit",content:t,viewBox:e}):ue()(t)?f.a.createElement(ql,Bl({viewBox:e},t,{key:"label-implicit"})):null:null};ql.parseViewBox=Xl,ql.renderCallByParent=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=Xl(t),i=ye(r,ql).map((function(t,n){return Object(h.cloneElement)(t,{viewBox:e||a,key:"label-".concat(n)})}));if(!n)return i;var o=Kl(t.label,e||a);return[o].concat(zl(i))};var $l=ql;function Jl(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zl(){return(Zl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ql(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ql(n,!0).forEach((function(e){eh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ql(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nh(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var rh={id:d.a.string,data:d.a.arrayOf(d.a.object),valueAccessor:d.a.func,clockWise:d.a.bool,dataKey:d.a.oneOfType([d.a.string,d.a.number,d.a.func])},ah={valueAccessor:function(t){return Mt()(t.value)?vr()(t.value):t.value}};function ih(t){var e=t.data,n=t.valueAccessor,r=t.dataKey,a=t.clockWise,i=t.id,s=nh(t,["data","valueAccessor","dataKey","clockWise","id"]);return e&&e.length?f.a.createElement(pr,{className:"recharts-label-list"},e.map((function(t,e){var u=o()(r)?n(t,e):ul(t&&t.payload,r),c=o()(i)?{}:{id:"".concat(i,"-").concat(e)};return f.a.createElement($l,Zl({},xe(t),s,c,{index:e,value:u,viewBox:$l.parseViewBox(o()(a)?t:th({},t,{clockWise:a})),key:"label-".concat(e)}))}))):null}ih.propTypes=rh,ih.displayName="LabelList";var oh=function(t,e){return t?!0===t?f.a.createElement(ih,{key:"labelList-implicit",data:e}):f.a.isValidElement(t)||u()(t)?f.a.createElement(ih,{key:"labelList-implicit",data:e,content:t}):ue()(t)?f.a.createElement(ih,Zl({data:e},t,{key:"labelList-implicit"})):null:null};ih.renderCallByParent=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=ye(r,ih).map((function(t,n){return Object(h.cloneElement)(t,{data:e,key:"labelList-".concat(n)})}));if(!n)return a;var i=oh(t.label,e);return[i].concat(Jl(a))},ih.defaultProps=ah;var sh=ih;function uh(t){return(uh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ch(){return(ch=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lh(n,!0).forEach((function(e){fh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lh(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ph(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vh(t,e){return!e||"object"!==uh(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mh(t){return(mh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gh(t,e){return(gh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yh=function(t){function e(){var t,n;ph(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=vh(this,(t=mh(e)).call.apply(t,[this].concat(a)))).state={isAnimationFinished:!0},n.id=Vt("recharts-area-"),n.cachePrevData=function(t,e){n.setState({prevPoints:t,prevBaseLine:e})},n.handleAnimationEnd=function(){var t=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),u()(t)&&t()},n.handleAnimationStart=function(){var t=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),u()(t)&&t()},n}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gh(t,e)}(e,t),n=e,(r=[{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.animationId,r=e.points,a=e.baseLine;t.animationId!==n&&this.cachePrevData(r,a)}},{key:"renderDots",value:function(t,e){var n=this,r=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(r&&!a)return null;var i=this.props,o=i.dot,s=i.points,u=i.dataKey,c=xe(this.props),l=xe(o),h=Oe(o),p=s.map((function(t,e){var r=hh({key:"dot-".concat(e),r:3},c,{},l,{},h,{dataKey:u,cx:t.x,cy:t.y,index:e,value:t.value,payload:t.payload});return n.constructor.renderDotItem(o,r)})),d={clipPath:t?"url(#clipPath-".concat(e,")"):null};return f.a.createElement(pr,ch({className:"recharts-area-dots"},d),p)}},{key:"renderHorizontalRect",value:function(t){var e=this.props,n=e.baseLine,r=e.points,a=e.strokeWidth,i=r[0].x,o=r[r.length-1].x,s=t*Math.abs(i-o),u=un()(r.map((function(t){return t.y||0})));return Bt(n)?u=Math.max(n,u):n&&Mt()(n)&&n.length&&(u=Math.max(un()(n.map((function(t){return t.y||0}))),u)),Bt(u)?f.a.createElement("rect",{x:i<o?i:i-s,y:0,width:s,height:parseInt(u+(a||1),10)}):null}},{key:"renderVerticalRect",value:function(t){var e=this.props,n=e.baseLine,r=e.points,a=e.strokeWidth,i=r[0].y,o=r[r.length-1].y,s=t*Math.abs(i-o),u=un()(r.map((function(t){return t.x||0})));return Bt(n)?u=Math.max(n,u):n&&Mt()(n)&&n.length&&(u=Math.max(un()(n.map((function(t){return t.x||0}))),u)),Bt(u)?f.a.createElement("rect",{x:0,y:i<o?i:i-s,width:u+(a||1),height:parseInt(s,10)}):null}},{key:"renderClipRect",value:function(t){return"vertical"===this.props.layout?this.renderVerticalRect(t):this.renderHorizontalRect(t)}},{key:"renderAreaStatically",value:function(t,e,n,r){var a=this.props,i=a.layout,o=a.type,s=a.stroke,u=a.connectNulls,c=a.isRange;return f.a.createElement(pr,{clipPath:n?"url(#clipPath-".concat(r,")"):null},f.a.createElement(Qn,ch({},this.props,{points:t,baseLine:e,stroke:"none",className:"recharts-area-area"})),"none"!==s&&f.a.createElement(Qn,ch({},xe(this.props),{className:"recharts-area-curve",layout:i,type:o,connectNulls:u,fill:"none",points:t})),"none"!==s&&c&&f.a.createElement(Qn,ch({},xe(this.props),{className:"recharts-area-curve",layout:i,type:o,connectNulls:u,fill:"none",points:e})))}},{key:"renderAreaWithAnimation",value:function(t,e){var n=this,r=this.props,a=r.points,i=r.baseLine,s=r.isAnimationActive,u=r.animationBegin,c=r.animationDuration,l=r.animationEasing,h=r.animationId,p=this.state,d=p.prevPoints,v=p.prevBaseLine;return f.a.createElement(Et,{begin:u,duration:c,isActive:s,easing:l,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var s=r.t;if(d){var u,c=d.length/a.length,l=a.map((function(t,e){var n=Math.floor(e*c);if(d[n]){var r=d[n],a=Yt(r.x,t.x),i=Yt(r.y,t.y);return hh({},t,{x:a(s),y:i(s)})}return t}));return u=Bt(i)?Yt(v,i)(s):o()(i)||Rt()(i)?Yt(v,0)(s):i.map((function(t,e){var n=Math.floor(e*c);if(v[n]){var r=v[n],a=Yt(r.x,t.x),i=Yt(r.y,t.y);return hh({},t,{x:a(s),y:i(s)})}return t})),n.renderAreaStatically(l,u,t,e)}return f.a.createElement(pr,null,f.a.createElement("defs",null,f.a.createElement("clipPath",{id:"animationClipPath-".concat(e)},n.renderClipRect(s))),f.a.createElement(pr,{clipPath:"url(#animationClipPath-".concat(e,")")},n.renderAreaStatically(a,i,t,e)))}))}},{key:"renderArea",value:function(t,e){var n=this.props,r=n.points,a=n.baseLine,i=n.isAnimationActive,o=this.state,s=o.prevPoints,u=o.prevBaseLine,c=o.totalLength;return i&&r&&r.length&&(!s&&c>0||!m()(s,r)||!m()(u,a))?this.renderAreaWithAnimation(t,e):this.renderAreaStatically(r,a,t,e)}},{key:"render",value:function(){var t=this.props,e=t.hide,n=t.dot,r=t.points,a=t.className,i=t.top,s=t.left,u=t.xAxis,c=t.yAxis,l=t.width,h=t.height,p=t.isAnimationActive,d=t.id;if(e||!r||!r.length)return null;var v=this.state.isAnimationFinished,m=1===r.length,g=jt()("recharts-area",a),y=u&&u.allowDataOverflow||c&&c.allowDataOverflow,b=o()(d)?this.id:d;return f.a.createElement(pr,{className:g},y?f.a.createElement("defs",null,f.a.createElement("clipPath",{id:"clipPath-".concat(b)},f.a.createElement("rect",{x:s,y:i,width:l,height:parseInt(h,10)}))):null,m?null:this.renderArea(y,b),(n||m)&&this.renderDots(y,b),(!p||v)&&sh.renderCallByParent(this.props,r))}}])&&dh(n.prototype,r),a&&dh(n,a),e}(h.PureComponent);yh.displayName="Area",yh.propTypes=hh({},fe,{},pe,{className:d.a.string,dataKey:d.a.oneOfType([d.a.string,d.a.number,d.a.func]).isRequired,type:d.a.oneOfType([d.a.oneOf(["basis","basisClosed","basisOpen","linear","linearClosed","natural","monotoneX","monotoneY","monotone","step","stepBefore","stepAfter"]),d.a.func]),unit:d.a.oneOfType([d.a.string,d.a.number]),name:d.a.oneOfType([d.a.string,d.a.number]),yAxisId:d.a.oneOfType([d.a.string,d.a.number]),xAxisId:d.a.oneOfType([d.a.string,d.a.number]),yAxis:d.a.object,xAxis:d.a.object,stackId:d.a.oneOfType([d.a.number,d.a.string]),legendType:d.a.oneOf(ve),tooltipType:d.a.oneOf(me),connectNulls:d.a.bool,activeDot:d.a.oneOfType([d.a.object,d.a.element,d.a.func,d.a.bool]),dot:d.a.oneOfType([d.a.func,d.a.element,d.a.object,d.a.bool]),label:d.a.oneOfType([d.a.func,d.a.element,d.a.object,d.a.bool]),hide:d.a.bool,layout:d.a.oneOf(["horizontal","vertical"]),baseLine:d.a.oneOfType([d.a.number,d.a.array]),isRange:d.a.bool,points:d.a.arrayOf(d.a.shape({x:d.a.number,y:d.a.number,value:d.a.oneOfType([d.a.number,d.a.array])})),onAnimationStart:d.a.func,onAnimationEnd:d.a.func,animationId:d.a.number,isAnimationActive:d.a.bool,animationBegin:d.a.number,animationDuration:d.a.number,animationEasing:d.a.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),id:d.a.string}),yh.defaultProps={stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ce(),animationBegin:0,animationDuration:1500,animationEasing:"ease"},yh.getBaseValue=function(t,e,n){var r=t.layout,a=t.baseValue;if(Bt(a))return a;var i="horizontal"===r?n:e,o=i.scale.domain();if("number"===i.type){var s=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return"dataMin"===a?u:"dataMax"===a||s<0?s:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===a?o[0]:"dataMax"===a?o[1]:o[0]},yh.getComposedData=function(t){var e,n=t.props,r=t.xAxis,a=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,u=t.bandSize,c=t.dataKey,l=t.stackedData,h=t.dataStartIndex,f=t.displayedData,p=t.offset,d=n.layout,v=l&&l.length,m=yh.getBaseValue(n,r,a),g=!1,y=f.map((function(t,e){var n;return v?n=l[h+e]:(n=ul(t,c),Mt()(n)?g=!0:n=[m,n]),"horizontal"===d?{x:kl({axis:r,ticks:i,bandSize:u,entry:t,index:e}),y:o()(n[1])?null:a.scale(n[1]),value:n,payload:t}:{x:o()(n[1])?null:r.scale(n[1]),y:kl({axis:a,ticks:s,bandSize:u,entry:t,index:e}),value:n,payload:t}}));return e=v||g?y.map((function(t){return"horizontal"===d?{x:t.x,y:o()(It()(t,"value[0]"))?null:a.scale(It()(t,"value[0]"))}:{x:o()(It()(t,"value[0]"))?null:r.scale(It()(t,"value[0]")),y:t.y}})):"horizontal"===d?a.scale(m):r.scale(m),hh({points:y,baseLine:e,layout:d,isRange:g},p)},yh.renderDotItem=function(t,e){return f.a.isValidElement(t)?f.a.cloneElement(t,e):u()(t)?t(e):f.a.createElement(ur,ch({},e,{className:"recharts-area-dot"}))};var bh=yh;function xh(t){return(xh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kh(t,e){return!e||"object"!==xh(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sh(t){return(Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Eh(t,e){return(Eh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ch=function(t){function e(){return wh(this,e),kh(this,Sh(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eh(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return null}}])&&Oh(n.prototype,r),a&&Oh(n,a),e}(h.PureComponent);Ch.displayName="XAxis",Ch.propTypes={allowDecimals:d.a.bool,allowDuplicatedCategory:d.a.bool,hide:d.a.bool,name:d.a.oneOfType([d.a.string,d.a.number]),unit:d.a.oneOfType([d.a.string,d.a.number]),xAxisId:d.a.oneOfType([d.a.string,d.a.number]),domain:d.a.arrayOf(d.a.oneOfType([d.a.string,d.a.number,d.a.func,d.a.oneOf(["auto","dataMin","dataMax"])])),dataKey:d.a.oneOfType([d.a.string,d.a.number,d.a.func]),width:d.a.number,height:d.a.number,mirror:d.a.bool,orientation:d.a.oneOf(["top","bottom"]),type:d.a.oneOf(["number","category"]),ticks:d.a.array,tickCount:d.a.number,tickFormatter:d.a.func,padding:d.a.shape({left:d.a.number,right:d.a.number}),allowDataOverflow:d.a.bool,scale:d.a.oneOfType([d.a.oneOf(["auto","linear","pow","sqrt","log","identity","time","band","point","ordinal","quantile","quantize","utc","sequential","threshold"]),d.a.func]),tick:d.a.oneOfType([d.a.bool,d.a.func,d.a.object,d.a.element]),axisLine:d.a.oneOfType([d.a.bool,d.a.object]),tickLine:d.a.oneOfType([d.a.bool,d.a.object]),minTickGap:d.a.number,tickSize:d.a.number,interval:d.a.oneOfType([d.a.number,d.a.oneOf(["preserveStart","preserveEnd","preserveStartEnd"])]),reversed:d.a.bool},Ch.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",domain:[0,"auto"],padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var jh=Ch;function Th(t){return(Th="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ah(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mh(t,e){return!e||"object"!==Th(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nh(t){return(Nh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ih(t,e){return(Ih=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Dh=function(t){function e(){return Ah(this,e),Mh(this,Nh(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ih(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return null}}])&&_h(n.prototype,r),a&&_h(n,a),e}(h.PureComponent);Dh.displayName="YAxis",Dh.propTypes={allowDecimals:d.a.bool,allowDuplicatedCategory:d.a.bool,hide:d.a.bool,name:d.a.oneOfType([d.a.string,d.a.number]),unit:d.a.oneOfType([d.a.string,d.a.number]),yAxisId:d.a.oneOfType([d.a.string,d.a.number]),domain:d.a.arrayOf(d.a.oneOfType([d.a.string,d.a.number,d.a.func,d.a.oneOf(["auto","dataMin","dataMax"])])),dataKey:d.a.oneOfType([d.a.string,d.a.number,d.a.func]),ticks:d.a.array,tickCount:d.a.number,tickFormatter:d.a.func,width:d.a.number,height:d.a.number,mirror:d.a.bool,orientation:d.a.oneOf(["left","right"]),type:d.a.oneOf(["number","category"]),padding:d.a.shape({top:d.a.number,bottom:d.a.number}),allowDataOverflow:d.a.bool,scale:d.a.oneOfType([d.a.oneOf(["auto","linear","pow","sqrt","log","identity","time","band","point","ordinal","quantile","quantize","utc","sequential","threshold"]),d.a.func]),tick:d.a.oneOfType([d.a.bool,d.a.func,d.a.object,d.a.element]),axisLine:d.a.oneOfType([d.a.bool,d.a.object]),tickLine:d.a.oneOfType([d.a.bool,d.a.object]),minTickGap:d.a.number,tickSize:d.a.number,interval:d.a.oneOfType([d.a.number,d.a.oneOf(["preserveStart","preserveEnd","preserveStartEnd"])]),reversed:d.a.bool},Dh.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",domain:[0,"auto"],padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var Rh=Dh,Ph=n(102),Fh=n.n(Ph),Lh=n(192),zh=n.n(Lh),Bh=n(78),Wh=n.n(Bh),Uh=n(193),Vh=n.n(Uh);function Hh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yh(t){return(Yh="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qh(){return(qh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Xh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $h(t,e){return!e||"object"!==Yh(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jh(t){return(Jh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zh(t,e){return(Zh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Qh=function(t){function e(){return Xh(this,e),$h(this,Jh(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zh(t,e)}(e,t),n=e,a=[{key:"getPath",value:function(t,e,n,r,a,i){return"M".concat(t,",").concat(a,"v").concat(r,"M").concat(i,",").concat(e,"h").concat(n)}}],(r=[{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.width,a=t.height,i=t.top,o=t.left,s=t.className;return Bt(e)&&Bt(n)&&Bt(r)&&Bt(a)&&Bt(i)&&Bt(o)?f.a.createElement("path",qh({},xe(this.props),{className:jt()("recharts-cross",s),d:this.constructor.getPath(e,n,r,a,i,o)})):null}}])&&Kh(n.prototype,r),a&&Kh(n,a),e}(h.PureComponent);Qh.displayName="Cross",Qh.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Hh(n,!0).forEach((function(e){Gh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hh(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fe,{x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number,top:d.a.number,left:d.a.number,className:d.a.string}),Qh.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var tf=Qh;function ef(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rf(t){return(rf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function af(){return(af=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function of(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uf(t,e){return!e||"object"!==rf(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cf(t){return(cf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lf(t,e){return(lf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hf=function(t){var e=t.cx,n=t.cy,r=t.radius,a=t.angle,i=t.sign,o=t.isExternal,s=t.cornerRadius,u=t.cornerIsExternal,c=s*(o?1:-1)+r,l=Math.asin(s/c)/Il,h=u?a:a+i*l,f=u?a-i*l:a;return{center:Rl(e,n,c,h),circleTangency:Rl(e,n,r,h),lineTangency:Rl(e,n,c*Math.cos(l*Il),f),theta:l}},ff=function(t){var e=t.cx,n=t.cy,r=t.innerRadius,a=t.outerRadius,i=t.startAngle,o=function(t,e){return Lt(e-t)*Math.min(Math.abs(e-t),359.999)}(i,t.endAngle),s=i+o,u=Rl(e,n,a,i),c=Rl(e,n,a,s),l="M ".concat(u.x,",").concat(u.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var h=Rl(e,n,r,i),f=Rl(e,n,r,s);l+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(h.x,",").concat(h.y," Z")}else l+="L ".concat(e,",").concat(n," Z");return l},pf=function(t){function e(){return of(this,e),uf(this,cf(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lf(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.cx,n=t.cy,r=t.innerRadius,a=t.outerRadius,i=t.cornerRadius,o=t.forceCornerRadius,s=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,l=t.className;if(a<r||u===c)return null;var h,p=jt()("recharts-sector",l),d=a-r,v=Ht(i,d,0,!0);return h=v>0&&Math.abs(u-c)<360?function(t){var e=t.cx,n=t.cy,r=t.innerRadius,a=t.outerRadius,i=t.cornerRadius,o=t.forceCornerRadius,s=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,l=Lt(c-u),h=hf({cx:e,cy:n,radius:a,angle:u,sign:l,cornerRadius:i,cornerIsExternal:s}),f=h.circleTangency,p=h.lineTangency,d=h.theta,v=hf({cx:e,cy:n,radius:a,angle:c,sign:-l,cornerRadius:i,cornerIsExternal:s}),m=v.circleTangency,g=v.lineTangency,y=v.theta,b=Math.abs(u-c)-d-y;if(b<0)return o?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):ff({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:u,endAngle:c});var x="M ".concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(l<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var w=hf({cx:e,cy:n,radius:r,angle:u,sign:l,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),O=w.circleTangency,k=w.lineTangency,S=w.theta,E=hf({cx:e,cy:n,radius:r,angle:c,sign:-l,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),C=E.circleTangency,j=E.lineTangency,T=E.theta,A=Math.abs(u-c)-S-T;if(A<0)return"".concat(x,"L").concat(e,",").concat(n,"Z");x+="L".concat(j.x,",").concat(j.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(l>0),",").concat(O.x,",").concat(O.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(l<0),",").concat(k.x,",").concat(k.y,"Z")}else x+="L".concat(e,",").concat(n,"Z");return x}({cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:Math.min(v,d/2),forceCornerRadius:o,cornerIsExternal:s,startAngle:u,endAngle:c}):ff({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:u,endAngle:c}),f.a.createElement("path",af({},xe(this.props),Oe(this.props),{className:p,d:h}))}}])&&sf(n.prototype,r),a&&sf(n,a),e}(h.PureComponent);pf.displayName="Sector",pf.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ef(n,!0).forEach((function(e){nf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ef(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fe,{className:d.a.string,cx:d.a.number,cy:d.a.number,innerRadius:d.a.number,outerRadius:d.a.number,startAngle:d.a.number,endAngle:d.a.number,cornerRadius:d.a.oneOfType([d.a.number,d.a.string]),forceCornerRadius:d.a.bool,cornerIsExternal:d.a.bool}),pf.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1};var df=pf;function vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gf(t){return(gf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yf(){return(yf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function bf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wf(t,e){return!e||"object"!==gf(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Of(t){return(Of=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kf(t,e){return(kf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Sf=function(t,e,n,r,a){var i,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&a instanceof Array){for(var l=[],h=0;h<4;h++)l[h]=a[h]>o?o:a[h];i="M".concat(t,",").concat(e+s*l[0]),l[0]>0&&(i+="A ".concat(l[0],",").concat(l[0],",0,0,").concat(c,",").concat(t+u*l[0],",").concat(e)),i+="L ".concat(t+n-u*l[1],",").concat(e),l[1]>0&&(i+="A ".concat(l[1],",").concat(l[1],",0,0,").concat(c,",\n        ").concat(t+n,",").concat(e+s*l[1])),i+="L ".concat(t+n,",").concat(e+r-s*l[2]),l[2]>0&&(i+="A ".concat(l[2],",").concat(l[2],",0,0,").concat(c,",\n        ").concat(t+n-u*l[2],",").concat(e+r)),i+="L ".concat(t+u*l[3],",").concat(e+r),l[3]>0&&(i+="A ".concat(l[3],",").concat(l[3],",0,0,").concat(c,",\n        ").concat(t,",").concat(e+r-s*l[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var f=Math.min(o,a);i="M ".concat(t,",").concat(e+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(t+u*f,",").concat(e,"\n            L ").concat(t+n-u*f,",").concat(e,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*f,"\n            L ").concat(t+n,",").concat(e+r-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(t+n-u*f,",").concat(e+r,"\n            L ").concat(t+u*f,",").concat(e+r,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*f," Z")}else i="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},Ef=function(t){function e(){var t,n;bf(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=wf(this,(t=Of(e)).call.apply(t,[this].concat(a)))).state={totalLength:-1},n}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kf(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var t=this.node.getTotalLength();t&&this.setState({totalLength:t})}catch(e){}}},{key:"render",value:function(){var t=this,e=this.props,n=e.x,r=e.y,a=e.width,i=e.height,o=e.radius,s=e.className,u=this.state.totalLength,c=this.props,l=c.animationEasing,h=c.animationDuration,p=c.animationBegin,d=c.isAnimationActive,v=c.isUpdateAnimationActive;if(n!==+n||r!==+r||a!==+a||i!==+i||0===a||0===i)return null;var m=jt()("recharts-rectangle",s);return v?f.a.createElement(Et,{canBegin:u>0,from:{width:a,height:i,x:n,y:r},to:{width:a,height:i,x:n,y:r},duration:h,animationEasing:l,isActive:v},(function(e){var n=e.width,r=e.height,a=e.x,i=e.y;return f.a.createElement(Et,{canBegin:u>0,from:"0px ".concat(-1===u?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:d,easing:l},f.a.createElement("path",yf({},xe(t.props),Oe(t.props),{className:m,d:Sf(a,i,n,r,o),ref:function(e){t.node=e}})))})):f.a.createElement("path",yf({},xe(this.props),Oe(this.props),{className:m,d:Sf(n,r,a,i,o)}))}}])&&xf(n.prototype,r),a&&xf(n,a),e}(h.PureComponent);Ef.displayName="Rectangle",Ef.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vf(n,!0).forEach((function(e){mf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vf(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},fe,{},pe,{className:d.a.string,x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number,radius:d.a.oneOfType([d.a.number,d.a.array]),isAnimationActive:d.a.bool,isUpdateAnimationActive:d.a.bool,animationBegin:d.a.number,animationDuration:d.a.number,animationEasing:d.a.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"])}),Ef.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};var Cf=Ef;function jf(t){return(jf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tf(){return(Tf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Af(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Af(n,!0).forEach((function(e){Mf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Af(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nf(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function If(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Df(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rf(t,e){return!e||"object"!==jf(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Pf(t){return(Pf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ff(t,e){return(Ff=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Lf=function(t){function e(){return If(this,e),Rf(this,Pf(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ff(t,e)}(e,t),n=e,a=[{key:"getTicks",value:function(t){var n=t.tick,r=t.ticks,a=t.viewBox,i=t.minTickGap,o=t.orientation,s=t.interval,u=t.tickFormatter,c=t.unit;return r&&r.length&&n?Bt(s)||Ce()?e.getNumberIntervalTicks(r,Bt(s)?s:0):"preserveStartEnd"===s?e.getTicksStart({ticks:r,tickFormatter:u,viewBox:a,orientation:o,minTickGap:i,unit:c},!0):"preserveStart"===s?e.getTicksStart({ticks:r,tickFormatter:u,viewBox:a,orientation:o,minTickGap:i,unit:c}):e.getTicksEnd({ticks:r,tickFormatter:u,viewBox:a,orientation:o,minTickGap:i,unit:c}):[]}},{key:"getNumberIntervalTicks",value:function(t,e){return t.filter((function(t,n){return n%(e+1)===0}))}},{key:"getTicksStart",value:function(t,e){var n,r,a=t.ticks,i=t.tickFormatter,o=t.viewBox,s=t.orientation,c=t.minTickGap,l=t.unit,h=o.x,f=o.y,p=o.width,d=o.height,v="top"===s||"bottom"===s?"width":"height",m=(a||[]).slice(),g=l&&"width"===v?Cr(l)[v]:0,y=m.length,b=y>=2?Lt(m[1].coordinate-m[0].coordinate):1;if(1===b?(n="width"===v?h:f,r="width"===v?h+p:f+d):(n="width"===v?h+p:f+d,r="width"===v?h:f),e){var x=a[y-1],w=u()(i)?i(x.value):x.value,O=Cr(w)[v]+g,k=b*(x.coordinate+b*O/2-r);m[y-1]=x=_f({},x,{tickCoord:k>0?x.coordinate-k*b:x.coordinate}),b*(x.tickCoord-b*O/2-n)>=0&&b*(x.tickCoord+b*O/2-r)<=0&&(r=x.tickCoord-b*(O/2+c),m[y-1]=_f({},x,{isShow:!0}))}for(var S=e?y-1:y,E=0;E<S;E++){var C=m[E],j=u()(i)?i(C.value):C.value,T=Cr(j)[v]+g;if(0===E){var A=b*(C.coordinate-b*T/2-n);m[E]=C=_f({},C,{tickCoord:A<0?C.coordinate-A*b:C.coordinate})}else m[E]=C=_f({},C,{tickCoord:C.coordinate});b*(C.tickCoord-b*T/2-n)>=0&&b*(C.tickCoord+b*T/2-r)<=0&&(n=C.tickCoord+b*(T/2+c),m[E]=_f({},C,{isShow:!0}))}return m.filter((function(t){return t.isShow}))}},{key:"getTicksEnd",value:function(t){var e,n,r=t.ticks,a=t.tickFormatter,i=t.viewBox,o=t.orientation,s=t.minTickGap,c=t.unit,l=i.x,h=i.y,f=i.width,p=i.height,d="top"===o||"bottom"===o?"width":"height",v=c&&"width"===d?Cr(c)[d]:0,m=(r||[]).slice(),g=m.length,y=g>=2?Lt(m[1].coordinate-m[0].coordinate):1;1===y?(e="width"===d?l:h,n="width"===d?l+f:h+p):(e="width"===d?l+f:h+p,n="width"===d?l:h);for(var b=g-1;b>=0;b--){var x=m[b],w=u()(a)?a(x.value):x.value,O=Cr(w)[d]+v;if(b===g-1){var k=y*(x.coordinate+y*O/2-n);m[b]=x=_f({},x,{tickCoord:k>0?x.coordinate-k*y:x.coordinate})}else m[b]=x=_f({},x,{tickCoord:x.coordinate});y*(x.tickCoord-y*O/2-e)>=0&&y*(x.tickCoord+y*O/2-n)<=0&&(n=x.tickCoord-y*(O/2+s),m[b]=_f({},x,{isShow:!0}))}return m.filter((function(t){return t.isShow}))}},{key:"renderTickItem",value:function(t,e,n){return f.a.isValidElement(t)?f.a.cloneElement(t,e):u()(t)?t(e):f.a.createElement(Lr,Tf({},e,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(r=[{key:"shouldComponentUpdate",value:function(t,e){var n=t.viewBox,r=Nf(t,["viewBox"]),a=this.props,i=a.viewBox,o=Nf(a,["viewBox"]);return!ce(n,i)||!ce(r,o)||!ce(e,this.state)}},{key:"getTickLineCoord",value:function(t){var e,n,r,a,i,o,s=this.props,u=s.x,c=s.y,l=s.width,h=s.height,f=s.orientation,p=s.tickSize,d=s.mirror,v=s.tickMargin,m=d?-1:1,g=t.tickSize||p,y=Bt(t.tickCoord)?t.tickCoord:t.coordinate;switch(f){case"top":e=n=t.coordinate,o=(r=(a=c+!d*h)-m*g)-m*v,i=y;break;case"left":r=a=t.coordinate,i=(e=(n=u+!d*l)-m*g)-m*v,o=y;break;case"right":r=a=t.coordinate,i=(e=(n=u+d*l)+m*g)+m*v,o=y;break;default:e=n=t.coordinate,o=(r=(a=c+d*h)+m*g)+m*v,i=y}return{line:{x1:e,y1:r,x2:n,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var t,e=this.props,n=e.orientation,r=e.mirror;switch(n){case"left":t=r?"start":"end";break;case"right":t=r?"end":"start";break;default:t="middle"}return t}},{key:"getTickVerticalAnchor",value:function(){var t=this.props,e=t.orientation,n=t.mirror,r="end";switch(e){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var t=this.props,e=t.x,n=t.y,r=t.width,a=t.height,i=t.orientation,o=t.axisLine,s=t.mirror,u=_f({},xe(this.props),{fill:"none"},xe(o));if("top"===i||"bottom"===i){var c="top"===i&&!s||"bottom"===i&&s;u=_f({},u,{x1:e,y1:n+c*a,x2:e+r,y2:n+c*a})}else{var l="left"===i&&!s||"right"===i&&s;u=_f({},u,{x1:e+l*r,y1:n,x2:e+l*r,y2:n+a})}return f.a.createElement("line",Tf({className:"recharts-cartesian-axis-line"},u))}},{key:"renderTicks",value:function(t){var n=this,r=this.props,a=r.tickLine,i=r.stroke,o=r.tick,s=r.tickFormatter,c=r.unit,l=e.getTicks(_f({},this.props,{ticks:t})),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),d=xe(this.props),v=xe(o),m=_f({},d,{fill:"none"},xe(a)),g=l.map((function(t,e){var r=n.getTickLineCoord(t),g=r.line,y=r.tick,b=_f({textAnchor:h,verticalAnchor:p},d,{stroke:"none",fill:i},v,{},y,{index:e,payload:t,visibleTicksCount:l.length});return f.a.createElement(pr,Tf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e)},Se(n.props,t,e)),a&&f.a.createElement("line",Tf({className:"recharts-cartesian-axis-tick-line"},m,g)),o&&n.constructor.renderTickItem(o,b,"".concat(u()(s)?s(t.value):t.value).concat(c||"")))}));return f.a.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var t=this.props,e=t.axisLine,n=t.width,r=t.height,a=t.ticksGenerator,i=t.className;if(t.hide)return null;var o=this.props,s=o.ticks,c=Nf(o,["ticks"]),l=s;return u()(a)&&(l=s&&s.length>0?a(this.props):a(c)),n<=0||r<=0||!l||!l.length?null:f.a.createElement(pr,{className:jt()("recharts-cartesian-axis",i)},e&&this.renderAxisLine(),this.renderTicks(l),$l.renderCallByParent(this.props))}}])&&Df(n.prototype,r),a&&Df(n,a),e}(h.Component);Lf.displayName="CartesianAxis",Lf.propTypes=_f({},fe,{},pe,{className:d.a.string,x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number,orientation:d.a.oneOf(["top","bottom","left","right"]),viewBox:d.a.shape({x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number}),tick:d.a.oneOfType([d.a.bool,d.a.func,d.a.object,d.a.element]),axisLine:d.a.oneOfType([d.a.bool,d.a.object]),tickLine:d.a.oneOfType([d.a.bool,d.a.object]),mirror:d.a.bool,tickMargin:d.a.number.isRequired,minTickGap:d.a.number,ticks:d.a.array,tickSize:d.a.number,stroke:d.a.string,tickFormatter:d.a.func,ticksGenerator:d.a.func,interval:d.a.oneOfType([d.a.number,d.a.oneOf(["preserveStart","preserveEnd","preserveStartEnd"])])}),Lf.defaultProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};var zf=Lf;function Bf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Uf=["Webkit","Moz","O","ms"],Vf=function(t,e){if(!t)return null;var n=t.replace(/(\w)/,(function(t){return t.toUpperCase()})),r=Uf.reduce((function(t,r){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bf(n,!0).forEach((function(e){Wf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bf(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,Wf({},r+n,e))}),{});return r[t]=e,r};function Hf(t){return(Hf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gf(){return(Gf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Yf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xf(t){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $f(t,e){return($f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Jf=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==Hf(e)&&"function"!==typeof e?Kf(t):e}(this,Xf(e).call(this,t))).handleDrag=function(t){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(t):n.state.isSlideMoving&&n.handleSlideDrag(t)},n.handleTouchMove=function(t){null!=t.changedTouches&&t.changedTouches.length>0&&n.handleDrag(t.changedTouches[0])},n.handleDragEnd=function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1})},n.handleLeaveWrapper=function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=setTimeout(n.handleDragEnd,n.props.leaveTimeOut))},n.handleEnterSlideOrTraveller=function(){n.setState({isTextActive:!0})},n.handleLeaveSlideOrTraveller=function(){n.setState({isTextActive:!1})},n.handleSlideDragStart=function(t){var e=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:e.pageX})},n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(Kf(n),"startX"),endX:n.handleTravellerDragStart.bind(Kf(n),"endX")},n.state=t.data&&t.data.length?n.updateScale(t):{},n}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$f(t,e)}(e,t),n=e,a=[{key:"getIndexInRange",value:function(t,e){for(var n=0,r=t.length-1;r-n>1;){var a=Math.floor((n+r)/2);t[a]>e?r=a:n=a}return e>=t[r]?r:n}}],(r=[{key:"componentWillReceiveProps",value:function(t){var e=this,n=this.props,r=n.data,a=n.width,i=n.x,o=n.travellerWidth,s=n.updateId;(t.data!==r||t.updateId!==s)&&t.data&&t.data.length?this.setState(this.updateScale(t)):t.width===a&&t.x===i&&t.travellerWidth===o||(this.scale.range([t.x,t.x+t.width-t.travellerWidth]),this.scaleValues=this.scale.domain().map((function(t){return e.scale(t)})),this.setState({startX:this.scale(t.startIndex),endX:this.scale(t.endIndex)}))}},{key:"componentWillUnmount",value:function(){this.scale=null,this.scaleValues=null,this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null)}},{key:"getIndex",value:function(t){var e=t.startX,n=t.endX,r=this.props,a=r.gap,i=r.data.length-1,o=Math.min(e,n),s=Math.max(e,n),u=this.constructor.getIndexInRange(this.scaleValues,o),c=this.constructor.getIndexInRange(this.scaleValues,s);return{startIndex:u-u%a,endIndex:c===i?i:c-c%a}}},{key:"getTextOfTick",value:function(t){var e=this.props,n=e.data,r=e.tickFormatter,a=e.dataKey,i=ul(n[t],a,t);return u()(r)?r(i):i}},{key:"handleSlideDrag",value:function(t){var e=this.state,n=e.slideMoveStartX,r=e.startX,a=e.endX,i=this.props,o=i.x,s=i.width,u=i.travellerWidth,c=i.startIndex,l=i.endIndex,h=i.onChange,f=t.pageX-n;f>0?f=Math.min(f,o+s-u-a,o+s-u-r):f<0&&(f=Math.max(f,o-r,o-a));var p=this.getIndex({startX:r+f,endX:a+f});p.startIndex===c&&p.endIndex===l||!h||h(p),this.setState({startX:r+f,endX:a+f,slideMoveStartX:t.pageX})}},{key:"handleTravellerDragStart",value:function(t,e){var n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:t,brushMoveStartX:n.pageX})}},{key:"handleTravellerMove",value:function(t){var e,n=this.state,r=n.brushMoveStartX,a=n.movingTravellerId,i=n.endX,o=n.startX,s=this.state[a],u=this.props,c=u.x,l=u.width,h=u.travellerWidth,f=u.onChange,p=u.gap,d=u.data,v={startX:this.state.startX,endX:this.state.endX},m=t.pageX-r;m>0?m=Math.min(m,c+l-h-s):m<0&&(m=Math.max(m,c-s)),v[a]=s+m;var g=this.getIndex(v),y=g.startIndex,b=g.endIndex;this.setState((Yf(e={},a,s+m),Yf(e,"brushMoveStartX",t.pageX),e),(function(){f&&function(){var t=d.length-1;return"startX"===a&&(i>o?y%p===0:b%p===0)||i<o&&b===t||"endX"===a&&(i>o?b%p===0:y%p===0)||i>o&&b===t}()&&f(g)}))}},{key:"updateScale",value:function(t){var e=this,n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth,u=n.length;return this.scale=xa().domain(Wh()(0,u)).range([i,i+o-s]),this.scaleValues=this.scale.domain().map((function(t){return e.scale(t)})),{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:this.scale(r),endX:this.scale(a)}}},{key:"renderBackground",value:function(){var t=this.props,e=t.x,n=t.y,r=t.width,a=t.height,i=t.fill,o=t.stroke;return f.a.createElement("rect",{stroke:o,fill:i,x:e,y:n,width:r,height:a})}},{key:"renderPanorama",value:function(){var t=this.props,e=t.x,n=t.y,r=t.width,a=t.height,i=t.data,o=t.children,s=t.padding,u=h.Children.only(o);return u?f.a.cloneElement(u,{x:e,y:n,width:r,height:a,margin:s,compact:!0,data:i}):null}},{key:"renderTraveller",value:function(t,e){var n=this.props,r=n.y,a=n.travellerWidth,i=n.height,o=n.stroke,s=Math.floor(r+i/2)-1,u=Math.max(t,this.props.x);return f.a.createElement(pr,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[e],onTouchStart:this.travellerDragStartHandlers[e],style:{cursor:"col-resize"}},f.a.createElement("rect",{x:u,y:r,width:a,height:i,fill:o,stroke:"none"}),f.a.createElement("line",{x1:u+1,y1:s,x2:u+a-1,y2:s,fill:"none",stroke:"#fff"}),f.a.createElement("line",{x1:u+1,y1:s+2,x2:u+a-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderSlide",value:function(t,e){var n=this.props,r=n.y,a=n.height,i=n.stroke;return f.a.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:Math.min(t,e),y:r,width:Math.abs(e-t),height:a})}},{key:"renderText",value:function(){var t=this.props,e=t.startIndex,n=t.endIndex,r=t.y,a=t.height,i=t.travellerWidth,o=t.stroke,s=this.state,u=s.startX,c=s.endX,l={pointerEvents:"none",fill:o};return f.a.createElement(pr,{className:"recharts-brush-texts"},f.a.createElement(Lr,Gf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,c)-5,y:r+a/2},l),this.getTextOfTick(e)),f.a.createElement(Lr,Gf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,c)+i+5,y:r+a/2},l),this.getTextOfTick(n)))}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.className,r=t.children,a=t.x,i=t.y,o=t.width,s=t.height,u=t.alwaysShowText,c=this.state,l=c.startX,h=c.endX,p=c.isTextActive,d=c.isSlideMoving,v=c.isTravellerMoving;if(!e||!e.length||!Bt(a)||!Bt(i)||!Bt(o)||!Bt(s)||o<=0||s<=0)return null;var m=jt()("recharts-brush",n),g=1===f.a.Children.count(r),y=Vf("userSelect","none");return f.a.createElement(pr,{className:m,onMouseMove:this.handleDrag,onMouseLeave:this.handleLeaveWrapper,onMouseUp:this.handleDragEnd,onTouchEnd:this.handleDragEnd,onTouchMove:this.handleTouchMove,style:y},this.renderBackground(),g&&this.renderPanorama(),this.renderSlide(l,h),this.renderTraveller(l,"startX"),this.renderTraveller(h,"endX"),(p||d||v||u)&&this.renderText())}}])&&qf(n.prototype,r),a&&qf(n,a),e}(h.PureComponent);Jf.displayName="Brush",Jf.propTypes={className:d.a.string,fill:d.a.string,stroke:d.a.string,x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number.isRequired,travellerWidth:d.a.number,gap:d.a.number,padding:d.a.shape({top:d.a.number,right:d.a.number,bottom:d.a.number,left:d.a.number}),dataKey:d.a.oneOfType([d.a.string,d.a.number,d.a.func]),data:d.a.array,startIndex:d.a.number,endIndex:d.a.number,tickFormatter:d.a.func,children:d.a.node,onChange:d.a.func,updateId:d.a.oneOfType([d.a.string,d.a.number]),leaveTimeOut:d.a.number,alwaysShowText:d.a.bool},Jf.defaultProps={height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1};var Zf=Jf,Qf=function(t,e){var n=t.alwaysShow,r=t.ifOverflow;return n&&(r="extendDomain"),r===e},tp=n(129),ep=n.n(tp);function np(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ap(t,e,n){return e&&rp(t.prototype,e),n&&rp(t,n),t}function ip(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ip(n,!0).forEach((function(e){sp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ip(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var up=function(t,e){var n=t.x,r=t.y,a=e.x,i=e.y;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},cp=function(){function t(e){np(this,t),this.scale=e}return ap(t,null,[{key:"create",value:function(e){return new t(e)}}]),ap(t,[{key:"apply",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bandAware,r=e.position;if(void 0!==t){if(r)switch(r){case"start":return this.scale(t);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i;default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}},{key:"isInRange",value:function(t){var e=this.range(),n=e[0],r=e[e.length-1];return n<=r?t>=n&&t<=r:t>=r&&t<=n}},{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}}]),t}();cp.EPS=1e-4;var lp=function(){function t(e){np(this,t),this.scales=ep()(e,cp.create),Object.assign(this,this.scales)}return ap(t,null,[{key:"create",value:function(t){return new this(t)}}]),ap(t,[{key:"apply",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bandAware,r=this.scales;return ep()(t,(function(t,e){return r[e].apply(t,{bandAware:n})}))}},{key:"isInRange",value:function(t){var e=this.scales;return Fh()(t,(function(t,n){return e[n].isInRange(t)}))}}]),t}();function hp(t){return(hp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fp(){return(fp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function pp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pp(n,!0).forEach((function(e){vp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pp(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yp(t,e){return!e||"object"!==hp(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bp(t){return(bp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xp(t,e){return(xp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wp=function(t){function e(){return mp(this,e),yp(this,bp(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xp(t,e)}(e,t),n=e,a=[{key:"renderDot",value:function(t,e){return f.a.isValidElement(t)?f.a.cloneElement(t,e):u()(t)?t(e):f.a.createElement(ur,fp({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"}))}}],(r=[{key:"getCoordinate",value:function(){var t=this.props,e=t.x,n=t.y,r=t.xAxis,a=t.yAxis,i=lp.create({x:r.scale,y:a.scale}),o=i.apply({x:e,y:n},{bandAware:!0});return Qf(this.props,"discard")&&!i.isInRange(o)?null:o}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.r,a=(t.alwaysShow,t.clipPathId),i=Wt(e),o=Wt(n);if(!i||!o)return null;var s=this.getCoordinate();if(!s)return null;var u=s.x,c=s.y,l=this.props,h=l.shape,p=l.className,d=dp({clipPath:Qf(this.props,"hidden")?"url(#".concat(a,")"):void 0},xe(this.props),{},Oe(this.props),{cx:u,cy:c});return f.a.createElement(pr,{className:jt()("recharts-reference-dot",p)},this.constructor.renderDot(h,d),$l.renderCallByParent(this.props,{x:u-r,y:c-r,width:2*r,height:2*r}))}}])&&gp(n.prototype,r),a&&gp(n,a),e}(h.PureComponent);wp.displayName="ReferenceDot",wp.propTypes=dp({},fe,{},pe,{r:d.a.number,xAxis:d.a.shape({scale:d.a.func}),yAxis:d.a.shape({scale:d.a.func}),isFront:d.a.bool,alwaysShow:d.a.bool,ifOverflow:d.a.oneOf(["hidden","visible","discard","extendDomain"]),x:d.a.oneOfType([d.a.number,d.a.string]),y:d.a.oneOfType([d.a.number,d.a.string]),className:d.a.oneOfType([d.a.number,d.a.string]),yAxisId:d.a.oneOfType([d.a.string,d.a.number]),xAxisId:d.a.oneOfType([d.a.string,d.a.number]),shape:d.a.oneOfType([d.a.func,d.a.element]),clipPathId:d.a.string}),wp.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};var Op=wp,kp=n(194),Sp=n.n(kp);function Ep(t){return(Ep="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cp(n,!0).forEach((function(e){Tp(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cp(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ap(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Np(t,e){return!e||"object"!==Ep(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ip(t){return(Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dp(t,e){return(Dp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rp(){return(Rp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Pp=function(t){function e(){return _p(this,e),Np(this,Ip(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dp(t,e)}(e,t),n=e,(r=[{key:"getEndPoints",value:function(t,e,n,r){var a=this.props,i=a.viewBox,o=i.x,s=i.y,u=i.width,c=i.height,l=a.position;if(n){var h=this.props,f=h.y,p=h.yAxis.orientation,d=t.y.apply(f,{position:l});if(Qf(this.props,"discard")&&!t.y.isInRange(d))return null;var v=[{x:o+u,y:d},{x:o,y:d}];return"left"===p?v.reverse():v}if(e){var m=this.props,g=m.x,y=m.xAxis.orientation,b=t.x.apply(g,{position:l});if(Qf(this.props,"discard")&&!t.x.isInRange(b))return null;var x=[{x:b,y:s+c},{x:b,y:s}];return"top"===y?x.reverse():x}if(r){var w=this.props.segment.map((function(e){return t.apply(e,{position:l})}));return Qf(this.props,"discard")&&Sp()(w,(function(e){return!t.isInRange(e)}))?null:w}return null}},{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.segment,a=t.xAxis,i=t.yAxis,o=t.shape,s=t.className,c=(t.alwaysShow,t.clipPathId),l=lp.create({x:a.scale,y:i.scale}),h=Wt(e),p=Wt(n),d=r&&2===r.length,v=this.getEndPoints(l,h,p,d);if(!v)return null;var m=Ap(v,2),g=m[0],y=g.x,b=g.y,x=m[1],w=x.x,O=x.y,k=jp({clipPath:Qf(this.props,"hidden")?"url(#".concat(c,")"):void 0},xe(this.props),{},Oe(this.props),{x1:y,y1:b,x2:w,y2:O});return f.a.createElement(pr,{className:jt()("recharts-reference-line",s)},function(t,e){return f.a.isValidElement(t)?f.a.cloneElement(t,e):u()(t)?t(e):f.a.createElement("line",Rp({},e,{className:"recharts-reference-line-line"}))}(o,k),$l.renderCallByParent(this.props,function(t){var e=t.x1,n=t.y1,r=t.x2,a=t.y2;return up({x:e,y:n},{x:r,y:a})}({x1:y,y1:b,x2:w,y2:O})))}}])&&Mp(n.prototype,r),a&&Mp(n,a),e}(h.PureComponent);Pp.displayName="ReferenceLine",Pp.propTypes=jp({},fe,{viewBox:d.a.shape({x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number}),xAxis:d.a.object,yAxis:d.a.object,isFront:d.a.bool,alwaysShow:d.a.bool,ifOverflow:d.a.oneOf(["hidden","visible","discard","extendDomain"]),x:d.a.oneOfType([d.a.number,d.a.string]),y:d.a.oneOfType([d.a.number,d.a.string]),segment:d.a.arrayOf(d.a.shape({x:d.a.oneOfType([d.a.number,d.a.string]),y:d.a.oneOfType([d.a.number,d.a.string])})),position:d.a.oneOf(["middle","start","end"]),className:d.a.oneOfType([d.a.number,d.a.string]),yAxisId:d.a.oneOfType([d.a.string,d.a.number]),xAxisId:d.a.oneOfType([d.a.string,d.a.number]),shape:d.a.func}),Pp.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};var Fp=Pp;function Lp(t){return(Lp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zp(){return(zp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Bp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bp(n,!0).forEach((function(e){Up(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bp(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Up(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gp(t,e){return!e||"object"!==Lp(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yp(t){return(Yp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qp(t,e){return(qp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Xp=function(t){function e(){return Vp(this,e),Gp(this,Yp(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qp(t,e)}(e,t),n=e,a=[{key:"renderRect",value:function(t,e){return f.a.isValidElement(t)?f.a.cloneElement(t,e):u()(t)?t(e):f.a.createElement(Cf,zp({},e,{className:"recharts-reference-area-rect"}))}}],(r=[{key:"getRect",value:function(t,e,n,r){var a=this.props,i=a.x1,o=a.x2,s=a.y1,u=a.y2,c=a.xAxis,l=a.yAxis,h=lp.create({x:c.scale,y:l.scale}),f={x:t?h.x.apply(i):h.x.rangeMin,y:n?h.y.apply(s):h.y.rangeMin},p={x:e?h.x.apply(o):h.x.rangeMax,y:r?h.y.apply(u):h.y.rangeMax};return!Qf(this.props,"discard")||h.isInRange(f)&&h.isInRange(p)?up(f,p):null}},{key:"render",value:function(){var t=this.props,e=t.x1,n=t.x2,r=t.y1,a=t.y2,i=t.className,o=(t.alwaysShow,t.clipPathId),s=Wt(e),u=Wt(n),c=Wt(r),l=Wt(a),h=this.props.shape;if(!s&&!u&&!c&&!l&&!h)return null;var p=this.getRect(s,u,c,l);if(!p&&!h)return null;var d=Qf(this.props,"hidden")?"url(#".concat(o,")"):void 0;return f.a.createElement(pr,{className:jt()("recharts-reference-area",i)},this.constructor.renderRect(h,Wp({clipPath:d},this.props,{},p)),$l.renderCallByParent(this.props,p))}}])&&Hp(n.prototype,r),a&&Hp(n,a),e}(h.PureComponent);Xp.displayName="ReferenceArea",Xp.propTypes=Wp({},fe,{viewBox:d.a.shape({x:d.a.number,y:d.a.number,width:d.a.number,height:d.a.number}),xAxis:d.a.object,yAxis:d.a.object,isFront:d.a.bool,alwaysShow:d.a.bool,ifOverflow:d.a.oneOf(["hidden","visible","discard","extendDomain"]),x1:d.a.oneOfType([d.a.number,d.a.string]),x2:d.a.oneOfType([d.a.number,d.a.string]),y1:d.a.oneOfType([d.a.number,d.a.string]),y2:d.a.oneOfType([d.a.number,d.a.string]),className:d.a.oneOfType([d.a.number,d.a.string]),yAxisId:d.a.oneOfType([d.a.string,d.a.number]),xAxisId:d.a.oneOfType([d.a.string,d.a.number]),shape:d.a.oneOfType([d.a.func,d.a.element])}),Xp.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};var Kp=Xp,$p=function(t,e,n,r,a){var i=ye(t,Fp),o=ye(t,Op),s=i.concat(o),u=ye(t,Kp),c="".concat(r,"Id"),l=r[0],h=e;if(s.length&&(h=s.reduce((function(t,e){if(e.props[c]===n&&Qf(e.props,"extendDomain")&&Bt(e.props[l])){var r=e.props[l];return[Math.min(t[0],r),Math.max(t[1],r)]}return t}),h)),u.length){var f="".concat(l,"1"),p="".concat(l,"2");h=u.reduce((function(t,e){if(e.props[c]===n&&Qf(e.props,"extendDomain")&&Bt(e.props[f])&&Bt(e.props[p])){var r=e.props[f],a=e.props[p];return[Math.min(t[0],r,a),Math.max(t[1],r,a)]}return t}),h)}return a&&a.length&&(h=a.reduce((function(t,e){return Bt(e)?[Math.min(t[0],e),Math.max(t[1],e)]:t}),h)),h},Jp=n(195),Zp=new(n.n(Jp).a);Zp.setMaxListeners&&Zp.setMaxListeners(10);var Qp="recharts.syncMouseEvents";function td(t){return(td="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ed(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function nd(){return(nd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function rd(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ad(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function id(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ad(n,!0).forEach((function(e){od(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ad(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function od(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ud(t){return(ud=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ld(t,e){return(ld=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hd={xAxis:["bottom","top"],yAxis:["left","right"]},fd={x:0,y:0},pd=function(t){var e=t.chartName,n=t.GraphicalChild,r=t.eventType,a=void 0===r?"axis":r,i=t.axisComponents,s=t.legendContent,c=t.formatAxisMap,l=t.defaultProps,p=t.propTypes,v=function(t){function r(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(n=function(t,e){return!e||"object"!==td(e)&&"function"!==typeof e?cd(t):e}(this,ud(r).call(this,t))).handleLegendBBoxUpdate=function(t){if(t&&n.legendInstance){var e=n.state,r=e.dataStartIndex,a=e.dataEndIndex,i=e.updateId;n.setState(n.updateStateOfAxisMapsOffsetAndStackGroups({props:n.props,dataStartIndex:r,dataEndIndex:a,updateId:i}))}},n.handleReceiveSyncEvent=function(t,e,r){var a=n.props,i=a.syncId,s=a.layout,u=n.state.updateId;if(i===t&&e!==n.uniqueChartId){var c=r.dataStartIndex,l=r.dataEndIndex;if(o()(r.dataStartIndex)&&o()(r.dataEndIndex))if(o()(r.activeTooltipIndex))n.setState(r);else{var h=r.chartX,f=r.chartY,p=r.activeTooltipIndex,d=n.state,v=d.offset,m=d.tooltipTicks;if(!v)return;var g=id({},v,{x:v.left,y:v.top}),y=Math.min(h,g.x+g.width),b=Math.min(f,g.y+g.height),x=m[p]&&m[p].value,w=n.getTooltipContent(p),O=m[p]?{x:"horizontal"===s?m[p].coordinate:y,y:"horizontal"===s?b:m[p].coordinate}:fd;n.setState(id({},r,{activeLabel:x,activeCoordinate:O,activePayload:w}))}else n.setState(id({dataStartIndex:c,dataEndIndex:l},n.updateStateOfAxisMapsOffsetAndStackGroups({props:n.props,dataStartIndex:c,dataEndIndex:l,updateId:u})))}},n.handleBrushChange=function(t){var e=t.startIndex,r=t.endIndex;if(e!==n.state.dataStartIndex||r!==n.state.dataEndIndex){var a=n.state.updateId;n.setState((function(){return id({dataStartIndex:e,dataEndIndex:r},n.updateStateOfAxisMapsOffsetAndStackGroups({props:n.props,dataStartIndex:e,dataEndIndex:r,updateId:a}))})),n.triggerSyncEvent({dataStartIndex:e,dataEndIndex:r})}},n.handleMouseEnter=function(t){var e=n.props.onMouseEnter,r=n.getMouseInfo(t);if(r){var a=id({},r,{isTooltipActive:!0});n.setState(a),n.triggerSyncEvent(a),u()(e)&&e(a,t)}},n.triggeredAfterMouseMove=function(t){var e=n.props.onMouseMove,r=n.getMouseInfo(t),a=r?id({},r,{isTooltipActive:!0}):{isTooltipActive:!1};n.setState(a),n.triggerSyncEvent(a),u()(e)&&e(a,t)},n.handleItemMouseEnter=function(t){n.setState((function(){return{isTooltipActive:!0,activeItem:t,activePayload:t.tooltipPayload,activeCoordinate:t.tooltipPosition||{x:t.cx,y:t.cy}}}))},n.handleItemMouseLeave=function(){n.setState((function(){return{isTooltipActive:!1}}))},n.handleMouseMove=function(t){t&&u()(t.persist)&&t.persist(),n.triggeredAfterMouseMove(t)},n.handleMouseLeave=function(t){var e=n.props.onMouseLeave,r={isTooltipActive:!1};n.setState(r),n.triggerSyncEvent(r),u()(e)&&e(r,t)},n.handleOuterEvent=function(t){var e=function(t){var e=t&&t.type;return e&&de[e]?de[e]:null}(t);if(e&&u()(n.props[e])){var r=n.getMouseInfo(t);(0,n.props[e])(r,t)}},n.handleClick=function(t){var e=n.props.onClick;u()(e)&&e(n.getMouseInfo(t),t)},n.handleMouseDown=function(t){var e=n.props.onMouseDown;u()(e)&&e(n.getMouseInfo(t),t)},n.handleMouseUp=function(t){var e=n.props.onMouseUp;u()(e)&&e(n.getMouseInfo(t),t)},n.handleTouchMove=function(t){null!=t.changedTouches&&t.changedTouches.length>0&&n.handleMouseMove(t.changedTouches[0])},n.handleTouchStart=function(t){null!=t.changedTouches&&t.changedTouches.length>0&&n.handleMouseDown(t.changedTouches[0])},n.handleTouchEnd=function(t){null!=t.changedTouches&&t.changedTouches.length>0&&n.handleMouseUp(t.changedTouches[0])},n.verticalCoordinatesGenerator=function(t){var e=t.xAxis,n=t.width,r=t.height,a=t.offset;return vl(zf.getTicks(id({},zf.defaultProps,{},e,{ticks:ml(e,!0),viewBox:{x:0,y:0,width:n,height:r}})),a.left,a.left+a.width)},n.horizontalCoordinatesGenerator=function(t){var e=t.yAxis,n=t.width,r=t.height,a=t.offset;return vl(zf.getTicks(id({},zf.defaultProps,{},e,{ticks:ml(e,!0),viewBox:{x:0,y:0,width:n,height:r}})),a.top,a.top+a.height)},n.axesTicksGenerator=function(t){return ml(t,!0)},n.tooltipTicksGenerator=function(t){var e=Gt(t),n=ml(e,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:At()(n,(function(t){return t.coordinate})),tooltipAxis:e,tooltipAxisBandSize:Tl(e)}},n.renderCursor=function(t){var r=n.state,a=r.isTooltipActive,i=r.activeCoordinate,o=r.activePayload,s=r.offset;if(!t||!t.props.cursor||!a||!i)return null;var u,c=n.props.layout,l=Qn;if("ScatterChart"===e)u=i,l=tf;else if("BarChart"===e)u=n.getCursorRectangle(),l=Cf;else if("radial"===c){var f=n.getCursorPoints(),p=f.cx,d=f.cy,v=f.radius;u={cx:p,cy:d,startAngle:f.startAngle,endAngle:f.endAngle,innerRadius:v,outerRadius:v},l=df}else u={points:n.getCursorPoints()},l=Qn;var m=t.key||"_recharts-cursor",g=id({stroke:"#ccc",pointerEvents:"none"},s,{},u,{},xe(t.props.cursor),{payload:o,key:m,className:"recharts-tooltip-cursor"});return Object(h.isValidElement)(t.props.cursor)?Object(h.cloneElement)(t.props.cursor,g):Object(h.createElement)(l,g)},n.renderPolarAxis=function(t,e,r){var a=t.type.axisType,i=n.state["".concat(a,"Map")][t.props["".concat(a,"Id")]];return Object(h.cloneElement)(t,id({},i,{className:a,key:t.key||"".concat(e,"-").concat(r),ticks:ml(i,!0)}))},n.renderXAxis=function(t,e,r){var a=n.state.xAxisMap[t.props.xAxisId];return n.renderAxis(a,t,e,r)},n.renderYAxis=function(t,e,r){var a=n.state.yAxisMap[t.props.yAxisId];return n.renderAxis(a,t,e,r)},n.renderGrid=function(t){var e=n.state,r=e.xAxisMap,a=e.yAxisMap,i=e.offset,o=n.props,s=o.width,u=o.height,c=Gt(r),l=zh()(a,(function(t){return Fh()(t.domain,Number.isFinite)}))||Gt(a),f=t.props||{};return Object(h.cloneElement)(t,{key:t.key||"grid",x:Bt(f.x)?f.x:i.left,y:Bt(f.y)?f.y:i.top,width:Bt(f.width)?f.width:i.width,height:Bt(f.height)?f.height:i.height,xAxis:c,yAxis:l,offset:i,chartWidth:s,chartHeight:u,verticalCoordinatesGenerator:f.verticalCoordinatesGenerator||n.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:f.horizontalCoordinatesGenerator||n.horizontalCoordinatesGenerator})},n.renderPolarGrid=function(t){var e=n.state,r=e.radiusAxisMap,a=e.angleAxisMap,i=Gt(r),o=Gt(a),s=o.cx,u=o.cy,c=o.innerRadius,l=o.outerRadius;return Object(h.cloneElement)(t,{polarAngles:ml(o,!0).map((function(t){return t.coordinate})),polarRadius:ml(i,!0).map((function(t){return t.coordinate})),cx:s,cy:u,innerRadius:c,outerRadius:l,key:t.key||"polar-grid"})},n.renderBrush=function(t){var e=n.props,r=e.margin,a=e.data,i=n.state,o=i.offset,s=i.dataStartIndex,u=i.dataEndIndex,c=i.updateId;return Object(h.cloneElement)(t,{key:t.key||"_recharts-brush",onChange:gl(n.handleBrushChange,null,t.props.onChange),data:a,x:Bt(t.props.x)?t.props.x:o.left,y:Bt(t.props.y)?t.props.y:o.top+o.height+o.brushBottom-(r.bottom||0),width:Bt(t.props.width)?t.props.width:o.width,startIndex:s,endIndex:u,updateId:"brush-".concat(c)})},n.renderReferenceElement=function(t,e,r){if(!t)return null;var a=cd(n).clipPathId,i=n.state,o=i.xAxisMap,s=i.yAxisMap,u=i.offset,c=t.props,l=c.xAxisId,f=c.yAxisId;return Object(h.cloneElement)(t,{key:t.key||"".concat(e,"-").concat(r),xAxis:o[l],yAxis:s[f],viewBox:{x:u.left,y:u.top,width:u.width,height:u.height},clipPathId:a})},n.renderGraphicChild=function(t,e,r){var a=n.filterFormatItem(t,e,r);if(!a)return null;var i=Object(h.cloneElement)(t,a.props),s=n.state,u=s.isTooltipActive,c=s.tooltipAxis,l=s.activeTooltipIndex,f=s.activeLabel,p=n.props.children,d=be(p,Ye),v=a.props,m=v.points,g=v.isRange,y=v.baseLine,b=a.item.props,x=b.activeDot;if(!b.hide&&u&&d&&x&&l>=0){var w,O;if(c.dataKey&&!c.allowDuplicatedCategory){var k="function"===typeof c.dataKey?function(t){return c.dataKey(t.payload)}:"payload.".concat(c.dataKey);w=qt(m,k,f),O=g&&y&&qt(y,k,f)}else w=m[l],O=g&&y&&y[l];if(!o()(w))return[i].concat(rd(n.renderActivePoints({item:a,activePoint:w,basePoint:O,childIndex:l,isRange:g})))}return g?[i,null,null]:[i,null]},n.renderCustomized=function(t){return Object(h.cloneElement)(t,id({},n.props,{},n.state))};var a=n.constructor.createDefaultState(t);return n.state=id({},a,{updateId:0},n.updateStateOfAxisMapsOffsetAndStackGroups(id({props:t},a,{updateId:0}))),n.uniqueChartId=o()(t.id)?Vt("recharts"):t.id,n.clipPathId="".concat(n.uniqueChartId,"-clip"),t.throttleDelay&&(n.triggeredAfterMouseMove=Vh()(n.triggeredAfterMouseMove,t.throttleDelay)),n}var l,p,d;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ld(t,e)}(r,t),l=r,d=[{key:"getAxisNameByLayout",value:function(t){return"horizontal"===t?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===t?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===t?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}}},{key:"renderActiveDot",value:function(t,e){var n;return n=Object(h.isValidElement)(t)?Object(h.cloneElement)(t,e):u()(t)?t(e):f.a.createElement(ur,e),f.a.createElement(pr,{className:"recharts-active-dot",key:e.key},n)}}],(p=[{key:"componentDidMount",value:function(){o()(this.props.syncId)||this.addListener()}},{key:"componentWillReceiveProps",value:function(t){var e=this,n=this.props,r=n.data,a=n.children,i=n.width,s=n.height,u=n.layout,c=n.stackOffset,l=n.margin,h=this.state.updateId;if(t.data===r&&t.width===i&&t.height===s&&t.layout===u&&t.stackOffset===c&&ce(t.margin,l)){if(!Ae(t.children,a)){var f=o()(t.data)?h+1:h;this.setState((function(n){return id({updateId:f},e.updateStateOfAxisMapsOffsetAndStackGroups(id({props:t},n,{updateId:f})))}))}}else{var p=this.constructor.createDefaultState(t);this.setState(id({},p,{updateId:h+1},this.updateStateOfAxisMapsOffsetAndStackGroups(id({props:t},p,{updateId:h+1}))))}o()(this.props.syncId)&&!o()(t.syncId)&&this.addListener(),!o()(this.props.syncId)&&o()(t.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){o()(this.props.syncId)||this.removeListener(),"function"===typeof this.triggeredAfterMouseMove.cancel&&this.triggeredAfterMouseMove.cancel()}},{key:"getAxisMap",value:function(t,e){var n=e.axisType,r=void 0===n?"xAxis":n,a=e.AxisComp,i=e.graphicalItems,o=e.stackGroups,s=e.dataStartIndex,u=e.dataEndIndex,c=t.children,l="".concat(r,"Id"),h=ye(c,a),f={};return h&&h.length?f=this.getAxisMapByAxes(t,{axes:h,graphicalItems:i,axisType:r,axisIdKey:l,stackGroups:o,dataStartIndex:s,dataEndIndex:u}):i&&i.length&&(f=this.getAxisMapByItems(t,{Axis:a,graphicalItems:i,axisType:r,axisIdKey:l,stackGroups:o,dataStartIndex:s,dataEndIndex:u})),f}},{key:"getAxisMapByAxes",value:function(t,e){var n=this,r=e.axes,a=e.graphicalItems,i=e.axisType,s=e.axisIdKey,u=e.stackGroups,c=e.dataStartIndex,l=e.dataEndIndex,h=t.layout,f=t.children,p=t.stackOffset,d=dl(h,i);return r.reduce((function(e,r){var v=r.props,m=v.type,g=v.dataKey,y=v.allowDataOverflow,b=v.allowDuplicatedCategory,x=v.scale,w=v.ticks,O=r.props[s],k=n.constructor.getDisplayedData(t,{graphicalItems:a.filter((function(t){return t.props[s]===O})),dataStartIndex:c,dataEndIndex:l}),S=k.length;if(!e[O]){var E,C,j;if(g){if(E=cl(k,g,m),"category"===m&&d){var T=function(t){if(!Mt()(t))return!1;for(var e=t.length,n={},r=0;r<e;r++){if(n[t[r]])return!0;n[t[r]]=!0}return!1}(E);b&&T?(C=E,E=Wh()(0,S)):b||(E=Al(r.props.domain,E,r).reduce((function(t,e){return t.indexOf(e)>=0?t:[].concat(rd(t),[e])}),[]))}else if("category"===m)E=b?E.filter((function(t){return""!==t&&!o()(t)})):Al(r.props.domain,E,r).reduce((function(t,e){return t.indexOf(e)>=0||""===e||o()(e)?t:[].concat(rd(t),[e])}),[]);else if("number"===m){var A=function(t,e,n,r){var a=e.map((function(e){return fl(t,e,n,r)})).filter((function(t){return!o()(t)}));return a&&a.length?a.reduce((function(t,e){return[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}),[1/0,-1/0]):null}(k,a.filter((function(t){return t.props[s]===O&&!t.props.hide})),g,i);A&&(E=A)}!d||"number"!==m&&"auto"===x||(j=cl(k,g,"category"))}else E=d?Wh()(0,S):u&&u[O]&&u[O].hasStack&&"number"===m?"expand"===p?[0,1]:Sl(u[O].stackGroups,c,l):pl(k,a.filter((function(t){return t.props[s]===O&&!t.props.hide})),m,!0);return"number"===m&&(E=$p(f,E,O,i,w),r.props.domain&&(E=jl(r.props.domain,E,y))),id({},e,od({},O,id({},r.props,{axisType:i,domain:E,categoricalDomain:j,duplicateDomain:C,originalDomain:r.props.domain,isCategorial:d,layout:h})))}return e}),{})}},{key:"getAxisMapByItems",value:function(t,e){var n=e.graphicalItems,r=e.Axis,a=e.axisType,i=e.axisIdKey,o=e.stackGroups,s=e.dataStartIndex,u=e.dataEndIndex,c=t.layout,l=t.children,h=this.constructor.getDisplayedData(t,{graphicalItems:n,dataStartIndex:s,dataEndIndex:u}),f=h.length,p=dl(c,a),d=-1;return n.reduce((function(t,e){var v,m=e.props[i];return t[m]?t:(d++,p?v=Wh()(0,f):o&&o[m]&&o[m].hasStack?(v=Sl(o[m].stackGroups,s,u),v=$p(l,v,m,a)):(v=jl(r.defaultProps.domain,pl(h,n.filter((function(t){return t.props[i]===m&&!t.props.hide})),"number"),r.defaultProps.allowDataOverflow),v=$p(l,v,m,a)),id({},t,od({},m,id({axisType:a},r.defaultProps,{hide:!0,orientation:hd[a]&&hd[a][d%2],domain:v,originalDomain:r.defaultProps.domain,isCategorial:p,layout:c}))))}),{})}},{key:"getActiveCoordinate",value:function(t,e,n){var r=this.props.layout,a=t.find((function(t){return t&&t.index===e}));if(a){if("horizontal"===r)return{x:a.coordinate,y:n.y};if("vertical"===r)return{x:n.x,y:a.coordinate};if("centric"===r){var i=a.coordinate,o=n.radius;return id({},n,{},Rl(n.cx,n.cy,o,i),{angle:i,radius:o})}var s=a.coordinate,u=n.angle;return id({},n,{},Rl(n.cx,n.cy,s,u),{angle:u,radius:s})}return fd}},{key:"getMouseInfo",value:function(t){if(!this.container)return null;var e=function(t,e){return{chartX:Math.round(t.pageX-e.left),chartY:Math.round(t.pageY-e.top)}}(t,function(t){var e=t.ownerDocument.documentElement,n={top:0,left:0};return"undefined"!==typeof t.getBoundingClientRect&&(n=t.getBoundingClientRect()),{top:n.top+window.pageYOffset-e.clientTop,left:n.left+window.pageXOffset-e.clientLeft}}(this.container)),n=this.inRange(e.chartX,e.chartY);if(!n)return null;var r=this.state,i=r.xAxisMap,o=r.yAxisMap;if("axis"!==a&&i&&o){var s=Gt(i).scale,u=Gt(o).scale;return id({},e,{xValue:s&&s.invert?s.invert(e.chartX):null,yValue:u&&u.invert?u.invert(e.chartY):null})}var c=this.state,l=c.orderedTooltipTicks,h=c.tooltipAxis,f=c.tooltipTicks,p=function(t,e,n,r){var a=-1,i=e.length;if(i>1){if(r&&"angleAxis"===r.axisType&&Math.abs(Math.abs(r.range[1]-r.range[0])-360)<=1e-6)for(var o=r.range,s=0;s<i;s++){var u=s>0?n[s-1].coordinate:n[i-1].coordinate,c=n[s].coordinate,l=s>=i-1?n[0].coordinate:n[s+1].coordinate,h=void 0;if(Lt(c-u)!==Lt(l-c)){var f=[];if(Lt(l-c)===Lt(o[1]-o[0])){h=l;var p=c+o[1]-o[0];f[0]=Math.min(p,(p+u)/2),f[1]=Math.max(p,(p+u)/2)}else{h=u;var d=l+o[1]-o[0];f[0]=Math.min(c,(d+c)/2),f[1]=Math.max(c,(d+c)/2)}var v=[Math.min(c,(h+c)/2),Math.max(c,(h+c)/2)];if(t>v[0]&&t<=v[1]||t>=f[0]&&t<=f[1]){a=n[s].index;break}}else{var m=Math.min(u,l),g=Math.max(u,l);if(t>(m+c)/2&&t<=(g+c)/2){a=n[s].index;break}}}else for(var y=0;y<i;y++)if(0===y&&t<=(e[y].coordinate+e[y+1].coordinate)/2||y>0&&y<i-1&&t>(e[y].coordinate+e[y-1].coordinate)/2&&t<=(e[y].coordinate+e[y+1].coordinate)/2||y===i-1&&t>(e[y].coordinate+e[y-1].coordinate)/2){a=e[y].index;break}}else a=0;return a}(this.calculateTooltipPos(n),l,f,h);if(p>=0&&f){var d=f[p]&&f[p].value;return id({},e,{activeTooltipIndex:p,activeLabel:d,activePayload:this.getTooltipContent(p,d),activeCoordinate:this.getActiveCoordinate(l,p,n)})}return null}},{key:"getTooltipContent",value:function(t,e){var n=this.state,r=n.graphicalItems,a=n.tooltipAxis,i=this.constructor.getDisplayedData(this.props,this.state);return t<0||!r||!r.length||t>=i.length?null:r.reduce((function(n,r){if(r.props.hide)return n;var o,s=r.props,u=s.dataKey,c=s.name,l=s.unit,h=s.formatter,f=s.data,p=s.tooltipType;return(o=a.dataKey&&!a.allowDuplicatedCategory?qt(f||i,a.dataKey,e):f&&f[t]||i[t])?[].concat(rd(n),[id({},xe(r),{dataKey:u,unit:l,formatter:h,name:c||u,color:ll(r),value:ul(o,u),type:p,payload:o})]):n}),[])}},{key:"getFormatItems",value:function(t,e){var n=this,r=e.graphicalItems,a=e.stackGroups,s=e.offset,u=e.updateId,c=e.dataStartIndex,l=e.dataEndIndex,h=t.barSize,f=t.layout,p=t.barGap,d=t.barCategoryGap,v=t.maxBarSize,m=this.constructor.getAxisNameByLayout(f),g=m.numericAxisName,y=m.cateAxisName,b=this.constructor.hasBar(r),x=b&&function(t){var e=t.barSize,n=t.stackGroups,r=void 0===n?{}:n;if(!r)return{};for(var a={},i=Object.keys(r),s=0,u=i.length;s<u;s++)for(var c=r[i[s]].stackGroups,l=Object.keys(c),h=0,f=l.length;h<f;h++){var p=c[l[h]],d=p.items,v=p.cateAxisId,m=d.filter((function(t){return ge(t.type).indexOf("Bar")>=0}));if(m&&m.length){var g=m[0].props.barSize,y=m[0].props[v];a[y]||(a[y]=[]),a[y].push({item:m[0],stackList:m.slice(1),barSize:o()(g)?e:g})}}return a}({barSize:h,stackGroups:a}),w=[];return r.forEach((function(r,h){var m,O=n.constructor.getDisplayedData(t,{dataStartIndex:c,dataEndIndex:l},r),k=r.props,S=k.dataKey,E=k.maxBarSize,C=r.props["".concat(g,"Id")],j=r.props["".concat(y,"Id")],T=i.reduce((function(t,n){var a,i=e["".concat(n.axisType,"Map")],o=r.props["".concat(n.axisType,"Id")],s=i&&i[o];return id({},t,(od(a={},n.axisType,s),od(a,"".concat(n.axisType,"Ticks"),ml(s)),a))}),{}),A=T[y],_=T["".concat(y,"Ticks")],M=a&&a[C]&&a[C].hasStack&&function(t,e){var n=t.props.stackId;if(Wt(n)){var r=e[n];if(r&&r.items.length){for(var a=-1,i=0,o=r.items.length;i<o;i++)if(r.items[i]===t){a=i;break}return a>=0?r.stackedData[a]:null}}return null}(r,a[C].stackGroups),N=Tl(A,_),I=o()(E)?v:E,D=b&&function(t){var e=t.barGap,n=t.barCategoryGap,r=t.bandSize,a=t.sizeList,i=void 0===a?[]:a,o=t.maxBarSize,s=i.length;if(s<1)return null;var u,c=Ht(e,r,0,!0);if(i[0].barSize===+i[0].barSize){var l=!1,h=r/s,f=i.reduce((function(t,e){return t+e.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(l=!0,f=s*(h*=.9));var p={offset:((r-f)/2>>0)-c,size:0};u=i.reduce((function(t,e){var n=[].concat(al(t),[{item:e.item,position:{offset:p.offset+p.size+c,size:l?h:e.barSize}}]);return p=n[n.length-1].position,e.stackList&&e.stackList.length&&e.stackList.forEach((function(t){n.push({item:t,position:p})})),n}),[])}else{var d=Ht(n,r,0,!0);r-2*d-(s-1)*c<=0&&(c=0);var v=(r-2*d-(s-1)*c)/s;v>1&&(v>>=0);var m=o===+o?Math.min(v,o):v;u=i.reduce((function(t,e,n){var r=[].concat(al(t),[{item:e.item,position:{offset:d+(v+c)*n+(v-m)/2,size:m}}]);return e.stackList&&e.stackList.length&&e.stackList.forEach((function(t){r.push({item:t,position:r[r.length-1].position})})),r}),[])}return u}({barGap:p,barCategoryGap:d,bandSize:N,sizeList:x[j],maxBarSize:I}),R=r&&r.type&&r.type.getComposedData;R&&w.push({props:id({},R(id({},T,{displayedData:O,props:t,dataKey:S,item:r,bandSize:N,barPosition:D,offset:s,stackedData:M,layout:f,dataStartIndex:c,dataEndIndex:l,onItemMouseLeave:gl(n.handleItemMouseLeave,null,r.props.onMouseLeave),onItemMouseEnter:gl(n.handleItemMouseEnter,null,r.props.onMouseEnter)})),(m={key:r.key||"item-".concat(h)},od(m,g,T[g]),od(m,y,T[y]),od(m,"animationId",u),m)),childIndex:Me(r,t.children),item:r})})),w}},{key:"getCursorRectangle",value:function(){var t=this.props.layout,e=this.state,n=e.activeCoordinate,r=e.offset,a=e.tooltipAxisBandSize,i=a/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===t?n.x-i:r.left+.5,y:"horizontal"===t?r.top+.5:n.y-i,width:"horizontal"===t?a:r.width-1,height:"horizontal"===t?r.height-1:a}}},{key:"getCursorPoints",value:function(){var t,e,n,r,a=this.props.layout,i=this.state,s=i.activeCoordinate,u=i.offset;if("horizontal"===a)n=t=s.x,e=u.top,r=u.top+u.height;else if("vertical"===a)r=e=s.y,t=u.left,n=u.left+u.width;else if(!o()(s.cx)||!o()(s.cy)){if("centric"!==a){var c=s.cx,l=s.cy,h=s.radius,f=s.startAngle,p=s.endAngle;return{points:[Rl(c,l,h,f),Rl(c,l,h,p)],cx:c,cy:l,radius:h,startAngle:f,endAngle:p}}var d=s.cx,v=s.cy,m=s.innerRadius,g=s.outerRadius,y=s.angle,b=Rl(d,v,m,y),x=Rl(d,v,g,y);t=b.x,e=b.y,n=x.x,r=x.y}return[{x:t,y:e},{x:n,y:r}]}},{key:"calculateTooltipPos",value:function(t){var e=this.props.layout;return"horizontal"===e?t.x:"vertical"===e?t.y:"centric"===e?t.angle:t.radius}},{key:"inRange",value:function(t,e){var n=this.props.layout;if("horizontal"===n||"vertical"===n){var r=this.state.offset;return t>=r.left&&t<=r.left+r.width&&e>=r.top&&e<=r.top+r.height?{x:t,y:e}:null}var a=this.state,i=a.angleAxisMap,o=a.radiusAxisMap;if(i&&o){var s=Gt(i);return Ll({x:t,y:e},s)}return null}},{key:"parseEventsOfWrapper",value:function(){var t=this.props.children,e=be(t,Ye)&&"axis"===a?{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}:{};return id({},Oe(this.props,this.handleOuterEvent),{},e)}},{key:"updateStateOfAxisMapsOffsetAndStackGroups",value:function(t){var r=this,a=t.props,o=t.dataStartIndex,s=t.dataEndIndex,u=t.updateId;if(!Ee({props:a}))return null;var l=a.children,h=a.layout,f=a.stackOffset,p=a.data,d=a.reverseStackOrder,v=this.constructor.getAxisNameByLayout(h),m=v.numericAxisName,g=v.cateAxisName,y=ye(l,n),b=function(t,e,n,r,a,i){if(!t)return null;var o=(i?e.reverse():e).reduce((function(t,e){var a=e.props,i=a.stackId;if(a.hide)return t;var o=e.props[n],s=t[o]||{hasStack:!1,stackGroups:{}};if(Wt(i)){var u=s.stackGroups[i]||{numericAxisId:n,cateAxisId:r,items:[]};u.items.push(e),s.hasStack=!0,s.stackGroups[i]=u}else s.stackGroups[Vt("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[e]};return ol({},t,sl({},o,s))}),{});return Object.keys(o).reduce((function(e,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(e,i){var o=s.stackGroups[i];return ol({},e,sl({},i,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:wl(t,o.items,a)}))}),{})),ol({},e,sl({},i,s))}),{})}(p,y,"".concat(m,"Id"),"".concat(g,"Id"),f,d),x=i.reduce((function(t,e){return id({},t,od({},"".concat(e.axisType,"Map"),r.getAxisMap(a,id({},e,{graphicalItems:y,stackGroups:e.axisType===m&&b,dataStartIndex:o,dataEndIndex:s}))))}),{}),w=this.calculateOffset(id({},x,{props:a,graphicalItems:y}));Object.keys(x).forEach((function(t){x[t]=c(a,x[t],w,t.replace("Map",""),e)}));var O=x["".concat(g,"Map")],k=this.tooltipTicksGenerator(O),S=this.getFormatItems(a,id({},x,{dataStartIndex:o,dataEndIndex:s,updateId:u,graphicalItems:y,stackGroups:b,offset:w}));return id({formatedGraphicalItems:S,graphicalItems:y,offset:w,stackGroups:b},k,{},x)}},{key:"addListener",value:function(){Zp.on(Qp,this.handleReceiveSyncEvent),Zp.setMaxListeners&&Zp._maxListeners&&Zp.setMaxListeners(Zp._maxListeners+1)}},{key:"removeListener",value:function(){Zp.removeListener(Qp,this.handleReceiveSyncEvent),Zp.setMaxListeners&&Zp._maxListeners&&Zp.setMaxListeners(Zp._maxListeners-1)}},{key:"calculateOffset",value:function(t){var e=t.props,n=t.graphicalItems,r=t.xAxisMap,a=void 0===r?{}:r,i=t.yAxisMap,o=void 0===i?{}:i,s=e.width,u=e.height,c=e.children,l=e.margin||{},h=be(c,Zf),f=be(c,rl),p=Object.keys(o).reduce((function(t,e){var n=o[e],r=n.orientation;return n.mirror||n.hide?t:id({},t,od({},r,t[r]+n.width))}),{left:l.left||0,right:l.right||0}),d=Object.keys(a).reduce((function(t,e){var n=a[e],r=n.orientation;return n.mirror||n.hide?t:id({},t,od({},r,t[r]+n.height))}),{top:l.top||0,bottom:l.bottom||0}),v=id({},d,{},p),m=v.bottom;return h&&(v.bottom+=h.props.height||Zf.defaultProps.height),f&&this.legendInstance&&(v=function(t,e,n,r){var a=n.children,i=n.width,o=n.height,s=n.margin,u=i-(s.left||0)-(s.right||0),c=o-(s.top||0)-(s.bottom||0),l=hl({children:a,items:e,legendWidth:u,legendHeight:c}),h=t;if(l){var f=r||{},p=l.align,d=l.verticalAlign,v=l.layout;("vertical"===v||"horizontal"===v&&"center"===d)&&Bt(t[p])&&(h=ol({},t,sl({},p,h[p]+(f.width||0)))),("horizontal"===v||"vertical"===v&&"center"===p)&&Bt(t[d])&&(h=ol({},t,sl({},d,h[d]+(f.height||0))))}return h}(v,n,e,this.legendInstance.getBBox())),id({brushBottom:m},v,{width:s-v.left-v.right,height:u-v.top-v.bottom})}},{key:"triggerSyncEvent",value:function(t){var e=this.props.syncId;o()(e)||Zp.emit(Qp,e,this.uniqueChartId,t)}},{key:"filterFormatItem",value:function(t,e,n){for(var r=this.state.formatedGraphicalItems,a=0,i=r.length;a<i;a++){var o=r[a];if(o.item===t||o.props.key===t.key||e===ge(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderAxis",value:function(t,e,n,r){var a=this.props,i=a.width,o=a.height;return f.a.createElement(zf,nd({},t,{className:"recharts-".concat(t.axisType," ").concat(t.axisType),key:e.key||"".concat(n,"-").concat(r),viewBox:{x:0,y:0,width:i,height:o},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderLegend",value:function(){var t=this,e=this.state.formatedGraphicalItems,n=this.props,r=n.children,a=n.width,i=n.height,o=this.props.margin||{},u=a-(o.left||0)-(o.right||0),c=i-(o.top||0)-(o.bottom||0),l=hl({children:r,formatedGraphicalItems:e,legendWidth:u,legendHeight:c,legendContent:s});if(!l)return null;var f=l.item,p=ed(l,["item"]);return Object(h.cloneElement)(f,id({},p,{chartWidth:a,chartHeight:i,margin:o,ref:function(e){t.legendInstance=e},onBBoxUpdate:this.handleLegendBBoxUpdate}))}},{key:"renderTooltip",value:function(){var t=this.props.children,e=be(t,Ye);if(!e)return null;var n=this.state,r=n.isTooltipActive,a=n.activeCoordinate,i=n.activePayload,o=n.activeLabel,s=n.offset;return Object(h.cloneElement)(e,{viewBox:id({},s,{x:s.left,y:s.top}),active:r,label:o,payload:r?i:[],coordinate:a})}},{key:"renderActivePoints",value:function(t){var e=t.item,n=t.activePoint,r=t.basePoint,a=t.childIndex,i=t.isRange,o=[],s=e.props.key,u=e.item.props,c=u.activeDot,l=id({index:a,dataKey:u.dataKey,cx:n.x,cy:n.y,r:4,fill:ll(e.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value,key:"".concat(s,"-activePoint-").concat(a)},xe(c),{},Oe(c));return o.push(this.constructor.renderActiveDot(c,l,a)),r?o.push(this.constructor.renderActiveDot(c,id({},l,{cx:r.x,cy:r.y,key:"".concat(s,"-basePoint-").concat(a)}),a)):i&&o.push(null),o}},{key:"renderClipPath",value:function(){var t=this.clipPathId,e=this.state.offset,n=e.left,r=e.top,a=e.height,i=e.width;return f.a.createElement("defs",null,f.a.createElement("clipPath",{id:t},f.a.createElement("rect",{x:n,y:r,height:a,width:i})))}},{key:"render",value:function(){var t=this;if(!Ee(this))return null;var e=this.props,n=e.children,r=e.className,a=e.width,i=e.height,o=e.style,s=e.compact,u=ed(e,["children","className","width","height","style","compact"]),c=xe(u),l={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(s)return f.a.createElement(ec,nd({},c,{width:a,height:i}),this.renderClipPath(),_e(n,l));var h=this.parseEventsOfWrapper();return f.a.createElement("div",nd({className:jt()("recharts-wrapper",r),style:id({position:"relative",cursor:"default",width:a,height:i},o)},h,{ref:function(e){t.container=e}}),f.a.createElement(ec,nd({},c,{width:a,height:i}),this.renderClipPath(),_e(n,l)),this.renderLegend(),this.renderTooltip())}}])&&sd(l.prototype,p),d&&sd(l,d),r}(h.Component);return v.displayName=e,v.propTypes=id({syncId:d.a.oneOfType([d.a.string,d.a.number]),compact:d.a.bool,width:d.a.number,height:d.a.number,data:d.a.arrayOf(d.a.object),layout:d.a.oneOf(["horizontal","vertical"]),stackOffset:d.a.oneOf(["sign","expand","none","wiggle","silhouette"]),throttleDelay:d.a.number,margin:d.a.shape({top:d.a.number,right:d.a.number,bottom:d.a.number,left:d.a.number}),barCategoryGap:d.a.oneOfType([d.a.number,d.a.string]),barGap:d.a.oneOfType([d.a.number,d.a.string]),barSize:d.a.oneOfType([d.a.number,d.a.string]),maxBarSize:d.a.number,style:d.a.object,className:d.a.string,children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node]),defaultShowTooltip:d.a.bool,onClick:d.a.func,onMouseLeave:d.a.func,onMouseEnter:d.a.func,onMouseMove:d.a.func,onMouseDown:d.a.func,onMouseUp:d.a.func,reverseStackOrder:d.a.bool,id:d.a.string},p),v.defaultProps=id({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1},l),v.createDefaultState=function(t){var e=t.children,n=t.defaultShowTooltip,r=be(e,Zf);return{chartX:0,chartY:0,dataStartIndex:r&&r.props&&r.props.startIndex||0,dataEndIndex:r&&r.props&&r.props.endIndex||t.data&&t.data.length-1||0,activeTooltipIndex:-1,isTooltipActive:!o()(n)&&n}},v.hasBar=function(t){return!(!t||!t.length)&&t.some((function(t){var e=ge(t&&t.type);return e&&e.indexOf("Bar")>=0}))},v.getDisplayedData=function(t,e,n){var r=e.graphicalItems,a=e.dataStartIndex,i=e.dataEndIndex,o=(r||[]).reduce((function(t,e){var n=e.props.data;return n&&n.length?[].concat(rd(t),rd(n)):t}),[]);if(o&&o.length>0)return o;if(n&&n.props&&n.props.data&&n.props.data.length>0)return n.props.data;var s=t.data;return s&&s.length&&Bt(a)&&Bt(i)?s.slice(a,i+1):[]},v}({chartName:"AreaChart",GraphicalChild:bh,axisComponents:[{axisType:"xAxis",AxisComp:jh},{axisType:"yAxis",AxisComp:Rh}],formatAxisMap:function(t,e,n,r,a){var i=t.width,o=t.height,s=t.layout,u=Object.keys(e),c={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom};return u.reduce((function(t,i){var o,u,l,h,f=e[i],p=f.orientation,d=f.domain,v=f.padding,m=void 0===v?{}:v,g=f.mirror,y=f.reversed,b="".concat(p).concat(g?"Mirror":"");o="xAxis"===r?[n.left+(m.left||0),n.left+n.width-(m.right||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(m.bottom||0),n.top+(m.top||0)]:[n.top+(m.top||0),n.top+n.height-(m.bottom||0)]:f.range,y&&(o=[o[1],o[0]]);var x=yl(f,a),w=x.scale,O=x.realScaleType;w.domain(d).range(o),bl(w);var k=Ol(w,op({},f,{realScaleType:O}));"xAxis"===r?(h="top"===p&&!g||"bottom"===p&&g,u=n.left,l=c[b]-h*f.height):"yAxis"===r&&(h="left"===p&&!g||"right"===p&&g,u=c[b]-h*f.width,l=n.top);var S=op({},f,{},k,{realScaleType:O,x:u,y:l,scale:w,width:"xAxis"===r?n.width:f.width,height:"yAxis"===r?n.height:f.height});return S.bandSize=Tl(S,k),f.hide||"xAxis"!==r?f.hide||(c[b]+=(h?-1:1)*S.width):c[b]+=(h?-1:1)*S.height,op({},t,sp({},i,S))}),{})}})},function(t,e,n){"use strict";var r=n(179),a=Object.prototype.toString;function i(t){return"[object Array]"===a.call(t)}function o(t){return"undefined"===typeof t}function s(t){return null!==t&&"object"===typeof t}function u(t){return"[object Function]"===a.call(t)}function c(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!==typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:s,isUndefined:o,isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function t(){var e={};function n(n,r){"object"===typeof e[r]&&"object"===typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,a=arguments.length;r<a;r++)c(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"===typeof e[r]&&"object"===typeof n?e[r]=t(e[r],n):e[r]="object"===typeof n?t({},n):n}for(var r=0,a=arguments.length;r<a;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,(function(e,a){t[a]=n&&"function"===typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return j})),n.d(e,"i",(function(){return A})),n.d(e,"c",(function(){return _})),n.d(e,"f",(function(){return M})),n.d(e,"e",(function(){return I})),n.d(e,"d",(function(){return D})),n.d(e,"k",(function(){return P})),n.d(e,"g",(function(){return F})),n.d(e,"h",(function(){return L})),n.d(e,"j",(function(){return z})),n.d(e,"b",(function(){return B}));var r=n(10),a=n(16),i=n(5),o=n(9),s=n(0),u=n(49),c=n(61),l=n(6),h=n(196),f=n(197),p=n(198),d=n(199),v=n(200),m=n(201),g=n(202),y=n(203),b=n(204),x=n(205),w=n(206),O=n(207),k=n(208),S=n(209),E=n(210),C=n(211),j=function(){function t(){var e;Object(i.a)(this,t);var n=[h,f,p,d,v,m,g,x,b,y,w,O,k,S,E,C],r=(e=[]).concat.apply(e,Object(a.a)(n.map((function(t){return t.json}))));this.opMappers=r.reduce((function(t,e){return t[e.tfOpName]=e,t}),{})}return Object(o.a)(t,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),Object(o.a)(t,[{key:"transformGraph",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.node,i=[],o=[],s=a.reduce((function(t,n){return t[n.name]=e.mapNode(n),n.op.startsWith("Placeholder")&&i.push(t[n.name]),"Const"===n.op&&o.push(t[n.name]),t}),{}),u=[],c=[],h={},f={};null!=n&&(h=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));var p=Object.keys(s);return p.forEach((function(t){var e=s[t];e.inputNames.forEach((function(t){var n=Object(l.a)(t),a=Object(r.a)(n,1)[0];e.inputs.push(s[a]),s[a].children.push(e)}))})),0===Object.keys(f).length?p.forEach((function(t){var e=s[t];0===e.children.length&&c.push(e)})):Object.keys(f).forEach((function(t){var e=Object(l.a)(t),n=Object(r.a)(e,1)[0],a=s[n];null!=a&&(a.signatureKey=f[t],c.push(a))})),Object.keys(h).length>0?Object.keys(h).forEach((function(t){var e=Object(l.a)(t),n=Object(r.a)(e,1)[0],a=s[n];a&&(a.signatureKey=h[t],u.push(a))})):u=i,{nodes:s,inputs:u,outputs:c,weights:o,placeholders:i,signature:n}}},{key:"mapSignatureEntries",value:function(t){return Object.keys(t||{}).reduce((function(e,n){return e[t[n].name]=n,e}),{})}},{key:"mapNode",value:function(t){var e=Object(c.a)(t.op)||this.opMappers[t.op]||{};null==t.attr&&(t.attr={});var n={name:t.name,op:t.op,category:e.category,inputNames:(t.input||[]).map((function(t){return t.startsWith("^")?t.substr(1):t})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:t.attr};return null!=e.inputs&&(n.inputParams=e.inputs.reduce((function(t,e){return t[e.name]={type:e.type,inputIndexStart:e.start,inputIndexEnd:e.end},t}),{})),null!=e.attrs&&(n.attrParams=e.attrs.reduce((function(e,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=A(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=A(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=L(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=L(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=M(t.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=M(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=F(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=F(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=_(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=_(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=B(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=B(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=P(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=P(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=z(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=z(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=I(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=I(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=D(t.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=D(t.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(t.op))}return e[n.name]={value:a,type:r},e}),{})),n}}]),t}();function T(e,n){var r=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var n=Object(s.lb)().global;if("undefined"!==typeof n.atob)return n.atob(e);if("undefined"!==typeof t)return new t(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return n?r:r.toLowerCase()}function A(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t[e];return null!=a?T(a.s,r):n}function _(t,e,n){var r=t[e];return r?r.b:n}function M(t,e,n){var r=t[e]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function N(t){switch("string"===typeof t&&(t=u.a[t]),t){case u.a.DT_FLOAT:return"float32";case u.a.DT_INT32:case u.a.DT_INT64:case u.a.DT_INT8:case u.a.DT_UINT8:return"int32";case u.a.DT_BOOL:return"bool";case u.a.DT_DOUBLE:return"float32";case u.a.DT_STRING:return"string";default:return null}}function I(t,e,n){var r=t[e];return r&&r.type?N(r.type):n}function D(t,e,n){var r=t[e];return r&&r.list&&r.list.type?r.list.type.map((function(t){return N(t)})):n}function R(t){if(!t.unknownRank)return null!=t.dim?t.dim.map((function(t){return"number"===typeof t.size?t.size:parseInt(t.size,10)})):[]}function P(t,e,n){var r=t[e];return r&&r.shape?R(r.shape):n}function F(t,e,n){var r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(t){return"number"===typeof t?t:parseInt(t,10)})):n}function L(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t[e];return a&&a.list&&a.list.s?a.list.s.map((function(t){return T(t,r)})):n}function z(t,e,n){var r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map((function(t){return R(t)})):n}function B(t,e,n){var r=t[e];return r&&r.list&&r.list.b?r.list.b:n}}).call(this,n(126).Buffer)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return h}));var r=n(10),a=n(83),i=Object(a.a)("kernelRegistry",(function(){return new Map})),o=Object(a.a)("gradRegistry",(function(){return new Map}));function s(t,e){var n=f(t,e);return i.get(n)}function u(t){return o.get(t)}function c(t){for(var e=i.entries(),n=[];;){var a=e.next(),o=a.done,s=a.value;if(o)break;var u=Object(r.a)(s,2),c=u[0],l=u[1],h=c.split("_");Object(r.a)(h,1)[0]===t&&n.push(l)}return n}function l(t){var e=t.kernelName,n=t.backendName,r=f(e,n);i.has(r)&&console.warn("The kernel '".concat(e,"' for backend ")+"'".concat(n,"' is already registered")),i.set(r,t)}function h(t){var e=t.kernelName;o.has(e)&&console.warn("Overriding the gradient for '".concat(e,"'")),o.set(e,t)}function f(t,e){return"".concat(e,"_").concat(t)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"a",(function(){return v}));var r=n(4),a=n.n(r),i=n(12),o=n(0);function s(t,e){return u(t,e)}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==t)return null;if(r.has(t))throw new Error("Circular references are not supported.");if(n.has(t))return n.get(t);var a=e(t);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(d(t)){var i=Array.isArray(t)?[]:{};for(var o in r.add(t),t){var s=t[o],c=u(s,e,n,r);i[o]=c}return r.delete(t),i}throw new Error("Can't recurse into non-iterable type: ".concat(t))}return n.set(t,a.value),a.value}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;return l(t,e)}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=t[0];if(n.has(r))throw new Error("Circular references are not supported.");var a=e(t);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(d(r)){var i=Array.isArray(r)?[]:{};n.add(r);var o=function(r){var a=l(t.map((function(t){return t[r]})),e,n);i[r]=a};for(var s in r)o(s);return n.delete(r),i}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return a.value}function h(t){return null===t?null:d(t[0])?{value:null,recurse:!0}:{value:t,recurse:!1}}function f(t,e){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(a.a.mark((function t(e,n){var r,i,o,s,c,l,h;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new Map,u(e,n,r),i=0,o=Array.from(r.keys());case 3:if(!(i<o.length)){t.next=14;break}if(s=o[i],!((c=r.get(s))instanceof Promise)){t.next=11;break}return t.next=9,c;case 9:l=t.sent,r.set(s,l);case 11:i++,t.next=3;break;case 14:return h=u(e,n,r),t.abrupt("return",h);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return null!=t&&!ArrayBuffer.isView(t)&&(Array.isArray(t)||"object"===typeof t&&!(t instanceof o.l))}function v(t){return null==t||(null===(e=t)||"object"!==typeof e&&"function"!==typeof e)||Array.isArray(t)||"object"===typeof t&&t instanceof o.l||o.zd.isTypedArray(t);var e}},function(t,e,n){var r=n(160);t.exports=function(t,e,n){var a=null==t?void 0:r(t,e);return void 0===a?n:a}},function(t,e,n){var r=n(148),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(453),a=n(454),i=n(455),o=n(456),s=n(457),u=n(458),c=n(459);c.alea=r,c.xor128=a,c.xorwow=i,c.xorshift7=o,c.xor4096=s,c.tychei=u,t.exports=c},function(t,e,n){var r=n(174),a=n(403),i=n(69);t.exports=function(t){return t&&t.length?r(t,i,a):void 0}},function(t,e,n){"use strict";var r,a;n.d(e,"a",(function(){return r})),function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(r||(r={})),function(t){!function(t){t[t.LEGACY=0]="LEGACY",t[t.V1=1]="V1",t[t.V2=2]="V2"}(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))}(a||(a={}))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(303),a=n(357),i=n(69),o=n(26),s=n(366);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?o(t)?a(t[0],t[1]):r(t):s(t)}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}}(),t.exports=n(247)},function(t,e,n){var r=n(58),a=n(26),i=n(55);t.exports=function(t){return"string"==typeof t||!a(t)&&i(t)&&"[object String]"==r(t)}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var r,a,i,o,s;n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l})),function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"}(r||(r={})),function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"}(a||(a={})),function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"}(i||(i={})),function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"}(o||(o={})),function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"}(s||(s={}));var u={float32:o,int32:a,bool:i,complex64:s};function c(t,e){if("string"===t||"string"===e){if("string"===t&&"string"===e)return"string";throw new Error("Can not upcast ".concat(t," with ").concat(e))}return u[t][e]}function l(t){return c(t,"int32")}},function(t,e,n){(function(e){for(var r=n(377),a="undefined"===typeof window?e:window,i=["moz","webkit"],o="AnimationFrame",s=a["request"+o],u=a["cancel"+o]||a["cancelRequest"+o],c=0;!s&&c<i.length;c++)s=a[i[c]+"Request"+o],u=a[i[c]+"Cancel"+o]||a[i[c]+"CancelRequest"+o];if(!s||!u){var l=0,h=0,f=[];s=function(t){if(0===f.length){var e=r(),n=Math.max(0,1e3/60-(e-l));l=n+e,setTimeout((function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return f.push({handle:++h,callback:t,cancelled:!1}),h},u=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return s.call(a,t)},t.exports.cancel=function(){u.apply(a,arguments)},t.exports.polyfill=function(t){t||(t=a),t.requestAnimationFrame=s,t.cancelAnimationFrame=u}}).call(this,n(59))},function(t,e,n){var r=n(80),a=n(301),i=n(302),o=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?a(t):i(t)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(315),a=n(318);t.exports=function(t,e){var n=a(t,e);return r(n)?n:void 0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r={};function a(t){return r[t]}},function(t,e,n){var r;!function(a,i){t.exports?(i.default=i,t.exports=a.document?i(a):i):void 0===(r=function(){return i(a)}.call(e,n,e,t))||(t.exports=r)}("undefined"!==typeof window?window:this,(function(t){function e(t,e,n,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,n))}var n={};return e(n,"parts/Globals.js",[],(function(){var e="undefined"!==typeof t?t:"undefined"!==typeof window?window:{},n=e.document,r=e.navigator&&e.navigator.userAgent||"",a=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i=/(edge|msie|trident)/i.test(r)&&!e.opera,o=-1!==r.indexOf("Firefox"),s=-1!==r.indexOf("Chrome"),u=o&&4>parseInt(r.split("Firefox/")[1],10);return{product:"Highcharts",version:"8.1.0",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:u,hasTouch:!!e.TouchEvent,isMS:i,isWebKit:-1!==r.indexOf("AppleWebKit"),isFirefox:o,isChrome:s,isSafari:!s&&-1!==r.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(r),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:a,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[],dateFormats:{}}})),e(n,"parts/Utilities.js",[n["parts/Globals.js"]],(function(t){function e(){var t,e=arguments,r={},a=function t(e,r){return"object"!==typeof e&&(e={}),q(r,(function(a,i){!n(a,!0)||v(a)||d(a)?e[i]=r[i]:e[i]=t(e[i]||{},a)})),e};!0===e[0]&&(r=e[1],e=Array.prototype.slice.call(e,2));var i=e.length;for(t=0;t<i;t++)r=a(r,e[t]);return r}function n(t,e){return!!t&&"object"===typeof t&&(!e||!p(t))}function r(t,e,n){var r;return f(e)?y(n)?t.setAttribute(e,n):t&&t.getAttribute&&((r=t.getAttribute(e))||"class"!==e||(r=t.getAttribute(e+"Name"))):q(e,(function(e,n){t.setAttribute(n,e)})),r}function a(){for(var t=arguments,e=t.length,n=0;n<e;n++){var r=t[n];if("undefined"!==typeof r&&null!==r)return r}}function i(t,e){if(!t)return e;var n=t.split(".").reverse();if(1===n.length)return e[t];for(t=n.pop();"undefined"!==typeof t&&"undefined"!==typeof e&&null!==e;)e=e[t],t=n.pop();return e}t.timers=[];var o=t.charts,s=t.doc,u=t.win,c=t.error=function(t,e,n,r){var a=m(t),i=a?"Highcharts error #"+t+": www.highcharts.com/errors/"+t+"/":t.toString(),o=function(){if(e)throw Error(i);u.console&&console.log(i)};if("undefined"!==typeof r){var s="";a&&(i+="?"),q(r,(function(t,e){s+="\n"+e+": "+t,a&&(i+=encodeURI(e)+"="+encodeURI(t))})),i+=s}n?$(n,"displayError",{code:t,message:i,params:r},o):o()},l=function(){function e(t,e,n){this.options=e,this.elem=t,this.prop=n}return e.prototype.dSetter=function(){var t=this.paths,e=t&&t[0];t=t&&t[1];var n=[],r=this.now||0;if(1!==r&&e&&t)if(e.length===t.length&&1>r)for(var a=0;a<t.length;a++){for(var i=e[a],o=t[a],s=[],u=0;u<o.length;u++){var c=i[u],l=o[u];s[u]="number"===typeof c&&"number"===typeof l&&("A"!==o[0]||4!==u&&5!==u)?c+r*(l-c):l}n.push(s)}else n=t;else n=this.toD||[];this.elem.attr("d",n,void 0,!0)},e.prototype.update=function(){var t=this.elem,e=this.prop,n=this.now,r=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,r&&r.call(t,n,this)},e.prototype.run=function(e,n,r){var a=this,i=a.options,o=function t(e){return!t.stopped&&a.step(e)},s=u.requestAnimationFrame||function(t){setTimeout(t,13)};e!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=r,this.now=this.start,this.pos=0,o.elem=this.elem,o.prop=this.prop,o()&&1===t.timers.push(o)&&s((function e(){for(var n=0;n<t.timers.length;n++)t.timers[n]()||t.timers.splice(n--,1);t.timers.length&&s(e)}))):(delete i.curAnim[this.prop],i.complete&&0===Object.keys(i.curAnim).length&&i.complete.call(this.elem))},e.prototype.step=function(t){var e=+new Date,n=this.options,r=this.elem,a=n.complete,i=n.duration,o=n.curAnim;if(r.attr&&!r.element)t=!1;else if(t||e>=i+this.startTime){this.now=this.end,this.pos=1,this.update();var s=o[this.prop]=!0;q(o,(function(t){!0!==t&&(s=!1)})),s&&a&&a.call(r),t=!1}else this.pos=n.easing((e-this.startTime)/i),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},e.prototype.initPath=function(t,e,n){function r(t,e){for(;t.length<h;){var n=t[0],r=e[h-t.length];r&&"M"===n[0]&&(t[0]="C"===r[0]?["C",n[1],n[2],n[1],n[2],n[1],n[2]]:["L",n[1],n[2]]),t.unshift(n),s&&t.push(t[t.length-1])}}function a(t,e){for(;t.length<h;)if("C"===(e=t[t.length/u-1].slice())[0]&&(e[1]=e[5],e[2]=e[6]),s){var n=t[t.length/u].slice();t.splice(t.length/2,0,e,n)}else t.push(e)}var i=t.startX,o=t.endX;e=e&&e.slice(),n=n.slice();var s=t.isArea,u=s?2:1;if(!e)return[n,n];if(i&&o){for(t=0;t<i.length;t++){if(i[t]===o[0]){var c=t;break}if(i[0]===o[o.length-i.length+t]){c=t;var l=!0;break}if(i[i.length-1]===o[o.length-i.length+t]){c=i.length-t;break}}"undefined"===typeof c&&(e=[])}if(e.length&&m(c)){var h=n.length+c*u;l?(r(e,n),a(n,e)):(r(n,e),a(e,n))}return[e,n]},e.prototype.fillSetter=function(){e.prototype.strokeSetter.apply(this,arguments)},e.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},e}();t.Fx=l,t.merge=e;var h=t.pInt=function(t,e){return parseInt(t,e||10)},f=t.isString=function(t){return"string"===typeof t},p=t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t};t.isObject=n;var d=t.isDOMElement=function(t){return n(t)&&"number"===typeof t.nodeType},v=t.isClass=function(t){var e=t&&t.constructor;return!(!n(t,!0)||d(t)||!e||!e.name||"Object"===e.name)},m=t.isNumber=function(t){return"number"===typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},g=t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},y=t.defined=function(t){return"undefined"!==typeof t&&null!==t};t.attr=r;var b=t.splat=function(t){return p(t)?t:[t]},x=t.syncTimeout=function(t,e,n){return 0<e?setTimeout(t,e,n):(t.call(0,n),-1)},w=t.clearTimeout=function(t){y(t)&&clearTimeout(t)},O=t.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t};t.pick=a;var k=t.css=function(e,n){t.isMS&&!t.svg&&n&&"undefined"!==typeof n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),O(e.style,n)},S=t.createElement=function(t,e,n,r,a){return t=s.createElement(t),e&&O(t,e),a&&k(t,{padding:"0",border:"none",margin:"0"}),n&&k(t,n),r&&r.appendChild(t),t},E=t.extendClass=function(t,e){var n=function(){};return n.prototype=new t,O(n.prototype,e),n},C=t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||"0")+t},j=t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},T=t.wrap=function(t,e,n){var r=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,a=this;return a.proceed=function(){r.apply(a,arguments.length?arguments:e)},t.unshift(r),t=n.apply(this,t),a.proceed=null,t}},A=t.format=function(e,n,r){var a="{",o=!1,s=[],u=/f$/,c=/\.([0-9])/,l=t.defaultOptions.lang,h=r&&r.time||t.time;for(r=r&&r.numberFormatter||W;e;){var f=e.indexOf(a);if(-1===f)break;var p=e.slice(0,f);if(o){if(a=i((p=p.split(":")).shift()||"",n),p.length&&"number"===typeof a)if(p=p.join(":"),u.test(p)){var d=parseInt((p.match(c)||["","-1"])[1],10);null!==a&&(a=r(a,d,l.decimalPoint,-1<p.indexOf(",")?l.thousandsSep:""))}else a=h.dateFormat(p,a);s.push(a)}else s.push(p);e=e.slice(f+1),a=(o=!o)?"}":"{"}return s.push(e),s.join("")},_=t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},M=t.normalizeTickInterval=function(t,e,n,r,i){var o=t,s=t/(n=a(n,1));for(e||(e=i?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===n?e=e.filter((function(t){return 0===t%1})):.1>=n&&(e=[1/n]))),r=0;r<e.length&&(o=e[r],!(i&&o*n>=t||!i&&s<=(e[r]+(e[r+1]||e[r]))/2));r++);return F(o*n,-Math.round(Math.log(.001)/Math.LN10))},N=t.stableSort=function(t,e){var n,r,a=t.length;for(r=0;r<a;r++)t[r].safeI=r;for(t.sort((function(t,r){return 0===(n=e(t,r))?t.safeI-r.safeI:n})),r=0;r<a;r++)delete t[r].safeI},I=t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},D=t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},R=t.destroyObjectProperties=function(t,e){q(t,(function(n,r){n&&n!==e&&n.destroy&&n.destroy(),delete t[r]}))},P=t.discardElement=function(e){var n=t.garbageBin;n||(n=S("div")),e&&n.appendChild(e),n.innerHTML=""},F=t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},L=t.setAnimation=function(t,e){e.renderer.globalAnimation=a(t,e.options.chart.animation,!0)},z=t.animObject=function(t){return n(t)?e(t):{duration:t?500:0}},B=t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},W=t.numberFormat=function(e,n,r,i){e=+e||0,n=+n;var o=t.defaultOptions.lang,s=(e.toString().split(".")[1]||"").split("e")[0].length,u=e.toString().split("e");if(-1===n)n=Math.min(s,20);else if(m(n)){if(n&&u[1]&&0>u[1]){var c=n+ +u[1];0<=c?(u[0]=(+u[0]).toExponential(c).split("e")[0],n=c):(u[0]=u[0].split(".")[0]||0,e=20>n?(u[0]*Math.pow(10,u[1])).toFixed(n):0,u[1]=0)}}else n=2;var l=(Math.abs(u[1]?u[0]:e)+Math.pow(10,-Math.max(n,s)-1)).toFixed(n);return c=3<(s=String(h(l))).length?s.length%3:0,r=a(r,o.decimalPoint),i=a(i,o.thousandsSep),e=(0>e?"-":"")+(c?s.substr(0,c)+i:""),e+=s.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+i),n&&(e+=r+l.slice(-n)),u[1]&&0!==+e&&(e+="e"+u[1]),e};Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};var U=t.getStyle=function(e,n,r){return"width"===n?(n=Math.min(e.offsetWidth,e.scrollWidth),(r=e.getBoundingClientRect&&e.getBoundingClientRect().width)<n&&r>=n-1&&(n=Math.floor(r)),Math.max(0,n-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"))):"height"===n?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(u.getComputedStyle||c(27,!0),(e=u.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),a(r,"opacity"!==n)&&(e=h(e))),e)},V=t.inArray=function(t,e,n){return e.indexOf(t,n)},H=t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,r=t.length;for(n=0;n<r;n++)if(e(t[n],n))return t[n]};t.keys=Object.keys;var G=t.offset=function(t){var e=s.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(u.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(u.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},Y=t.stop=function(e,n){for(var r=t.timers.length;r--;)t.timers[r].elem!==e||n&&n!==t.timers[r].prop||(t.timers[r].stopped=!0)},q=t.objectEach=function(t,e,n){for(var r in t)Object.hasOwnProperty.call(t,r)&&e.call(n||t[r],t[r],r,t)};q({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(e,n){t[n]=function(t){return Array.prototype[e].apply(t,[].slice.call(arguments,1))}}));var X=t.addEvent=function(e,n,r,a){void 0===a&&(a={});var i=e.addEventListener||t.addEventListenerPolyfill,o="function"===typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{};return t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),i&&i.call(e,n,r,!1),o[n]||(o[n]=[]),o[n].push({fn:r,order:"number"===typeof a.order?a.order:1/0}),o[n].sort((function(t,e){return t.order-e.order})),function(){K(e,n,r)}},K=t.removeEvent=function(e,n,r){function a(n,r){var a=e.removeEventListener||t.removeEventListenerPolyfill;a&&a.call(e,n,r,!1)}function i(t){var r;if(e.nodeName){if(n){var i={};i[n]=!0}else i=t;q(i,(function(e,n){if(t[n])for(r=t[n].length;r--;)a(n,t[n][r].fn)}))}}var o;["protoEvents","hcEvents"].forEach((function(t,s){var u=(s=s?e:e.prototype)&&s[t];u&&(n?(o=u[n]||[],r?(u[n]=o.filter((function(t){return r!==t.fn})),a(n,r)):(i(u),u[n]=[])):(i(u),s[t]={}))}))},$=t.fireEvent=function(t,e,n,r){var a;if(n=n||{},s.createEvent&&(t.dispatchEvent||t.fireEvent)){var i=s.createEvent("Events");i.initEvent(e,!0,!0),O(i,n),t.dispatchEvent?t.dispatchEvent(i):t.fireEvent(e,i)}else n.target||O(n,{preventDefault:function(){n.defaultPrevented=!0},target:t,type:e}),function(e,r){void 0===e&&(e=[]),void 0===r&&(r=[]);var i=0,o=0,s=e.length+r.length;for(a=0;a<s;a++)!1===(e[i]?r[o]?e[i].order<=r[o].order?e[i++]:r[o++]:e[i++]:r[o++]).fn.call(t,n)&&n.preventDefault()}(t.protoEvents&&t.protoEvents[e],t.hcEvents&&t.hcEvents[e]);r&&!n.defaultPrevented&&r.call(t,n)},J=t.animate=function(t,r,a){var i,o,s,u="";if(!n(a)){var c=arguments;a={duration:c[2],easing:c[3],complete:c[4]}}m(a.duration)||(a.duration=400),a.easing="function"===typeof a.easing?a.easing:Math[a.easing]||Math.easeInOutSine,a.curAnim=e(r),q(r,(function(e,n){Y(t,n),s=new l(t,a,n),o=null,"d"===n&&p(r.d)?(s.paths=s.initPath(t,t.pathArray,r.d),s.toD=r.d,i=0,o=1):t.attr?i=t.attr(n):(i=parseFloat(U(t,n))||0,"opacity"!==n&&(u="px")),o||(o=e),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(i,o,u)}))},Z=t.seriesType=function(n,r,a,i,o){var s=t.getOptions(),u=t.seriesTypes;return s.plotOptions[n]=e(s.plotOptions[r],a),u[n]=E(u[r]||function(){},i),u[n].prototype.type=n,o&&(u[n].prototype.pointClass=E(t.Point,o)),u[n]},Q=t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),tt=t.isFunction=function(t){return"function"===typeof t};return u.jQuery&&(u.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[f(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):o[r(this[0],"data-highcharts-chart")]}),{Fx:t.Fx,addEvent:X,animate:J,animObject:z,arrayMax:D,arrayMin:I,attr:r,clamp:function(t,e,n){return t>e?t<n?t:n:e},clearTimeout:w,correctFloat:F,createElement:S,css:k,defined:y,destroyObjectProperties:R,discardElement:P,erase:g,error:c,extend:O,extendClass:E,find:H,fireEvent:$,format:A,getMagnitude:_,getNestedProperty:i,getStyle:U,inArray:V,isArray:p,isClass:v,isDOMElement:d,isFunction:tt,isNumber:m,isObject:n,isString:f,merge:e,normalizeTickInterval:M,numberFormat:W,objectEach:q,offset:G,pad:C,pick:a,pInt:h,relativeLength:j,removeEvent:K,seriesType:Z,setAnimation:L,splat:b,stableSort:N,stop:Y,syncTimeout:x,timeUnits:B,uniqueKey:Q,wrap:T}})),e(n,"parts/Color.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.isNumber,r=e.merge,a=e.pInt;return e=function(){function t(e){if(this.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),1]}}],this.rgba=[],!(this instanceof t))return new t(e);this.init(e)}return t.parse=function(e){return new t(e)},t.prototype.init=function(e){var n,r;if((this.input=e=t.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=e.stops.map((function(e){return new t(e[1])}));else{if(e&&e.charAt&&"#"===e.charAt()){var a=e.length;e=parseInt(e.substr(1),16),7===a?n=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===a&&(n=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])}if(!n)for(r=this.parsers.length;r--&&!n;){var i=this.parsers[r];(a=i.regex.exec(e))&&(n=i.parse(a))}}this.rgba=n||[]},t.prototype.get=function(t){var e=this.input,a=this.rgba;if("undefined"!==typeof this.stops){var i=r(e);i.stops=[].concat(i.stops),this.stops.forEach((function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]}))}else i=a&&n(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":e;return i},t.prototype.brighten=function(t){var e,r=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(n(t)&&0!==t)for(e=0;3>e;e++)r[e]+=a(255*t),0>r[e]&&(r[e]=0),255<r[e]&&(r[e]=255);return this},t.prototype.setOpacity=function(t){return this.rgba[3]=t,this},t.prototype.tweenTo=function(t,e){var n=this.rgba,r=t.rgba;return r.length&&n&&n.length?e=((t=1!==r[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(r[0]+(n[0]-r[0])*(1-e))+","+Math.round(r[1]+(n[1]-r[1])*(1-e))+","+Math.round(r[2]+(n[2]-r[2])*(1-e))+(t?","+(r[3]+(n[3]-r[3])*(1-e)):"")+")":e=t.input||"none",e},t.names={white:"#ffffff",black:"#000000"},t}(),t.Color=e,t.color=e.parse,t.Color})),e(n,"parts/SVGElement.js",[n["parts/Color.js"],n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e,n){var r=e.deg2rad,a=e.doc,i=e.hasTouch,o=e.isFirefox,s=e.noop,u=e.svg,c=e.SVG_NS,l=e.win,h=n.animate,f=n.animObject,p=n.attr,d=n.createElement,v=n.css,m=n.defined,g=n.erase,y=n.extend,b=n.fireEvent,x=n.inArray,w=n.isArray,O=n.isFunction,k=n.isNumber,S=n.isString,E=n.merge,C=n.objectEach,j=n.pick,T=n.pInt,A=n.stop,_=n.uniqueKey;return(n=function(){function n(){this.height=this.element=void 0,this.opacity=1,this.renderer=void 0,this.SVG_NS=c,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" "),this.textProps="color cursor direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),this.width=void 0}return n.prototype._defaultGetter=function(t){return t=j(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},n.prototype._defaultSetter=function(t,e,n){n.setAttribute(e,t)},n.prototype.add=function(t){var e=this.renderer,n=this.element;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,"undefined"!==typeof this.textStr&&e.buildText(this),this.added=!0,!t||t.handleZ||this.zIndex)var r=this.zIndexSetter();return r||(t?t.element:e.box).appendChild(n),this.onAdd&&this.onAdd(),this},n.prototype.addClass=function(t,e){var n=e?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce((function(t,e){return-1===n.indexOf(e)&&t.push(e),t}),n?[n]:[]).join(" "))!==n&&this.attr("class",t),this},n.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},n.prototype.align=function(t,e,n){var r,a,i,o={},s=this.renderer,u=s.alignedObjects;t?(this.alignOptions=t,this.alignByTranslate=e,(!n||S(n))&&(this.alignTo=r=n||"renderer",g(u,this),u.push(this),n=void 0)):(t=this.alignOptions,e=this.alignByTranslate,r=this.alignTo),n=j(n,s[r],s),r=t.align,s=t.verticalAlign,u=(n.x||0)+(t.x||0);var c=(n.y||0)+(t.y||0);return"right"===r?a=1:"center"===r&&(a=2),a&&(u+=(n.width-(t.width||0))/a),o[e?"translateX":"x"]=Math.round(u),"bottom"===s?i=1:"middle"===s&&(i=2),i&&(c+=(n.height-(t.height||0))/i),o[e?"translateY":"y"]=Math.round(c),this[this.placed?"animate":"attr"](o),this.placed=!0,this.alignAttr=o,this},n.prototype.alignSetter=function(t){var e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))},n.prototype.animate=function(t,e,n){var r=f(j(e,this.renderer.globalAnimation,!0));return j(a.hidden,a.msHidden,a.webkitHidden,!1)&&(r.duration=0),0!==r.duration?(n&&(r.complete=n),h(this,t,r)):(this.attr(t,void 0,n),C(t,(function(t,e){r.step&&r.step.call(this,t,{prop:e,pos:1})}),this)),this},n.prototype.applyTextOutline=function(t){var n,r=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(r.style.fill)));var a=(t=t.split(" "))[t.length-1];if((n=t[0])&&"none"!==n&&e.svg){this.fakeTS=!0,t=[].slice.call(r.getElementsByTagName("tspan")),this.ySetter=this.xSetter,n=n.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,n){return 2*e+n})),this.removeTextOutline(t);var i=!!r.textContent&&/^[\u0591-\u065F\u066A-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(r.textContent),s=r.firstChild;t.forEach((function(t,e){0===e&&(t.setAttribute("x",r.getAttribute("x")),e=r.getAttribute("y"),t.setAttribute("y",e||0),null===e&&r.setAttribute("y",0)),e=t.cloneNode(!0),p(i&&!o?t:e,{class:"highcharts-text-outline",fill:a,stroke:a,"stroke-width":n,"stroke-linejoin":"round"}),r.insertBefore(e,s)})),i&&o&&t[0]&&((t=t[0].cloneNode(!0)).textContent=" ",r.insertBefore(t,s))}},n.prototype.attr=function(t,e,n,r){var a,i,o,s=this.element,u=this,c=this.symbolCustomAttribs;if("string"===typeof t&&"undefined"!==typeof e){var l=t;(t={})[l]=e}return"string"===typeof t?u=(this[t+"Getter"]||this._defaultGetter).call(this,t,s):(C(t,(function(e,n){i=!1,r||A(this,n),this.symbolName&&-1!==x(n,c)&&(a||(this.symbolAttr(t),a=!0),i=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),i||((o=this[n+"Setter"]||this._defaultSetter).call(this,e,n,s),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,o))}),this),this.afterSetters()),n&&n.call(this),u},n.prototype.clip=function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},n.prototype.crisp=function(t,e){e=e||t.strokeWidth||0;var n=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),m(t.strokeWidth)&&(t.strokeWidth=e),t},n.prototype.complexColor=function(e,n,r){var a,i,o,s,u,c,l,h,f,p,d,v=this.renderer,g=[];b(this.renderer,"complexColor",{args:arguments},(function(){if(e.radialGradient?i="radialGradient":e.linearGradient&&(i="linearGradient"),i){if(o=e[i],u=v.gradients,c=e.stops,f=r.radialReference,w(o)&&(e[i]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===i&&f&&!m(o.gradientUnits)&&(s=o,o=E(o,v.getRadialAttr(f,s),{gradientUnits:"userSpaceOnUse"})),C(o,(function(t,e){"id"!==e&&g.push(e,t)})),C(c,(function(t){g.push(t)})),g=g.join(","),u[g])p=u[g].attr("id");else{o.id=p=_();var y=u[g]=v.createElement(i).attr(o).add(v.defs);y.radAttr=s,y.stops=[],c.forEach((function(e){0===e[1].indexOf("rgba")?(a=t.parse(e[1]),l=a.get("rgb"),h=a.get("a")):(l=e[1],h=1),e=v.createElement("stop").attr({offset:e[0],"stop-color":l,"stop-opacity":h}).add(y),y.stops.push(e)}))}d="url("+v.url+"#"+p+")",r.setAttribute(n,d),r.gradient=g,e.toString=function(){return d}}}))},n.prototype.css=function(t){var e=this.styles,n={},r=this.element,a="",i=!e,o=["textOutline","textOverflow","width"];if(t&&t.color&&(t.fill=t.color),e&&C(t,(function(t,r){e&&e[r]!==t&&(n[r]=t,i=!0)})),i){if(e&&(t=y(e,n)),t)if(null===t.width||"auto"===t.width)delete this.textWidth;else if("text"===r.nodeName.toLowerCase()&&t.width)var s=this.textWidth=T(t.width);if(this.styles=t,s&&!u&&this.renderer.forExport&&delete t.width,r.namespaceURI===this.SVG_NS){var c=function(t,e){return"-"+e.toLowerCase()};C(t,(function(t,e){-1===o.indexOf(e)&&(a+=e.replace(/([A-Z])/g,c)+":"+t+";")})),a&&p(r,"style",a)}else v(r,t);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))}return this},n.prototype.dashstyleSetter=function(t){var e=this["stroke-width"];if("inherit"===e&&(e=1),t=t&&t.toLowerCase()){var n=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=n.length;t--;)n[t]=""+T(n[t])*j(e,NaN);t=n.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},n.prototype.destroy=function(){var t=this,e=t.element||{},n=t.renderer,r=n.isSVG&&"SPAN"===e.nodeName&&t.parentGroup||void 0,a=e.ownerSVGElement;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,A(t),t.clipPath&&a){var i=t.clipPath;[].forEach.call(a.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){-1<t.getAttribute("clip-path").indexOf(i.element.id)&&t.removeAttribute("clip-path")})),t.clipPath=i.destroy()}if(t.stops){for(a=0;a<t.stops.length;a++)t.stops[a].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e),n.styledMode||t.destroyShadows();r&&r.div&&0===r.div.childNodes.length;)e=r.parentGroup,t.safeRemoveChild(r.div),delete r.div,r=e;t.alignTo&&g(n.alignedObjects,t),C(t,(function(e,n){t[n]&&t[n].parentGroup===t&&t[n].destroy&&t[n].destroy(),delete t[n]}))},n.prototype.destroyShadows=function(){(this.shadows||[]).forEach((function(t){this.safeRemoveChild(t)}),this),this.shadows=void 0},n.prototype.destroyTextPath=function(t,e){var n=t.getElementsByTagName("text")[0];if(n){if(n.removeAttribute("dx"),n.removeAttribute("dy"),e.element.setAttribute("id",""),this.textPathWrapper&&n.getElementsByTagName("textPath").length){for(t=this.textPathWrapper.element.childNodes;t.length;)n.appendChild(t[0]);n.removeChild(this.textPathWrapper.element)}}else(t.getAttribute("dx")||t.getAttribute("dy"))&&(t.removeAttribute("dx"),t.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},n.prototype.dSetter=function(t,e,n){w(t)&&("string"===typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((function(t,e,n){return e&&e.join?(n?t+" ":"")+e.join(" "):(e||"").toString()}),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},n.prototype.fadeOut=function(t){var e=this;e.animate({opacity:0},{duration:j(t,150),complete:function(){e.attr({y:-9999}).hide()}})},n.prototype.fillSetter=function(t,e,n){"string"===typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},n.prototype.getBBox=function(t,e){var a,i=this.renderer,o=this.element,s=this.styles,u=this.textStr,c=i.cache,l=i.cacheKeys,h=o.namespaceURI===this.SVG_NS;e=j(e,this.rotation,0);var f=i.styledMode?o&&n.prototype.getStyle.call(o,"font-size"):s&&s.fontSize;if(m(u)){var p=u.toString();-1===p.indexOf("<")&&(p=p.replace(/[0-9]/g,"0")),p+=["",e,f,this.textWidth,s&&s.textOverflow,s&&s.fontWeight].join()}if(p&&!t&&(a=c[p]),!a){if(h||i.forExport){try{var d=this.fakeTS&&function(t){[].forEach.call(o.querySelectorAll(".highcharts-text-outline"),(function(e){e.style.display=t}))};O(d)&&d("none"),a=o.getBBox?y({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight},O(d)&&d("")}catch(v){}(!a||0>a.width)&&(a={width:0,height:0})}else a=this.htmlGetBBox();if(i.isSVG&&(t=a.width,i=a.height,h&&(a.height=i={"11px,17":14,"13px,20":16}[s&&s.fontSize+","+Math.round(i)]||i),e&&(s=e*r,a.width=Math.abs(i*Math.sin(s))+Math.abs(t*Math.cos(s)),a.height=Math.abs(i*Math.cos(s))+Math.abs(t*Math.sin(s)))),p&&0<a.height){for(;250<l.length;)delete c[l.shift()];c[p]||l.push(p),c[p]=a}}return a},n.prototype.getStyle=function(t){return l.getComputedStyle(this.element||this,"").getPropertyValue(t)},n.prototype.hasClass=function(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)},n.prototype.hide=function(t){return t?this.attr({y:-9999}):this.attr({visibility:"hidden"}),this},n.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},n.prototype.init=function(t,e){this.element="span"===e?d(e):a.createElementNS(this.SVG_NS,e),this.renderer=t,b(this,"afterInit")},n.prototype.invert=function(t){return this.inverted=t,this.updateTransform(),this},n.prototype.on=function(t,e){var n,r,a,o=this.element;return i&&"click"===t?(o.ontouchstart=function(t){n=t.touches[0].clientX,r=t.touches[0].clientY},o.ontouchend=function(t){n&&4<=Math.sqrt(Math.pow(n-t.changedTouches[0].clientX,2)+Math.pow(r-t.changedTouches[0].clientY,2))||e.call(o,t),a=!0,t.preventDefault()},o.onclick=function(t){a||e.call(o,t)}):o["on"+t]=e,this},n.prototype.opacitySetter=function(t,e,n){this[e]=t,n.setAttribute(e,t)},n.prototype.removeClass=function(t){return this.attr("class",(""+this.attr("class")).replace(S(t)?new RegExp(" ?"+t+" ?"):t,""))},n.prototype.removeTextOutline=function(t){for(var e,n=t.length;n--;)"highcharts-text-outline"===(e=t[n]).getAttribute("class")&&g(t,this.element.removeChild(e))},n.prototype.safeRemoveChild=function(t){var e=t.parentNode;e&&e.removeChild(t)},n.prototype.setRadialReference=function(t){var e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},n.prototype.setTextPath=function(t,e){var n=this.element,r={textAnchor:"text-anchor"},a=!1,i=this.textPathWrapper,o=!i,u=(e=E(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e)).attributes;if(t&&e&&e.enabled){i&&null===i.element.parentNode?(o=!0,i=i.destroy()):i&&this.removeTextOutline.call(i.parentGroup,[].slice.call(n.getElementsByTagName("tspan"))),this.options&&this.options.padding&&(u.dx=-this.options.padding),i||(this.textPathWrapper=i=this.renderer.createElement("textPath"),a=!0);var c=i.element;if((e=t.element.getAttribute("id"))||t.element.setAttribute("id",e=_()),o)for(t=n.getElementsByTagName("tspan");t.length;)t[0].setAttribute("y",0),k(u.dx)&&t[0].setAttribute("x",-u.dx),c.appendChild(t[0]);a&&i&&i.add({element:this.text?this.text.element:n}),c.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+e),m(u.dy)&&(c.parentNode.setAttribute("dy",u.dy),delete u.dy),m(u.dx)&&(c.parentNode.setAttribute("dx",u.dx),delete u.dx),C(u,(function(t,e){c.setAttribute(r[e]||e,t)})),n.removeAttribute("transform"),this.removeTextOutline.call(i,[].slice.call(n.getElementsByTagName("tspan"))),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=s}else i&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(n,t),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},n.prototype.shadow=function(t,e,n){var r,a=[],i=this.element,o=!1,s=this.oldShadowOptions,u={color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:3};if(!0===t?r=u:"object"===typeof t&&(r=y(u,t)),r&&(r&&s&&C(r,(function(t,e){t!==s[e]&&(o=!0)})),o&&this.destroyShadows(),this.oldShadowOptions=r),r){if(!this.shadows){var c=r.opacity/r.width,l=this.parentInverted?"translate(-1,-1)":"translate("+r.offsetX+", "+r.offsetY+")";for(u=1;u<=r.width;u++){var h=i.cloneNode(!1),f=2*r.width+1-2*u;p(h,{stroke:t.color||"#000000","stroke-opacity":c*u,"stroke-width":f,transform:l,fill:"none"}),h.setAttribute("class",(h.getAttribute("class")||"")+" highcharts-shadow"),n&&(p(h,"height",Math.max(p(h,"height")-f,0)),h.cutHeight=f),e?e.element.appendChild(h):i.parentNode&&i.parentNode.insertBefore(h,i),a.push(h)}this.shadows=a}}else this.destroyShadows();return this},n.prototype.show=function(t){return this.attr({visibility:t?"inherit":"visible"})},n.prototype.strokeSetter=function(t,e,r){this[e]=t,this.stroke&&this["stroke-width"]?(n.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke?(r.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},n.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var t=this.getStyle("stroke-width"),e=0;if(t.indexOf("px")===t.length-2)e=T(t);else if(""!==t){var n=a.createElementNS(c,"rect");p(n,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(n),e=n.getBBox().width,n.parentNode.removeChild(n)}return e},n.prototype.symbolAttr=function(t){var e=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach((function(n){e[n]=j(t[n],e[n])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},n.prototype.textSetter=function(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))},n.prototype.titleSetter=function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=a.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(a.createTextNode(String(j(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},n.prototype.toFront=function(){var t=this.element;return t.parentNode.appendChild(t),this},n.prototype.translate=function(t,e){return this.attr({translateX:t,translateY:e})},n.prototype.updateShadows=function(t,e,n){var r=this.shadows;if(r)for(var a=r.length;a--;)n.call(r[a],"height"===t?Math.max(e-(r[a].cutHeight||0),0):"d"===t?this.d:e,t,r[a])},n.prototype.updateTransform=function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,r=this.scaleY,a=this.inverted,i=this.rotation,o=this.matrix,s=this.element;a&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],m(o)&&t.push("matrix("+o.join(",")+")"),a?t.push("rotate(90) scale(-1,1)"):i&&t.push("rotate("+i+" "+j(this.rotationOriginX,s.getAttribute("x"),0)+" "+j(this.rotationOriginY,s.getAttribute("y")||0)+")"),(m(n)||m(r))&&t.push("scale("+j(n,1)+" "+j(r,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},n.prototype.visibilitySetter=function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},n.prototype.xGetter=function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},n.prototype.zIndexSetter=function(t,e){var n=this.renderer,r=this.parentGroup,a=(r||n).element||n.box,i=this.element,o=!1;n=a===n.box;var s,u=this.added;if(m(t)?(i.setAttribute("data-z-index",t),t=+t,this[e]===t&&(u=!1)):m(this[e])&&i.removeAttribute("data-z-index"),this[e]=t,u){for((t=this.zIndex)&&r&&(r.handleZ=!0),s=(e=a.childNodes).length-1;0<=s&&!o;s--){u=(r=e[s]).getAttribute("data-z-index");var c=!m(u);r!==i&&(0>t&&c&&!n&&!s?(a.insertBefore(i,e[s]),o=!0):(T(u)<=t||c&&(!m(t)||0<=t))&&(a.insertBefore(i,e[s+1]||null),o=!0))}o||(a.insertBefore(i,e[n?3:0]||null),o=!0)}return o},n}()).prototype["stroke-widthSetter"]=n.prototype.strokeSetter,n.prototype.yGetter=n.prototype.xGetter,n.prototype.matrixSetter=n.prototype.rotationOriginXSetter=n.prototype.rotationOriginYSetter=n.prototype.rotationSetter=n.prototype.scaleXSetter=n.prototype.scaleYSetter=n.prototype.translateXSetter=n.prototype.translateYSetter=n.prototype.verticalAlignSetter=function(t,e){this[e]=t,this.doTransform=!0},e.SVGElement=n,e.SVGElement})),e(n,"parts/SvgRenderer.js",[n["parts/Color.js"],n["parts/Globals.js"],n["parts/SVGElement.js"],n["parts/Utilities.js"]],(function(t,e,n,r){var a=t.parse,i=r.addEvent,o=r.attr,s=r.createElement,u=r.css,c=r.defined,l=r.destroyObjectProperties,h=r.extend,f=r.isArray,p=r.isNumber,d=r.isObject,v=r.isString,m=r.merge,g=r.objectEach,y=r.pick,b=r.pInt,x=r.removeEvent,w=r.splat,O=r.uniqueKey,k=e.charts,S=e.deg2rad,E=e.doc,C=e.isFirefox,j=e.isMS,T=e.isWebKit;r=e.noop;var A=e.svg,_=e.SVG_NS,M=e.symbolSizes,N=e.win;t=e.SVGRenderer=function(){this.init.apply(this,arguments)},h(t.prototype,{Element:n,SVG_NS:_,init:function(t,e,n,r,a,s,c){var l,h=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"});c||h.css(this.getStyle(r)),r=h.element,t.appendChild(r),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(r,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=r,this.boxWrapper=h,this.alignedObjects=[],this.url=(C||T)&&E.getElementsByTagName("base").length?N.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(E.createTextNode("Created with Highcharts 8.1.0")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=a,this.styledMode=c,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),C&&t.getBoundingClientRect&&((e=function(){u(t,{left:0,top:0}),l=t.getBoundingClientRect(),u(t,{left:Math.ceil(l.left)-l.left+"px",top:Math.ceil(l.top)-l.top+"px"})})(),this.unSubPixelFix=i(N,"resize",e))},definition:function(t){var e=this;return function t(n,r){var a;return w(n).forEach((function(n){var i=e.createElement(n.tagName),o={};g(n,(function(t,e){"tagName"!==e&&"children"!==e&&"textContent"!==e&&(o[e]=t)})),i.attr(o),i.add(r||e.defs),n.textContent&&i.element.appendChild(E.createTextNode(n.textContent)),t(n.children||[],i),a=i})),a}(t)},getStyle:function(t){return this.style=h({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),l(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:r,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,r,a,i,o){var s,u,c=this,l=t.rotation,h=r?1:0,f=(n||r).length,p=f,d=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(E.createTextNode(t))},m=function(i,s){if("undefined"===typeof d[s=s||i])if(e.getSubStringLength)try{d[s]=a+e.getSubStringLength(0,r?s+1:s)}catch(u){}else c.getSpanWidth&&(v(o(n||r,i)),d[s]=a+c.getSpanWidth(t,e));return d[s]};t.rotation=0;var g=m(e.textContent.length);if(u=a+g>i){for(;h<=f;)p=Math.ceil((h+f)/2),r&&(s=o(r,p)),g=m(p,s&&s.length-1),h===f?h=f+1:g>i?f=p-1:h=p;0===f?v(""):n&&f===n.length-1||v(s||o(n||r,p))}return r&&r.splice(0,p),t.actualWidth=g,t.rotation=l,u},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,n,r=t.element,a=this,i=a.forExport,s=y(t.textStr,"").toString(),c=-1!==s.indexOf("<"),l=r.childNodes,h=o(r,"x"),f=t.styles,p=t.textWidth,d=f&&f.lineHeight,v=f&&f.textOutline,m=f&&"ellipsis"===f.textOverflow,x=f&&"nowrap"===f.whiteSpace,w=f&&f.fontSize,O=l.length;f=p&&!t.added&&this.box;var k=function(t){var e;return a.styledMode||(e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:w||a.style.fontSize||12),d?b(d):a.fontMetrics(e,t.getAttribute("style")?t:r).h},S=function(t,e){return g(a.escapes,(function(n,r){e&&-1!==e.indexOf(n)||(t=t.toString().replace(new RegExp(n,"g"),r))})),t},C=function(t,e){var n=t.indexOf("<");if(-1!==(n=(t=t.substring(n,t.indexOf(">")-n)).indexOf(e+"="))&&(n=n+e.length+1,'"'===(e=t.charAt(n))||"'"===e))return(t=t.substring(n+1)).substring(0,t.indexOf(e))},j=/<br.*?>/g,T=[s,m,x,d,v,w,p].join();if(T!==t.textCache){for(t.textCache=T;O--;)r.removeChild(l[O]);c||v||m||p||-1!==s.indexOf(" ")&&(!x||j.test(s))?(f&&f.appendChild(r),c?s=(s=a.styledMode?s.replace(/<(b|strong)>/g,'<span class="highcharts-strong">').replace(/<(i|em)>/g,'<span class="highcharts-emphasized">'):s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">')).replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(j):s=[s],(s=s.filter((function(t){return""!==t}))).forEach((function(s,c){var l=0,f=0,d=(s=s.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||")).split("|||");d.forEach((function(s){if(""!==s||1===d.length){var v,g,y={},b=E.createElementNS(a.SVG_NS,"tspan");if((v=C(s,"class"))&&o(b,"class",v),(v=C(s,"style"))&&(v=v.replace(/(;| |^)color([ :])/,"$1fill$2"),o(b,"style",v)),(g=C(s,"href"))&&!i&&(o(b,"onclick",'location.href="'+g+'"'),o(b,"class","highcharts-anchor"),a.styledMode||u(b,{cursor:"pointer"}))," "!==(s=S(s.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(b.appendChild(E.createTextNode(s)),l?y.dx=0:c&&null!==h&&(y.x=h),o(b,y),r.appendChild(b),!l&&n&&(!A&&i&&u(b,{display:"block"}),o(b,"dy",k(b))),p){var O=s.replace(/([^\^])-/g,"$1- ").split(" ");y=!x&&(1<d.length||c||1<O.length),g=0;var j=k(b);if(m)e=a.truncate(t,b,s,void 0,0,Math.max(0,p-parseInt(w||12,10)),(function(t,e){return t.substring(0,e)+"\u2026"}));else if(y)for(;O.length;)O.length&&!x&&0<g&&(b=E.createElementNS(_,"tspan"),o(b,{dy:j,x:h}),v&&o(b,"style",v),b.appendChild(E.createTextNode(O.join(" ").replace(/- /g,"-"))),r.appendChild(b)),a.truncate(t,b,null,O,0===g?f:0,p,(function(t,e){return O.slice(0,e).join(" ").replace(/- /g,"-")})),f=t.actualWidth,g++}l++}}})),n=n||r.childNodes.length})),m&&e&&t.attr("title",S(t.textStr,["&lt;","&gt;"])),f&&f.removeChild(r),v&&t.applyTextOutline&&t.applyTextOutline(v)):r.appendChild(E.createTextNode(S(s)))}},getContrast:function(t){return(t=a(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,a,o,s,u,c,l){var f=this.label(t,e,n,c,void 0,void 0,l,void 0,"button"),p=0,d=this.styledMode;if(f.attr(m({padding:8,r:2},a)),!d){var v=(a=m({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},a)).style;delete a.style;var g=(o=m(a,{fill:"#e6e6e6"},o)).style;delete o.style;var y=(s=m(a,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s)).style;delete s.style;var b=(u=m(a,{style:{color:"#cccccc"}},u)).style;delete u.style}return i(f.element,j?"mouseover":"mouseenter",(function(){3!==p&&f.setState(1)})),i(f.element,j?"mouseout":"mouseleave",(function(){3!==p&&f.setState(p)})),f.setState=function(t){1!==t&&(f.state=p=t),f.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),d||f.attr([a,o,s,u][t||0]).css([v,g,y,b][t||0])},d||f.attr(a).css(h({cursor:"default"},v)),f.on("click",(function(t){3!==p&&r.call(f,t)}))},crispLine:function(t,e,n){void 0===n&&(n="round");var r=t[0],a=t[1];return r[1]===a[1]&&(r[1]=a[1]=Math[n](r[1])-e%2/2),r[2]===a[2]&&(r[2]=a[2]=Math[n](r[2])+e%2/2),t},path:function(t){var e=this.styledMode?{}:{fill:"none"};return f(t)?e.d=t:d(t)&&h(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=d(t)?t:"undefined"===typeof t?{}:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,r,a,i){return d(t)?(e=(r=t).y,n=r.r,t=r.x):r={innerR:r,start:a,end:i},(t=this.symbol("arc",t,e,n,n,r)).r=n,t},rect:function(t,e,n,r,a,i){a=d(t)?t.r:a;var s=this.createElement("rect");return t=d(t)?t:"undefined"===typeof t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(r,0)},this.styledMode||("undefined"!==typeof i&&(t.strokeWidth=i,t=s.crisp(t)),t.fill="none"),a&&(t.r=a),s.rSetter=function(t,e,n){s.r=t,o(n,{rx:t,ry:t})},s.rGetter=function(){return s.r},s.attr(t)},setSize:function(t,e,n){var r=this.alignedObjects,a=r.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:y(n,!0)?void 0:0});a--;)r[a].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,n,r,a,o){var s={preserveAspectRatio:"none"},u=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},c=function(e){u(l.element,t),o.call(l,e)};1<arguments.length&&h(s,{x:e,y:n,width:r,height:a});var l=this.createElement("image").attr(s);return o?(u(l.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),s=new N.Image,i(s,"load",c),s.src=t,s.complete&&c({})):u(l.element,t),l},symbol:function(t,e,n,r,a,i){var o,l=this,f=/^url\((.*?)\)$/,p=f.test(t),d=!p&&(this.symbols[t]?t:"circle"),v=d&&this.symbols[d];if(v){"number"===typeof e&&(o=v.call(this.symbols,Math.round(e||0),Math.round(n||0),r,a,i));var m=this.path(o);l.styledMode||m.attr("fill","none"),h(m,{symbolName:d,x:e,y:n,width:r,height:a}),i&&h(m,i)}else if(p){var g=t.match(f)[1];(m=this.image(g)).imgwidth=y(M[g]&&M[g].width,i&&i.width),m.imgheight=y(M[g]&&M[g].height,i&&i.height);var b=function(){m.attr({width:m.width,height:m.height})};["width","height"].forEach((function(t){m[t+"Setter"]=function(t,e){var n={},r=this["img"+e],a="width"===e?"translateX":"translateY";this[e]=t,c(r)&&(i&&"within"===i.backgroundSize&&this.width&&this.height&&(r=Math.round(r*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(e,r),this.alignByTranslate||(n[a]=((this[e]||0)-r)/2,this.attr(n)))}})),c(e)&&m.attr({x:e,y:n}),m.isImg=!0,c(m.imgwidth)&&c(m.imgheight)?b():(m.attr({width:0,height:0}),s("img",{onload:function(){var t=k[l.chartIndex];0===this.width&&(u(this,{position:"absolute",top:"-999em"}),E.body.appendChild(this)),M[g]={width:this.width,height:this.height},m.imgwidth=this.width,m.imgheight=this.height,m.element&&b(),this.parentNode&&this.parentNode.removeChild(this),l.imgCount--,l.imgCount||!t||t.hasLoaded||t.onload()},src:g}),this.imgCount++)}return m},symbols:{circle:function(t,e,n,r){return this.arc(t+n/2,e+r/2,n/2,r/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},square:function(t,e,n,r){return[["M",t,e],["L",t+n,e],["L",t+n,e+r],["L",t,e+r],["Z"]]},triangle:function(t,e,n,r){return[["M",t+n/2,e],["L",t+n,e+r],["L",t,e+r],["Z"]]},"triangle-down":function(t,e,n,r){return[["M",t,e],["L",t+n,e],["L",t+n/2,e+r],["Z"]]},diamond:function(t,e,n,r){return[["M",t+n/2,e],["L",t+n,e+r/2],["L",t+n/2,e+r],["L",t,e+r/2],["Z"]]},arc:function(t,e,n,r,a){var i=a.start,o=a.r||n,s=a.r||r||n,u=a.end-.001;n=a.innerR,r=y(a.open,.001>Math.abs(a.end-a.start-2*Math.PI));var l=Math.cos(i),h=Math.sin(i),f=Math.cos(u);return u=Math.sin(u),o=[["M",t+o*l,e+s*h],["A",o,s,0,i=y(a.longArc,.001>a.end-i-Math.PI?0:1),y(a.clockwise,1),t+o*f,e+s*u]],c(n)&&o.push(r?["M",t+n*f,e+n*u]:["L",t+n*f,e+n*u],["A",n,n,0,i,c(a.clockwise)?1-a.clockwise:0,t+n*l,e+n*h]),r||o.push(["Z"]),o},callout:function(t,e,n,r,a){var i=Math.min(a&&a.r||0,n,r),o=i+6,s=a&&a.anchorX;a=a&&a.anchorY;var u=[["M",t+i,e],["L",t+n-i,e],["C",t+n,e,t+n,e,t+n,e+i],["L",t+n,e+r-i],["C",t+n,e+r,t+n,e+r,t+n-i,e+r],["L",t+i,e+r],["C",t,e+r,t,e+r,t,e+r-i],["L",t,e+i],["C",t,e,t,e,t+i,e]];return s&&s>n?a>e+o&&a<e+r-o?u.splice(3,1,["L",t+n,a-6],["L",t+n+6,a],["L",t+n,a+6],["L",t+n,e+r-i]):u.splice(3,1,["L",t+n,r/2],["L",s,a],["L",t+n,r/2],["L",t+n,e+r-i]):s&&0>s?a>e+o&&a<e+r-o?u.splice(7,1,["L",t,a+6],["L",t-6,a],["L",t,a-6],["L",t,e+i]):u.splice(7,1,["L",t,r/2],["L",s,a],["L",t,r/2],["L",t,e+i]):a&&a>r&&s>t+o&&s<t+n-o?u.splice(5,1,["L",s+6,e+r],["L",s,e+r+6],["L",s-6,e+r],["L",t+i,e+r]):a&&0>a&&s>t+o&&s<t+n-o&&u.splice(1,1,["L",s-6,e],["L",s,e-6],["L",s+6,e],["L",n-i,e]),u}},clipRect:function(t,e,n,r){var a=O()+"-",i=this.createElement("clipPath").attr({id:a}).add(this.defs);return(t=this.rect(t,e,n,r,0).add(i)).id=a,t.clipPath=i,t.count=0,t},text:function(t,e,n,r){var a={};return!r||!this.allowHTML&&this.forExport?(a.x=Math.round(e||0),n&&(a.y=Math.round(n)),c(t)&&(a.text=t),t=this.createElement("text").attr(a),r||(t.xSetter=function(t,e,n){var r,a=n.getElementsByTagName("tspan"),i=n.getAttribute(e);for(r=0;r<a.length;r++){var o=a[r];o.getAttribute(e)===i&&o.setAttribute(e,t)}n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=!this.styledMode&&/px/.test(t)||!N.getComputedStyle?t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize:e&&n.prototype.getStyle.call(e,"font-size"),{h:e=24>(t=/px/.test(t)?b(t):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var r=t;return e&&n&&(r=Math.max(r*Math.cos(e*S),4)),{x:-t/3*Math.sin(e*S),y:r}},pathToSegments:function(t){for(var e=[],n=[],r={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},a=0;a<t.length;a++)v(n[0])&&p(t[a])&&n.length===r[n[0].toUpperCase()]&&t.splice(a,0,n[0].replace("M","L").replace("m","l")),"string"===typeof t[a]&&(n.length&&e.push(n.slice(0)),n.length=0),n.push(t[a]);return e.push(n.slice(0)),e},label:function(t,e,r,a,i,o,s,u,l){var f,d,v,g,y,b,w,O,k=this,S=k.styledMode,E=k.g("button"!==l&&"label"),C=E.text=k.text("",0,0,s).attr({zIndex:1}),j={width:0,height:0,x:0,y:0},T=j,A=0,_=3,M=0,N={},I=/^url\((.*?)\)$/.test(a),D=S||I,R=function(){return S?f.strokeWidth()%2/2:(w?parseInt(w,10):0)%2/2};l&&E.addClass("highcharts-"+l);var P=function(){var t=C.element.style,e={};T=p(d)&&p(v)&&!b||!c(C.textStr)?j:C.getBBox(),E.width=(d||T.width||0)+2*_+M,E.height=(v||T.height||0)+2*_,O=_+Math.min(k.fontMetrics(t&&t.fontSize,C).b,T.height||1/0),D&&(f||(E.box=f=k.symbols[a]||I?k.symbol(a):k.rect(),f.addClass(("button"===l?"":"highcharts-label-box")+(l?" highcharts-"+l+"-box":"")),f.add(E),t=R(),e.x=t,e.y=(u?-O:0)+t),e.width=Math.round(E.width),e.height=Math.round(E.height),f.attr(h(e,N)),N={})},F=function(){var t=M+_,e=u?0:O;c(d)&&T&&("center"===b||"right"===b)&&(t+={center:.5,right:1}[b]*(d-T.width)),t===C.x&&e===C.y||(C.attr("x",t),C.hasBoxWidthChanged&&(T=C.getBBox(!0),P()),"undefined"!==typeof e&&C.attr("y",e)),C.x=t,C.y=e},L=function(t,e){f?f.attr(t,e):N[t]=e};E.onAdd=function(){C.add(E),E.attr({text:t||0===t?t:"",x:e,y:r}),f&&c(i)&&E.attr({anchorX:i,anchorY:o})},E.widthSetter=function(t){d=p(t)?t:null},E.heightSetter=function(t){v=t},E["text-alignSetter"]=function(t){b=t},E.paddingSetter=function(t){c(t)&&t!==_&&(_=E.padding=t,F())},E.paddingLeftSetter=function(t){c(t)&&t!==M&&(M=t,F())},E.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==A&&(A=t,T&&E.attr({x:g}))},E.textSetter=function(t){"undefined"!==typeof t&&C.attr({text:t}),P(),F()},E["stroke-widthSetter"]=function(t,e){t&&(D=!0),w=this["stroke-width"]=t,L(e,t)},S?E.rSetter=function(t,e){L(e,t)}:E.strokeSetter=E.fillSetter=E.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(D=!0),E[e]=t),L(e,t)},E.anchorXSetter=function(t,e){i=E.anchorX=t,L(e,Math.round(t)-R()-g)},E.anchorYSetter=function(t,e){o=E.anchorY=t,L(e,t-y)},E.xSetter=function(t){E.x=t,A&&(t-=A*((d||T.width)+2*_),E["forceAnimate:x"]=!0),g=Math.round(t),E.attr("translateX",g)},E.ySetter=function(t){y=E.y=Math.round(t),E.attr("translateY",y)},E.isLabel=!0;var z=E.css;return s={css:function(t){if(t){var e={};t=m(t),E.textProps.forEach((function(n){"undefined"!==typeof t[n]&&(e[n]=t[n],delete t[n])})),C.css(e);var n="fontSize"in e||"fontWeight"in e;("width"in e||n)&&(P(),n&&F())}return z.call(E,t)},getBBox:function(){return{width:T.width+2*_,height:T.height+2*_,x:T.x-_,y:T.y-_}},destroy:function(){x(E.element,"mouseenter"),x(E.element,"mouseleave"),C&&C.destroy(),f&&(f=f.destroy()),n.prototype.destroy.call(E),E=k=C=P=F=L=null}},E.on=function(t,e){var r=C&&"SPAN"===C.element.tagName?C:void 0;if(r){var a=function(n){("mouseenter"===t||"mouseleave"===t)&&n.relatedTarget instanceof Element&&(E.element.contains(n.relatedTarget)||r.element.contains(n.relatedTarget))||e.call(E.element,n)};r.on(t,a)}return n.prototype.on.call(E,t,a||e),E},S||(s.shadow=function(t){return t&&(P(),f&&f.shadow(t)),E}),h(E,s)}}),e.Renderer=t})),e(n,"parts/Html.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.attr,r=e.createElement,a=e.css,i=e.defined,o=e.extend,s=e.pick,u=e.pInt,c=t.isFirefox,l=t.isMS,h=t.isWebKit,f=t.SVGElement;e=t.SVGRenderer;var p=t.win;o(f.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,n=s(e&&t.width,void 0);if(e){delete t.width,this.textWidth=n;var r=!0}return t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=o(this.styles,t),a(this.element,t),r&&this.htmlUpdateTransform(),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,r=this.translateY||0,o=this.x||0,s=this.y||0,c=this.textAlign||"left",l={left:0,center:.5,right:1}[c],h=this.styles,f=h&&h.whiteSpace;if(a(e,{marginLeft:n,marginTop:r}),!t.styledMode&&this.shadows&&this.shadows.forEach((function(t){a(t,{marginLeft:n+1,marginTop:r+1})})),this.inverted&&[].forEach.call(e.childNodes,(function(n){t.invertChild(n,e)})),"SPAN"===e.tagName){h=this.rotation;var p,d=this.textWidth&&u(this.textWidth),v=[h,c,e.innerHTML,this.textWidth,this.textAlign].join();(p=d!==this.oldTextWidth)&&!(p=d>this.oldTextWidth)&&((p=this.textPxLength)||(a(e,{width:"",whiteSpace:f||"nowrap"}),p=e.offsetWidth),p=p>d),p&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)?(a(e,{width:d+"px",display:"block",whiteSpace:f||"normal"}),this.oldTextWidth=d,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,v!==this.cTT&&(f=t.fontMetrics(e.style.fontSize,e).b,!i(h)||h===(this.oldRotation||0)&&c===this.oldAlign||this.setSpanRotation(h,l,f),this.getSpanCorrection(!i(h)&&this.textPxLength||e.offsetWidth,f,l,h,c)),a(e,{left:o+(this.xCorr||0)+"px",top:s+(this.yCorr||0)+"px"}),this.cTT=v,this.oldRotation=h,this.oldAlign=c}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},i=this.renderer.getTransformKey();r[i]=r.transform="rotate("+t+"deg)",r[i+(c?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",a(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),o(e.prototype,{getTransformKey:function(){return l&&!/Edge/.test(p.navigator.userAgent)?"-ms-transform":h?"-webkit-transform":c?"MozTransform":p.opera?"-o-transform":""},html:function(t,e,a){var i=this.createElement("span"),u=i.element,c=i.renderer,l=c.isSVG,h=function(t,e){["opacity","visibility"].forEach((function(n){t[n+"Setter"]=function(r,a,i){var o=t.div?t.div.style:e;f.prototype[n+"Setter"].call(this,r,a,i),o&&(o[a]=r)}})),t.addedSetters=!0};return i.textSetter=function(t){t!==u.innerHTML&&(delete this.bBox,delete this.oldTextWidth),this.textStr=t,u.innerHTML=s(t,""),i.doTransform=!0},l&&h(i,i.element.style),i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),i[e]=t,i.doTransform=!0},i.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},i.attr({text:t,x:Math.round(e),y:Math.round(a)}).css({position:"absolute"}),c.styledMode||i.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),u.style.whiteSpace="nowrap",i.css=i.htmlCss,l&&(i.add=function(t){var e=c.box.parentNode,a=[];if(this.parentGroup=t){var s=t.div;if(!s){for(;t;)a.push(t),t=t.parentGroup;a.reverse().forEach((function(t){function u(e,n){t[n]=e,"translateX"===n?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var c=n(t.element,"class"),l=(s=t.div=t.div||r("div",c?{className:c}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},s||e)).style;o(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(s),on:function(){return a[0].div&&i.on.apply({element:a[0].div},arguments),t},translateXSetter:u,translateYSetter:u}),t.addedSetters||h(t)}))}}else s=e;return s.appendChild(u),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}})})),e(n,"parts/Tick.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.clamp,r=e.correctFloat,a=e.defined,i=e.destroyObjectProperties,o=e.extend,s=e.fireEvent,u=e.isNumber,c=e.merge,l=e.objectEach,h=e.pick,f=t.deg2rad;return e=function(){function t(t,e,n,r,a){this.isNewLabel=this.isNew=!0,this.axis=t,this.pos=e,this.type=n||"",this.parameters=a||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,s(this,"init"),n||r||this.addLabel()}return t.prototype.addLabel=function(){var t=this,e=t.axis,n=e.options,i=e.chart,s=e.categories,u=e.logarithmic,c=e.names,l=t.pos,f=h(t.options&&t.options.labels,n.labels),p=e.tickPositions,d=l===p[0],v=l===p[p.length-1];c=this.parameters.category||(s?h(s[l],c[l],l):l);var m,g,y=t.label;if(s=(!f.step||1===f.step)&&1===e.tickInterval,p=p.info,e.dateTime&&p)var b=i.time.resolveDTLFormat(n.dateTimeLabelFormats[!n.grid&&p.higherRanks[l]||p.unitName]),x=b.main;t.isFirst=d,t.isLast=v,t.formatCtx={axis:e,chart:i,isFirst:d,isLast:v,dateTimeLabelFormat:x,tickPositionInfo:p,value:u?r(u.lin2log(c)):c,pos:l},n=e.labelFormatter.call(t.formatCtx,this.formatCtx),(g=b&&b.list)&&(t.shortenLabel=function(){for(m=0;m<g.length;m++)if(y.attr({text:e.labelFormatter.call(o(t.formatCtx,{dateTimeLabelFormat:g[m]}))}),y.getBBox().width<e.getSlotWidth(t)-2*h(f.padding,5))return;y.attr({text:""})}),s&&e._addedPlotLB&&e.isXAxis&&t.moveLabel(n,f),a(y)||t.movedLabel?y&&y.textStr!==n&&!s&&(!y.textWidth||f.style&&f.style.width||y.styles.width||y.css({width:null}),y.attr({text:n}),y.textPxLength=y.getBBox().width):(t.label=y=t.createLabel({x:0,y:0},n,f),t.rotation=0)},t.prototype.createLabel=function(t,e,n){var r=this.axis,i=r.chart;return(t=a(e)&&n.enabled?i.renderer.text(e,t.x,t.y,n.useHTML).add(r.labelGroup):null)&&(i.styledMode||t.css(c(n.style)),t.textPxLength=t.getBBox().width),t},t.prototype.destroy=function(){i(this,this.axis)},t.prototype.getPosition=function(t,e,a,i){var o=this.axis,u=o.chart,c=i&&u.oldChartHeight||u.chartHeight;return(t={x:t?r(o.translate(e+a,null,null,i)+o.transB):o.left+o.offset+(o.opposite?(i&&u.oldChartWidth||u.chartWidth)-o.right-o.left:0),y:t?c-o.bottom+o.offset-(o.opposite?o.height:0):r(c-o.translate(e+a,null,null,i)-o.transB)}).y=n(t.y,-1e5,1e5),s(this,"afterGetPosition",{pos:t}),t},t.prototype.getLabelPosition=function(t,e,n,r,i,o,u,c){var l=this.axis,h=l.transA,p=l.isLinked&&l.linkedParent?l.linkedParent.reversed:l.reversed,d=l.staggerLines,v=l.tickRotCorr||{x:0,y:0},m=i.y,g=r||l.reserveSpaceDefault?0:-l.labelOffset*("center"===l.labelAlign?.5:1),y={};return a(m)||(m=0===l.side?n.rotation?-8:-n.getBBox().height:2===l.side?v.y+8:Math.cos(n.rotation*f)*(v.y-n.getBBox(!1,0).height/2)),t=t+i.x+g+v.x-(o&&r?o*h*(p?-1:1):0),e=e+m-(o&&!r?o*h*(p?1:-1):0),d&&(n=u/(c||1)%d,l.opposite&&(n=d-n-1),e+=l.labelOffset/d*n),y.x=t,y.y=Math.round(e),s(this,"afterGetLabelPosition",{pos:y,tickmarkOffset:o,index:u}),y},t.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},t.prototype.getMarkPath=function(t,e,n,r,a,i){return i.crispLine([["M",t,e],["L",t+(a?0:-n),e+(a?n:0)]],r)},t.prototype.handleOverflow=function(t){var e=this.axis,n=e.options.labels,r=t.x,a=e.chart.chartWidth,i=e.chart.spacing,o=h(e.labelLeft,Math.min(e.pos,i[3]));i=h(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,a-i[1]));var s,u=this.label,c=this.rotation,l={left:0,center:.5,right:1}[e.labelAlign||u.attr("align")],p=u.getBBox().width,d=e.getSlotWidth(this),v=d,m=1,g={};c||"justify"!==h(n.overflow,"justify")?0>c&&r-l*p<o?s=Math.round(r/Math.cos(c*f)-o):0<c&&r+l*p>i&&(s=Math.round((a-r)/Math.cos(c*f))):(a=r+(1-l)*p,r-l*p<o?v=t.x+v*(1-l)-o:a>i&&(v=i-t.x+v*l,m=-1),(v=Math.min(d,v))<d&&"center"===e.labelAlign&&(t.x+=m*(d-v-l*(d-Math.min(p,v)))),(p>v||e.autoRotation&&(u.styles||{}).width)&&(s=v)),s&&(this.shortenLabel?this.shortenLabel():(g.width=Math.floor(s)+"px",(n.style||{}).textOverflow||(g.textOverflow="ellipsis"),u.css(g)))},t.prototype.moveLabel=function(t,e){var n=this,r=n.label,a=!1,i=n.axis,o=i.reversed,s=i.chart.inverted;if(r&&r.textStr===t?(n.movedLabel=r,a=!0,delete n.label):l(i.ticks,(function(e){a||e.isNew||e===n||!e.label||e.label.textStr!==t||(n.movedLabel=e.label,a=!0,e.labelPos=n.movedLabel.xy,delete e.label)})),!a&&(n.labelPos||r)){var u=n.labelPos||r.xy;r=s?u.x:o?0:i.width+i.left,i=s?o?i.width+i.left:0:u.y,n.movedLabel=n.createLabel({x:r,y:i},t,e),n.movedLabel&&n.movedLabel.attr({opacity:0})}},t.prototype.render=function(t,e,n){var r=this.axis,a=r.horiz,i=this.pos,o=h(this.tickmarkOffset,r.tickmarkOffset);o=(i=this.getPosition(a,i,o,e)).x;var u=i.y;r=a&&o===r.pos+r.len||!a&&u===r.pos?-1:1,n=h(n,1),this.isActive=!0,this.renderGridLine(e,n,r),this.renderMark(i,n,r),this.renderLabel(i,e,n,t),this.isNew=!1,s(this,"afterRender")},t.prototype.renderGridLine=function(t,e,n){var r=this.axis,a=r.options,i=this.gridLine,o={},s=this.pos,u=this.type,c=h(this.tickmarkOffset,r.tickmarkOffset),l=r.chart.renderer,f=u?u+"Grid":"grid",p=a[f+"LineWidth"],d=a[f+"LineColor"];a=a[f+"LineDashStyle"],i||(r.chart.styledMode||(o.stroke=d,o["stroke-width"]=p,a&&(o.dashstyle=a)),u||(o.zIndex=1),t&&(e=0),this.gridLine=i=l.path().attr(o).addClass("highcharts-"+(u?u+"-":"")+"grid-line").add(r.gridGroup)),i&&(n=r.getPlotLinePath({value:s+c,lineWidth:i.strokeWidth()*n,force:"pass",old:t}))&&i[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},t.prototype.renderMark=function(t,e,n){var r=this.axis,a=r.options,i=r.chart.renderer,o=this.type,s=o?o+"Tick":"tick",u=r.tickSize(s),c=this.mark,l=!c,f=t.x;t=t.y;var p=h(a[s+"Width"],!o&&r.isXAxis?1:0);a=a[s+"Color"],u&&(r.opposite&&(u[0]=-u[0]),l&&(this.mark=c=i.path().addClass("highcharts-"+(o?o+"-":"")+"tick").add(r.axisGroup),r.chart.styledMode||c.attr({stroke:a,"stroke-width":p})),c[l?"attr":"animate"]({d:this.getMarkPath(f,t,u[0],c.strokeWidth()*n,r.horiz,i),opacity:e}))},t.prototype.renderLabel=function(t,e,n,r){var a=this.axis,i=a.horiz,o=a.options,s=this.label,c=o.labels,l=c.step;a=h(this.tickmarkOffset,a.tickmarkOffset);var f=!0,p=t.x;t=t.y,s&&u(p)&&(s.xy=t=this.getLabelPosition(p,t,s,i,c,a,r,l),this.isFirst&&!this.isLast&&!h(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!h(o.showLastLabel,1)?f=!1:!i||c.step||c.rotation||e||0===n||this.handleOverflow(t),l&&r%l&&(f=!1),f&&u(t.y)?(t.opacity=n,s[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(s.attr("y",-9999),this.isNewLabel=!0))},t.prototype.replaceMovedLabel=function(){var t=this.label,e=this.axis,n=e.reversed,r=this.axis.chart.inverted;if(t&&!this.isNew){var a=r?t.xy.x:n?e.left:e.width+e.left;n=r?n?e.width+e.top:e.top:t.xy.y,t.animate({x:a,y:n,opacity:0},void 0,t.destroy),delete this.label}e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},t}(),t.Tick=e,t.Tick})),e(n,"parts/Time.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.defined,r=e.error,a=e.extend,i=e.isObject,o=e.merge,s=e.objectEach,u=e.pad,c=e.pick,l=e.splat,h=e.timeUnits,f=t.win;return e=function(){function e(t){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=f.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(t)}return e.prototype.get=function(t,e){if(this.variableTimezone||this.timezoneOffset){var n=e.getTime(),r=n-this.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(n),t}return this.useUTC?e["getUTC"+t]():e["get"+t]()},e.prototype.set=function(t,e,n){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t)return e["setUTC"+t](n);var r=this.getTimezoneOffset(e);return r=e.getTime()-r,e.setTime(r),e["setUTC"+t](n),t=this.getTimezoneOffset(e),r=e.getTime()+t,e.setTime(r)}return this.useUTC?e["setUTC"+t](n):e["set"+t](n)},e.prototype.update=function(t){var e=c(t&&t.useUTC,!0);this.options=t=o(!0,this.options||{},t),this.Date=t.Date||f.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone)},e.prototype.makeTime=function(e,n,r,a,i,o){if(this.useUTC){var s=this.Date.UTC.apply(0,arguments),u=this.getTimezoneOffset(s);s+=u;var l=this.getTimezoneOffset(s);u!==l?s+=l-u:u-36e5!==this.getTimezoneOffset(s-36e5)||t.isSafari||(s-=36e5)}else s=new this.Date(e,n,c(r,1),c(a,0),c(i,0),c(o,0)).getTime();return s},e.prototype.timezoneOffsetFunction=function(){var t=this,e=this.options,n=f.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t.toString()).getTimezoneOffset()};if(e.timezone){if(n)return function(t){return 6e4*-n.tz(t,e.timezone).utcOffset()};r(25)}return this.useUTC&&e.getTimezoneOffset?function(t){return 6e4*e.getTimezoneOffset(t.valueOf())}:function(){return 6e4*(t.timezoneOffset||0)}},e.prototype.dateFormat=function(e,r,i){var o;if(!n(r)||isNaN(r))return(null===(o=t.defaultOptions.lang)||void 0===o?void 0:o.invalidDate)||"";e=c(e,"%Y-%m-%d %H:%M:%S");var l=this;o=new this.Date(r);var h=this.get("Hours",o),f=this.get("Day",o),p=this.get("Date",o),d=this.get("Month",o),v=this.get("FullYear",o),m=t.defaultOptions.lang,g=null===m||void 0===m?void 0:m.weekdays,y=null===m||void 0===m?void 0:m.shortWeekdays;return o=a({a:y?y[f]:g[f].substr(0,3),A:g[f],d:u(p),e:u(p,2," "),w:f,b:m.shortMonths[d],B:m.months[d],m:u(d+1),o:d+1,y:v.toString().substr(2,2),Y:v,H:u(h),k:h,I:u(h%12||12),l:h%12||12,M:u(this.get("Minutes",o)),p:12>h?"AM":"PM",P:12>h?"am":"pm",S:u(o.getSeconds()),L:u(Math.floor(r%1e3),3)},t.dateFormats),s(o,(function(t,n){for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"===typeof t?t.call(l,r):t)})),i?e.substr(0,1).toUpperCase()+e.substr(1):e},e.prototype.resolveDTLFormat=function(t){return i(t,!0)?t:{main:(t=l(t))[0],from:t[1],to:t[2]}},e.prototype.getTimeTicks=function(t,e,r,i){var o,s=this,u=[],l={},f=new s.Date(e),p=t.unitRange,d=t.count||1;if(i=c(i,1),n(e)){if(s.set("Milliseconds",f,p>=h.second?0:d*Math.floor(s.get("Milliseconds",f)/d)),p>=h.second&&s.set("Seconds",f,p>=h.minute?0:d*Math.floor(s.get("Seconds",f)/d)),p>=h.minute&&s.set("Minutes",f,p>=h.hour?0:d*Math.floor(s.get("Minutes",f)/d)),p>=h.hour&&s.set("Hours",f,p>=h.day?0:d*Math.floor(s.get("Hours",f)/d)),p>=h.day&&s.set("Date",f,p>=h.month?1:Math.max(1,d*Math.floor(s.get("Date",f)/d))),p>=h.month){s.set("Month",f,p>=h.year?0:d*Math.floor(s.get("Month",f)/d));var v=s.get("FullYear",f)}p>=h.year&&s.set("FullYear",f,v-v%d),p===h.week&&(v=s.get("Day",f),s.set("Date",f,s.get("Date",f)-v+i+(v<i?-7:0))),v=s.get("FullYear",f),i=s.get("Month",f);var m=s.get("Date",f),g=s.get("Hours",f);for(e=f.getTime(),s.variableTimezone&&(o=r-e>4*h.month||s.getTimezoneOffset(e)!==s.getTimezoneOffset(r)),e=f.getTime(),f=1;e<r;)u.push(e),e=p===h.year?s.makeTime(v+f*d,0):p===h.month?s.makeTime(v,i+f*d):!o||p!==h.day&&p!==h.week?o&&p===h.hour&&1<d?s.makeTime(v,i,m,g+f*d):e+p*d:s.makeTime(v,i,m+f*d*(p===h.day?1:7)),f++;u.push(e),p<=h.hour&&1e4>u.length&&u.forEach((function(t){0===t%18e5&&"000000000"===s.dateFormat("%H%M%S%L",t)&&(l[t]="day")}))}return u.info=a(t,{higherRanks:l,totalRange:p*d}),u},e.defaultOptions={Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},e}(),t.Time=e,t.Time})),e(n,"parts/Options.js",[n["parts/Globals.js"],n["parts/Time.js"],n["parts/Color.js"],n["parts/Utilities.js"]],(function(t,e,n,r){n=n.parse;var a=r.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:e.defaultOptions,chart:{styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:n("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=a(!0,t.defaultOptions,e),(e.time||e.global)&&t.time.update(a(t.defaultOptions.global,t.defaultOptions.time,e.global,e.time)),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new e(a(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,r){return t.time.dateFormat(e,n,r)}})),e(n,"parts/Axis.js",[n["parts/Color.js"],n["parts/Globals.js"],n["parts/Tick.js"],n["parts/Utilities.js"]],(function(t,e,n,r){var a=r.addEvent,i=r.animObject,o=r.arrayMax,s=r.arrayMin,u=r.clamp,c=r.correctFloat,l=r.defined,h=r.destroyObjectProperties,f=r.error,p=r.extend,d=r.fireEvent,v=r.format,m=r.getMagnitude,g=r.isArray,y=r.isFunction,b=r.isNumber,x=r.isString,w=r.merge,O=r.normalizeTickInterval,k=r.objectEach,S=r.pick,E=r.relativeLength,C=r.removeEvent,j=r.splat,T=r.syncTimeout,A=e.defaultOptions,_=e.deg2rad;return r=function(){function r(t,e){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.oldMin=this.oldMax=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(t,e)}return r.prototype.init=function(t,e){var n=e.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!n:n,r.isXAxis=n,r.coll=r.coll||(n?"xAxis":"yAxis"),d(this,"init",{userOptions:e}),r.opposite=e.opposite,r.side=e.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(e);var i=this.options,o=i.type;r.labelFormatter=i.labels.formatter||r.defaultLabelFormatter,r.userOptions=e,r.minPixelPadding=0,r.reversed=i.reversed,r.visible=!1!==i.visible,r.zoomEnabled=!1!==i.zoomEnabled,r.hasNames="category"===o||!0===i.categories,r.categories=i.categories||r.hasNames,r.names||(r.names=[],r.names.keys={}),r.plotLinesAndBandsGroups={},r.positiveValuesOnly=!(!r.logarithmic||i.allowNegativeLog),r.isLinked=l(i.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=i.minRange||i.maxZoom,r.range=i.range,r.offset=i.offset||0,r.max=null,r.min=null,r.crosshair=S(i.crosshair,j(t.options.tooltip.crosshairs)[n?0:1],!1),e=r.options.events,-1===t.axes.indexOf(r)&&(n?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&n&&"undefined"===typeof r.reversed&&(r.reversed=!0),r.labelRotation=r.options.labels.rotation,k(e,(function(t,e){y(t)&&a(r,e,t)})),d(this,"afterInit")},r.prototype.setOptions=function(t){this.options=w(r.defaultOptions,"yAxis"===this.coll&&r.defaultYAxisOptions,[r.defaultTopAxisOptions,r.defaultRightAxisOptions,r.defaultBottomAxisOptions,r.defaultLeftAxisOptions][this.side],w(A[this.coll],t)),d(this,"afterSetOptions",{userOptions:t})},r.prototype.defaultLabelFormatter=function(){var t=this.axis,e=this.value,n=t.chart.time,r=t.categories,a=this.dateTimeLabelFormat,i=A.lang,o=i.numericSymbols;i=i.numericSymbolMagnitude||1e3;var s=o&&o.length,u=t.options.labels.format;t=t.logarithmic?Math.abs(e):t.tickInterval;var c=this.chart,l=c.numberFormatter;if(u)var h=v(u,this,c);else if(r)h=e;else if(a)h=n.dateFormat(a,e);else if(s&&1e3<=t)for(;s--&&"undefined"===typeof h;)t>=(n=Math.pow(i,s+1))&&0===10*e%n&&null!==o[s]&&0!==e&&(h=l(e/n,-1)+o[s]);return"undefined"===typeof h&&(h=1e4<=Math.abs(e)?l(e,-1):l(e,-1,void 0,"")),h},r.prototype.getSeriesExtremes=function(){var t,e=this,n=e.chart;d(this,"getSeriesExtremes",null,(function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.stacking&&e.stacking.buildStacks(),e.series.forEach((function(r){if(r.visible||!n.options.chart.ignoreHiddenSeries){var a=r.options,i=a.threshold;if(e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=i&&(i=null),e.isXAxis){if((a=r.xData).length){var o=(t=r.getXExtremes(a)).min,s=t.max;b(o)||o instanceof Date||(a=a.filter(b),o=(t=r.getXExtremes(a)).min,s=t.max),a.length&&(e.dataMin=Math.min(S(e.dataMin,o),o),e.dataMax=Math.max(S(e.dataMax,s),s))}}else r=r.applyExtremes(),b(r.dataMin)&&(o=r.dataMin,e.dataMin=Math.min(S(e.dataMin,o),o)),b(r.dataMax)&&(s=r.dataMax,e.dataMax=Math.max(S(e.dataMax,s),s)),l(i)&&(e.threshold=i),(!a.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}}))})),d(this,"afterGetSeriesExtremes")},r.prototype.translate=function(t,e,n,r,a,i){var o=this.linkedParent||this,s=1,u=0,c=r?o.oldTransA:o.transA;r=r?o.oldMin:o.min;var l=o.minPixelPadding;return a=(o.isOrdinal||o.brokenAxis&&o.brokenAxis.hasBreaks||o.logarithmic&&a)&&o.lin2val,c||(c=o.transA),n&&(s*=-1,u=o.len),o.reversed&&(u-=(s*=-1)*(o.sector||o.len)),e?(t=(t*s+u-l)/c+r,a&&(t=o.lin2val(t))):(a&&(t=o.val2lin(t)),t=b(r)?s*(t-r)*c+u+s*l+(b(i)?c*i:0):void 0),t},r.prototype.toPixels=function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},r.prototype.toValue=function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},r.prototype.getPlotLinePath=function(t){function e(t,e,n){return("pass"!==g&&t<e||t>n)&&(g?t=u(t,e,n):o=!0),t}var n,r,a,i,o,s=this,c=s.chart,l=s.left,h=s.top,f=t.old,p=t.value,v=t.translatedValue,m=t.lineWidth,g=t.force,y=f&&c.oldChartHeight||c.chartHeight,x=f&&c.oldChartWidth||c.chartWidth,w=s.transB;return t={value:p,lineWidth:m,old:f,force:g,acrossPanes:t.acrossPanes,translatedValue:v},d(this,"getPlotLinePath",t,(function(t){v=S(v,s.translate(p,null,null,f)),v=u(v,-1e5,1e5),n=a=Math.round(v+w),r=i=Math.round(y-v-w),b(v)?s.horiz?(r=h,i=y-s.bottom,n=a=e(n,l,l+s.width)):(n=l,a=x-s.right,r=i=e(r,h,h+s.height)):(o=!0,g=!1),t.path=o&&!g?null:c.renderer.crispLine([["M",n,r],["L",a,i]],m||1)})),t.path},r.prototype.getLinearTickPositions=function(t,e,n){var r=c(Math.floor(e/t)*t);n=c(Math.ceil(n/t)*t);var a,i=[];if(c(r+t)===r&&(a=20),this.single)return[e];for(e=r;e<=n&&(i.push(e),(e=c(e+t,a))!==o);)var o=e;return i},r.prototype.getMinorTickInterval=function(){var t=this.options;return!0===t.minorTicks?S(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},r.prototype.getMinorTickPositions=function(){var t=this.options,e=this.tickPositions,n=this.minorTickInterval,r=[],a=this.pointRangePadding||0,i=this.min-a,o=(a=this.max+a)-i;if(o&&o/n<this.len/3){var s=this.logarithmic;if(s)this.paddedTicks.forEach((function(t,e,a){e&&r.push.apply(r,s.getLogTickPositions(n,a[e-1],a[e],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())r=r.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(n),i,a,t.startOfWeek));else for(t=i+(e[0]-i)%n;t<=a&&t!==r[0];t+=n)r.push(t)}return 0!==r.length&&this.trimTicks(r),r},r.prototype.adjustForMinRange=function(){var t,e,n,r,a=this.options,i=this.min,u=this.max,c=this.logarithmic;if(this.isXAxis&&"undefined"===typeof this.minRange&&!c&&(l(a.min)||l(a.max)?this.minRange=null:(this.series.forEach((function(a){for(r=a.xData,e=a.xIncrement?1:r.length-1;0<e;e--)n=r[e]-r[e-1],("undefined"===typeof t||n<t)&&(t=n)})),this.minRange=Math.min(5*t,this.dataMax-this.dataMin))),u-i<this.minRange){var h=this.dataMax-this.dataMin>=this.minRange,f=this.minRange,p=(f-u+i)/2;p=[i-p,S(a.min,i-p)],h&&(p[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),u=[(i=o(p))+f,S(a.max,i+f)],h&&(u[2]=c?c.log2lin(this.dataMax):this.dataMax),(u=s(u))-i<f&&(p[0]=u-f,p[1]=S(a.min,u-f),i=o(p))}this.min=i,this.max=u},r.prototype.getClosest=function(){var t;return this.categories?t=1:this.series.forEach((function(e){var n=e.closestPointRange,r=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&r&&(t=l(t)?Math.min(t,n):n)})),t},r.prototype.nameToX=function(t){var e=g(this.categories),n=e?this.categories:this.names,r=t.options.x;if(t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():e?n.indexOf(t.name):S(n.keys[t.name],-1)),-1===r){if(!e)var a=n.length}else a=r;return"undefined"!==typeof a&&(this.names[a]=t.name,this.names.keys[t.name]=a),a},r.prototype.updateNames=function(){var t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(n,r){if(n&&n.options&&"undefined"!==typeof n.name){var a=t.nameToX(n);"undefined"!==typeof a&&a!==n.x&&(n.x=a,e.xData[r]=a)}}))})))},r.prototype.setAxisTranslation=function(t){var e=this,n=e.max-e.min,r=e.axisPointRange||0,a=0,i=0,o=e.linkedParent,s=!!e.categories,u=e.transA,c=e.isXAxis;if(c||s||r){var l=e.getClosest();o?(a=o.minPointOffset,i=o.pointRangePadding):e.series.forEach((function(t){var n=s?1:c?S(t.options.pointRange,l,0):e.axisPointRange||0,o=t.options.pointPlacement;r=Math.max(r,n),e.single&&!s||(t=t.is("xrange")?!c:c,a=Math.max(a,t&&x(o)?0:n/2),i=Math.max(i,t&&"on"===o?0:n))})),o=e.ordinal&&e.ordinal.slope&&l?e.ordinal.slope/l:1,e.minPointOffset=a*=o,e.pointRangePadding=i*=o,e.pointRange=Math.min(r,e.single&&s?1:n),c&&(e.closestPointRange=l)}t&&(e.oldTransA=u),e.translationSlope=e.transA=u=e.staticScale||e.len/(n+i||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=u*a,d(this,"afterSetAxisTranslation")},r.prototype.minFromRange=function(){return this.max-this.range},r.prototype.setTickInterval=function(t){var e=this,n=e.chart,r=e.logarithmic,a=e.options,i=e.isXAxis,o=e.isLinked,s=a.maxPadding,u=a.minPadding,h=a.tickInterval,p=a.tickPixelInterval,v=e.categories,g=b(e.threshold)?e.threshold:null,y=e.softThreshold;e.dateTime||v||o||this.getTickAmount();var x=S(e.userMin,a.min),w=S(e.userMax,a.max);if(o){e.linkedParent=n[e.coll][a.linkedTo];var k=e.linkedParent.getExtremes();e.min=S(k.min,k.dataMin),e.max=S(k.max,k.dataMax),a.type!==e.linkedParent.options.type&&f(11,1,n)}else{if(!y&&l(g))if(e.dataMin>=g)k=g,u=0;else if(e.dataMax<=g){var E=g;s=0}e.min=S(x,k,e.dataMin),e.max=S(w,E,e.dataMax)}r&&(e.positiveValuesOnly&&!t&&0>=Math.min(e.min,S(e.dataMin,e.min))&&f(10,1,n),e.min=c(r.log2lin(e.min),16),e.max=c(r.log2lin(e.max),16)),e.range&&l(e.max)&&(e.userMin=e.min=x=Math.max(e.dataMin,e.minFromRange()),e.userMax=w=e.max,e.range=null),d(e,"foundExtremes"),e.beforePadding&&e.beforePadding(),e.adjustForMinRange(),!(v||e.axisPointRange||e.stacking&&e.stacking.usePercentage||o)&&l(e.min)&&l(e.max)&&(n=e.max-e.min)&&(!l(x)&&u&&(e.min-=n*u),!l(w)&&s&&(e.max+=n*s)),b(e.userMin)||(b(a.softMin)&&a.softMin<e.min&&(e.min=x=a.softMin),b(a.floor)&&(e.min=Math.max(e.min,a.floor))),b(e.userMax)||(b(a.softMax)&&a.softMax>e.max&&(e.max=w=a.softMax),b(a.ceiling)&&(e.max=Math.min(e.max,a.ceiling))),y&&l(e.dataMin)&&(g=g||0,!l(x)&&e.min<g&&e.dataMin>=g?e.min=e.options.minRange?Math.min(g,e.max-e.minRange):g:!l(w)&&e.max>g&&e.dataMax<=g&&(e.max=e.options.minRange?Math.max(g,e.min+e.minRange):g)),e.tickInterval=e.min===e.max||"undefined"===typeof e.min||"undefined"===typeof e.max?1:o&&!h&&p===e.linkedParent.options.tickPixelInterval?h=e.linkedParent.tickInterval:S(h,this.tickAmount?(e.max-e.min)/Math.max(this.tickAmount-1,1):void 0,v?1:(e.max-e.min)*p/Math.max(e.len,p)),i&&!t&&e.series.forEach((function(t){t.processData(e.min!==e.oldMin||e.max!==e.oldMax)})),e.setAxisTranslation(!0),e.beforeSetTickPositions&&e.beforeSetTickPositions(),e.ordinal&&(e.tickInterval=e.ordinal.postProcessTickInterval(e.tickInterval)),e.pointRange&&!h&&(e.tickInterval=Math.max(e.pointRange,e.tickInterval)),t=S(a.minTickInterval,e.dateTime&&e.closestPointRange),!h&&e.tickInterval<t&&(e.tickInterval=t),e.dateTime||e.logarithmic||h||(e.tickInterval=O(e.tickInterval,void 0,m(e.tickInterval),S(a.allowDecimals,.5>e.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(e.tickInterval=e.unsquish()),this.setTickPositions()},r.prototype.setTickPositions=function(){var t=this.options,e=t.tickPositions,n=this.getMinorTickInterval(),r=t.tickPositioner,a=this.hasVerticalPanning(),i="colorAxis"===this.coll,o=(i||!a)&&t.startOnTick;a=(i||!a)&&t.endOnTick,this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n&&this.tickInterval?this.tickInterval/5:n,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),this.tickPositions=n=e&&e.slice(),!n&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?n=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(n=[this.min,this.max],f(19,!1,this.chart)),n.length>this.len&&((n=[n[0],n.pop()])[0]===n[1]&&(n.length=1)),this.tickPositions=n,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=n=r),this.paddedTicks=n.slice(0),this.trimTicks(n,o,a),this.isLinked||(this.single&&2>n.length&&!this.categories&&!this.series.some((function(t){return t.is("heatmap")&&"between"===t.options.pointPlacement}))&&(this.min-=.5,this.max+=.5),e||r||this.adjustTickAmount()),d(this,"afterSetTickPositions")},r.prototype.trimTicks=function(t,e,n){var r=t[0],a=t[t.length-1],i=!this.isOrdinal&&this.minPointOffset||0;if(d(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==r)this.min=r;else for(;this.min-i>t[0];)t.shift();if(n)this.max=a;else for(;this.max+i<t[t.length-1];)t.pop();0===t.length&&l(r)&&!this.options.tickPositions&&t.push((a+r)/2)}},r.prototype.alignToOthers=function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.logarithmic||this.chart[this.coll].forEach((function(n){var r=n.options;r=[n.horiz?r.left:r.top,r.width,r.height,r.pane].join(),n.series.length&&(e[r]?t=!0:e[r]=1)})),t},r.prototype.getTickAmount=function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&!e&&this.len<n&&!this.isRadial&&!this.logarithmic&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},r.prototype.adjustTickAmount=function(){var t,e=this.options,n=this.tickInterval,r=this.tickPositions,a=this.tickAmount,i=this.finalTickAmt,o=r&&r.length,s=S(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(o<a){for(t=this.min;r.length<a;)r.length%2||t===s?r.push(c(r[r.length-1]+n)):r.unshift(c(r[0]-n));this.transA*=(o-1)/(a-1),this.min=e.startOnTick?r[0]:Math.min(this.min,r[0]),this.max=e.endOnTick?r[r.length-1]:Math.max(this.max,r[r.length-1])}else o>a&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(n=e=r.length;n--;)(3===i&&1===n%2||2>=i&&0<n&&n<e-1)&&r.splice(n,1);this.finalTickAmt=void 0}}},r.prototype.setScale=function(){var t,e=!1,n=!1;this.series.forEach((function(t){var r;e=e||t.isDirtyData||t.isDirty,n=n||(null===(r=t.xAxis)||void 0===r?void 0:r.isDirty)||!1})),this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),(t=this.len!==this.oldAxisLength)||e||n||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.stacking&&this.stacking.cleanStacks(),e&&this.panningState&&(this.panningState.isDirty=!0),d(this,"afterSetScale")},r.prototype.setExtremes=function(t,e,n,r,a){var i=this,o=i.chart;n=S(n,!0),i.series.forEach((function(t){delete t.kdTree})),a=p(a,{min:t,max:e}),d(i,"setExtremes",a,(function(){i.userMin=t,i.userMax=e,i.eventArgs=a,n&&o.redraw(r)}))},r.prototype.zoom=function(t,e){var n=this,r=this.dataMin,a=this.dataMax,i=this.options,o=Math.min(r,S(i.min,r)),s=Math.max(a,S(i.max,a));return d(this,"zoom",t={newMin:t,newMax:e},(function(t){var e=t.newMin,i=t.newMax;e===n.min&&i===n.max||(n.allowZoomOutside||(l(r)&&(e<o&&(e=o),e>s&&(e=s)),l(a)&&(i<o&&(i=o),i>s&&(i=s))),n.displayBtn="undefined"!==typeof e||"undefined"!==typeof i,n.setExtremes(e,i,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),t.zoomed},r.prototype.setAxisSize=function(){var t=this.chart,e=this.options,n=e.offsets||[0,0,0,0],r=this.horiz,a=this.width=Math.round(E(S(e.width,t.plotWidth-n[3]+n[1]),t.plotWidth)),i=this.height=Math.round(E(S(e.height,t.plotHeight-n[0]+n[2]),t.plotHeight)),o=this.top=Math.round(E(S(e.top,t.plotTop+n[0]),t.plotHeight,t.plotTop));e=this.left=Math.round(E(S(e.left,t.plotLeft+n[3]),t.plotWidth,t.plotLeft)),this.bottom=t.chartHeight-i-o,this.right=t.chartWidth-a-e,this.len=Math.max(r?a:i,0),this.pos=r?e:o},r.prototype.getExtremes=function(){var t=this.logarithmic;return{min:t?c(t.lin2log(this.min)):this.min,max:t?c(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},r.prototype.getThreshold=function(t){var e=this.logarithmic,n=e?e.lin2log(this.min):this.min;return e=e?e.lin2log(this.max):this.max,null===t||-1/0===t?t=n:1/0===t?t=e:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},r.prototype.autoLabelAlign=function(t){var e=(S(t,0)-90*this.side+720)%360;return d(this,"autoLabelAlign",t={align:"center"},(function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")})),t.align},r.prototype.tickSize=function(t){var e=this.options,n=e["tick"===t?"tickLength":"minorTickLength"],r=S(e["tick"===t?"tickWidth":"minorTickWidth"],"tick"===t&&this.isXAxis&&!this.categories?1:0);if(r&&n){"inside"===e[t+"Position"]&&(n=-n);var a=[n,r]}return d(this,"afterTickSize",t={tickSize:a}),t.tickSize},r.prototype.labelMetrics=function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},r.prototype.unsquish=function(){var t,e,n,r=this.options.labels,a=this.horiz,i=this.tickInterval,o=i,s=this.len/(((this.categories?1:0)+this.max-this.min)/i),u=r.rotation,h=this.labelMetrics(),f=Number.MAX_VALUE,p=this.max-this.min,d=function(t){var e=t/(s||1);return(e=1<e?Math.ceil(e):1)*i>p&&1/0!==t&&1/0!==s&&p&&(e=Math.ceil(p/i)),c(e*i)};return a?(n=!r.staggerLines&&!r.step&&(l(u)?[u]:s<S(r.autoRotationLimit,80)&&r.autoRotation))&&n.forEach((function(n){if(n===u||n&&-90<=n&&90>=n){var r=(e=d(Math.abs(h.h/Math.sin(_*n))))+Math.abs(n/360);r<f&&(f=r,t=n,o=e)}})):r.step||(o=d(h.h)),this.autoRotation=n,this.labelRotation=S(t,u),o},r.prototype.getSlotWidth=function(t){var e,n=this.chart,r=this.horiz,a=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=n.margin[3];if(t&&b(t.slotWidth))return t.slotWidth;if(r&&a&&2>(a.step||0))return a.rotation?0:(this.staggerLines||1)*this.len/i;if(!r){if(void 0!==(t=null===(e=null===a||void 0===a?void 0:a.style)||void 0===e?void 0:e.width))return parseInt(t,10);if(o)return o-n.spacing[3]}return.33*n.chartWidth},r.prototype.renderUnsquish=function(){var t=this.chart,e=t.renderer,n=this.tickPositions,r=this.ticks,a=this.options.labels,i=a&&a.style||{},o=this.horiz,s=this.getSlotWidth(),u=Math.max(1,Math.round(s-2*(a.padding||5))),c={},l=this.labelMetrics(),h=a.style&&a.style.textOverflow,f=0;if(x(a.rotation)||(c.rotation=a.rotation||0),n.forEach((function(t){(t=r[t]).movedLabel&&t.replaceMovedLabel(),t&&t.label&&t.label.textPxLength>f&&(f=t.label.textPxLength)})),this.maxLabelLength=f,this.autoRotation)f>u&&f>l.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(s){var p=u;if(!h){var d="clip";for(u=n.length;!o&&u--;){var v=n[u];(v=r[v].label)&&(v.styles&&"ellipsis"===v.styles.textOverflow?v.css({textOverflow:"clip"}):v.textPxLength>s&&v.css({width:s+"px"}),v.getBBox().height>this.len/n.length-(l.h-l.f)&&(v.specificTextOverflow="ellipsis"))}}}c.rotation&&(p=f>.5*t.chartHeight?.33*t.chartHeight:f,h||(d="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),n.forEach((function(t){var e=(t=r[t])&&t.label,n=i.width,a={};e&&(e.attr(c),t.shortenLabel?t.shortenLabel():p&&!n&&"nowrap"!==i.whiteSpace&&(p<e.textPxLength||"SPAN"===e.element.tagName)?(a.width=p+"px",h||(a.textOverflow=e.specificTextOverflow||d),e.css(a)):e.styles&&e.styles.width&&!a.width&&!n&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=c.rotation)}),this),this.tickRotCorr=e.rotCorr(l.b,this.labelRotation||0,0!==this.side)},r.prototype.hasData=function(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&l(this.min)&&l(this.max)},r.prototype.addTitle=function(t){var e,n=this.chart.renderer,r=this.horiz,a=this.opposite,i=this.options.title,o=this.chart.styledMode;this.axisTitle||((e=i.textAlign)||(e=(r?{low:"left",middle:"center",high:"right"}:{low:a?"right":"left",middle:"center",high:a?"left":"right"})[i.align]),this.axisTitle=n.text(i.text,0,0,i.useHTML).attr({zIndex:7,rotation:i.rotation||0,align:e}).addClass("highcharts-axis-title"),o||this.axisTitle.css(w(i.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),o||i.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)},r.prototype.generateTick=function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new n(this,t)},r.prototype.getOffset=function(){var t,e=this,n=e.chart,r=n.renderer,a=e.options,i=e.tickPositions,o=e.ticks,s=e.horiz,u=e.side,c=n.inverted&&!e.isZAxis?[1,0,3,2][u]:u,h=0,f=0,p=a.title,v=a.labels,m=0,g=n.axisOffset;n=n.clipOffset;var y=[-1,1,1,-1][u],b=a.className,x=e.axisParent,w=e.hasData();if(e.showAxis=t=w||S(a.showEmpty,!0),e.staggerLines=e.horiz&&v.staggerLines,e.axisGroup||(e.gridGroup=r.g("grid").attr({zIndex:a.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(b||"")).add(x),e.axisGroup=r.g("axis").attr({zIndex:a.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(b||"")).add(x),e.labelGroup=r.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels "+(b||"")).add(x)),w||e.isLinked?(i.forEach((function(t,n){e.generateTick(t,n)})),e.renderUnsquish(),e.reserveSpaceDefault=0===u||2===u||{1:"left",3:"right"}[u]===e.labelAlign,S(v.reserveSpace,"center"===e.labelAlign||null,e.reserveSpaceDefault)&&i.forEach((function(t){m=Math.max(o[t].getLabelSize(),m)})),e.staggerLines&&(m*=e.staggerLines),e.labelOffset=m*(e.opposite?-1:1)):k(o,(function(t,e){t.destroy(),delete o[e]})),p&&p.text&&!1!==p.enabled&&(e.addTitle(t),t&&!1!==p.reserveSpace)){e.titleOffset=h=e.axisTitle.getBBox()[s?"height":"width"];var O=p.offset;f=l(O)?0:S(p.margin,s?5:10)}e.renderLine(),e.offset=y*S(a.offset,g[u]?g[u]+(a.margin||0):0),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},r=0===u?-e.labelMetrics().h:2===u?e.tickRotCorr.y:0,f=Math.abs(m)+f,m&&(f=f-r+y*(s?S(v.y,e.tickRotCorr.y+8*y):v.x)),e.axisTitleMargin=S(O,f),e.getMaxLabelDimensions&&(e.maxLabelDimensions=e.getMaxLabelDimensions(o,i)),s=this.tickSize("tick"),g[u]=Math.max(g[u],e.axisTitleMargin+h+y*e.offset,f,i&&i.length&&s?s[0]+y*e.offset:0),a=a.offset?0:2*Math.floor(e.axisLine.strokeWidth()/2),n[c]=Math.max(n[c],a),d(this,"afterGetOffset")},r.prototype.getLinePath=function(t){var e=this.chart,n=this.opposite,r=this.offset,a=this.horiz,i=this.left+(n?this.width:0)+r;return r=e.chartHeight-this.bottom-(n?this.height:0)+r,n&&(t*=-1),e.renderer.crispLine([["M",a?this.left:i,a?r:this.top],["L",a?e.chartWidth-this.right:i,a?r:e.chartHeight-this.bottom]],t)},r.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},r.prototype.getTitlePosition=function(){var t=this.horiz,e=this.left,n=this.top,r=this.len,a=this.options.title,i=t?e:n,o=this.opposite,s=this.offset,u=a.x||0,c=a.y||0,l=this.axisTitle,h=this.chart.renderer.fontMetrics(a.style&&a.style.fontSize,l);return l=Math.max(l.getBBox(null,0).height-h.h-1,0),r={low:i+(t?0:r),middle:i+r/2,high:i+(t?r:0)}[a.align],e=(t?n+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+[-l,l,h.f,-l][this.side],t={x:t?r+u:e+(o?this.width:0)+s+u,y:t?e+c-(o?this.height:0)+s:r+c},d(this,"afterGetTitlePosition",{titlePosition:t}),t},r.prototype.renderMinorTick=function(t){var e=this.chart.hasRendered&&b(this.oldMin),r=this.minorTicks;r[t]||(r[t]=new n(this,t,"minor")),e&&r[t].isNew&&r[t].render(null,!0),r[t].render(null,!1,1)},r.prototype.renderTick=function(t,e){var r=this.isLinked,a=this.ticks,i=this.chart.hasRendered&&b(this.oldMin);(!r||t>=this.min&&t<=this.max)&&(a[t]||(a[t]=new n(this,t)),i&&a[t].isNew&&a[t].render(e,!0,-1),a[t].render(e))},r.prototype.render=function(){var t,r,a=this,o=a.chart,s=a.logarithmic,u=a.options,c=a.isLinked,l=a.tickPositions,h=a.axisTitle,f=a.ticks,p=a.minorTicks,v=a.alternateBands,m=u.stackLabels,g=u.alternateGridColor,y=a.tickmarkOffset,x=a.axisLine,w=a.showAxis,O=i(o.renderer.globalAnimation);a.labelEdge.length=0,a.overlap=!1,[f,p,v].forEach((function(t){k(t,(function(t){t.isActive=!1}))})),(a.hasData()||c)&&(a.minorTickInterval&&!a.categories&&a.getMinorTickPositions().forEach((function(t){a.renderMinorTick(t)})),l.length&&(l.forEach((function(t,e){a.renderTick(t,e)})),y&&(0===a.min||a.single)&&(f[-1]||(f[-1]=new n(a,-1,null,!0)),f[-1].render(-1))),g&&l.forEach((function(n,i){r="undefined"!==typeof l[i+1]?l[i+1]+y:a.max-y,0===i%2&&n<a.max&&r<=a.max+(o.polar?-y:y)&&(v[n]||(v[n]=new e.PlotLineOrBand(a)),t=n+y,v[n].options={from:s?s.lin2log(t):t,to:s?s.lin2log(r):r,color:g},v[n].render(),v[n].isActive=!0)})),a._addedPlotLB||((u.plotLines||[]).concat(u.plotBands||[]).forEach((function(t){a.addPlotBandOrLine(t)})),a._addedPlotLB=!0)),[f,p,v].forEach((function(t){var e,n=[],r=O.duration;k(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))})),T((function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])}),t!==v&&o.hasRendered&&r?r:0)})),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[w?"show":"hide"](w)),h&&w&&(u=a.getTitlePosition(),b(u.y)?(h[h.isNew?"attr":"animate"](u),h.isNew=!1):(h.attr("y",-9999),h.isNew=!0)),m&&m.enabled&&a.stacking&&a.stacking.renderStackTotals(),a.isDirty=!1,d(this,"afterRender")},r.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))},r.prototype.getKeepProps=function(){return this.keepProps||r.keepProps},r.prototype.destroy=function(t){var e,n=this,r=n.plotLinesAndBands;if(d(this,"destroy",{keepEvents:t}),t||C(n),[n.ticks,n.minorTicks,n.alternateBands].forEach((function(t){h(t)})),r)for(t=r.length;t--;)r[t].destroy();for(e in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(t){n[t]&&(n[t]=n[t].destroy())})),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();k(n,(function(t,e){-1===n.getKeepProps().indexOf(e)&&delete n[e]}))},r.prototype.drawCrosshair=function(e,n){var r,a=this.crosshair,i=S(a.snap,!0),o=this.cross,s=this.chart;if(d(this,"drawCrosshair",{e:e,point:n}),e||(e=this.cross&&this.cross.e),this.crosshair&&!1!==(l(n)||!i)){if(i?l(n)&&(r=S("colorAxis"!==this.coll?n.crosshairPos:null,this.isXAxis?n.plotX:this.len-n.plotY)):r=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),l(r)){var u={value:n&&(this.isXAxis?n.x:S(n.stackY,n.y)),translatedValue:r};s.polar&&p(u,{isCrosshair:!0,chartX:e&&e.chartX,chartY:e&&e.chartY,point:n}),u=this.getPlotLinePath(u)||null}if(!l(u))return void this.hideCrosshair();i=this.categories&&!this.isRadial,o||(this.cross=o=s.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(i?"category ":"thin ")+a.className).attr({zIndex:S(a.zIndex,2)}).add(),s.styledMode||(o.attr({stroke:a.color||(i?t.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":S(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&o.attr({dashstyle:a.dashStyle}))),o.show().attr({d:u}),i&&!a.width&&o.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair();d(this,"afterDrawCrosshair",{e:e,point:n})},r.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),d(this,"afterHideCrosshair")},r.prototype.hasVerticalPanning=function(){var t,e;return/y/.test((null===(e=null===(t=this.chart.options.chart)||void 0===t?void 0:t.panning)||void 0===e?void 0:e.type)||"")},r.defaultOptions={dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,showEmpty:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},r.defaultYAxisOptions={endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},r.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},r.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},r.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},r.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},r.keepProps="extKey hcEvents names series userMax userMin".split(" "),r}(),e.Axis=r,e.Axis})),e(n,"parts/DateTimeAxis.js",[n["parts/Axis.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.addEvent,r=e.getMagnitude,a=e.normalizeTickInterval,i=e.timeUnits,o=function(){function t(t){this.axis=t}return t.prototype.normalizeTimeTickInterval=function(t,e){var n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=n[n.length-1];var o,s=i[e[0]],u=e[1];for(o=0;o<n.length&&(e=n[o],s=i[e[0]],u=e[1],!(n[o+1]&&t<=(s*u[u.length-1]+i[n[o+1][0]])/2));o++);return s===i.year&&t<5*s&&(u=[1,2,5]),{unitRange:s,count:t=a(t/s,u,"year"===e[0]?Math.max(r(t/s),1):1),unitName:e[0]}},t}();return(e=function(){function t(){}return t.compose=function(t){t.keepProps.push("dateTime"),t.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},n(t,"init",(function(t){"datetime"!==t.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new o(this))}))},t.AdditionsClass=o,t}()).compose(t),e})),e(n,"parts/LogarithmicAxis.js",[n["parts/Axis.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.addEvent,r=e.getMagnitude,a=e.normalizeTickInterval,i=e.pick,o=function(){function t(t){this.axis=t}return t.prototype.getLogTickPositions=function(t,e,n,o){var s=this.axis,u=s.len,c=s.options,l=[];if(o||(this.minorAutoInterval=void 0),.5<=t)t=Math.round(t),l=s.getLinearTickPositions(t,e,n);else if(.08<=t){var h,f;for(c=Math.floor(e),u=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<n+1&&!f;c++){var p=u.length;for(h=0;h<p&&!f;h++){var d=this.log2lin(this.lin2log(c)*u[h]);d>e&&(!o||v<=n)&&"undefined"!==typeof v&&l.push(v),v>n&&(f=!0);var v=d}}}else e=this.lin2log(e),n=this.lin2log(n),t=o?s.getMinorTickInterval():c.tickInterval,t=i("auto"===t?null:t,this.minorAutoInterval,c.tickPixelInterval/(o?5:1)*(n-e)/((o?u/s.tickPositions.length:u)||1)),t=a(t,void 0,r(t)),l=s.getLinearTickPositions(t,e,n).map(this.log2lin),o||(this.minorAutoInterval=t/5);return o||(s.tickInterval=t),l},t.prototype.lin2log=function(t){return Math.pow(10,t)},t.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},t}();return(e=function(){function t(){}return t.compose=function(t){t.keepProps.push("logarithmic");var e=t.prototype,r=o.prototype;e.log2lin=r.log2lin,e.lin2log=r.lin2log,n(t,"init",(function(t){var e=this.logarithmic;"logarithmic"!==t.userOptions.type?this.logarithmic=void 0:(e||(e=this.logarithmic=new o(this)),this.log2lin!==e.log2lin&&(e.log2lin=this.log2lin.bind(this)),this.lin2log!==e.lin2log&&(e.lin2log=this.lin2log.bind(this)))})),n(t,"afterInit",(function(){var t=this.logarithmic;t&&(this.lin2val=function(e){return t.lin2log(e)},this.val2lin=function(e){return t.log2lin(e)})}))},t}()).compose(t),e})),e(n,"parts/PlotLineOrBand.js",[n["parts/Globals.js"],n["parts/Axis.js"],n["parts/Utilities.js"]],(function(t,e,n){var r=n.arrayMax,a=n.arrayMin,i=n.defined,o=n.destroyObjectProperties,s=n.erase,u=n.extend,c=n.merge,l=n.objectEach,h=n.pick,f=function(){function e(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}return e.prototype.render=function(){t.fireEvent(this,"render");var e=this,n=e.axis,r=n.horiz,a=n.logarithmic,o=e.options,s=o.label,u=e.label,f=o.to,p=o.from,d=o.value,v=i(p)&&i(f),m=i(d),g=e.svgElem,y=!g,b=[],x=o.color,w=h(o.zIndex,0),O=o.events;b={class:"highcharts-plot-"+(v?"band ":"line ")+(o.className||"")};var k={},S=n.chart.renderer,E=v?"bands":"lines";if(a&&(p=a.log2lin(p),f=a.log2lin(f),d=a.log2lin(d)),n.chart.styledMode||(m?(b.stroke=x||"#999999",b["stroke-width"]=h(o.width,1),o.dashStyle&&(b.dashstyle=o.dashStyle)):v&&(b.fill=x||"#e6ebf5",o.borderWidth&&(b.stroke=o.borderColor,b["stroke-width"]=o.borderWidth))),k.zIndex=w,E+="-"+w,(a=n.plotLinesAndBandsGroups[E])||(n.plotLinesAndBandsGroups[E]=a=S.g("plot-"+E).attr(k).add()),y&&(e.svgElem=g=S.path().attr(b).add(a)),m)b=n.getPlotLinePath({value:d,lineWidth:g.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!v)return;b=n.getPlotBandPath(p,f,o)}return(y||!g.d)&&b&&b.length?(g.attr({d:b}),O&&l(O,(function(t,n){g.on(n,(function(t){O[n].apply(e,[t])}))}))):g&&(b?(g.show(!0),g.animate({d:b})):g.d&&(g.hide(),u&&(e.label=u=u.destroy()))),s&&(i(s.text)||i(s.formatter))&&b&&b.length&&0<n.width&&0<n.height&&!b.isFlat?(s=c({align:r&&v&&"center",x:r?!v&&4:10,verticalAlign:!r&&v&&"middle",y:r?v?16:10:v?6:-4,rotation:r&&!v&&90},s),this.renderLabel(s,b,v,w)):u&&u.hide(),e},e.prototype.renderLabel=function(t,e,n,i){var o=this.label,s=this.axis.chart.renderer;o||((o={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(t.className||"")}).zIndex=i,i=this.getLabelText(t),this.label=o=s.text(i,0,0,t.useHTML).attr(o).add(),this.axis.chart.styledMode||o.css(t.style)),s=e.xBounds||[e[0][1],e[1][1],n?e[2][1]:e[0][1]],e=e.yBounds||[e[0][2],e[1][2],n?e[2][2]:e[0][2]],n=a(s),i=a(e),o.align(t,!1,{x:n,y:i,width:r(s)-n,height:r(e)-i}),o.show(!0)},e.prototype.getLabelText=function(t){return i(t.formatter)?t.formatter.call(this):t.text},e.prototype.destroy=function(){s(this.axis.plotLinesAndBands,this),delete this.axis,o(this)},e}();return u(e.prototype,{getPlotBandPath:function(t,e){var n=this.getPlotLinePath({value:e,force:!0,acrossPanes:this.options.acrossPanes}),r=this.getPlotLinePath({value:t,force:!0,acrossPanes:this.options.acrossPanes}),a=[],i=this.horiz,o=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&n){if(t){var s=r.toString()===n.toString();o=0}for(t=0;t<r.length;t+=2){e=r[t];var u=r[t+1],c=n[t],l=n[t+1];"M"!==e[0]&&"L"!==e[0]||"M"!==u[0]&&"L"!==u[0]||"M"!==c[0]&&"L"!==c[0]||"M"!==l[0]&&"L"!==l[0]||(i&&c[1]===e[1]?(c[1]+=o,l[1]+=o):i||c[2]!==e[2]||(c[2]+=o,l[2]+=o),a.push(["M",e[1],e[2]],["L",u[1],u[2]],["L",l[1],l[2]],["L",c[1],c[2]],["Z"])),a.isFlat=s}}return a},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new f(this,t).render(),r=this.userOptions;if(n){if(e){var a=r[e]||[];a.push(t),r[e]=a}this.plotLinesAndBands.push(n)}return n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,r=this.userOptions,a=e.length;a--;)e[a].id===t&&e[a].destroy();[n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]].forEach((function(e){for(a=e.length;a--;)(e[a]||{}).id===t&&s(e,e[a])}))},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}}),t.PlotLineOrBand=f,t.PlotLineOrBand})),e(n,"parts/Tooltip.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.clamp,r=e.css,a=e.defined,i=e.discardElement,o=e.extend,s=e.fireEvent,u=e.format,c=e.isNumber,l=e.isString,h=e.merge,f=e.pick,p=e.splat,d=e.syncTimeout,v=e.timeUnits,m=t.doc,g=function(){function g(t,e){this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=t,this.init(t,e)}return g.prototype.applyFilter=function(){var t=this.chart;t.renderer.definition({tagName:"filter",id:"drop-shadow-"+t.index,opacity:.5,children:[{tagName:"feGaussianBlur",in:"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",in:"SourceGraphic"}]}]}),t.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+t.index+"{filter:url(#drop-shadow-"+t.index+")}"})},g.prototype.bodyFormatter=function(t){return t.map((function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))},g.prototype.cleanSplit=function(t){this.chart.series.forEach((function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)}))},g.prototype.defaultFormatter=function(t){var e=this.points||p(this),n=[t.tooltipFooterHeaderFormatter(e[0])];return(n=n.concat(t.bodyFormatter(e))).push(t.tooltipFooterHeaderFormatter(e[0],!0)),n},g.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),i(this.container)),e.clearTimeout(this.hideTimer),e.clearTimeout(this.tooltipTimeout)},g.prototype.getAnchor=function(t,e){var n,r,a=this.chart,i=a.pointer,o=a.inverted,s=a.plotTop,u=a.plotLeft,c=0,l=0;return t=p(t),this.followPointer&&e?("undefined"===typeof e.chartX&&(e=i.normalize(e)),t=[e.chartX-u,e.chartY-s]):t[0].tooltipPos?t=t[0].tooltipPos:(t.forEach((function(t){n=t.series.yAxis,r=t.series.xAxis,c+=t.plotX+(!o&&r?r.left-u:0),l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&n?n.top-s:0)})),c/=t.length,l/=t.length,t=[o?a.plotWidth-l:c,this.shared&&!o&&1<t.length&&e?e.chartY-s:o?a.plotHeight-c:l]),t.map(Math.round)},g.prototype.getDateFormat=function(t,e,n,r){var a=this.chart.time,i=a.dateFormat("%m-%d %H:%M:%S.%L",e),o={millisecond:15,second:12,minute:9,hour:6,day:3},s="millisecond";for(u in v){if(t===v.week&&+a.dateFormat("%w",e)===n&&"00:00:00.000"===i.substr(6)){var u="week";break}if(v[u]>t){u=s;break}if(o[u]&&i.substr(o[u])!=="01-01 00:00:00.000".substr(o[u]))break;"week"!==u&&(s=u)}if(u)var c=a.resolveDTLFormat(r[u]).main;return c},g.prototype.getLabel=function(){var e,n,i,o=this,s=this.chart.renderer,u=this.chart.styledMode,c=this.options,l="tooltip"+(a(c.className)?" "+c.className:""),h=(null===(e=c.style)||void 0===e?void 0:e.pointerEvents)||(!this.followPointer&&c.stickOnContact?"auto":"none");e=function(){o.inContact=!0};if(!this.label){if(this.outside&&(this.container=i=t.doc.createElement("div"),i.className="highcharts-tooltip-container",r(i,{position:"absolute",top:"1px",pointerEvents:h,zIndex:3}),t.doc.body.appendChild(i),this.renderer=s=new t.Renderer(i,0,0,null===(n=this.chart.options.chart)||void 0===n?void 0:n.style,void 0,void 0,s.styledMode)),this.split?this.label=s.g(l):(this.label=s.label("",0,0,c.shape||"callout",null,null,c.useHTML,null,l).attr({padding:c.padding,r:c.borderRadius}),u||this.label.attr({fill:c.backgroundColor,"stroke-width":c.borderWidth}).css(c.style).css({pointerEvents:h}).shadow(c.shadow)),u&&(this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index)),o.outside&&!o.split){var f={x:this.label.xSetter,y:this.label.ySetter};this.label.xSetter=function(t,e){f[e].call(this.label,o.distance),i.style.left=t+"px"},this.label.ySetter=function(t,e){f[e].call(this.label,o.distance),i.style.top=t+"px"}}this.label.on("mouseenter",e).on("mouseleave",(function(){var t=o.chart.hoverSeries;o.inContact=!1,t&&t.onMouseOut&&t.onMouseOut()})).attr({zIndex:8}).add()}return this.label},g.prototype.getPosition=function(t,e,n){var r,a=this.chart,i=this.distance,o={},s=a.inverted&&n.h||0,u=this.outside,c=u?m.documentElement.clientWidth-2*i:a.chartWidth,l=u?Math.max(m.body.scrollHeight,m.documentElement.scrollHeight,m.body.offsetHeight,m.documentElement.offsetHeight,m.documentElement.clientHeight):a.chartHeight,h=a.pointer.getChartPosition(),p=a.containerScaling,d=function(t){return p?t*p.scaleX:t},v=function(t){return p?t*p.scaleY:t},g=function(r){var o="x"===r;return[r,o?c:l,o?t:e].concat(u?[o?d(t):v(e),o?h.left-i+d(n.plotX+a.plotLeft):h.top-i+v(n.plotY+a.plotTop),0,o?c:l]:[o?t:e,o?n.plotX+a.plotLeft:n.plotY+a.plotTop,o?a.plotLeft:a.plotTop,o?a.plotLeft+a.plotWidth:a.plotTop+a.plotHeight])},y=g("y"),b=g("x"),x=!this.followPointer&&f(n.ttBelow,!a.inverted===!!n.negative),w=function(t,e,n,r,a,u,c){var l="y"===t?v(i):d(i),h=(n-r)/2,f=r<a-i,p=a+i+r<e,m=a-l-n+h;if(a=a+l-h,x&&p)o[t]=a;else if(!x&&f)o[t]=m;else if(f)o[t]=Math.min(c-r,0>m-s?m:m-s);else{if(!p)return!1;o[t]=Math.max(u,a+s+n>e?a:a+s)}},O=function(t,e,n,r,a){var s;return a<i||a>e-i?s=!1:o[t]=a<n/2?1:a>e-r/2?e-r-2:a-n/2,s},k=function(t){var e=y;y=b,b=e,r=t};return(a.inverted||1<this.len)&&k(),function t(){!1!==w.apply(0,y)?!1!==O.apply(0,b)||r||(k(!0),t()):r?o.x=o.y=0:(k(!0),t())}(),o},g.prototype.getXDateFormat=function(t,e,n){e=e.dateTimeLabelFormats;var r=n&&n.closestPointRange;return(r?this.getDateFormat(r,t.x,n.options.startOfWeek,e):e.day)||e.year},g.prototype.hide=function(t){var n=this;e.clearTimeout(this.hideTimer),t=f(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d((function(){n.getLabel().fadeOut(t?void 0:t),n.isHidden=!0}),t))},g.prototype.init=function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=f(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))},g.prototype.isStickyOnContact=function(){return!(this.followPointer||!this.options.stickOnContact||!this.inContact)},g.prototype.move=function(t,n,r,a){var i=this,s=i.now,u=!1!==i.options.animation&&!i.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(n-s.y)),c=i.followPointer||1<i.len;o(s,{x:u?(2*s.x+t)/3:t,y:u?(s.y+n)/2:n,anchorX:c?void 0:u?(2*s.anchorX+r)/3:r,anchorY:c?void 0:u?(s.anchorY+a)/2:a}),i.getLabel().attr(s),i.drawTracker(),u&&(e.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){i&&i.move(t,n,r,a)}),32))},g.prototype.refresh=function(t,n){var r=this.chart,a=this.options,i=t,o={},u=[],c=a.formatter||this.defaultFormatter;o=this.shared;var l=r.styledMode;if(a.enabled){e.clearTimeout(this.hideTimer),this.followPointer=p(i)[0].series.tooltipOptions.followPointer;var h=this.getAnchor(i,n);n=h[0];var d=h[1];!o||i.series&&i.series.noSharedTooltip?o=i.getLabelConfig():(r.pointer.applyInactiveState(i),i.forEach((function(t){t.setState("hover"),u.push(t.getLabelConfig())})),(o={x:i[0].category,y:i[0].y}).points=u,i=i[0]),this.len=u.length,r=c.call(o,this),c=i.series,this.distance=f(c.tooltipOptions.distance,16),!1===r?this.hide():(this.split?this.renderSplit(r,p(t)):(t=this.getLabel(),a.style.width&&!l||t.css({width:this.chart.spacingBox.width+"px"}),t.attr({text:r&&r.join?r.join(""):r}),t.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+f(i.colorIndex,c.colorIndex)),l||t.attr({stroke:a.borderColor||i.color||c.color||"#666666"}),this.updatePosition({plotX:n,plotY:d,negative:i.negative,ttBelow:i.ttBelow,h:h[2]||0})),this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1),s(this,"refresh")}},g.prototype.renderSplit=function(e,r){function a(t,e,r,a,i){return void 0===i&&(i=!0),r?(e=C?0:A,t=n(t-a/2,S.left,S.right-a)):(e-=j,t=n(t=i?t-a-w:t+w,i?t:S.left,S.right)),{x:t,y:e}}var i=this,s=i.chart,u=i.chart,c=u.plotHeight,h=u.plotLeft,p=u.plotTop,d=u.pointer,v=u.renderer,m=u.scrollablePixelsY,g=void 0===m?0:m,y=(m=void 0===(m=u.scrollingContainer)?{scrollLeft:0,scrollTop:0}:m).scrollLeft,b=m.scrollTop,x=u.styledMode,w=i.distance,O=i.options,k=i.options.positioner,S={left:y,right:y+u.chartWidth,top:b,bottom:b+u.chartHeight},E=i.getLabel(),C=!(!s.xAxis[0]||!s.xAxis[0].opposite),j=p+b,T=0,A=c-g;l(e)&&(e=[!1,e]),e=e.slice(0,r.length+1).reduce((function(t,e,o){if(!1!==e&&""!==e){var s=(o=r[o-1]||{isHeader:!0,plotX:r[0].plotX,plotY:c,series:{}}).isHeader,u=s?i:o.series,l=u.tt,d=o.isHeader,m=o.series,y="highcharts-color-"+f(o.colorIndex,m.colorIndex,"none");l||(l={padding:O.padding,r:O.borderRadius},x||(l.fill=O.backgroundColor,l["stroke-width"]=O.borderWidth),l=v.label("",0,0,O[d?"headerShape":"shape"]||"callout",void 0,void 0,O.useHTML).addClass((d?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+y).attr(l).add(E)),l.isActive=!0,l.attr({text:e}),x||l.css(O.style).shadow(O.shadow).attr({stroke:O.borderColor||o.color||m.color||"#333333"}),e=u.tt=l,u=(d=e.getBBox()).width+e.strokeWidth(),s&&(T=d.height,A+=T,C&&(j-=T)),m=void 0===(m=o.plotX)?0:m,y=void 0===(y=o.plotY)?0:y;var _=o.series;if(o.isHeader){m=h+m;var M=p+c/2}else l=_.xAxis,_=_.yAxis,m=l.pos+n(m,-w,l.len+w),_.pos+y>=b+p&&_.pos+y<=b+p+c-g&&(M=_.pos+y);m=n(m,S.left-w,S.right+w),"number"===typeof M?(d=d.height+1,y=k?k.call(i,u,d,o):a(m,M,s,u),t.push({align:k?0:void 0,anchorX:m,anchorY:M,boxWidth:u,point:o,rank:f(y.rank,s?1:0),size:d,target:y.y,tt:e,x:y.x})):e.isActive=!1}return t}),[]),!k&&e.some((function(t){return t.x<S.left}))&&(e=e.map((function(t){var e=a(t.anchorX,t.anchorY,t.point.isHeader,t.boxWidth,!1);return o(t,{target:e.y,x:e.x})}))),i.cleanSplit(),t.distribute(e,A),e.forEach((function(t){var e=t.pos;t.tt.attr({visibility:"undefined"===typeof e?"hidden":"inherit",x:t.x,y:e+j,anchorX:t.anchorX,anchorY:t.anchorY})})),e=i.container,s=i.renderer,i.outside&&e&&s&&(u=E.getBBox(),s.setSize(u.width+u.x,u.height+u.y,!1),d=d.getChartPosition(),e.style.left=d.left+"px",e.style.top=d.top+"px")},g.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var t=this.chart,e=this.label,n=t.hoverPoint;if(e&&n){var r={x:0,y:0,width:0,height:0};n=this.getAnchor(n);var a=e.getBBox();n[0]+=t.plotLeft-e.translateX,n[1]+=t.plotTop-e.translateY,r.x=Math.min(0,n[0]),r.y=Math.min(0,n[1]),r.width=0>n[0]?Math.max(Math.abs(n[0]),a.width-n[0]):Math.max(Math.abs(n[0]),a.width),r.height=0>n[1]?Math.max(Math.abs(n[1]),a.height-Math.abs(n[1])):Math.max(Math.abs(n[1]),a.height),this.tracker?this.tracker.attr(r):(this.tracker=e.renderer.rect(r).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},g.prototype.styledModeFormat=function(t){return t.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},g.prototype.tooltipFooterHeaderFormatter=function(t,e){var n=e?"footer":"header",r=t.series,a=r.tooltipOptions,i=a.xDateFormat,o=r.xAxis,l=o&&"datetime"===o.options.type&&c(t.key),h=a[n+"Format"];return s(this,"headerFormatter",e={isFooter:e,labelConfig:t},(function(e){l&&!i&&(i=this.getXDateFormat(t,a,o)),l&&i&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach((function(t){h=h.replace("{point."+t+"}","{point."+t+":"+i+"}")})),r.chart.styledMode&&(h=this.styledModeFormat(h)),e.text=u(h,{point:t,series:r},this.chart)})),e.text},g.prototype.update=function(t){this.destroy(),h(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,h(!0,this.options,t))},g.prototype.updatePosition=function(t){var e=this.chart,n=e.pointer,a=this.getLabel(),i=t.plotX+e.plotLeft,o=t.plotY+e.plotTop;if(n=n.getChartPosition(),t=(this.options.positioner||this.getPosition).call(this,a.width,a.height,t),this.outside){var s=(this.options.borderWidth||0)+2*this.distance;this.renderer.setSize(a.width+s,a.height+s,!1),(e=e.containerScaling)&&(r(this.container,{transform:"scale("+e.scaleX+", "+e.scaleY+")"}),i*=e.scaleX,o*=e.scaleY),i+=n.left-t.x,o+=n.top-t.y}this.move(Math.round(t.x),Math.round(t.y||0),i,o)},g}();return t.Tooltip=g,t.Tooltip})),e(n,"parts/Pointer.js",[n["parts/Globals.js"],n["parts/Utilities.js"],n["parts/Tooltip.js"],n["parts/Color.js"]],(function(t,e,n,r){var a=e.addEvent,i=e.attr,o=e.css,s=e.defined,u=e.extend,c=e.find,l=e.fireEvent,h=e.isNumber,f=e.isObject,p=e.objectEach,d=e.offset,v=e.pick,m=e.splat,g=r.parse,y=t.charts,b=t.noop;return e=function(){function e(t,e){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.chart=t,this.hasDragged=!1,this.options=e,this.unbindContainerMouseLeave=function(){},this.init(t,e)}return e.prototype.applyInactiveState=function(t){var e,n=[];(t||[]).forEach((function(t){e=t.series,n.push(e),e.linkedParent&&n.push(e.linkedParent),e.linkedSeries&&(n=n.concat(e.linkedSeries)),e.navigatorSeries&&n.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===n.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))},e.prototype.destroy=function(){var e=this;"undefined"!==typeof e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),p(e,(function(t,n){e[n]=null}))},e.prototype.drag=function(t){var e=this.chart,n=e.options.chart,r=t.chartX,a=t.chartY,i=this.zoomHor,o=this.zoomVert,s=e.plotLeft,u=e.plotTop,c=e.plotWidth,l=e.plotHeight,h=this.selectionMarker,p=this.mouseDownX||0,d=this.mouseDownY||0,v=f(n.panning)?n.panning&&n.panning.enabled:n.panning,m=n.panKey&&t[n.panKey+"Key"];if((!h||!h.touch)&&(r<s?r=s:r>s+c&&(r=s+c),a<u?a=u:a>u+l&&(a=u+l),this.hasDragged=Math.sqrt(Math.pow(p-r,2)+Math.pow(d-a,2)),10<this.hasDragged)){var y=e.isInsidePlot(p-s,d-u);e.hasCartesianSeries&&(this.zoomX||this.zoomY)&&y&&!m&&!h&&(this.selectionMarker=h=e.renderer.rect(s,u,i?1:c,o?1:l,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||h.attr({fill:n.selectionMarkerFill||g("#335cad").setOpacity(.25).get()})),h&&i&&(r-=p,h.attr({width:Math.abs(r),x:(0<r?0:r)+p})),h&&o&&(r=a-d,h.attr({height:Math.abs(r),y:(0<r?0:r)+d})),y&&!h&&v&&e.pan(t,n.panning)}},e.prototype.dragStart=function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},e.prototype.drop=function(t){var e=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var a,i={originalEvent:t,xAxis:[],yAxis:[]},c=this.selectionMarker,f=c.attr?c.attr("x"):c.x,p=c.attr?c.attr("y"):c.y,d=c.attr?c.attr("width"):c.width,v=c.attr?c.attr("height"):c.height;(this.hasDragged||r)&&(n.axes.forEach((function(n){if(n.zoomEnabled&&s(n.min)&&(r||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var o=n.horiz,u="touchend"===t.type?n.minPixelPadding:0,c=n.toValue((o?f:p)+u);o=n.toValue((o?f+d:p+v)-u),i[n.coll].push({axis:n,min:Math.min(c,o),max:Math.max(c,o)}),a=!0}})),a&&l(n,"selection",i,(function(t){n.zoom(u(t,r?{animation:!1}:null))}))),h(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),r&&this.scaleGroups()}n&&h(n.index)&&(o(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},e.prototype.findNearestKDPoint=function(t,e,n){var r,a=this.chart,i=a.hoverPoint;return a=a.tooltip,i&&a&&a.isStickyOnContact()?i:(t.forEach((function(t){var a=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,a),(a=f(t,!0))&&!(a=!f(r,!0))){a=r.distX-t.distX;var i=r.dist-t.dist,o=(t.series.group&&t.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);a=0<(0!==a&&e?a:0!==i?i:0!==o?o:r.series.index>t.series.index?-1:1)}a&&(r=t)})),r)},e.prototype.getChartCoordinatesFromPoint=function(t,e){var n=t.series,r=n.xAxis;n=n.yAxis;var a=v(t.clientX,t.plotX),i=t.shapeArgs;return r&&n?e?{chartX:r.len+r.pos-a,chartY:n.len+n.pos-t.plotY}:{chartX:a+r.pos,chartY:t.plotY+n.pos}:i&&i.x&&i.y?{chartX:i.x,chartY:i.y}:void 0},e.prototype.getChartPosition=function(){return this.chartPosition||(this.chartPosition=d(this.chart.container))},e.prototype.getCoordinates=function(t){var e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})})),e},e.prototype.getHoverData=function(t,e,n,r,a,i){var o,s=[];r=!(!r||!t);var u=e&&!e.stickyTracking,h={chartX:i?i.chartX:void 0,chartY:i?i.chartY:void 0,shared:a};return l(this,"beforeGetHoverData",h),u=u?[e]:n.filter((function(t){return h.filter?h.filter(t):t.visible&&!(!a&&t.directTouch)&&v(t.options.enableMouseTracking,!0)&&t.stickyTracking})),e=(o=r||!i?t:this.findNearestKDPoint(u,a,i))&&o.series,o&&(a&&!e.noSharedTooltip?(u=n.filter((function(t){return h.filter?h.filter(t):t.visible&&!(!a&&t.directTouch)&&v(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}))).forEach((function(t){var e=c(t.points,(function(t){return t.x===o.x&&!t.isNull}));f(e)&&(t.chart.isBoosting&&(e=t.getPoint(e)),s.push(e))})):s.push(o)),l(this,"afterGetHoverData",h={hoverPoint:o}),{hoverPoint:h.hoverPoint,hoverSeries:e,hoverPoints:s}},e.prototype.getPointFromEvent=function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},e.prototype.onTrackerMouseOut=function(t){t=t.relatedTarget||t.toElement;var e=this.chart.hoverSeries;this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},e.prototype.inClass=function(t,e){for(var n;t;){if(n=i(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},e.prototype.init=function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},n&&(t.tooltip=new n(t,e.tooltip),this.followTouchMove=v(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},e.prototype.normalize=function(t,e){var n=t.touches,r=n?n.length?n.item(0):n.changedTouches[0]:t;return e||(e=this.getChartPosition()),n=r.pageX-e.left,e=r.pageY-e.top,(r=this.chart.containerScaling)&&(n/=r.scaleX,e/=r.scaleY),u(t,{chartX:Math.round(n),chartY:Math.round(e)})},e.prototype.onContainerClick=function(t){var e=this.chart,n=e.hoverPoint;t=this.normalize(t);var r=e.plotLeft,a=e.plotTop;e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(l(n.series,"click",u(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(u(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-r,t.chartY-a)&&l(e,"click",t)))},e.prototype.onContainerMouseDown=function(e){e=this.normalize(e),t.isFirefox&&0!==e.button&&this.onContainerMouseMove(e),"undefined"!==typeof e.button&&1!==(1&(e.buttons||e.button))||(this.zoomOption(e),this.dragStart(e))},e.prototype.onContainerMouseLeave=function(e){var n=y[v(t.hoverChartIndex,-1)],r=this.chart.tooltip;e=this.normalize(e),n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=void 0),r&&!r.isHidden&&this.reset()},e.prototype.onContainerMouseMove=function(t){var e=this.chart;t=this.normalize(t),this.setHoverChartIndex(),t.preventDefault||(t.returnValue=!1),"mousedown"===e.mouseIsDown&&this.drag(t),e.openMenu||!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.runPointActions(t)},e.prototype.onDocumentTouchEnd=function(e){y[t.hoverChartIndex]&&y[t.hoverChartIndex].pointer.drop(e)},e.prototype.onContainerTouchMove=function(t){this.touch(t)},e.prototype.onContainerTouchStart=function(t){this.zoomOption(t),this.touch(t,!0)},e.prototype.onDocumentMouseMove=function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n);var r=e.tooltip;!n||r&&r.isStickyOnContact()||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.inClass(t.target,"highcharts-tracker")||this.reset()},e.prototype.onDocumentMouseUp=function(e){var n=y[v(t.hoverChartIndex,-1)];n&&n.pointer.drop(e)},e.prototype.pinch=function(t){var e=this,n=e.chart,r=e.pinchDown,a=t.touches||[],i=a.length,o=e.lastValidTouch,s=e.hasZoom,c=e.selectionMarker,l={},h=1===i&&(e.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||e.runChartClick),f={};1<i&&(e.initiated=!0),s&&e.initiated&&!h&&t.preventDefault(),[].map.call(a,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(a,(function(t,e){r[e]={chartX:t.chartX,chartY:t.chartY}})),o.x=[r[0].chartX,r[1]&&r[1].chartX],o.y=[r[0].chartY,r[1]&&r[1].chartY],n.axes.forEach((function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],r=t.minPixelPadding,a=t.toPixels(Math.min(v(t.options.min,t.dataMin),t.dataMin)),i=t.toPixels(Math.max(v(t.options.max,t.dataMax),t.dataMax)),o=Math.max(a,i);e.min=Math.min(t.pos,Math.min(a,i)-r),e.max=Math.max(t.pos+t.len,o+r)}})),e.res=!0):e.followTouchMove&&1===i?this.runPointActions(e.normalize(t)):r.length&&(c||(e.selectionMarker=c=u({destroy:b,touch:!0},n.plotBox)),e.pinchTranslate(r,a,l,c,f,o),e.hasPinched=s,e.scaleGroups(l,f),e.res&&(e.res=!1,this.reset(!1,0)))},e.prototype.pinchTranslate=function(t,e,n,r,a,i){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,r,a,i),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,r,a,i)},e.prototype.pinchTranslateDirection=function(t,e,n,r,a,i,o,s){var u,c,l=this.chart,h=t?"x":"y",f=t?"X":"Y",p="chart"+f,d=t?"width":"height",v=l["plot"+(t?"Left":"Top")],m=s||1,g=l.inverted,y=l.bounds[t?"h":"v"],b=1===e.length,x=e[0][p],w=n[0][p],O=!b&&e[1][p],k=!b&&n[1][p];if((n=function(){"number"===typeof k&&20<Math.abs(x-O)&&(m=s||Math.abs(w-k)/Math.abs(x-O)),c=(v-w)/m+x,u=l["plot"+(t?"Width":"Height")]/m})(),(e=c)<y.min){e=y.min;var S=!0}else e+u>y.max&&(e=y.max-u,S=!0);S?(w-=.8*(w-o[h][0]),"number"===typeof k&&(k-=.8*(k-o[h][1])),n()):o[h]=[w,k],g||(i[h]=c-v,i[d]=u),i=g?1/m:m,a[d]=u,a[h]=e,r[g?t?"scaleY":"scaleX":"scale"+f]=m,r["translate"+f]=i*v+(w-i*x)},e.prototype.reset=function(t,e){var n=this.chart,r=n.hoverSeries,a=n.hoverPoint,i=n.hoverPoints,o=n.tooltip,s=o&&o.shared?i:a;t&&s&&m(s).forEach((function(e){e.series.isCartesian&&"undefined"===typeof e.plotX&&(t=!1)})),t?o&&s&&m(s).length&&(o.refresh(s),o.shared&&i?i.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):a&&(a.setState(a.state,!0),n.axes.forEach((function(t){t.crosshair&&a.series[t.coll]===t&&t.drawCrosshair(null,a)})))):(a&&a.onMouseOut(),i&&i.forEach((function(t){t.setState()})),r&&r.onMouseOut(),o&&o.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=n.hoverPoints=n.hoverPoint=null)},e.prototype.runPointActions=function(e,n){var r=this.chart,i=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,o=!!i&&i.shared,s=n||r.hoverPoint,u=s&&s.series||r.hoverSeries;s=(u=this.getHoverData(s,u,r.series,(!e||"touchmove"!==e.type)&&(!!n||u&&u.directTouch&&this.isDirectTouch),o,e)).hoverPoint;var l=u.hoverPoints;if(n=(u=u.hoverSeries)&&u.tooltipOptions.followPointer,o=o&&u&&!u.noSharedTooltip,s&&(s!==r.hoverPoint||i&&i.isHidden)){if((r.hoverPoints||[]).forEach((function(t){-1===l.indexOf(t)&&t.setState()})),r.hoverSeries!==u&&u.onMouseOver(),this.applyInactiveState(l),(l||[]).forEach((function(t){t.setState("hover")})),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!s.series)return;s.firePointEvent("mouseOver"),r.hoverPoints=l,r.hoverPoint=s,i&&i.refresh(o?l:s,e)}else n&&i&&!i.isHidden&&(s=i.getAnchor([{}],e),i.updatePosition({plotX:s[0],plotY:s[1]}));this.unDocMouseMove||(this.unDocMouseMove=a(r.container.ownerDocument,"mousemove",(function(e){var n=y[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)}))),r.axes.forEach((function(t){var n,a=v((t.crosshair||{}).snap,!0);a&&((n=r.hoverPoint)&&n.series[t.coll]===t||(n=c(l,(function(e){return e.series[t.coll]===t})))),n||!a?t.drawCrosshair(e,n):t.hideCrosshair()}))},e.prototype.scaleGroups=function(t,e){var n,r=this.chart;r.series.forEach((function(a){n=t||a.getPlotBox(),a.xAxis&&a.xAxis.zoomEnabled&&a.group&&(a.group.attr(n),a.markerGroup&&(a.markerGroup.attr(n),a.markerGroup.clip(e?r.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(n))})),r.clipRect.attr(e||r.clipBox)},e.prototype.setDOMEvents=function(){var e=this.chart.container,n=e.ownerDocument;e.onmousedown=this.onContainerMouseDown.bind(this),e.onmousemove=this.onContainerMouseMove.bind(this),e.onclick=this.onContainerClick.bind(this),this.unbindContainerMouseLeave=a(e,"mouseleave",this.onContainerMouseLeave.bind(this)),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=a(n,"mouseup",this.onDocumentMouseUp.bind(this))),t.hasTouch&&(a(e,"touchstart",this.onContainerTouchStart.bind(this)),a(e,"touchmove",this.onContainerTouchMove.bind(this)),t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=a(n,"touchend",this.onDocumentTouchEnd.bind(this))))},e.prototype.setHoverChartIndex=function(){var e=this.chart,n=t.charts[v(t.hoverChartIndex,-1)];n&&n!==e&&n.pointer.onContainerMouseLeave({relatedTarget:!0}),n&&n.mouseIsDown||(t.hoverChartIndex=e.index)},e.prototype.touch=function(t,e){var n=this.chart;if(this.setHoverChartIndex(),1===t.touches.length)if(t=this.normalize(t),n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)&&!n.openMenu){if(e&&this.runPointActions(t),"touchmove"===t.type)var r=!!(e=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2));v(r,!0)&&this.pinch(t)}else e&&this.reset();else 2===t.touches.length&&this.pinch(t)},e.prototype.zoomOption=function(t){var e=this.chart,n=e.options.chart,r=n.zoomType||"";e=e.inverted,/touch/.test(t.type)&&(r=v(n.pinchType,r)),this.zoomX=t=/x/.test(r),this.zoomY=r=/y/.test(r),this.zoomHor=t&&!e||r&&e,this.zoomVert=r&&!e||t&&e,this.hasZoom=t||r},e}(),t.Pointer=e,t.Pointer})),e(n,"parts/MSPointer.js",[n["parts/Globals.js"],n["parts/Pointer.js"],n["parts/Utilities.js"]],(function(t,e,n){function r(){var t=[];return t.item=function(t){return this[t]},u(p,(function(e){t.push({pageX:e.pageX,pageY:e.pageY,target:e.target})})),t}function a(e,n,a,i){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!l[t.hoverChartIndex]||(i(e),(i=l[t.hoverChartIndex].pointer)[n]({type:a,target:e.currentTarget,preventDefault:f,touches:r()}))}var i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=n.addEvent,s=n.css,u=n.objectEach,c=n.removeEvent,l=t.charts,h=t.doc,f=t.noop,p={},d=!!t.win.PointerEvent;return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.batchMSEvents=function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(h,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},e.prototype.destroy=function(){this.batchMSEvents(c),t.prototype.destroy.call(this)},e.prototype.init=function(e,n){t.prototype.init.call(this,e,n),this.hasZoom&&s(e.container,{"-ms-touch-action":"none","touch-action":"none"})},e.prototype.onContainerPointerDown=function(t){a(t,"onContainerTouchStart","touchstart",(function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}))},e.prototype.onContainerPointerMove=function(t){a(t,"onContainerTouchMove","touchmove",(function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY},p[t.pointerId].target||(p[t.pointerId].target=t.currentTarget)}))},e.prototype.onDocumentPointerUp=function(t){a(t,"onDocumentTouchEnd","touchend",(function(t){delete p[t.pointerId]}))},e.prototype.setDOMEvents=function(){t.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(o)},e}(e)})),e(n,"parts/Legend.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.addEvent,r=e.animObject,a=e.css,i=e.defined,o=e.discardElement,s=e.find,u=e.fireEvent,c=e.format,l=e.isNumber,h=e.merge,f=e.pick,p=e.relativeLength,d=e.setAnimation,v=e.stableSort,m=e.syncTimeout;e=e.wrap;var g=t.isFirefox,y=t.marginNames,b=t.win,x=function(){function e(t,e){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=t,this.init(t,e)}return e.prototype.init=function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),n(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),this.proximate?this.unchartrender=n(this.chart,"render",(function(){this.legend.proximatePositions(),this.legend.positionItems()})):this.unchartrender&&this.unchartrender())},e.prototype.setOptions=function(t){var e=f(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=h(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop||0,this.itemMarginBottom=t.itemMarginBottom||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=f(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0},e.prototype.update=function(t,e){var n=this.chart;this.setOptions(h(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,f(e,!0)&&n.redraw(),u(this,"afterUpdate")},e.prototype.colorizeItem=function(t,e){if(t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var n=this.options,r=t.legendItem,a=t.legendLine,i=t.legendSymbol,o=this.itemHiddenStyle.color;n=e?n.itemStyle.color:o;var s=e&&t.color||o,c=t.options&&t.options.marker,l={fill:s};r&&r.css({fill:n,color:n}),a&&a.attr({stroke:s}),i&&(c&&i.isMarker&&(l=t.pointAttribs(),e||(l.stroke=l.fill=o)),i.attr(l))}u(this,"afterColorizeItem",{item:t,visible:e})},e.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},e.prototype.positionItem=function(t){var e=this.options,n=e.symbolPadding;e=!e.rtl;var r=t._legendItemPos,a=r[0];r=r[1];var o=t.checkbox;(t=t.legendGroup)&&t.element&&t[i(t.translateY)?"animate":"attr"]({translateX:e?a:this.legendWidth-a-2*n-4,translateY:r}),o&&(o.x=a,o.y=r)},e.prototype.destroyItem=function(t){var e=t.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach((function(e){t[e]&&(t[e]=t[e].destroy())})),e&&o(t.checkbox)},e.prototype.destroy=function(){function t(t){this[t]&&(this[t]=this[t].destroy())}this.getAllItems().forEach((function(e){["legendItem","legendGroup"].forEach(t,e)})),"clipRect up down pager nav box title group".split(" ").forEach(t,this),this.display=null},e.prototype.positionCheckboxes=function(){var t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,n=this.titleHeight;if(t){var r=t.translateY;this.allItems.forEach((function(i){var o=i.checkbox;if(o){var s=r+n+o.y+(this.scrollOffset||0)+3;a(o,{left:t.translateX+i.checkboxOffset+o.x-20+"px",top:s+"px",display:this.proximate||s>r-6&&s<r+e-6?"":"none"})}}),this)}},e.prototype.renderTitle=function(){var t=this.options,e=this.padding,n=t.title,r=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),r=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},e.prototype.setText=function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?c(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})},e.prototype.renderItem=function(t){var e=this.chart,n=e.renderer,r=this.options,a=this.symbolWidth,i=r.symbolPadding,o=this.itemStyle,s=this.itemHiddenStyle,u="horizontal"===r.layout?f(r.itemDistance,20):0,c=!r.rtl,l=t.legendItem,p=!t.series,d=!p&&t.series.drawLegendSymbol?t.series:t,v=d.options;u=a+i+u+((v=this.createCheckboxForItem&&v&&v.showCheckbox)?20:0);var m=r.useHTML,g=t.options.className;l||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+d.type+"-series highcharts-color-"+t.colorIndex+(g?" "+g:"")+(p?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=l=n.text("",c?a+i:-i,this.baseline||0,m),e.styledMode||l.css(h(t.visible?o:s)),l.attr({align:c?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(e.styledMode?12:o.fontSize,l),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,l.attr("y",this.baseline)),this.symbolHeight=r.symbolHeight||this.fontMetrics.f,d.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,l,m)),v&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!e.styledMode&&o.width||l.css({width:(r.itemWidth||this.widthOption||e.spacingBox.width)-u+"px"}),this.setText(t),e=l.getBBox(),t.itemWidth=t.checkboxOffset=r.itemWidth||t.legendItemWidth||e.width+u,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},e.prototype.layoutItem=function(t){var e=this.options,n=this.padding,r="horizontal"===e.layout,a=t.itemHeight,i=this.itemMarginBottom,o=this.itemMarginTop,s=r?f(e.itemDistance,20):0,u=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>u?this.maxItemWidth:t.itemWidth,r&&this.itemX-n+e>u&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=o+this.lastLineHeight+i),this.lastLineHeight=0),this.lastItemY=o+this.itemY+i,this.lastLineHeight=Math.max(a,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=e:(this.itemY+=o+a+i,this.lastLineHeight=a),this.offsetWidth=this.widthOption||Math.max((r?this.itemX-n-(t.checkbox?0:s):e)+n,this.offsetWidth)},e.prototype.getAllItems=function(){var t=[];return this.chart.series.forEach((function(e){var n=e&&e.options;e&&f(n.showInLegend,!i(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))})),u(this,"afterGetAllItems",{allItems:t}),t},e.prototype.getAlignment=function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},e.prototype.adjustMargins=function(t,e){var n=this.chart,r=this.options,a=this.getAlignment();a&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(o,s){o.test(a)&&!i(t[s])&&(n[y[s]]=Math.max(n[y[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*r[s%2?"x":"y"]+f(r.margin,12)+e[s]+(n.titleOffset[s]||0)))}))},e.prototype.proximatePositions=function(){var e=this.chart,n=[],r="left"===this.options.align;this.allItems.forEach((function(t){var a=r;if(t.yAxis&&t.points){t.xAxis.options.reversed&&(a=!a);var i=s(a?t.points:t.points.slice(0).reverse(),(function(t){return l(t.plotY)}));a=this.itemMarginTop+t.legendItem.getBBox().height+this.itemMarginBottom;var o=t.yAxis.top-e.plotTop;t.visible?(i=i?i.plotY:t.yAxis.height,i+=o-.3*a):i=o+t.yAxis.height,n.push({target:i,size:a,item:t})}}),this),t.distribute(n,e.plotHeight),n.forEach((function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos}))},e.prototype.render=function(){var t=this.chart,e=t.renderer,n=this.group,r=this.box,a=this.options,i=this.padding;this.itemX=i,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=p(a.width,t.spacingBox.width-i);var o=t.spacingBox.width-2*i-a.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(o/=2),this.maxLegendWidth=this.widthOption||o,n||(this.group=n=e.g("legend").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(n),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle();var s=this.getAllItems();v(s,(function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)})),a.reversed&&s.reverse(),this.allItems=s,this.display=o=!!s.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,s.forEach(this.renderItem,this),s.forEach(this.layoutItem,this),s=(this.widthOption||this.offsetWidth)+i;var c=this.lastItemY+this.lastLineHeight+this.titleHeight;c=this.handleOverflow(c),c+=i,r||(this.box=r=e.rect().addClass("highcharts-legend-box").attr({r:a.borderRadius}).add(n),r.isNew=!0),t.styledMode||r.attr({stroke:a.borderColor,"stroke-width":a.borderWidth||0,fill:a.backgroundColor||"none"}).shadow(a.shadow),0<s&&0<c&&(r[r.isNew?"attr":"animate"](r.crisp.call({},{x:0,y:0,width:s,height:c},r.strokeWidth())),r.isNew=!1),r[o?"show":"hide"](),t.styledMode&&"none"===n.getStyle("display")&&(s=c=0),this.legendWidth=s,this.legendHeight=c,o&&this.align(),this.proximate||this.positionItems(),u(this,"afterRender")},e.prototype.align=function(t){void 0===t&&(t=this.chart.spacingBox);var e=this.chart,n=this.options,r=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<e.titleOffset[0]?r+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<e.titleOffset[2]&&(r-=e.titleOffset[2]),r!==t.y&&(t=h(t,{y:r})),this.group.align(h(n,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":n.verticalAlign}),!0,t)},e.prototype.handleOverflow=function(t){var e=this,n=this.chart,r=n.renderer,a=this.options,i=a.y,o=this.padding;i=n.spacingBox.height+("top"===a.verticalAlign?-i:i)-o;var s,u,c=a.maxHeight,l=this.clipRect,h=a.navigation,p=f(h.animation,!0),d=h.arrowSize||12,v=this.nav,m=this.pages,g=this.allItems,y=function(t){"number"===typeof t?l.attr({height:t}):l&&(e.clipRect=l.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+o+"px,9999px,"+(o+t)+"px,0)":"auto")},b=function(t){return e[t]=r.circle(0,0,1.3*d).translate(d/2,d/2).add(v),n.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(i/=2),c&&(i=Math.min(i,c)),m.length=0,t>i&&!1!==h.enabled?(this.clipHeight=s=Math.max(i-20-this.titleHeight-o,0),this.currentPage=f(this.currentPage,1),this.fullHeight=t,g.forEach((function(t,e){var n=t._legendItemPos[1],r=Math.round(t.legendItem.getBBox().height),a=m.length;(!a||n-m[a-1]>s&&(u||n)!==m[a-1])&&(m.push(u||n),a++),t.pageIx=a-1,u&&(g[e-1].pageIx=a-1),e===g.length-1&&n+r-m[a-1]>s&&n!==u&&(m.push(n),t.pageIx=a),n!==u&&(u=n)})),l||(l=e.clipRect=r.clipRect(0,o,9999,0),e.contentGroup.clip(l)),y(s),v||(this.nav=v=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,d,d).add(v),b("upTracker").on("click",(function(){e.scroll(-1,p)})),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation"),n.styledMode||this.pager.css(h.style),this.pager.add(v),this.down=r.symbol("triangle-down",0,0,d,d).add(v),b("downTracker").on("click",(function(){e.scroll(1,p)}))),e.scroll(0),t=i):v&&(y(),this.nav=v.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},e.prototype.scroll=function(t,e){var n=this,a=this.chart,i=this.pages,o=i.length,s=this.currentPage+t;t=this.clipHeight;var c=this.options.navigation,l=this.pager,h=this.padding;s>o&&(s=o),0<s&&("undefined"!==typeof e&&d(e,a),this.nav.attr({translateX:h,translateY:t+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===s?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),l.attr({text:s+"/"+o}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:s===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),a.styledMode||(this.up.attr({fill:1===s?c.inactiveColor:c.activeColor}),this.upTracker.css({cursor:1===s?"default":"pointer"}),this.down.attr({fill:s===o?c.inactiveColor:c.activeColor}),this.downTracker.css({cursor:s===o?"default":"pointer"})),this.scrollOffset=-i[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=s,this.positionCheckboxes(),e=r(f(e,a.renderer.globalAnimation,!0)),m((function(){u(n,"afterScroll",{currentPage:s})}),e.duration||0))},e}();return(/Trident\/7\.0/.test(b.navigator&&b.navigator.userAgent)||g)&&e(x.prototype,"positionItem",(function(t,e){var n=this,r=function(){e._legendItemPos&&t.call(n,e)};r(),n.bubbleLegend||setTimeout(r)})),t.Legend=x,t.Legend})),e(n,"parts/Chart.js",[n["parts/Globals.js"],n["parts/Legend.js"],n["parts/MSPointer.js"],n["parts/Pointer.js"],n["parts/Time.js"],n["parts/Utilities.js"]],(function(t,e,n,r,a,i){var o=i.addEvent,s=i.animate,u=i.animObject,c=i.attr,l=i.createElement,h=i.css,f=i.defined,p=i.discardElement,d=i.erase,v=i.error,m=i.extend,g=i.find,y=i.fireEvent,b=i.getStyle,x=i.isArray,w=i.isFunction,O=i.isNumber,k=i.isObject,S=i.isString,E=i.merge,C=i.numberFormat,j=i.objectEach,T=i.pick,A=i.pInt,_=i.relativeLength,M=i.removeEvent,N=i.setAnimation,I=i.splat,D=i.syncTimeout,R=i.uniqueKey,P=t.doc,F=t.Axis,L=t.defaultOptions,z=t.charts,B=t.marginNames,W=t.seriesTypes,U=t.win,V=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new V(t,e,n)},m(V.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(S(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(e,n){var r,i=e.series,s=e.plotOptions||{};y(this,"init",{args:arguments},(function(){e.series=null;var u=(r=E(L,e)).chart||{};j(r.plotOptions,(function(t,e){k(t)&&(t.tooltip=s[e]&&E(s[e].tooltip)||void 0)})),r.tooltip.userOptions=e.chart&&e.chart.forExport&&e.tooltip.userOptions||e.tooltip,r.series=e.series=i,this.userOptions=e;var c=u.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=e.time&&Object.keys(e.time).length?new a(e.time):t.time,this.numberFormatter=u.numberFormatter||C,this.styledMode=u.styledMode,this.hasCartesianSeries=u.showAxes;var l=this;l.index=z.length,z.push(l),t.chartCount++,c&&j(c,(function(t,e){w(t)&&o(l,e,t)})),l.xAxis=[],l.yAxis=[],l.pointCount=l.colorCounter=l.symbolCounter=0,y(l,"afterInit"),l.firstRender()}))},initSeries:function(t){var e=this.options.chart;e=t.type||e.type||e.defaultSeriesType;var n=W[e];return n||v(17,!0,this,{missingModuleFor:e}),(e=new n).init(this,t),e},setSeriesData:function(){this.getSeriesOrderByLinks().forEach((function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)}))},getSeriesOrderByLinks:function(){return this.series.concat().sort((function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0}))},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var r=n?e:t;return r={x:r,y:t=n?t:e,isInsidePlot:0<=r&&r<=this.plotWidth&&0<=t&&t<=this.plotHeight},y(this,"afterIsInsidePlot",r),r.isInsidePlot},redraw:function(t){y(this,"beforeRedraw");var e=this.axes,n=this.series,r=this.pointer,a=this.legend,i=this.userOptions.legend,o=this.isDirtyLegend,s=this.hasCartesianSeries,u=this.isDirtyBox,c=this.renderer,l=c.isHidden(),h=[];for(this.setResponsive&&this.setResponsive(!1),N(!!this.hasRendered&&t,this),l&&this.temporaryDisplay(),this.layOutTitles(),t=n.length;t--;){var f=n[t];if(f.options.stacking){var p=!0;if(f.isDirty){var d=!0;break}}}if(d)for(t=n.length;t--;)(f=n[t]).options.stacking&&(f.isDirty=!0);n.forEach((function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),o=!0):i&&(i.labelFormatter||i.labelFormat)&&(o=!0)),t.isDirtyData&&y(t,"updatedData")})),o&&a&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),p&&this.getStacks(),s&&e.forEach((function(t){t.updateNames(),t.setScale()})),this.getMargins(),s&&(e.forEach((function(t){t.isDirty&&(u=!0)})),e.forEach((function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,h.push((function(){y(t,"afterSetExtremes",m(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(u||p)&&t.redraw()}))),u&&this.drawChartBox(),y(this,"predraw"),n.forEach((function(t){(u||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),r&&r.reset(!0),c.draw(),y(this,"redraw"),y(this,"render"),l&&this.temporaryDisplay(!0),h.forEach((function(t){t.call()}))},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,r=this.series,a=g(this.axes,e)||g(this.series,e);for(n=0;!a&&n<r.length;n++)a=g(r[n].points||[],e);return a},getAxes:function(){var t=this,e=this.options,n=e.xAxis=I(e.xAxis||{});e=e.yAxis=I(e.yAxis||{}),y(this,"getAxes"),n.forEach((function(t,e){t.index=e,t.isX=!0})),e.forEach((function(t,e){t.index=e})),n.concat(e).forEach((function(e){new F(t,e)})),y(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return this.series.forEach((function(e){t=t.concat(e.getPointsCollection().filter((function(t){return T(t.selectedStaging,t.selected)})))})),t},getSelectedSeries:function(){return this.series.filter((function(t){return t.selected}))},setTitle:function(t,e,n){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(n)},applyDescription:function(t,e){var n=this,r="title"===t?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};r=this.options[t]=E(!this.styledMode&&{style:r},this.options[t],e);var a=this[t];a&&e&&(this[t]=a=a.destroy()),r&&!a&&((a=this.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,class:"highcharts-"+t,zIndex:r.zIndex||4}).add()).update=function(e){n[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||a.css(r.style),this[t]=a)},layOutTitles:function(t){var e=[0,0,0],n=this.renderer,r=this.spacingBox;["title","subtitle","caption"].forEach((function(t){var a=this[t],i=this.options[t],o=i.verticalAlign||"top";if(t="title"===t?-3:"top"===o?e[0]+2:0,a){if(!this.styledMode)var s=i.style.fontSize;s=n.fontMetrics(s,a).b,a.css({width:(i.width||r.width+(i.widthAdjust||0))+"px"});var u=Math.round(a.getBBox(i.useHTML).height);a.align(m({y:"bottom"===o?s:t+s,height:u},i),!1,"spacingBox"),i.floating||("top"===o?e[0]=Math.ceil(e[0]+u):"bottom"===o&&(e[2]=Math.ceil(e[2]+u)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);var a=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,y(this,"afterLayOutTitles"),!this.isDirtyBox&&a&&(this.isDirtyBox=this.isDirtyLegend=a,this.hasRendered&&T(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,e=t.width;t=t.height;var n=this.renderTo;f(e)||(this.containerWidth=b(n,"width")),f(t)||(this.containerHeight=b(n,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,_(t,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(t){var e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(h(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(P.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style&&(P.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,P.body.appendChild(e)),("none"===b(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),h(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),(e=e.parentNode)!==P.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,r=this.options,a=r.chart,i=this.renderTo,o=R();i||(this.renderTo=i=a.renderTo),S(i)&&(this.renderTo=i=P.getElementById(i)),i||v(13,!0,this);var s=A(c(i,"data-highcharts-chart"));O(s)&&z[s]&&z[s].hasRendered&&z[s].destroy(),c(i,"data-highcharts-chart",this.index),i.innerHTML="",a.skipClone||i.offsetWidth||this.temporaryDisplay(),this.getChartSize(),s=this.chartWidth;var u=this.chartHeight;if(h(i,{overflow:"hidden"}),this.styledMode||(e=m({position:"relative",overflow:"hidden",width:s+"px",height:u+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style)),this.container=i=l("div",{id:o},e,i),this._cursor=i.style.cursor,this.renderer=new(t[a.renderer]||t.Renderer)(i,s,u,null,a.forExport,r.exporting&&r.exporting.allowHTML,this.styledMode),N(void 0,this),this.setClassName(a.className),this.styledMode)for(n in r.defs)this.renderer.definition(r.defs[n]);else this.renderer.setStyle(a.style);this.renderer.chartIndex=this.index,y(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,n=this.margin,r=this.titleOffset;this.resetMargins(),r[0]&&!f(n[0])&&(this.plotTop=Math.max(this.plotTop,r[0]+e[0])),r[2]&&!f(n[2])&&(this.marginBottom=Math.max(this.marginBottom,r[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),y(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.colorAxis,r=t.margin,a=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?a(t.axes):n&&n.length&&a(n),B.forEach((function(n,a){f(r[a])||(t[n]+=e[a])})),t.setChartSize()},reflow:function(t){var e=this,n=e.options.chart,r=e.renderTo,a=f(n.width)&&f(n.height),o=n.width||b(r,"width");n=n.height||b(r,"height"),r=t?t.target:U,a||e.isPrinting||!o||!n||r!==U&&r!==P||(o===e.containerWidth&&n===e.containerHeight||(i.clearTimeout(e.reflowTimeout),e.reflowTimeout=D((function(){e.container&&e.setSize(void 0,void 0,!1)}),t?100:0)),e.containerWidth=o,e.containerHeight=n)},setReflow:function(t){var e=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=o(U,"resize",(function(t){e.options&&e.reflow(t)})),o(this,"destroy",this.unbindReflow))},setSize:function(t,e,n){var r=this,a=r.renderer;r.isResizing+=1,N(n,r),n=a.globalAnimation,r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,"undefined"!==typeof t&&(r.options.chart.width=t),"undefined"!==typeof e&&(r.options.chart.height=e),r.getChartSize(),r.styledMode||(n?s:h)(r.container,{width:r.chartWidth+"px",height:r.chartHeight+"px"},n),r.setChartSize(!0),a.setSize(r.chartWidth,r.chartHeight,n),r.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,y(r,"resize"),D((function(){r&&y(r,"endResize",null,(function(){--r.isResizing}))}),u(n).duration||0)},setChartSize:function(t){var e,n,r,a,i=this.inverted,o=this.renderer,s=this.chartWidth,u=this.chartHeight,c=this.options.chart,l=this.spacing,h=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(s-e-this.marginRight)),this.plotHeight=a=Math.max(0,Math.round(u-n-this.marginBottom)),this.plotSizeX=i?a:r,this.plotSizeY=i?r:a,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:l[3],y:l[0],width:s-l[3]-l[1],height:u-l[0]-l[2]},this.plotBox=o.plotBox={x:e,y:n,width:r,height:a},s=2*Math.floor(this.plotBorderWidth/2),i=Math.ceil(Math.max(s,h[3])/2),o=Math.ceil(Math.max(s,h[0])/2),this.clipBox={x:i,y:o,width:Math.floor(this.plotSizeX-Math.max(s,h[1])/2-i),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,h[2])/2-o))},t||this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),y(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){y(this,"resetMargins");var t=this,e=t.options.chart;["margin","spacing"].forEach((function(n){var r=e[n],a=k(r)?r:[r,r,r,r];["Top","Right","Bottom","Left"].forEach((function(r,i){t[n][i]=T(e[n+r],a[i])}))})),B.forEach((function(e,n){t[e]=T(t.margin[n],t.spacing[n])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,n=this.renderer,r=this.chartWidth,a=this.chartHeight,i=this.chartBackground,o=this.plotBackground,s=this.plotBorder,u=this.styledMode,c=this.plotBGImage,l=e.backgroundColor,h=e.plotBackgroundColor,f=e.plotBackgroundImage,p=this.plotLeft,d=this.plotTop,v=this.plotWidth,m=this.plotHeight,g=this.plotBox,b=this.clipRect,x=this.clipBox,w="animate";if(i||(this.chartBackground=i=n.rect().addClass("highcharts-background").add(),w="attr"),u)var O=t=i.strokeWidth();else t=(O=e.borderWidth||0)+(e.shadow?8:0),l={fill:l||"none"},(O||i["stroke-width"])&&(l.stroke=e.borderColor,l["stroke-width"]=O),i.attr(l).shadow(e.shadow);i[w]({x:t/2,y:t/2,width:r-t-O%2,height:a-t-O%2,r:e.borderRadius}),w="animate",o||(w="attr",this.plotBackground=o=n.rect().addClass("highcharts-plot-background").add()),o[w](g),u||(o.attr({fill:h||"none"}).shadow(e.plotShadow),f&&(c?(f!==c.attr("href")&&c.attr("href",f),c.animate(g)):this.plotBGImage=n.image(f,p,d,v,m).add())),b?b.animate({width:x.width,height:x.height}):this.clipRect=n.clipRect(x),w="animate",s||(w="attr",this.plotBorder=s=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),u||s.attr({stroke:e.plotBorderColor,"stroke-width":e.plotBorderWidth||0,fill:"none"}),s[w](s.crisp({x:p,y:d,width:v,height:m},-s.strokeWidth())),this.isDirtyBox=!1,y(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,n,r=this,a=r.options.chart,i=r.options.series;["inverted","angular","polar"].forEach((function(o){for(t=W[a.type||a.defaultSeriesType],n=a[o]||t&&t.prototype[o],e=i&&i.length;!n&&e--;)(t=W[i[e].type])&&t.prototype[o]&&(n=!0);r[o]=n}))},linkSeries:function(){var t=this,e=t.series;e.forEach((function(t){t.linkedSeries.length=0})),e.forEach((function(e){var n=e.options.linkedTo;S(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,n.enabledDataSorting&&e.setDataSortingOptions(),e.visible=T(e.options.visible,n.options.visible,e.visible))})),y(this,"afterLinkSeries")},renderSeries:function(){this.series.forEach((function(t){t.translate(),t.render()}))},renderLabels:function(){var t=this,e=t.options.labels;e.items&&e.items.forEach((function(n){var r=m(e.style,n.style),a=A(r.left)+t.plotLeft,i=A(r.top)+t.plotTop+12;delete r.left,delete r.top,t.renderer.text(n.html,a,i).attr({zIndex:2}).css(r).add()}))},render:function(){var t=this.axes,n=this.colorAxis,r=this.renderer,a=this.options,i=0,o=function(t){t.forEach((function(t){t.visible&&t.render()}))};this.setTitle(),this.legend=new e(this,a.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),a=this.plotWidth,t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return i=21,!0}));var s=this.plotHeight=Math.max(this.plotHeight-i,0);t.forEach((function(t){t.setScale()})),this.getAxisMargins();var u=1.1<a/this.plotWidth,c=1.05<s/this.plotHeight;(u||c)&&(t.forEach((function(t){(t.horiz&&u||!t.horiz&&c)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?o(t):n&&n.length&&o(n),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.updateContainerScaling(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=E(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){t.href&&(U.location.href=t.href)})).attr({align:t.position.align,zIndex:8}),e.styledMode||this.credits.css(t.style),this.credits.add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},updateContainerScaling:function(){var t=this.container;if(t.offsetWidth&&t.offsetHeight&&t.getBoundingClientRect){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth;t=e.height/t.offsetHeight,1!==n||1!==t?this.containerScaling={scaleX:n,scaleY:t}:delete this.containerScaling}},destroy:function(){var e,n=this,r=n.axes,a=n.series,i=n.container,o=i&&i.parentNode;for(y(n,"destroy"),n.renderer.forExport?d(z,n):z[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),M(n),e=r.length;e--;)r[e]=r[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=a.length;e--;)a[e]=a[e].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())})),i&&(i.innerHTML="",M(i),o&&p(i)),j(n,(function(t,e){delete n[e]}))},firstRender:function(){var e=this,a=e.options;e.isReadyToRender&&!e.isReadyToRender()||(e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),(x(a.series)?a.series:[]).forEach((function(t){e.initSeries(t)})),e.linkSeries(),e.setSeriesData(),y(e,"beforeRender"),r&&(e.pointer=t.hasTouch||!U.PointerEvent&&!U.MSPointerEvent?new r(e,a):new n(e,a)),e.render(),e.renderer.imgCount||e.hasLoaded||e.onload(),e.temporaryDisplay(!0))},onload:function(){this.callbacks.concat([this.callback]).forEach((function(t){t&&"undefined"!==typeof this.index&&t.apply(this,[this])}),this),y(this,"load"),y(this,"render"),f(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0}})})),e(n,"parts/ScrollablePlotArea.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.addEvent,r=e.createElement,a=e.pick,i=e.stop;e=t.Chart,n(e,"afterSetChartSize",(function(e){var n=this.options.chart.scrollablePlotArea,r=n&&n.minWidth;if(n=n&&n.minHeight,!this.renderer.forExport){if(r){if(this.scrollablePixelsX=r=Math.max(0,r-this.chartWidth)){this.plotWidth+=r,this.inverted?(this.clipBox.height+=r,this.plotBox.height+=r):(this.clipBox.width+=r,this.plotBox.width+=r);var a={1:{name:"right",value:r}}}}else n&&(this.scrollablePixelsY=r=Math.max(0,n-this.chartHeight))&&(this.plotHeight+=r,this.inverted?(this.clipBox.width+=r,this.plotBox.width+=r):(this.clipBox.height+=r,this.plotBox.height+=r),a={2:{name:"bottom",value:r}});a&&!e.skipAxes&&this.axes.forEach((function(e){a[e.side]?e.getPlotLinePath=function(){var n=a[e.side].name,r=this[n];this[n]=r-a[e.side].value;var i=t.Axis.prototype.getPlotLinePath.apply(this,arguments);return this[n]=r,i}:(e.setAxisSize(),e.setAxisTranslation())}))}})),n(e,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),e.prototype.setUpScrolling=function(){var t=this,e={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(e.overflowX="auto"),this.scrollablePixelsY&&(e.overflowY="auto"),this.scrollingContainer=r("div",{className:"highcharts-scrolling"},e,this.renderTo),n(this.scrollingContainer,"scroll",(function(){t.pointer&&delete t.pointer.chartPosition})),this.innerContainer=r("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},e.prototype.moveFixedElements=function(){var t,e=this.container,n=this.fixedRenderer,r=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),r.push(t,t+"-labels"),r.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===n.SVG_NS?n.box:n.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},e.prototype.applyFixed=function(){var e,o,s=!this.fixedDiv,u=this.options.chart.scrollablePlotArea;s?(this.fixedDiv=r("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.renderTo.style.overflow="visible",this.fixedRenderer=o=new t.Renderer(this.fixedDiv,this.chartWidth,this.chartHeight,null===(e=this.options.chart)||void 0===e?void 0:e.style),this.scrollableMask=o.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":a(u.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),this.moveFixedElements(),n(this,"afterShowResetZoom",this.moveFixedElements),n(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),e=this.chartWidth+(this.scrollablePixelsX||0),o=this.chartHeight+(this.scrollablePixelsY||0),i(this.container),this.container.style.width=e+"px",this.container.style.height=o+"px",this.renderer.boxWrapper.attr({width:e,height:o,viewBox:[0,0,e,o].join(" ")}),this.chartBackground.attr({width:e,height:o}),this.scrollingContainer.style.height=this.chartHeight+"px",s&&(u.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*u.scrollPositionX),u.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*u.scrollPositionY)),o=this.axisOffset,s=this.plotTop-o[0]-1,u=this.plotLeft-o[3]-1,e=this.plotTop+this.plotHeight+o[2]+1,o=this.plotLeft+this.plotWidth+o[1]+1;var c=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),l=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);s=this.scrollablePixelsX?[["M",0,s],["L",this.plotLeft-1,s],["L",this.plotLeft-1,e],["L",0,e],["Z"],["M",c,s],["L",this.chartWidth,s],["L",this.chartWidth,e],["L",c,e],["Z"]]:this.scrollablePixelsY?[["M",u,0],["L",u,this.plotTop-1],["L",o,this.plotTop-1],["L",o,0],["Z"],["M",u,l],["L",u,this.chartHeight],["L",o,this.chartHeight],["L",o,l],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:s})}})),e(n,"parts/StackingAxis.js",[n["parts/Utilities.js"]],(function(t){var e=t.addEvent,n=t.destroyObjectProperties,r=t.fireEvent,a=t.objectEach,i=t.pick,o=function(){function t(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}return t.prototype.buildStacks=function(){var t,e=this.axis,n=e.series,a=i(e.options.reversedStacks,!0),o=n.length;if(!e.isXAxis){for(this.usePercentage=!1,t=o;t--;){n[a?t:o-t-1].setStackedPoints()}for(t=0;t<o;t++)n[t].modifyStacks();r(e,"afterBuildStacks")}},t.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var t=this.stacks=this.oldStacks;a(t,(function(t){a(t,(function(t){t.cumulative=t.total}))}))}},t.prototype.resetStacks=function(){var t=this,e=t.stacks;t.axis.isXAxis||a(e,(function(e){a(e,(function(n,r){n.touched<t.stacksTouched?(n.destroy(),delete e[r]):(n.total=null,n.cumulative=null)}))}))},t.prototype.renderStackTotals=function(){var t=this.axis.chart,e=t.renderer,n=this.stacks,r=this.stackTotalGroup=this.stackTotalGroup||e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add();r.translate(t.plotLeft,t.plotTop),a(n,(function(t){a(t,(function(t){t.render(r)}))}))},t}();return function(){function t(){}return t.compose=function(n){e(n,"init",t.onInit),e(n,"destroy",t.onDestroy)},t.onDestroy=function(){var t=this.stacking;if(t){var e=t.stacks;a(e,(function(t,r){n(t),e[r]=null})),t&&t.stackTotalGroup&&t.stackTotalGroup.destroy()}},t.onInit=function(){this.stacking||(this.stacking=new o(this))},t}()})),e(n,"mixins/legend-symbol.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.merge,r=e.pick;return t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,a=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(a?(t.symbolWidth-n)/2:0,t.baseline-n+1,a?n:t.symbolWidth,n,r(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,a=e.marker,i=t.symbolWidth,o=t.symbolHeight,s=o/2,u=this.chart.renderer,c=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var l={};this.chart.styledMode||(l={"stroke-width":e.lineWidth||0},e.dashStyle&&(l.dashstyle=e.dashStyle)),this.legendLine=u.path(["M",0,t,"L",i,t]).addClass("highcharts-graph").attr(l).add(c),a&&!1!==a.enabled&&i&&(e=Math.min(r(a.radius,s),s),0===this.symbol.indexOf("url")&&(a=n(a,{width:o,height:o}),e=0),this.legendSymbol=a=u.symbol(this.symbol,i/2-e,t-e,2*e,2*e,a).addClass("highcharts-point").add(c),a.isMarker=!0)}},t.LegendSymbolMixin})),e(n,"parts/Point.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.animObject,r=e.defined,a=e.erase,i=e.extend,o=e.fireEvent,s=e.format,u=e.getNestedProperty,c=e.isArray,l=e.isNumber,h=e.isObject,f=e.syncTimeout,p=e.pick,d=e.removeEvent,v=e.uniqueKey;return e=function(){function t(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return t.prototype.animateBeforeDestroy=function(){var t,e=this,n={x:e.startXPos,opacity:0},r=e.getGraphicalProps();r.singular.forEach((function(r){t="dataLabel"===r,e[r]=e[r].animate(t?{x:e[r].startXPos,y:e[r].startYPos,opacity:0}:n)})),r.plural.forEach((function(t){e[t].forEach((function(t){t.element&&t.animate(i({x:e.startXPos},t.startYPos?{x:t.startXPos,y:t.startYPos}:{}))}))}))},t.prototype.applyOptions=function(e,n){var r=this.series,a=r.options.pointValKey||r.pointValKey;return e=t.prototype.optionsToObject.call(this,e),i(this,e),this.options=this.options?i(this.options,e):e,e.group&&delete this.group,e.dataLabels&&delete this.dataLabels,a&&(this.y=t.prototype.getNestedProperty.call(this,a)),this.formatPrefix=(this.isNull=p(this.isValid&&!this.isValid(),null===this.x||!l(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&"undefined"===typeof n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),"undefined"===typeof this.x&&r&&(this.x="undefined"===typeof n?r.autoIncrement(this):n),this},t.prototype.destroy=function(){function t(){for(o in(e.graphic||e.dataLabel||e.dataLabels)&&(d(e),e.destroyElements()),e)e[o]=null}var e=this,r=e.series,i=r.chart;r=r.options.dataSorting;var o,s=i.hoverPoints,u=n(e.series.chart.renderer.globalAnimation);e.legendItem&&i.legend.destroyItem(e),s&&(e.setState(),a(s,e),s.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),r&&r.enabled?(this.animateBeforeDestroy(),f(t,u.duration)):t(),i.pointCount--},t.prototype.destroyElements=function(t){var e=this;(t=e.getGraphicalProps(t)).singular.forEach((function(t){e[t]=e[t].destroy()})),t.plural.forEach((function(t){e[t].forEach((function(t){t.element&&t.destroy()})),delete e[t]}))},t.prototype.firePointEvent=function(t,e,n){var r=this,a=this.series.options;(a.point.events[t]||r.options&&r.options.events&&r.options.events[t])&&r.importEvents(),"click"===t&&a.allowPointSelect&&(n=function(t){r.select&&r.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(r,t,e,n)},t.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},t.prototype.getGraphicalProps=function(t){var e,n=this,r=[],a={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","shadowGroup"),t.dataLabel&&r.push("dataLabel","dataLabelUpper","connector"),e=r.length;e--;){var i=r[e];n[i]&&a.singular.push(i)}return["dataLabel","connector"].forEach((function(e){var r=e+"s";t[e]&&n[r]&&a.plural.push(r)})),a},t.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},t.prototype.getNestedProperty=function(t){if(t)return 0===t.indexOf("custom.")?u(t,this.options):this[t]},t.prototype.getZone=function(){var t=this.series,e=t.zones;t=t.zoneAxis||"y";var n,r=0;for(n=e[r];this[t]>=n.value;)n=e[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=n&&n.color&&!this.options.color?n.color:this.nonZonedColor,n},t.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},t.prototype.init=function(t,e,n){return this.series=t,this.applyOptions(e,n),this.id=r(this.id)?this.id:v(),this.resolveColor(),t.chart.pointCount++,o(this,"afterInit"),this},t.prototype.optionsToObject=function(e){var n={},r=this.series,a=r.options.keys,i=a||r.pointArrayMap||["y"],o=i.length,s=0,u=0;if(l(e)||null===e)n[i[0]]=e;else if(c(e))for(!a&&e.length>o&&("string"===(r=typeof e[0])?n.name=e[0]:"number"===r&&(n.x=e[0]),s++);u<o;)a&&"undefined"===typeof e[s]||(0<i[u].indexOf(".")?t.prototype.setNestedProperty(n,e[s],i[u]):n[i[u]]=e[s]),s++,u++;else"object"===typeof e&&(n=e,e.dataLabels&&(r._hasPointLabels=!0),e.marker&&(r._hasPointMarkers=!0));return n},t.prototype.resolveColor=function(){var t=this.series,e=t.chart.options.chart.colorCount,n=t.chart.styledMode;delete this.nonZonedColor,n||this.options.color||(this.color=t.color),t.options.colorByPoint?(n||(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length),n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=p(this.colorIndex,n)},t.prototype.setNestedProperty=function(t,e,n){return n.split(".").reduce((function(t,n,r,a){return t[n]=a.length-1===r?e:h(t[n],!0)?t[n]:{},t[n]}),t),t},t.prototype.tooltipFormatter=function(t){var e=this.series,n=e.tooltipOptions,r=p(n.valueDecimals,""),a=n.valuePrefix||"",i=n.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(a||i)&&(t=t.replace(RegExp(e+"}","g"),a+e+"}"+i)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")})),s(t,{point:this,series:this.series},e.chart)},t}(),t.Point=e,t.Point})),e(n,"parts/Series.js",[n["mixins/legend-symbol.js"],n["parts/Globals.js"],n["parts/Point.js"],n["parts/Utilities.js"]],(function(t,e,n,r){var a=r.addEvent,i=r.animObject,o=r.arrayMax,s=r.arrayMin,u=r.clamp,c=r.correctFloat,l=r.defined,h=r.erase,f=r.error,p=r.extend,d=r.find,v=r.fireEvent,m=r.getNestedProperty,g=r.isArray,y=r.isFunction,b=r.isNumber,x=r.isString,w=r.merge,O=r.objectEach,k=r.pick,S=r.removeEvent,E=r.seriesType,C=r.splat,j=r.syncTimeout,T=e.defaultOptions,A=e.defaultPlotOptions,_=e.seriesTypes,M=e.SVGElement,N=e.win;e.Series=E("line",null,{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){var t=this.series.chart.numberFormatter;return"number"!==typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,eventsToUnbind:[],isCartesian:!0,parallelArrays:["x","y"],pointClass:n,requireSorting:!0,sorted:!0,init:function(t,e){v(this,"init",{options:e});var n,r=this,i=t.series;this.eventOptions=this.eventOptions||{},r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),p(r,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected});var o=e.events;O(o,(function(t,e){y(t)&&r.eventOptions[e]!==t&&(y(r.eventOptions[e])&&S(r,e,r.eventOptions[e]),r.eventOptions[e]=t,a(r,e,t))})),(o&&o.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),r.parallelArrays.forEach((function(t){r[t+"Data"]||(r[t+"Data"]=[])})),r.isCartesian&&(t.hasCartesianSeries=!0),i.length&&(n=i[i.length-1]),r._i=k(n&&n._i,-1)+1,t.orderSeries(this.insert(i)),e.dataSorting&&e.dataSorting.enabled?r.setDataSortingOptions():r.points||r.data||r.setData(e.data,!1),v(this,"afterInit")},is:function(t){return _[t]&&this instanceof _[t]},insert:function(t){var e,n=this.options.index;if(b(n)){for(e=t.length;e--;)if(n>=k(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return k(e,t.length-1)},bindAxes:function(){var t,e=this,n=e.options,r=e.chart;v(this,"bindAxes",null,(function(){(e.axisTypes||[]).forEach((function(a){r[a].forEach((function(r){t=r.options,(n[a]===t.index||"undefined"!==typeof n[a]&&n[a]===t.id||"undefined"===typeof n[a]&&0===t.index)&&(e.insert(r.series),e[a]=r,r.isDirty=!0)})),e[a]||e.optionalAxis===a||f(18,!0,r)}))})),v(this,"afterBindAxes")},updateParallelArrays:function(t,e){var n=t.series,r=arguments,a=b(e)?function(r){var a="y"===r&&n.toYData?n.toYData(t):t[r];n[r+"Data"][e]=a}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(r,2))};n.parallelArrays.forEach(a)},hasData:function(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||this.visible&&this.yData&&0<this.yData.length},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,r=e.pointIntervalUnit,a=this.chart.time;return n=k(n,e.pointStart,0),this.pointInterval=t=k(this.pointInterval,e.pointInterval,1),r&&(e=new a.Date(n),"day"===r?a.set("Date",e,a.get("Date",e)+t):"month"===r?a.set("Month",e,a.get("Month",e)+t):"year"===r&&a.set("FullYear",e,a.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setDataSortingOptions:function(){var t=this.options;p(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),l(t.pointRange)||(t.pointRange=1)},setOptions:function(t){var e=this.chart,n=e.options,r=n.plotOptions,a=e.userOptions||{};t=w(t),e=e.styledMode;var i={plotOptions:r,userOptions:t};v(this,"setOptions",i);var o=i.plotOptions[this.type],s=a.plotOptions||{};return this.userOptions=i.userOptions,a=w(o,r.series,a.plotOptions&&a.plotOptions[this.type],t),this.tooltipOptions=w(T.tooltip,T.plotOptions.series&&T.plotOptions.series.tooltip,T.plotOptions[this.type].tooltip,n.tooltip.userOptions,r.series&&r.series.tooltip,r[this.type].tooltip,t.tooltip),this.stickyTracking=k(t.stickyTracking,s[this.type]&&s[this.type].stickyTracking,s.series&&s.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||a.stickyTracking),null===o.marker&&delete a.marker,this.zoneAxis=a.zoneAxis,n=this.zones=(a.zones||[]).slice(),!a.negativeColor&&!a.negativeFillColor||a.zones||(r={value:a[this.zoneAxis+"Threshold"]||a.threshold||0,className:"highcharts-negative"},e||(r.color=a.negativeColor,r.fillColor=a.negativeFillColor),n.push(r)),n.length&&l(n[n.length-1].value)&&n.push(e?{}:{color:this.color,fillColor:this.fillColor}),v(this,"afterSetOptions",{options:a}),a},getName:function(){return k(this.options.name,"Series "+(this.index+1))},getCyclic:function(t,e,n){var r=this.chart,a=this.userOptions,i=t+"Index",o=t+"Counter",s=n?n.length:k(r.options.chart[t+"Count"],r[t+"Count"]);if(!e){var u=k(a[i],a["_"+i]);l(u)||(r.series.length||(r[o]=0),a["_"+i]=u=r[o]%s,r[o]+=1),n&&(e=n[u])}"undefined"!==typeof u&&(this[i]=u),this[t]=e},getColor:function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||A[this.type].color,this.chart.options.colors)},getPointsCollection:function(){return(this.hasGroupedData?this.points:this.data)||[]},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},findPointIndex:function(t,e){var n,r=t.id,a=t.x,i=this.points,o=this.options.dataSorting;if(r)var s=this.chart.get(r);else if(this.linkedParent||this.enabledDataSorting){var u=o&&o.matchByName?"name":"index";if(!(s=d(i,(function(e){return!e.touched&&e[u]===t[u]}))))return}if(s){var c=s&&s.index;"undefined"!==typeof c&&(n=!0)}return"undefined"===typeof c&&b(a)&&(c=this.xData.indexOf(a,e)),-1!==c&&"undefined"!==typeof c&&this.cropped&&(c=c>=this.cropStart?c-this.cropStart:c),!n&&i[c]&&i[c].touched&&(c=void 0),c},drawLegendSymbol:t.drawLineMarker,updateData:function(t,e){var n,r,a,i=this.options,s=i.dataSorting,u=this.points,c=[],h=this.requireSorting,f=t.length===u.length,p=!0;if(this.xIncrement=null,t.forEach((function(t,e){var r=l(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{},o=r.x;r.id||b(o)?(-1===(o=this.findPointIndex(r,a))||"undefined"===typeof o?c.push(t):u[o]&&t!==i.data[o]?(u[o].update(t,!1,null,!1),u[o].touched=!0,h&&(a=o+1)):u[o]&&(u[o].touched=!0),(!f||e!==o||s&&s.enabled||this.hasDerivedData)&&(n=!0)):c.push(t)}),this),n)for(t=u.length;t--;)(r=u[t])&&!r.touched&&r.remove&&r.remove(!1,e);else!f||s&&s.enabled?p=!1:(t.forEach((function(t,e){u[e].update&&t!==u[e].y&&u[e].update(t,!1,null,!1)})),c.length=0);return u.forEach((function(t){t&&(t.touched=!1)})),!!p&&(c.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=o(this.xData),this.autoIncrement()),!0)},setData:function(t,e,n,r){var a,i=this,o=i.points,s=o&&o.length||0,u=i.options,c=i.chart,l=u.dataSorting,h=null,p=i.xAxis;h=u.turboThreshold;var d,v=this.xData,m=this.yData,y=(a=i.pointArrayMap)&&a.length,w=u.keys,O=0,S=1;if(a=(t=t||[]).length,e=k(e,!0),l&&l.enabled&&(t=this.sortData(t)),!1!==r&&a&&s&&!i.cropped&&!i.hasGroupedData&&i.visible&&!i.isSeriesBoosting&&(d=this.updateData(t,n)),!d){if(i.xIncrement=null,i.colorCounter=0,this.parallelArrays.forEach((function(t){i[t+"Data"].length=0})),h&&a>h)if(h=i.getFirstValidPoint(t),b(h))for(n=0;n<a;n++)v[n]=this.autoIncrement(),m[n]=t[n];else if(g(h))if(y)for(n=0;n<a;n++)r=t[n],v[n]=r[0],m[n]=r.slice(1,y+1);else for(w&&(O=0<=(O=w.indexOf("x"))?O:0,S=0<=(S=w.indexOf("y"))?S:1),n=0;n<a;n++)r=t[n],v[n]=r[O],m[n]=r[S];else f(12,!1,c);else for(n=0;n<a;n++)"undefined"!==typeof t[n]&&(r={series:i},i.pointClass.prototype.applyOptions.apply(r,[t[n]]),i.updateParallelArrays(r,n));for(m&&x(m[0])&&f(14,!0,c),i.data=[],i.options.data=i.userOptions.data=t,n=s;n--;)o[n]&&o[n].destroy&&o[n].destroy();p&&(p.minRange=p.userMinRange),i.isDirty=c.isDirtyBox=!0,i.isDirtyData=!!o,n=!1}"point"===u.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(n)},sortData:function(t){var e=this,n=e.options.dataSorting.sortKey||"y",r=function(t,e){return l(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};return t.forEach((function(n,a){t[a]=r(e,n),t[a].index=a}),this),t.concat().sort((function(t,e){return t=m(n,t),(e=m(n,e))<t?-1:e>t?1:0})).forEach((function(t,e){t.x=e}),this),e.linkedSeries&&e.linkedSeries.forEach((function(e){var n=e.options,a=n.data;n.dataSorting&&n.dataSorting.enabled||!a||(a.forEach((function(n,i){a[i]=r(e,n),t[i]&&(a[i].x=t[i].x,a[i].index=i)})),e.setData(a,!1))})),t},getProcessedData:function(t){var e=this.xData,n=this.yData,r=e.length,a=0,i=this.xAxis,o=this.options,s=o.cropThreshold,u=t||this.getExtremesFromAll||o.getExtremesFromAll,c=this.isCartesian;t=i&&i.val2lin,o=!(!i||!i.logarithmic);var l=this.requireSorting;if(i)var h=(i=i.getExtremes()).min,p=i.max;if(c&&this.sorted&&!u&&(!s||r>s||this.forceCrop))if(e[r-1]<h||e[0]>p)e=[],n=[];else if(this.yData&&(e[0]<h||e[r-1]>p)){e=(a=this.cropData(this.xData,this.yData,h,p)).xData,n=a.yData,a=a.start;var d=!0}for(s=e.length||1;--s;)if(0<(r=o?t(e[s])-t(e[s-1]):e[s]-e[s-1])&&("undefined"===typeof v||r<v))var v=r;else 0>r&&l&&(f(15,!1,this.chart),l=!1);return{xData:e,yData:n,cropped:d,cropStart:a,closestPointRange:v}},processData:function(t){var e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;t=this.getProcessedData(),this.cropped=t.cropped,this.cropStart=t.cropStart,this.processedXData=t.xData,this.processedYData=t.yData,this.closestPointRange=this.basePointRange=t.closestPointRange},cropData:function(t,e,n,r,a){var i,o=t.length,s=0,u=o;for(a=k(a,this.cropShoulder),i=0;i<o;i++)if(t[i]>=n){s=Math.max(0,i-a);break}for(n=i;n<o;n++)if(t[n]>r){u=n+a;break}return{xData:t.slice(s,u),yData:e.slice(s,u),start:s,end:u}},generatePoints:function(){var t,e=this.options,n=e.data,r=this.data,a=this.processedXData,i=this.processedYData,o=this.pointClass,s=a.length,u=this.cropStart||0,c=this.hasGroupedData;e=e.keys;var l,h=[];for(r||c||((r=[]).length=n.length,r=this.data=r),e&&c&&(this.options.keys=!1),l=0;l<s;l++){var f=u+l;if(c){var d=(new o).init(this,[a[l]].concat(C(i[l])));d.dataGroup=this.groupMap[l],d.dataGroup.options&&(d.options=d.dataGroup.options,p(d,d.dataGroup.options),delete d.dataLabels)}else(d=r[f])||"undefined"===typeof n[f]||(r[f]=d=(new o).init(this,n[f],a[l]));d&&(d.index=f,h[l]=d)}if(this.options.keys=e,r&&(s!==(t=r.length)||c))for(l=0;l<t;l++)l!==u||c||(l+=s),r[l]&&(r[l].destroyElements(),r[l].plotX=void 0);this.data=r,this.points=h,v(this,"afterGeneratePoints")},getXExtremes:function(t){return{min:s(t),max:o(t)}},getExtremes:function(t,e){var n,r=this.xAxis,a=this.yAxis,i=this.processedXData||this.xData,u=[],c=0,l=0,h=0,f=this.requireSorting?this.cropShoulder:0,p=!!a&&a.positiveValuesOnly;for(a=(t=t||this.stackedYData||this.processedYData||[]).length,r&&(l=(h=r.getExtremes()).min,h=h.max),n=0;n<a;n++){var d=i[n],m=t[n],y=(b(m)||g(m))&&(m.length||0<m||!p);if(d=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!r||(i[n+f]||d)>=l&&(i[n-f]||d)<=h,y&&d)if(y=m.length)for(;y--;)b(m[y])&&(u[c++]=m[y]);else u[c++]=m}return t={dataMin:s(u),dataMax:o(u)},v(this,"afterGetExtremes",{dataExtremes:t}),t},applyExtremes:function(){var t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t},getFirstValidPoint:function(t){for(var e=null,n=t.length,r=0;null===e&&r<n;)e=t[r],r++;return e},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n=this.options,r=n.stacking,a=this.xAxis,i=a.categories,o=this.enabledDataSorting,s=this.yAxis,h=this.points,f=h.length,p=!!this.modifyValue,d=this.pointPlacementToXValue(),m=!!d,y=n.threshold,x=n.startFromThreshold?y:0,w=this.zoneAxis||"y",O=Number.MAX_VALUE;for(t=0;t<f;t++){var S=h[t],E=S.x,C=S.y,j=S.low,T=r&&s.stacking&&s.stacking.stacks[(this.negStacks&&C<(x?0:y)?"-":"")+this.stackKey];if(s.positiveValuesOnly&&null!==C&&0>=C&&(S.isNull=!0),S.plotX=e=c(u(a.translate(E,0,0,0,1,d,"flags"===this.type),-1e5,1e5)),r&&this.visible&&T&&T[E]){var A=this.getStackIndicator(A,E,this.index);if(!S.isNull)var _=T[E],M=_.points[A.key]}if(g(M)&&(j=M[0],C=M[1],j===x&&A.key===T[E].base&&(j=k(b(y)&&y,s.min)),s.positiveValuesOnly&&0>=j&&(j=null),S.total=S.stackTotal=_.total,S.percentage=_.total&&S.y/_.total*100,S.stackY=C,this.irregularWidths||_.setOffset(this.pointXOffset||0,this.barW||0)),S.yBottom=l(j)?u(s.translate(j,0,1,0,1),-1e5,1e5):null,p&&(C=this.modifyValue(C,S)),S.plotY="number"===typeof C&&1/0!==C?u(s.translate(C,0,1,0,1),-1e5,1e5):void 0,S.isInside=this.isPointInside(S),S.clientX=m?c(a.translate(E,0,0,0,1,d)):e,S.negative=S[w]<(n[w+"Threshold"]||y||0),S.category=i&&"undefined"!==typeof i[S.x]?i[S.x]:S.x,!S.isNull&&!1!==S.visible){"undefined"!==typeof N&&(O=Math.min(O,Math.abs(e-N)));var N=e}S.zone=this.zones.length&&S.getZone(),!S.graphic&&this.group&&o&&(S.isNew=!0)}this.closestPointRangePx=O,v(this,"afterTranslate")},getValidPoints:function(t,e,n){var r=this.chart;return(t||this.points||[]).filter((function(t){return!(e&&!r.isInsidePlot(t.plotX,t.plotY,r.inverted))&&(!1!==t.visible&&(n||!t.isNull))}))},getClipBox:function(t,e){var n=this.options,r=this.chart,a=r.inverted,i=this.xAxis,o=i&&this.yAxis;return t&&!1===n.clip&&o?t=a?{y:-r.chartWidth+o.len+o.pos,height:r.chartWidth,width:r.chartHeight,x:-r.chartHeight+i.len+i.pos}:{y:-o.pos,height:r.chartHeight,width:r.chartWidth,x:-i.pos}:(t=this.clipBox||r.clipBox,e&&(t.width=r.plotSizeX,t.x=0)),e?{width:t.width,x:t.x}:t},setClip:function(t){var e=this.chart,n=this.options,r=e.renderer,a=e.inverted,i=this.clipBox,o=this.getClipBox(t),s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,o.height,n.xAxis,n.yAxis].join(),u=e[s],c=e[s+"m"];t&&(o.width=0,a&&(o.x=e.plotHeight+(!1!==n.clip?0:e.plotTop))),u?e.hasLoaded||u.attr(o):(t&&(e[s+"m"]=c=r.clipRect(a?e.plotSizeX+99:-99,a?-e.plotLeft:-e.plotTop,99,a?e.chartWidth:e.chartHeight)),e[s]=u=r.clipRect(o),u.count={length:0}),t&&!u.count[this.index]&&(u.count[this.index]=!0,u.count.length+=1),(!1!==n.clip||t)&&(this.group.clip(t||i?u:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=s),t||(u.count[this.index]&&(delete u.count[this.index],--u.count.length),0===u.count.length&&s&&e[s]&&(i||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e=this.chart,n=i(this.options.animation);if(!e.hasRendered)if(t)this.setClip(n);else{var r=this.sharedClipKey;t=e[r];var a=this.getClipBox(n,!0);t&&t.animate(a,n),e[r+"m"]&&e[r+"m"].animate({width:a.width+99,x:a.x-(e.inverted?0:99)},n)}},afterAnimate:function(){this.setClip(),v(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n=this.points,r=this.chart,a=this.options.marker,i=this[this.specialGroup]||this.markerGroup,o=this.xAxis,s=k(a.enabled,!(o&&!o.isRadial)||null,this.closestPointRangePx>=a.enabledThreshold*a.radius);if(!1!==a.enabled||this._hasPointMarkers)for(t=0;t<n.length;t++){var u=n[t],c=(e=u.graphic)?"animate":"attr",l=u.marker||{},h=!!u.marker;if((s&&"undefined"===typeof l.enabled||l.enabled)&&!u.isNull&&!1!==u.visible){var f=k(l.symbol,this.symbol),p=this.markerAttribs(u,u.selected&&"select");this.enabledDataSorting&&(u.startXPos=o.reversed?-p.width:o.width);var d=!1!==u.isInside;e?e[d?"show":"hide"](d).animate(p):d&&(0<p.width||u.hasImage)&&(u.graphic=e=r.renderer.symbol(f,p.x,p.y,p.width,p.height,h?l:a).add(i),this.enabledDataSorting&&r.hasRendered&&(e.attr({x:u.startXPos}),c="animate")),e&&"animate"===c&&e[d?"show":"hide"](d).animate(p),e&&!r.styledMode&&e[c](this.pointAttribs(u,u.selected&&"select")),e&&e.addClass(u.getClassName(),!0)}else e&&(u.graphic=e.destroy())}},markerAttribs:function(t,e){var n=this.options,r=n.marker,a=t.marker||{},i=a.symbol||r.symbol,o=k(a.radius,r.radius);return e&&(r=r.states[e],e=a.states&&a.states[e],o=k(e&&e.radius,r&&r.radius,o+(r&&r.radiusPlus||0))),t.hasImage=i&&0===i.indexOf("url"),t.hasImage&&(o=0),t={x:n.crisp?Math.floor(t.plotX)-o:t.plotX-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var n=this.options.marker,r=t&&t.options,a=r&&r.marker||{},i=this.color,o=r&&r.color,s=t&&t.color;r=k(a.lineWidth,n.lineWidth);var u=t&&t.zone&&t.zone.color;return t=1,i=o||u||s||i,o=a.fillColor||n.fillColor||i,i=a.lineColor||n.lineColor||i,e=e||"normal",n=n.states[e],e=a.states&&a.states[e]||{},r=k(e.lineWidth,n.lineWidth,r+k(e.lineWidthPlus,n.lineWidthPlus,0)),o=e.fillColor||n.fillColor||o,{stroke:i=e.lineColor||n.lineColor||i,"stroke-width":r,fill:o,opacity:t=k(e.opacity,n.opacity,t)}},destroy:function(t){var e,n,a,i=this,o=i.chart,s=/AppleWebKit\/533/.test(N.navigator.userAgent),u=i.data||[];for(v(i,"destroy"),this.removeEvents(t),(i.axisTypes||[]).forEach((function(t){(a=i[t])&&a.series&&(h(a.series,i),a.isDirty=a.forceRedraw=!0)})),i.legendItem&&i.chart.legend.destroyItem(i),e=u.length;e--;)(n=u[e])&&n.destroy&&n.destroy();i.points=null,r.clearTimeout(i.animationTimeout),O(i,(function(t,e){t instanceof M&&!t.survive&&t[s&&"group"===e?"hide":"destroy"]()})),o.hoverSeries===i&&(o.hoverSeries=null),h(o.series,i),o.orderSeries(),O(i,(function(e,n){t&&"hcEvents"===n||delete i[n]}))},getGraphPath:function(t,e,n){var r,a,i=this,o=i.options,s=o.step,u=[],c=[];return(r=(t=t||i.points).reversed)&&t.reverse(),(s={right:1,center:2}[s]||s&&3)&&r&&(s=4-s),(t=this.getValidPoints(t,!1,!(o.connectNulls&&!e&&!n))).forEach((function(r,h){var f=r.plotX,p=r.plotY,d=t[h-1];(r.leftCliff||d&&d.rightCliff)&&!n&&(a=!0),r.isNull&&!l(e)&&0<h?a=!o.connectNulls:r.isNull&&!e?a=!0:(0===h||a?h=[["M",r.plotX,r.plotY]]:i.getPointSpline?h=[i.getPointSpline(t,r,h)]:s?(h=1===s?[["L",d.plotX,p]]:2===s?[["L",(d.plotX+f)/2,d.plotY],["L",(d.plotX+f)/2,p]]:[["L",f,d.plotY]]).push(["L",f,p]):h=[["L",f,p]],c.push(r.x),s&&(c.push(r.x),2===s&&c.push(r.x)),u.push.apply(u,h),a=!1)})),u.xMap=c,i.graphPath=u},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),r=this.chart.styledMode,a=[["graph","highcharts-graph"]];r||a[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),(a=t.getZonesGraphs(a)).forEach((function(a,i){var o=a[0],s=t[o],u=s?"animate":"attr";s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):n.length&&(t[o]=s=t.chart.renderer.path(n).addClass(a[1]).attr({zIndex:1}).add(t.group)),s&&!r&&(o={stroke:a[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},a[3]?o.dashstyle=a[3]:"square"!==e.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),s[u](o).shadow(2>i&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)}))},getZonesGraphs:function(t){return this.zones.forEach((function(e,n){n=["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||"")],this.chart.styledMode||n.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(n)}),this),t},applyZones:function(){var t,e,n,r,a,i,o,s,c=this,l=this.chart,h=l.renderer,f=this.zones,p=this.clips||[],d=this.graph,v=this.area,m=Math.max(l.chartWidth,l.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],y=l.inverted,b=!1;if(f.length&&(d||v)&&g&&"undefined"!==typeof g.min){var x=g.reversed,w=g.horiz;d&&!this.showLine&&d.hide(),v&&v.hide();var O=g.getExtremes();f.forEach((function(f,S){t=x?w?l.plotWidth:0:w?0:g.toPixels(O.min)||0,t=u(k(e,t),0,m),e=u(Math.round(g.toPixels(k(f.value,O.max),!0)||0),0,m),b&&(t=e=g.toPixels(O.max)),r=Math.abs(t-e),a=Math.min(t,e),i=Math.max(t,e),g.isXAxis?(n={x:y?i:a,y:0,width:r,height:m},w||(n.x=l.plotHeight-n.x)):(n={x:0,y:y?i:a,width:m,height:r},w&&(n.y=l.plotWidth-n.y)),y&&h.isVML&&(n=g.isXAxis?{x:0,y:x?a:i,height:n.width,width:l.chartWidth}:{x:n.y-l.plotLeft-l.spacingBox.x,y:0,width:n.height,height:l.chartHeight}),p[S]?p[S].animate(n):p[S]=h.clipRect(n),o=c["zone-area-"+S],s=c["zone-graph-"+S],d&&s&&s.clip(p[S]),v&&o&&o.clip(p[S]),b=f.value>O.max,c.resetZones&&0===e&&(e=void 0)})),this.clips=p}else c.visible&&(d&&d.show(!0),v&&v.show(!0))},invertGroups:function(t){function e(){["group","markerGroup"].forEach((function(e){n[e]&&(r.renderer.isVML&&n[e].attr({width:n.yAxis.len,height:n.xAxis.len}),n[e].width=n.yAxis.len,n[e].height=n.xAxis.len,n[e].invert(!n.isRadialSeries&&t))}))}var n=this,r=n.chart;n.xAxis&&(n.eventsToUnbind.push(a(r,"resize",e)),e(),n.invertGroups=e)},plotGroup:function(t,e,n,r,a){var i=this[t],o=!i;return o&&(this[t]=i=this.chart.renderer.g().attr({zIndex:r||.1}).add(a)),i.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(i.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),i.attr({visibility:n})[o?"attr":"animate"](this.getPlotBox()),i},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},removeEvents:function(t){t?this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind.length=0):S(this)},render:function(){var t=this,e=t.chart,n=t.options,r=!t.finishedAnimating&&e.renderer.isSVG&&i(n.animation).duration,a=t.visible?"inherit":"hidden",o=n.zIndex,s=t.hasRendered,u=e.seriesGroup,c=e.inverted;v(this,"render");var l=t.plotGroup("group","series",a,o,u);t.markerGroup=t.plotGroup("markerGroup","markers",a,o,u),r&&t.animate&&t.animate(!0),l.inverted=!(!t.isCartesian&&!t.invertable)&&c,t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.invertGroups(c),!1===n.clip||t.sharedClipKey||s||l.clip(e.clipRect),r&&t.animate&&t.animate(),s||(t.animationTimeout=j((function(){t.afterAnimate()}),r||0)),t.isDirty=!1,t.hasRendered=!0,v(t,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,r=this.xAxis,a=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:k(r&&r.left,t.plotLeft),translateY:k(a&&a.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,r=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:a?r.len-t.chartX+r.pos:t.chartY-r.pos},e,t)},buildKDTree:function(t){this.buildingKdTree=!0;var e=this,n=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,j((function(){e.kdTree=function t(n,r,a){var i;if(i=n&&n.length){var o=e.kdAxisArray[r%a];return n.sort((function(t,e){return t[o]-e[o]})),{point:n[i=Math.floor(i/2)],left:t(n.slice(0,i),r+1,a),right:t(n.slice(i+1),r+1,a)}}}(e.getValidPoints(null,!e.directTouch),n,n),e.buildingKdTree=!1}),e.options.kdNow||t&&"touchstart"===t.type?0:1)},searchKDTree:function(t,e,n){var r=this,a=this.kdAxisArray[0],i=this.kdAxisArray[1],o=e?"distX":"dist";if(e=-1<r.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return function t(e,n,s,u){var c=n.point,h=r.kdAxisArray[s%u],f=c,p=l(e[a])&&l(c[a])?Math.pow(e[a]-c[a],2):null,d=l(e[i])&&l(c[i])?Math.pow(e[i]-c[i],2):null;return d=(p||0)+(d||0),c.dist=l(d)?Math.sqrt(d):Number.MAX_VALUE,c.distX=l(p)?Math.sqrt(p):Number.MAX_VALUE,p=0>(h=e[h]-c[h])?"right":"left",n[d=0>h?"left":"right"]&&(f=(d=t(e,n[d],s+1,u))[o]<f[o]?d:c),n[p]&&Math.sqrt(h*h)<f[o]&&(f=(e=t(e,n[p],s+1,u))[o]<f[o]?e:f),f}(t,this.kdTree,e,e)},pointPlacementToXValue:function(){var t=this.options,e=t.pointRange,n=this.xAxis;return"between"===(t=t.pointPlacement)&&(t=n.reversed?-.5:.5),b(t)?t*k(e,n.pointRange):0},isPointInside:function(t){return"undefined"!==typeof t.plotY&&"undefined"!==typeof t.plotX&&0<=t.plotY&&t.plotY<=this.yAxis.len&&0<=t.plotX&&t.plotX<=this.xAxis.len}})})),e(n,"parts/Stacking.js",[n["parts/Axis.js"],n["parts/Globals.js"],n["parts/StackingAxis.js"],n["parts/Utilities.js"]],(function(t,e,n,r){var a=r.correctFloat,i=r.defined,o=r.destroyObjectProperties,s=r.format,u=r.pick;r=e.Chart;var c=e.Series,l=function(){function t(t,e,n,r,a){var i=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e=e||{},this.x=r,this.total=null,this.points={},this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(i?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(i?"middle":n?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(i?n?"right":"left":"center")}return t.prototype.destroy=function(){o(this,this.axis)},t.prototype.render=function(t){var e=this.axis.chart,n=this.options,r=n.format;r=r?s(r,this,e):n.formatter.call(this),this.label?this.label.attr({text:r,visibility:"hidden"}):(this.label=e.renderer.label(r,null,null,n.shape,null,null,n.useHTML,!1,"stack-labels"),r={r:n.borderRadius||0,text:r,rotation:n.rotation,padding:u(n.padding,5),visibility:"hidden"},e.styledMode||(r.fill=n.backgroundColor,r.stroke=n.borderColor,r["stroke-width"]=n.borderWidth,this.label.css(n.style)),this.label.attr(r),this.label.added||this.label.add(t)),this.label.labelrank=e.plotHeight},t.prototype.setOffset=function(t,e,n,r,a){var o=this.axis,s=o.chart;r=o.translate(o.stacking.usePercentage?100:r||this.total,0,0,0,1),n=o.translate(n||0),n=i(r)&&Math.abs(r-n),t=u(a,s.xAxis[0].translate(this.x))+t,o=i(r)&&this.getStackBox(s,this,t,r,e,n,o),e=this.label,n=this.isNegative,t="justify"===u(this.options.overflow,"justify");var l=this.textAlign;e&&o&&(a=e.getBBox(),r=e.padding,l="left"===l?s.inverted?-r:r:"right"===l?a.width:s.inverted&&"center"===l?a.width/2:s.inverted?n?a.width+r:-r:a.width/2,n=s.inverted?a.height/2:n?-r:a.height,this.alignOptions.x=u(this.options.x,0),this.alignOptions.y=u(this.options.y,0),o.x-=l,o.y-=n,e.align(this.alignOptions,null,o),s.isInsidePlot(e.alignAttr.x+l-this.alignOptions.x,e.alignAttr.y+n-this.alignOptions.y)?e.show():(e.alignAttr.y=-9999,t=!1),t&&c.prototype.justifyDataLabel.call(this.axis,e,this.alignOptions,e.alignAttr,a,o),e.attr({x:e.alignAttr.x,y:e.alignAttr.y}),u(!t&&this.options.crop,!0)&&((s=s.isInsidePlot(e.x-r+e.width,e.y)&&s.isInsidePlot(e.x+r,e.y))||e.hide()))},t.prototype.getStackBox=function(t,e,n,r,a,i,o){var s=e.axis.reversed,u=t.inverted,c=o.height+o.pos-(u?t.plotLeft:t.plotTop);return e=e.isNegative&&!s||!e.isNegative&&s,{x:u?e?r-o.right:r-i+o.pos-t.plotLeft:n+t.xAxis[0].transB-t.plotLeft,y:u?o.height-n-a:e?c-r-i:c-r,width:u?i:a,height:u?a:i}},t}();return r.prototype.getStacks=function(){var t=this,e=t.inverted;t.yAxis.forEach((function(t){t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)})),t.series.forEach((function(n){var r=n.xAxis&&n.xAxis.options||{};!n.options.stacking||!0!==n.visible&&!1!==t.options.chart.ignoreHiddenSeries||(n.stackKey=[n.type,u(n.options.stack,""),e?r.top:r.left,e?r.height:r.width].join())}))},n.compose(t),c.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t=this.processedXData,e=this.processedYData,n=[],r=e.length,o=this.options,s=o.threshold,c=u(o.startFromThreshold&&s,0),h=o.stack;o=o.stacking;var f,p,d=this.stackKey,v="-"+d,m=this.negStacks,g=this.yAxis,y=g.stacking.stacks,b=g.stacking.oldStacks;for(g.stacking.stacksTouched+=1,p=0;p<r;p++){var x=t[p],w=e[p],O=this.getStackIndicator(O,x,this.index),k=O.key,S=(f=m&&w<(c?0:s))?v:d;y[S]||(y[S]={}),y[S][x]||(b[S]&&b[S][x]?(y[S][x]=b[S][x],y[S][x].total=null):y[S][x]=new l(g,g.options.stackLabels,f,x,h)),S=y[S][x],null!==w?(S.points[k]=S.points[this.index]=[u(S.cumulative,c)],i(S.cumulative)||(S.base=k),S.touched=g.stacking.stacksTouched,0<O.index&&!1===this.singleStacks&&(S.points[k][0]=S.points[this.index+","+x+",0"][0])):S.points[k]=S.points[this.index]=null,"percent"===o?(f=f?d:v,m&&y[f]&&y[f][x]?(f=y[f][x],S.total=f.total=Math.max(f.total,S.total)+Math.abs(w)||0):S.total=a(S.total+(Math.abs(w)||0))):S.total=a(S.total+(w||0)),S.cumulative=u(S.cumulative,c)+(w||0),null!==w&&(S.points[k].push(S.cumulative),n[p]=S.cumulative)}"percent"===o&&(g.stacking.usePercentage=!0),this.stackedYData=n,g.stacking.oldStacks={}}},c.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,r=e.yAxis.stacking.stacks,a=e.processedXData,i=e.options.stacking;e[i+"Stacker"]&&[n,"-"+n].forEach((function(n){for(var o,s,u=a.length;u--;)o=a[u],t=e.getStackIndicator(t,o,e.index,n),(s=(o=r[n]&&r[n][o])&&o.points[t.key])&&e[i+"Stacker"](s,o,u)}))},c.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=a(t[0]*e),t[1]=a(t[1]*e),this.stackedYData[n]=t[1]},c.prototype.getStackIndicator=function(t,e,n,r){return!i(t)||t.x!==e||r&&t.key!==r?t={x:e,index:0,key:r}:t.index++,t.key=[n,e,t.index].join(),t},e.StackItem=l,e.StackItem})),e(n,"parts/Dynamics.js",[n["parts/Globals.js"],n["parts/Point.js"],n["parts/Time.js"],n["parts/Utilities.js"]],(function(t,e,n,r){var a=r.addEvent,i=r.animate,o=r.createElement,s=r.css,u=r.defined,c=r.erase,l=r.error,h=r.extend,f=r.fireEvent,p=r.isArray,d=r.isNumber,v=r.isObject,m=r.isString,g=r.merge,y=r.objectEach,b=r.pick,x=r.relativeLength,w=r.setAnimation,O=r.splat,k=t.Axis;r=t.Chart;var S=t.Series,E=t.seriesTypes;t.cleanRecursively=function(e,n){var r={};return y(e,(function(a,i){v(e[i],!0)&&!e.nodeType&&n[i]?(a=t.cleanRecursively(e[i],n[i]),Object.keys(a).length&&(r[i]=a)):(v(e[i])||e[i]!==n[i])&&(r[i]=e[i])})),r},h(r.prototype,{addSeries:function(t,e,n){var r,a=this;return t&&(e=b(e,!0),f(a,"addSeries",{options:t},(function(){r=a.initSeries(t),a.isDirtyLegend=!0,a.linkSeries(),r.enabledDataSorting&&r.setData(t.data,!1),f(a,"afterAddSeries",{series:r}),e&&a.redraw(n)}))),r},addAxis:function(t,e,n,r){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:n,animation:r})},addColorAxis:function(t,e,n){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:n})},createAxis:function(e,n){var r=this.options,a="colorAxis"===e,i=n.redraw,o=n.animation;n=g(n.axis,{index:this[e].length,isX:"xAxis"===e});var s=a?new t.ColorAxis(this,n):new k(this,n);return r[e]=O(r[e]||{}),r[e].push(n),a&&(this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0}))),b(i,!0)&&this.redraw(o),s},showLoading:function(t){var e=this,n=e.options,r=e.loadingDiv,u=n.loading,c=function(){r&&s(r,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};r||(e.loadingDiv=r=o("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container),e.loadingSpan=o("span",{className:"highcharts-loading-inner"},null,r),a(e,"redraw",c)),r.className="highcharts-loading",e.loadingSpan.innerHTML=b(t,n.lang.loading,""),e.styledMode||(s(r,h(u.style,{zIndex:10})),s(e.loadingSpan,u.labelStyle),e.loadingShown||(s(r,{opacity:0,display:""}),i(r,{opacity:u.style.opacity||.5},{duration:u.showDuration||0}))),e.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){s(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),collectionsWithUpdate:["xAxis","yAxis","zAxis","series"],update:function(e,r,a,i){var o,s,c,l=this,h={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},p=e.isResponsiveOptions,v=[];if(f(l,"update",{options:e}),p||l.setResponsive(!1,!0),e=t.cleanRecursively(e,l.options),g(!0,l.userOptions,e),o=e.chart){if(g(!0,l.options.chart,o),"className"in o&&l.setClassName(o.className),"reflow"in o&&l.setReflow(o.reflow),"inverted"in o||"polar"in o||"type"in o){l.propFromSeries();var w=!0}"alignTicks"in o&&(w=!0),y(o,(function(t,e){-1!==l.propsRequireUpdateSeries.indexOf("chart."+e)&&(s=!0),-1!==l.propsRequireDirtyBox.indexOf(e)&&(l.isDirtyBox=!0),p||-1===l.propsRequireReflow.indexOf(e)||(c=!0)})),!l.styledMode&&"style"in o&&l.renderer.setStyle(o.style)}!l.styledMode&&e.colors&&(this.options.colors=e.colors),e.plotOptions&&g(!0,this.options.plotOptions,e.plotOptions),e.time&&this.time===t.time&&(this.time=new n(e.time)),y(e,(function(t,e){l[e]&&"function"===typeof l[e].update?l[e].update(t,!1):"function"===typeof l[h[e]]&&l[h[e]](t),"chart"!==e&&-1!==l.propsRequireUpdateSeries.indexOf(e)&&(s=!0)})),this.collectionsWithUpdate.forEach((function(t){if(e[t]){if("series"===t){var n=[];l[t].forEach((function(t,e){t.options.isInternal||n.push(b(t.options.index,e))}))}O(e[t]).forEach((function(e,r){(r=u(e.id)&&l.get(e.id)||l[t][n?n[r]:r])&&r.coll===t&&(r.update(e,!1),a&&(r.touched=!0)),!r&&a&&l.collectionsWithInit[t]&&(l.collectionsWithInit[t][0].apply(l,[e].concat(l.collectionsWithInit[t][1]||[]).concat([!1])).touched=!0)})),a&&l[t].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:v.push(t)}))}})),v.forEach((function(t){t.remove&&t.remove(!1)})),w&&l.axes.forEach((function(t){t.update({},!1)})),s&&l.getSeriesOrderByLinks().forEach((function(t){t.chart&&t.update({},!1)}),this),e.loading&&g(!0,l.options.loading,e.loading),w=o&&o.width,o=o&&o.height,m(o)&&(o=x(o,w||l.chartWidth)),c||d(w)&&w!==l.chartWidth||d(o)&&o!==l.chartHeight?l.setSize(w,o,i):b(r,!0)&&l.redraw(i),f(l,"afterUpdate",{options:e,redraw:r,animation:i})},setSubtitle:function(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)},setCaption:function(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}}),r.prototype.collectionsWithInit={xAxis:[r.prototype.addAxis,[!0]],yAxis:[r.prototype.addAxis,[!1]],series:[r.prototype.addSeries]},h(e.prototype,{update:function(t,e,n,r){function a(){o.applyOptions(t);var r=u&&o.hasDummyGraphic;r=null===o.y?!r:r,u&&r&&(o.graphic=u.destroy(),delete o.hasDummyGraphic),v(t,!0)&&(u&&u.element&&t&&t.marker&&"undefined"!==typeof t.marker.symbol&&(o.graphic=u.destroy()),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),o.connector&&(o.connector=o.connector.destroy())),i=o.index,s.updateParallelArrays(o,i),l.data[i]=v(l.data[i],!0)||v(t,!0)?o.options:b(t,l.data[i]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===l.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(n)}var i,o=this,s=o.series,u=o.graphic,c=s.chart,l=s.options;e=b(e,!0),!1===r?a():o.firePointEvent("update",{options:t},a)},remove:function(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}}),h(S.prototype,{addPoint:function(t,e,n,r,a){var i=this.options,o=this.data,s=this.chart,u=this.xAxis;u=u&&u.hasNames&&u.names;var c,l=i.data,h=this.xData;e=b(e,!0);var p={series:this};this.pointClass.prototype.applyOptions.apply(p,[t]);var d=p.x,v=h.length;if(this.requireSorting&&d<h[v-1])for(c=!0;v&&h[v-1]>d;)v--;this.updateParallelArrays(p,"splice",v,0,0),this.updateParallelArrays(p,v),u&&p.name&&(u[d]=p.name),l.splice(v,0,t),c&&(this.data.splice(v,0,null),this.processData()),"point"===i.legendType&&this.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),this.updateParallelArrays(p,"shift"),l.shift())),!1!==a&&f(this,"addPoint",{point:p}),this.isDirtyData=this.isDirty=!0,e&&s.redraw(r)},removePoint:function(t,e,n){var r=this,a=r.data,i=a[t],o=r.points,s=r.chart,u=function(){o&&o.length===a.length&&o.splice(t,1),a.splice(t,1),r.options.data.splice(t,1),r.updateParallelArrays(i||{series:r},"splice",t,1),i&&i.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&s.redraw()};w(n,s),e=b(e,!0),i?i.firePointEvent("remove",null,u):u()},remove:function(t,e,n,r){function a(){i.destroy(r),i.remove=null,o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),b(t,!0)&&o.redraw(e)}var i=this,o=i.chart;!1!==n?f(i,"remove",null,a):a()},update:function(e,n){e=t.cleanRecursively(e,this.userOptions),f(this,"update",{options:e});var r,a=this,i=a.chart,o=a.userOptions,s=a.initialType||a.type,u=e.type||o.type||i.options.chart.type,c=!(this.hasDerivedData||e.dataGrouping||u&&u!==this.type||"undefined"!==typeof e.pointStart||e.pointInterval||e.pointIntervalUnit||e.keys),p=E[s].prototype,d=["group","markerGroup","dataLabelsGroup","transformGroup"],v=["eventOptions","navigatorSeries","baseSeries"],m=a.finishedAnimating&&{animation:!1},y={};for(r in c&&(v.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","_hasPointMarkers","_hasPointLabels","mapMap","mapData","minY","maxY","minX","maxX"),!1!==e.visible&&v.push("area","graph"),a.parallelArrays.forEach((function(t){v.push(t+"Data")})),e.data&&(e.dataSorting&&h(a.options.dataSorting,e.dataSorting),this.setData(e.data,!1))),e=g(o,m,{index:"undefined"===typeof o.index?a.index:o.index,pointStart:b(o.pointStart,a.xData[0])},!c&&{data:a.options.data},e),c&&e.data&&(e.data=a.options.data),(v=d.concat(v)).forEach((function(t){v[t]=a[t],delete a[t]})),a.remove(!1,null,!1,!0),p)a[r]=void 0;if(E[u||s]?h(a,E[u||s].prototype):l(17,!0,i,{missingModuleFor:u||s}),v.forEach((function(t){a[t]=v[t]})),a.init(i,e),c&&this.points){var x=a.options;!1===x.visible?(y.graphic=1,y.dataLabel=1):a._hasPointLabels||(u=x.marker,p=x.dataLabels,u&&(!1===u.enabled||"symbol"in u)&&(y.graphic=1),p&&!1===p.enabled&&(y.dataLabel=1)),this.points.forEach((function(t){t&&t.series&&(t.resolveColor(),Object.keys(y).length&&t.destroyElements(y),!1===x.showInLegend&&t.legendItem&&i.legend.destroyItem(t))}),this)}e.zIndex!==o.zIndex&&d.forEach((function(t){a[t]&&a[t].attr({zIndex:e.zIndex})})),a.initialType=s,i.linkSeries(),f(this,"afterUpdate"),b(n,!0)&&i.redraw(!!c&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),h(k.prototype,{update:function(t,e){var n=this.chart,r=t&&t.events||{};t=g(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),y(n.options[this.coll].events,(function(t,e){"undefined"===typeof r[e]&&(r[e]=void 0)})),this.destroy(!0),this.init(n,h(t,{events:r})),n.isDirtyBox=!0,b(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,r=this.series,a=r.length;a--;)r[a]&&r[a].remove(!1);c(e.axes,this),c(e[n],this),p(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],e[n].forEach((function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,b(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})})),e(n,"parts/AreaSeries.js",[n["parts/Globals.js"],n["parts/Color.js"],n["mixins/legend-symbol.js"],n["parts/Utilities.js"]],(function(t,e,n,r){var a=e.parse,i=r.objectEach,o=r.pick;e=r.seriesType;var s=t.Series;e("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(t){var e,n=[],r=[],a=this.xAxis,s=this.yAxis,u=s.stacking.stacks[this.stackKey],c={},l=this.index,h=s.series,f=h.length,p=o(s.options.reversedStacks,!0)?1:-1;if(t=t||this.points,this.options.stacking){for(e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,c[t[e].x]=t[e];i(u,(function(t,e){null!==t.total&&r.push(e)})),r.sort((function(t,e){return t-e}));var d=h.map((function(t){return t.visible}));r.forEach((function(t,i){var o,h,v=0;if(c[t]&&!c[t].isNull)n.push(c[t]),[-1,1].forEach((function(n){var a=1===n?"rightNull":"leftNull",s=0,v=u[r[i+n]];if(v)for(e=l;0<=e&&e<f;)(o=v.points[e])||(e===l?c[t][a]=!0:d[e]&&(h=u[t].points[e])&&(s-=h[1]-h[0])),e+=p;c[t][1===n?"rightCliff":"leftCliff"]=s}));else{for(e=l;0<=e&&e<f;){if(o=u[t].points[e]){v=o[1];break}e+=p}v=s.translate(v,0,1,0,1),n.push({isNull:!0,plotX:a.translate(t,0,0,0,1),x:t,plotY:v,yBottom:v})}}))}return n},getGraphPath:function(t){var e,n=s.prototype.getGraphPath,r=this.options,a=r.stacking,i=this.yAxis,u=[],c=[],l=this.index,h=i.stacking.stacks[this.stackKey],f=r.threshold,p=Math.round(i.getThreshold(r.threshold));r=o(r.connectNulls,"percent"===a);var d=function(e,n,r){var o=t[e];e=a&&h[o.x].points[l];var s=o[r+"Null"]||0;if(r=o[r+"Cliff"]||0,o=!0,r||s){var d=(s?e[0]:e[1])+r,v=e[0]+r;o=!!s}else!a&&t[n]&&t[n].isNull&&(d=v=f);"undefined"!==typeof d&&(c.push({plotX:m,plotY:null===d?p:i.getThreshold(d),isNull:o,isCliff:!0}),u.push({plotX:m,plotY:null===v?p:i.getThreshold(v),doCurve:!1}))};for(t=t||this.points,a&&(t=this.getStackPoints(t)),e=0;e<t.length;e++){a||(t[e].leftCliff=t[e].rightCliff=t[e].leftNull=t[e].rightNull=void 0);var v=t[e].isNull,m=o(t[e].rectPlotX,t[e].plotX),g=o(t[e].yBottom,p);v&&!r||(r||d(e,e-1,"left"),v&&!a&&r||(c.push(t[e]),u.push({x:e,plotX:m,plotY:g})),r||d(e,e+1,"right"))}return e=n.call(this,c,!0,!0),u.reversed=!0,(g=(v=n.call(this,u,!0,!0))[0])&&"M"===g[0]&&(v[0]=["L",g[1],g[2]]),v=e.concat(v),n=n.call(this,c,!1,r),v.xMap=e.xMap,this.areaPath=v,n},drawGraph:function(){this.areaPath=[],s.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,r=[["area","highcharts-area",this.color,n.fillColor]];this.zones.forEach((function(e,a){r.push(["zone-area-"+a,"highcharts-area highcharts-zone-area-"+a+" "+e.className,e.color||t.color,e.fillColor||n.fillColor])})),r.forEach((function(r){var i=r[0],s=t[i],u=s?"animate":"attr",c={};s?(s.endX=t.preventGraphAnimation?null:e.xMap,s.animate({d:e})):(c.zIndex=0,(s=t[i]=t.chart.renderer.path(e).addClass(r[1]).add(t.group)).isArea=!0),t.chart.styledMode||(c.fill=o(r[3],a(r[2]).setOpacity(o(n.fillOpacity,.75)).get())),s[u](c),s.startX=e.xMap,s.shiftUnit=n.step?2:1}))},drawLegendSymbol:n.drawRectangle})})),e(n,"parts/SplineSeries.js",[n["parts/Utilities.js"]],(function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,n,r){var a=n.plotX||0,i=n.plotY||0,o=t[r-1];if(r=t[r+1],o&&!o.isNull&&!1!==o.doCurve&&!n.isCliff&&r&&!r.isNull&&!1!==r.doCurve&&!n.isCliff){t=o.plotY||0;var s=r.plotX||0;r=r.plotY||0;var u=0,c=(1.5*a+(o.plotX||0))/2.5,l=(1.5*i+t)/2.5,h=(1.5*i+r)/2.5;(s=(1.5*a+s)/2.5)!==c&&(u=(h-l)*(s-a)/(s-c)+i-h),h+=u,(l+=u)>t&&l>i?h=2*i-(l=Math.max(t,i)):l<t&&l<i&&(h=2*i-(l=Math.min(t,i))),h>r&&h>i?l=2*i-(h=Math.max(r,i)):h<r&&h<i&&(l=2*i-(h=Math.min(r,i))),n.rightContX=s,n.rightContY=h}return n=["C",e(o.rightContX,o.plotX,0),e(o.rightContY,o.plotY,0),e(c,a,0),e(l,i,0),a,i],o.rightContX=o.rightContY=void 0,n}})})),e(n,"parts/AreaSplineSeries.js",[n["parts/Globals.js"],n["mixins/legend-symbol.js"],n["parts/Utilities.js"]],(function(t,e,n){n=n.seriesType;var r=t.seriesTypes.area.prototype;n("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:r.getStackPoints,getGraphPath:r.getGraphPath,drawGraph:r.drawGraph,drawLegendSymbol:e.drawRectangle})})),e(n,"parts/ColumnSeries.js",[n["parts/Globals.js"],n["parts/Color.js"],n["mixins/legend-symbol.js"],n["parts/Utilities.js"]],(function(t,e,n,r){var a=e.parse,i=r.animObject,o=r.clamp,s=r.defined,u=r.extend,c=r.isNumber,l=r.merge,h=r.pick;e=r.seriesType;var f=t.Series;e("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){f.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)}))},getColumnMetrics:function(){var t=this,e=t.options,n=t.xAxis,r=t.yAxis,a=n.options.reversedStacks;a=n.reversed&&!a||!n.reversed&&a;var i,o={},s=0;!1===e.grouping?s=1:t.chart.series.forEach((function(e){var n=e.yAxis,a=e.options;if(e.type===t.type&&(e.visible||!t.chart.options.chart.ignoreHiddenSeries)&&r.len===n.len&&r.pos===n.pos){if(a.stacking){i=e.stackKey,"undefined"===typeof o[i]&&(o[i]=s++);var u=o[i]}else!1!==a.grouping&&(u=s++);e.columnIndex=u}}));var u=Math.min(Math.abs(n.transA)*(n.ordinal&&n.ordinal.slope||e.pointRange||n.closestPointRange||n.tickInterval||1),n.len),c=u*e.groupPadding,l=(u-2*c)/(s||1);return e=Math.min(e.maxPointWidth||n.len,h(e.pointWidth,l*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(l-e)/2+(c+((t.columnIndex||0)+(a?1:0))*l-u/2)*(a?-1:1)},t.columnMetrics},crispCol:function(t,e,n,r){var a=this.chart,i=this.borderWidth,o=-(i%2?.5:0);return i=i%2?.5:1,a.inverted&&a.renderer.isVML&&(i+=1),this.options.crisp&&(n=Math.round(t+n)+o,n-=t=Math.round(t)+o),r=Math.round(e+r)+i,o=.5>=Math.abs(e)&&.5<r,r-=e=Math.round(e)+i,o&&r&&(--e,r+=1),{x:t,y:e,width:n,height:r}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA;r=t.borderWidth=h(n.borderWidth,r?0:1);var a=t.xAxis,i=t.yAxis,u=n.threshold,l=t.translatedThreshold=i.getThreshold(u),p=h(n.minPointLength,5),d=t.getColumnMetrics(),v=d.width,m=t.barW=Math.max(v,1+2*r),g=t.pointXOffset=d.offset,y=t.dataMin,b=t.dataMax;e.inverted&&(l-=.5),n.pointPadding&&(m=Math.ceil(m)),f.prototype.translate.apply(t),t.points.forEach((function(n){var r=h(n.yBottom,l),f=999+Math.abs(r),d=v,x=n.plotX;f=o(n.plotY,-f,i.len+f);var w=n.plotX+g,O=m,k=Math.min(f,r),S=Math.max(f,r)-k;if(p&&Math.abs(S)<p){S=p;var E=!i.reversed&&!n.negative||i.reversed&&n.negative;c(u)&&c(b)&&n.y===u&&b<=u&&(i.min||0)<u&&y!==b&&(E=!E),k=Math.abs(k-l)>p?r-p:l-(E?p:0)}s(n.options.pointWidth)&&(d=O=Math.ceil(n.options.pointWidth),w-=Math.round((d-v)/2)),n.barX=w,n.pointWidth=d,n.tooltipPos=e.inverted?[i.len+i.pos-e.plotLeft-f,a.len+a.pos-e.plotTop-(x||0)-g-O/2,S]:[w+O/2,f+i.pos-e.plotTop,S],n.shapeType=t.pointClass.prototype.shapeType||"rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[w,l,O,0]:[w,k,O,S])}))},getSymbol:t.noop,drawLegendSymbol:n.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n=this.options,r=this.pointAttrToOptions||{},i=r.stroke||"borderColor",o=r["stroke-width"]||"borderWidth",s=t&&t.color||this.color,u=t&&t[i]||n[i]||this.color||s,c=t&&t[o]||n[o]||this[o]||0;r=t&&t.options.dashStyle||n.dashStyle;var f=h(t&&t.opacity,n.opacity,1);if(t&&this.zones.length){var p=t.getZone();s=t.options.color||p&&(p.color||t.nonZonedColor)||this.color,p&&(u=p.borderColor||u,r=p.dashStyle||r,c=p.borderWidth||c)}return e&&t&&(e=(t=l(n.states[e],t.options.states&&t.options.states[e]||{})).brightness,s=t.color||"undefined"!==typeof e&&a(s).brighten(t.brightness).get()||s,u=t[i]||u,c=t[o]||c,r=t.dashStyle||r,f=h(t.opacity,f)),i={fill:s,stroke:u,"stroke-width":c,opacity:f},r&&(i.dashstyle=r),i},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,a=n.renderer,i=r.animationLimit||250;e.points.forEach((function(o){var s=o.graphic,u=!!s,h=s&&n.pointCount<i?"animate":"attr";c(o.plotY)&&null!==o.y?(t=o.shapeArgs,s&&o.hasNewShapeType()&&(s=s.destroy()),e.enabledDataSorting&&(o.startXPos=e.xAxis.reversed?-(t?t.width:0):e.xAxis.width),s||(o.graphic=s=a[o.shapeType](t).add(o.group||e.group))&&e.enabledDataSorting&&n.hasRendered&&n.pointCount<i&&(s.attr({x:o.startXPos}),u=!0,h="animate"),s&&u&&s[h](l(t)),r.borderRadius&&s[h]({r:r.borderRadius}),n.styledMode||s[h](e.pointAttribs(o,o.selected&&"select")).shadow(!1!==o.allowShadow&&r.shadow,null,r.stacking&&!r.borderRadius),s.addClass(o.getClassName(),!0)):s&&(o.graphic=s.destroy())}))},animate:function(t){var e=this,n=this.yAxis,r=e.options,a=this.chart.inverted,s={},c=a?"translateX":"translateY";if(t)s.scaleY=.001,t=o(n.toPixels(r.threshold),n.pos,n.pos+n.len),a?s.translateX=t-n.len:s.translateY=t,e.clipBox&&e.setClip(),e.group.attr(s);else{var l=e.group.attr(c);e.group.animate({scaleY:1},u(i(e.options.animation),{step:function(t,r){e.group&&(s[c]=l+r.pos*(n.pos-l),e.group.attr(s))}}))}},remove:function(){var t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),f.prototype.remove.apply(t,arguments)}})})),e(n,"parts/BarSeries.js",[n["parts/Utilities.js"]],(function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})})),e(n,"parts/ScatterSeries.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.addEvent;e=e.seriesType;var r=t.Series;e("scatter","line",{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&r.prototype.drawGraph.call(this)},applyJitter:function(){var t=this,e=this.options.jitter,n=this.points.length;e&&this.points.forEach((function(r,a){["x","y"].forEach((function(i,o){var s="plot"+i.toUpperCase();if(e[i]&&!r.isNull){var u=t[i+"Axis"],c=e[i]*u.transA;if(u&&!u.isLog){var l=Math.max(0,r[s]-c);u=Math.min(u.len,r[s]+c),o=1e4*Math.sin(a+o*n),r[s]=l+(u-l)*(o-Math.floor(o)),"x"===i&&(r.clientX=r.plotX)}}}))}))}}),n(r,"afterTranslate",(function(){this.applyJitter&&this.applyJitter()}))})),e(n,"mixins/centered-series.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.isNumber,r=e.pick,a=e.relativeLength,i=t.deg2rad;t.CenteredSeriesMixin={getCenter:function(){var t=this.options,e=this.chart,n=2*(t.slicedOffset||0),i=e.plotWidth-2*n,o=e.plotHeight-2*n,s=t.center,u=Math.min(i,o),c=t.size,l=t.innerSize||0;for("string"===typeof c&&(c=parseFloat(c)),"string"===typeof l&&(l=parseFloat(l)),t=[r(s[0],"50%"),r(s[1],"50%"),r(c&&0>c?void 0:t.size,"100%"),r(l&&0>l?void 0:t.innerSize||0,"0%")],e.angular&&(t[3]=0),s=0;4>s;++s)c=t[s],e=2>s||2===s&&/%$/.test(c),t[s]=a(c,[i,o,u,t[2]][s])+(e?n:0);return t[3]>t[2]&&(t[3]=t[2]),t},getStartAndEndRadians:function(t,e){return t=n(t)?t:0,e=n(e)&&e>t&&360>e-t?e:t+360,{start:i*(t+-90),end:i*(e+-90)}}}})),e(n,"parts/PieSeries.js",[n["parts/Globals.js"],n["mixins/legend-symbol.js"],n["parts/Point.js"],n["parts/Utilities.js"]],(function(t,e,n,r){var a=r.addEvent,i=r.clamp,o=r.defined,s=r.fireEvent,u=r.isNumber,c=r.merge,l=r.pick,h=r.relativeLength,f=r.seriesType,p=r.setAnimation,d=(r=t.CenteredSeriesMixin).getStartAndEndRadians,v=t.noop,m=t.Series;f("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,r=e.startAngleRad;t||n.forEach((function(t){var n=t.graphic,a=t.shapeArgs;n&&a&&(n.attr({r:l(t.startR,e.center&&e.center[3]/2),start:r,end:r}),n.animate({r:a.r,start:a.start,end:a.end},e.options.animation))}))},hasData:function(){return!!this.processedXData.length},updateTotals:function(){var t,e=0,n=this.points,r=n.length,a=this.options.ignoreHiddenPoint;for(t=0;t<r;t++){var i=n[t];e+=a&&!i.visible||i.isNull?0:i.y}for(this.total=e,t=0;t<r;t++)(i=n[t]).percentage=0<e&&(i.visible||!a)?i.y/e*100:0,i.total=e},generatePoints:function(){m.prototype.generatePoints.call(this),this.updateTotals()},getX:function(t,e,n){var r=this.center,a=this.radii?this.radii[n.index]:r[2]/2;return t=Math.asin(i((t-r[1])/(a+n.labelDistance),-1,1)),r[0]+(e?-1:1)*Math.cos(t)*(a+n.labelDistance)+(0<n.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)},translate:function(t){this.generatePoints();var e=0,n=this.options,r=n.slicedOffset,a=r+(n.borderWidth||0),i=d(n.startAngle,n.endAngle),o=this.startAngleRad=i.start;i=(this.endAngleRad=i.end)-o;var u=this.points,c=n.dataLabels.distance;n=n.ignoreHiddenPoint;var f,p=u.length;for(t||(this.center=t=this.getCenter()),f=0;f<p;f++){var v=u[f],m=o+e*i;n&&!v.visible||(e+=v.percentage/100);var g=o+e*i;v.shapeType="arc",v.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*m)/1e3,end:Math.round(1e3*g)/1e3},v.labelDistance=l(v.options.dataLabels&&v.options.dataLabels.distance,c),v.labelDistance=h(v.labelDistance,v.shapeArgs.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,v.labelDistance),(g=(g+m)/2)>1.5*Math.PI?g-=2*Math.PI:g<-Math.PI/2&&(g+=2*Math.PI),v.slicedTranslation={translateX:Math.round(Math.cos(g)*r),translateY:Math.round(Math.sin(g)*r)};var y=Math.cos(g)*t[2]/2,b=Math.sin(g)*t[2]/2;v.tooltipPos=[t[0]+.7*y,t[1]+.7*b],v.half=g<-Math.PI/2||g>Math.PI/2?1:0,v.angle=g,m=Math.min(a,v.labelDistance/5),v.labelPosition={natural:{x:t[0]+y+Math.cos(g)*v.labelDistance,y:t[1]+b+Math.sin(g)*v.labelDistance},final:{},alignment:0>v.labelDistance?"center":v.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+y+Math.cos(g)*m,y:t[1]+b+Math.sin(g)*m},touchingSliceAt:{x:t[0]+y,y:t[1]+b}}}}s(this,"afterTranslate")},drawEmpty:function(){var t=this.options;if(0===this.total){var e=this.center[0],n=this.center[1];this.graph||(this.graph=this.chart.renderer.circle(e,n,0).addClass("highcharts-graph").add(this.group)),this.graph.animate({"stroke-width":t.borderWidth,cx:e,cy:n,r:this.center[2]/2,fill:t.fillColor||"none",stroke:t.color||"#cccccc"},this.options.animation)}else this.graph&&(this.graph=this.graph.destroy())},redrawPoints:function(){var t,e,n,r,a=this,i=a.chart,o=i.renderer,s=a.options.shadow;this.drawEmpty(),!s||a.shadowGroup||i.styledMode||(a.shadowGroup=o.g("shadow").attr({zIndex:-1}).add(a.group)),a.points.forEach((function(u){var l={};if(e=u.graphic,!u.isNull&&e){if(r=u.shapeArgs,t=u.getTranslate(),!i.styledMode){var h=u.shadowGroup;s&&!h&&(h=u.shadowGroup=o.g("shadow").add(a.shadowGroup)),h&&h.attr(t),n=a.pointAttribs(u,u.selected&&"select")}u.delayedRendering?(e.setRadialReference(a.center).attr(r).attr(t),i.styledMode||e.attr(n).attr({"stroke-linejoin":"round"}).shadow(s,h),u.delayedRendering=!1):(e.setRadialReference(a.center),i.styledMode||c(!0,l,n),c(!0,l,r,t),e.animate(l)),e.attr({visibility:u.visible?"inherit":"hidden"}),e.addClass(u.getClassName())}else e&&(u.graphic=e.destroy())}))},drawPoints:function(){var t=this.chart.renderer;this.points.forEach((function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))},searchPoint:v,sortByAngle:function(t,e){t.sort((function(t,n){return"undefined"!==typeof t.angle&&(n.angle-t.angle)*e}))},drawLegendSymbol:e.drawRectangle,getCenter:r.getCenter,getSymbol:v,drawGraph:null},{init:function(){n.prototype.init.apply(this,arguments);var t=this;t.name=l(t.name,"Slice");var e=function(e){t.slice("select"===e.type)};return a(t,"select",e),a(t,"unselect",e),t},isValid:function(){return u(this.y)&&0<=this.y},setVisible:function(t,e){var n=this,r=n.series,a=r.chart,i=r.options.ignoreHiddenPoint;e=l(e,i),t!==n.visible&&(n.visible=n.options.visible=t="undefined"===typeof t?!n.visible:t,r.options.data[r.data.indexOf(n)]=n.options,["graphic","dataLabel","connector","shadowGroup"].forEach((function(e){n[e]&&n[e][t?"show":"hide"](!0)})),n.legendItem&&a.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),i&&(r.isDirty=!0),e&&a.redraw())},slice:function(t,e,n){var r=this.series;p(n,r.chart),l(e,!0),this.sliced=this.options.sliced=o(t)?t:!this.sliced,r.options.data[r.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end})},connectorShapes:{fixedOffset:function(t,e,n){var r=e.breakAt;return e=e.touchingSliceAt,[["M",t.x,t.y],n.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*r.x-e.x,2*r.y-e.y,r.x,r.y]:["L",r.x,r.y],["L",e.x,e.y]]},straight:function(t,e){return e=e.touchingSliceAt,[["M",t.x,t.y],["L",e.x,e.y]]},crookedLine:function(t,e,n){e=e.touchingSliceAt;var r=this.series,a=r.center[0],i=r.chart.plotWidth,o=r.chart.plotLeft;r=t.alignment;var s=this.shapeArgs.r;return n=h(n.crookDistance,1),n=["L",i="left"===r?a+s+(i+o-a-s)*(1-n):o+(a-s)*n,t.y],a=!0,("left"===r?i>t.x||i<e.x:i<t.x||i>e.x)&&(a=!1),t=[["M",t.x,t.y]],a&&t.push(n),t.push(["L",e.x,e.y]),t}},getConnectorPath:function(){var t=this.labelPosition,e=this.series.options.dataLabels,n=e.connectorShape,r=this.connectorShapes;return r[n]&&(n=r[n]),n.call(this,{x:t.final.x,y:t.final.y,alignment:t.alignment},t.connectorPosition,e)}})})),e(n,"parts/DataLabels.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.animObject,r=e.arrayMax,a=e.clamp,i=e.defined,o=e.extend,s=e.fireEvent,u=e.format,c=e.isArray,l=e.merge,h=e.objectEach,f=e.pick,p=e.relativeLength,d=e.splat,v=e.stableSort;e=t.noop;var m=t.Series,g=t.seriesTypes;t.distribute=function(e,n,r){function i(t,e){return t.target-e.target}var o,s=!0,u=e,c=[],l=0,h=u.reducedLen||n;for(o=e.length;o--;)l+=e[o].size;if(l>h){for(v(e,(function(t,e){return(e.rank||0)-(t.rank||0)})),l=o=0;l<=h;)l+=e[o].size,o++;c=e.splice(o-1,e.length)}for(v(e,i),e=e.map((function(t){return{size:t.size,targets:[t.target],align:f(t.align,.5)}}));s;){for(o=e.length;o--;)s=e[o],l=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=a(l-s.size*s.align,0,n-s.size);for(o=e.length,s=!1;o--;)0<o&&e[o-1].pos+e[o-1].size>e[o].pos&&(e[o-1].size+=e[o].size,e[o-1].targets=e[o-1].targets.concat(e[o].targets),e[o-1].align=.5,e[o-1].pos+e[o-1].size>n&&(e[o-1].pos=n-e[o-1].size),e.splice(o,1),s=!0)}u.push.apply(u,c),o=0,e.some((function(e){var a=0;if(e.targets.some((function(){if(u[o].pos=e.pos+a,"undefined"!==typeof r&&Math.abs(u[o].pos-u[o].target)>r)return u.slice(0,o+1).forEach((function(t){delete t.pos})),u.reducedLen=(u.reducedLen||n)-.1*n,u.reducedLen>.1*n&&t.distribute(u,n,r),!0;a+=u[o].size,o++})))return!0})),v(u,i)},m.prototype.drawDataLabels=function(){function t(t,e){var n,r=[];if(c(t)&&!c(e))r=t.map((function(t){return l(t,e)}));else if(c(e)&&!c(t))r=e.map((function(e){return l(t,e)}));else if(c(t)||c(e))for(n=Math.max(t.length,e.length);n--;)r[n]=l(t[n],e[n]);else r=l(t,e);return r}var e=this,r=e.chart,a=e.options,o=a.dataLabels,p=e.points,v=e.hasRendered||0,m=n(a.animation).duration,g=Math.min(m,200),y=!r.renderer.forExport&&f(o.defer,0<g),b=r.renderer;if(o=t(t(r.options.plotOptions&&r.options.plotOptions.series&&r.options.plotOptions.series.dataLabels,r.options.plotOptions&&r.options.plotOptions[e.type]&&r.options.plotOptions[e.type].dataLabels),o),s(this,"drawDataLabels"),c(o)||o.enabled||e._hasPointLabels){var x=e.plotGroup("dataLabelsGroup","data-labels",y&&!v?"hidden":"inherit",o.zIndex||6);y&&(x.attr({opacity:+v}),v||setTimeout((function(){var t=e.dataLabelsGroup;t&&(e.visible&&x.show(!0),t[a.animation?"animate":"attr"]({opacity:1},{duration:g}))}),m-g)),p.forEach((function(n){d(t(o,n.dlOptions||n.options&&n.options.dataLabels)).forEach((function(t,o){var s=t.enabled&&(!n.isNull||n.dataLabelOnNull)&&function(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}(n,t),c=n.dataLabels?n.dataLabels[o]:n.dataLabel,l=n.connectors?n.connectors[o]:n.connector,p=f(t.distance,n.labelDistance),d=!c;if(s){var v=n.getLabelConfig(),m=f(t[n.formatPrefix+"Format"],t.format);v=i(m)?u(m,v,r):(t[n.formatPrefix+"Formatter"]||t.formatter).call(v,t),m=t.style;var g=t.rotation;r.styledMode||(m.color=f(t.color,m.color,e.color,"#000000"),"contrast"===m.color?(n.contrastColor=b.getContrast(n.color||e.color),m.color=!i(p)&&t.inside||0>p||a.stacking?n.contrastColor:"#000000"):delete n.contrastColor,a.cursor&&(m.cursor=a.cursor));var y={r:t.borderRadius||0,rotation:g,padding:t.padding,zIndex:1};r.styledMode||(y.fill=t.backgroundColor,y.stroke=t.borderColor,y["stroke-width"]=t.borderWidth),h(y,(function(t,e){"undefined"===typeof t&&delete y[e]}))}!c||s&&i(v)?s&&i(v)&&(c?y.text=v:(n.dataLabels=n.dataLabels||[],c=n.dataLabels[o]=g?b.text(v,0,-9999,t.useHTML).addClass("highcharts-data-label"):b.label(v,0,-9999,t.shape,null,null,t.useHTML,null,"data-label"),o||(n.dataLabel=c),c.addClass(" highcharts-data-label-color-"+n.colorIndex+" "+(t.className||"")+(t.useHTML?" highcharts-tracker":""))),c.options=t,c.attr(y),r.styledMode||c.css(m).shadow(t.shadow),c.added||c.add(x),t.textPath&&!t.useHTML&&(c.setTextPath(n.getDataLabelPath&&n.getDataLabelPath(c)||n.graphic,t.textPath),n.dataLabelPath&&!t.textPath.enabled&&(n.dataLabelPath=n.dataLabelPath.destroy())),e.alignDataLabel(n,c,t,null,d)):(n.dataLabel=n.dataLabel&&n.dataLabel.destroy(),n.dataLabels&&(1===n.dataLabels.length?delete n.dataLabels:delete n.dataLabels[o]),o||delete n.dataLabel,l&&(n.connector=n.connector.destroy(),n.connectors&&(1===n.connectors.length?delete n.connectors:delete n.connectors[o])))}))}))}s(this,"afterDrawDataLabels")},m.prototype.alignDataLabel=function(t,e,n,r,a){var i=this,s=this.chart,u=this.isCartesian&&s.inverted,c=this.enabledDataSorting,l=f(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),h=f(t.plotY,-9999),p=e.getBBox(),d=n.rotation,v=n.align,m=s.isInsidePlot(l,Math.round(h),u),g="justify"===f(n.overflow,c?"none":"justify"),y=this.visible&&!1!==t.visible&&(t.series.forceDL||c&&!g||m||n.inside&&r&&s.isInsidePlot(l,u?r.x+1:r.y+r.height-1,u)),b=function(n){c&&i.xAxis&&!g&&i.setDataLabelStartPos(t,e,a,m,n)};if(y){var x=s.renderer.fontMetrics(s.styledMode?void 0:n.style.fontSize,e).b;r=o({x:u?this.yAxis.len-h:l,y:Math.round(u?this.xAxis.len-l:h),width:0,height:0},r),o(n,{width:p.width,height:p.height}),d?(g=!1,l=s.renderer.rotCorr(x,d),b(l={x:r.x+n.x+r.width/2+l.x,y:r.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*r.height}),e[a?"attr":"animate"](l).attr({align:v}),b=180<(b=(d+720)%360)&&360>b,"left"===v?l.y-=b?p.height:0:"center"===v?(l.x-=p.width/2,l.y-=p.height/2):"right"===v&&(l.x-=p.width,l.y-=b?0:p.height),e.placed=!0,e.alignAttr=l):(b(r),e.align(n,null,r),l=e.alignAttr),g&&0<=r.height?this.justifyDataLabel(e,n,l,p,r,a):f(n.crop,!0)&&(y=s.isInsidePlot(l.x,l.y)&&s.isInsidePlot(l.x+p.width,l.y+p.height)),n.shape&&!d&&e[a?"attr":"animate"]({anchorX:u?s.plotWidth-t.plotY:t.plotX,anchorY:u?s.plotHeight-t.plotX:t.plotY})}a&&c&&(e.placed=!1),y||c&&!g||(e.hide(!0),e.placed=!1)},m.prototype.setDataLabelStartPos=function(t,e,n,r,a){var i=this.chart,o=i.inverted,s=this.xAxis,u=s.reversed,c=o?e.height/2:e.width/2;t=(t=t.pointWidth)?t/2:0,s=o?a.x:u?-c-t:s.width-c+t,a=o?u?this.yAxis.height-c+t:-c-t:a.y,e.startXPos=s,e.startYPos=a,r?"hidden"===e.visibility&&(e.show(),e.attr({opacity:0}).animate({opacity:1})):e.attr({opacity:1}).animate({opacity:0},void 0,e.hide),i.hasRendered&&(n&&e.attr({x:e.startXPos,y:e.startYPos}),e.placed=!0)},m.prototype.justifyDataLabel=function(t,e,n,r,a,i){var o=this.chart,s=e.align,u=e.verticalAlign,c=t.box?0:t.padding||0,l=n.x+c;if(0>l){"right"===s?(e.align="left",e.inside=!0):e.x=-l;var h=!0}return(l=n.x+r.width-c)>o.plotWidth&&("left"===s?(e.align="right",e.inside=!0):e.x=o.plotWidth-l,h=!0),0>(l=n.y+c)&&("bottom"===u?(e.verticalAlign="top",e.inside=!0):e.y=-l,h=!0),(l=n.y+r.height-c)>o.plotHeight&&("top"===u?(e.verticalAlign="bottom",e.inside=!0):e.y=o.plotHeight-l,h=!0),h&&(t.placed=!i,t.align(e,null,a)),h},g.pie&&(g.pie.prototype.dataLabelPositioners={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,n,r){return t.getX(n<e.top+2||n>e.bottom-2?r:n,e.half,e)},justify:function(t,e,n){return n[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,n,r){return t=t.getBBox().width,e?t+r:n-t-r},alignToConnectors:function(t,e,n,r){var a,i=0;return t.forEach((function(t){(a=t.dataLabel.getBBox().width)>i&&(i=a)})),e?i+r:n-i-r}},g.pie.prototype.drawDataLabels=function(){var e,n,a,o,s,u,c,h,p,d,v,g,y=this,b=y.data,x=y.chart,w=y.options.dataLabels||{},O=w.connectorPadding,k=x.plotWidth,S=x.plotHeight,E=x.plotLeft,C=Math.round(x.chartWidth/3),j=y.center,T=j[2]/2,A=j[1],_=[[],[]],M=[0,0,0,0],N=y.dataLabelPositioners;y.visible&&(w.enabled||y._hasPointLabels)&&(b.forEach((function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),m.prototype.drawDataLabels.apply(y),b.forEach((function(t){t.dataLabel&&(t.visible?(_[t.half].push(t),t.dataLabel._pos=null,!i(w.style.width)&&!i(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>C&&(t.dataLabel.css({width:Math.round(.7*C)+"px"}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),_.forEach((function(n,r){var a,l=n.length,m=[];if(l){if(y.sortByAngle(n,r-.5),0<y.maxLabelDistance){var b=Math.max(0,A-T-y.maxLabelDistance),C=Math.min(A+T+y.maxLabelDistance,x.plotHeight);n.forEach((function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,A-T-t.labelDistance),t.bottom=Math.min(A+T+t.labelDistance,x.plotHeight),a=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+a/2,size:a,rank:t.y},m.push(t.distributeBox))})),b=C+a-b,t.distribute(m,b,b/5)}for(v=0;v<l;v++){if(e=n[v],u=e.labelPosition,o=e.dataLabel,d=!1===e.visible?"hidden":"inherit",p=b=u.natural.y,m&&i(e.distributeBox)&&("undefined"===typeof e.distributeBox.pos?d="hidden":(c=e.distributeBox.size,p=N.radialDistributionY(e))),delete e.positionIndex,w.justify)h=N.justify(e,T,j);else switch(w.alignTo){case"connectors":h=N.alignToConnectors(n,r,k,E);break;case"plotEdges":h=N.alignToPlotEdges(o,r,k,E);break;default:h=N.radialDistributionX(y,e,p,b)}o._attr={visibility:d,align:u.alignment},g=e.options.dataLabels||{},o._pos={x:h+f(g.x,w.x)+({left:O,right:-O}[u.alignment]||0),y:p+f(g.y,w.y)-10},u.final.x=h,u.final.y=p,f(w.crop,!0)&&(s=o.getBBox().width,b=null,h-s<O&&1===r?(b=Math.round(s-h+O),M[3]=Math.max(b,M[3])):h+s>k-O&&0===r&&(b=Math.round(h+s-k+O),M[1]=Math.max(b,M[1])),0>p-c/2?M[0]=Math.max(Math.round(c/2-p),M[0]):p+c/2>S&&(M[2]=Math.max(Math.round(p+c/2-S),M[2])),o.sideOverflow=b)}}})),0===r(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),this.points.forEach((function(t){var e;(g=l(w,t.options.dataLabels),n=f(g.connectorWidth,1))&&(a=t.connector,(o=t.dataLabel)&&o._pos&&t.visible&&0<t.labelDistance?(d=o._attr.visibility,(e=!a)&&(t.connector=a=x.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(y.dataLabelsGroup),x.styledMode||a.attr({"stroke-width":n,stroke:g.connectorColor||t.color||"#666666"})),a[e?"attr":"animate"]({d:t.getConnectorPath()}),a.attr("visibility",d)):a&&(t.connector=a.destroy()))})))},g.pie.prototype.placeDataLabels=function(){this.points.forEach((function(t){var e,n=t.dataLabel;n&&t.visible&&((e=n._pos)?(n.sideOverflow&&(n._attr.width=Math.max(n.getBBox().width-n.sideOverflow,0),n.css({width:n._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),n.shortened=!0),n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-9999})),delete t.distributeBox}),this)},g.pie.prototype.alignDataLabel=e,g.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,n=this.options,r=n.center,i=n.minSize||80,o=null!==n.size;if(!o){if(null!==r[0])var s=Math.max(e[2]-Math.max(t[1],t[3]),i);else s=Math.max(e[2]-t[1]-t[3],i),e[0]+=(t[3]-t[1])/2;null!==r[1]?s=a(s,i,e[2]-Math.max(t[0],t[2])):(s=a(s,i,e[2]-t[0]-t[2]),e[1]+=(t[0]-t[2])/2),s<e[2]?(e[2]=s,e[3]=Math.min(p(n.innerSize||0,s),s),this.translate(e),this.drawDataLabels&&this.drawDataLabels()):o=!0}return o}),g.column&&(g.column.prototype.alignDataLabel=function(t,e,n,r,a){var i=this.chart.inverted,o=t.series,s=t.dlBox||t.shapeArgs,u=f(t.below,t.plotY>f(this.translatedThreshold,o.yAxis.len)),c=f(n.inside,!!this.options.stacking);s&&(0>(r=l(s)).y&&(r.height+=r.y,r.y=0),0<(s=r.y+r.height-o.yAxis.len)&&s<r.height&&(r.height-=s),i&&(r={x:o.yAxis.len-r.y-r.height,y:o.xAxis.len-r.x-r.width,width:r.height,height:r.width}),c||(i?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0))),n.align=f(n.align,!i||c?"center":u?"right":"left"),n.verticalAlign=f(n.verticalAlign,i||c?"middle":u?"top":"bottom"),m.prototype.alignDataLabel.call(this,t,e,n,r,a),n.inside&&t.contrastColor&&e.css({color:t.contrastColor})})})),e(n,"modules/overlapping-datalabels.src.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.addEvent,r=e.fireEvent,a=e.isArray,i=e.objectEach,o=e.pick;n(t=t.Chart,"render",(function(){var t=[];(this.labelCollectors||[]).forEach((function(e){t=t.concat(e())})),(this.yAxis||[]).forEach((function(e){e.stacking&&e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&i(e.stacking.stacks,(function(e){i(e,(function(e){t.push(e.label)}))}))})),(this.series||[]).forEach((function(e){var n=e.options.dataLabels;e.visible&&(!1!==n.enabled||e._hasPointLabels)&&(e.nodes||e.points).forEach((function(e){e.visible&&(a(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[]).forEach((function(n){var r=n.options;n.labelrank=o(r.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),r.allowOverlap||t.push(n)}))}))})),this.hideOverlappingLabels(t)})),t.prototype.hideOverlappingLabels=function(t){var e,n,a,i=this,o=t.length,s=i.renderer,u=!1,c=function(t){var e,n,r=t.box?0:t.padding||0,a=e=0;if(t&&(!t.alignAttr||t.placed)){var i=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},o=t.parentGroup;t.width||(e=t.getBBox(),t.width=e.width,t.height=e.height,e=s.fontMetrics(null,t.element).h);var u=t.width-2*r;return(n={left:"0",center:"0.5",right:"1"}[t.alignValue])?a=+n*u:Math.round(t.x)!==t.translateX&&(a=t.x-t.translateX),{x:i.x+(o.translateX||0)+r-a,y:i.y+(o.translateY||0)+r-e,width:t.width-2*r,height:t.height-2*r}}};for(n=0;n<o;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=c(e));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),n=0;n<o;n++){var l=(c=t[n])&&c.absoluteBox;for(e=n+1;e<o;++e){var h=(a=t[e])&&a.absoluteBox;!l||!h||c===a||0===c.newOpacity||0===a.newOpacity||h.x>l.x+l.width||h.x+h.width<l.x||h.y>l.y+l.height||h.y+h.height<l.y||((c.labelrank<a.labelrank?c:a).newOpacity=0)}}t.forEach((function(t){if(t){var e=t.newOpacity;t.oldOpacity!==e&&(t.alignAttr&&t.placed?(t[e?"removeClass":"addClass"]("highcharts-data-label-hidden"),u=!0,t.alignAttr.opacity=e,t[t.isOld?"animate":"attr"](t.alignAttr,null,(function(){i.styledMode||t.css({pointerEvents:e?"auto":"none"}),t.visibility=e?"inherit":"hidden",t.placed=!!e})),r(i,"afterHideOverlappingLabel")):t.attr({opacity:e})),t.isOld=!0}})),u&&r(i,"afterHideAllOverlappingLabels")}})),e(n,"parts/Interaction.js",[n["parts/Globals.js"],n["parts/Legend.js"],n["parts/Point.js"],n["parts/Utilities.js"]],(function(t,e,n,r){var a=r.addEvent,i=r.createElement,o=r.css,s=r.defined,u=r.extend,c=r.fireEvent,l=r.isArray,h=r.isFunction,f=r.isNumber,p=r.isObject,d=r.merge,v=r.objectEach,m=r.pick;r=t.Chart;var g=t.defaultOptions,y=t.defaultPlotOptions,b=t.hasTouch,x=t.Series,w=t.seriesTypes,O=t.svg,k=t.TrackerMixin={drawTrackerPoint:function(){var t,e=this,n=e.chart,r=n.pointer,a=function(t){var e=r.getPointFromEvent(t);"undefined"!==typeof e&&(r.isDirectTouch=!0,e.onMouseOver(t))};e.points.forEach((function(e){t=l(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach((function(t){t.div?t.div.point=e:t.element.point=e}))})),e._hasTracking||(e.trackerGroups.forEach((function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",a).on("mouseout",(function(t){r.onTrackerMouseOut(t)})),b&&e[t].on("touchstart",a),!n.styledMode&&e.options.cursor&&e[t].css(o).css({cursor:e.options.cursor}))})),e._hasTracking=!0),c(this,"afterDrawTracker")},drawTrackerGraph:function(){var t=this,e=t.options,n=e.trackByArea,r=[].concat(n?t.areaPath:t.graphPath),a=t.chart,i=a.pointer,o=a.renderer,s=a.options.tooltip.snap,u=t.tracker,l=function(e){a.hoverSeries!==t&&t.onMouseOver()},h="rgba(192,192,192,"+(O?1e-4:.002)+")";u?u.attr({d:r}):t.graph&&(t.tracker=o.path(r).attr({visibility:t.visible?"visible":"hidden",zIndex:2}).addClass(n?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),a.styledMode||t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:h,fill:n?h:"none","stroke-width":t.graph.strokeWidth()+(n?0:2*s)}),[t.tracker,t.markerGroup].forEach((function(t){t.addClass("highcharts-tracker").on("mouseover",l).on("mouseout",(function(t){i.onTrackerMouseOut(t)})),e.cursor&&!a.styledMode&&t.css({cursor:e.cursor}),b&&t.on("touchstart",l)}))),c(this,"afterDrawTracker")}};w.column&&(w.column.prototype.drawTracker=k.drawTrackerPoint),w.pie&&(w.pie.prototype.drawTracker=k.drawTrackerPoint),w.scatter&&(w.scatter.prototype.drawTracker=k.drawTrackerPoint),u(e.prototype,{setItemEvents:function(t,e,r){var a=this,i=a.chart.renderer.boxWrapper,o=t instanceof n,s="highcharts-legend-"+(o?"point":"series")+"-active",u=a.chart.styledMode;(r?[e,t.legendSymbol]:[t.legendGroup]).forEach((function(n){n&&n.on("mouseover",(function(){t.visible&&a.allItems.forEach((function(e){t!==e&&e.setState("inactive",!o)})),t.setState("hover"),t.visible&&i.addClass(s),u||e.css(a.options.itemHoverStyle)})).on("mouseout",(function(){a.chart.styledMode||e.css(d(t.visible?a.itemStyle:a.itemHiddenStyle)),a.allItems.forEach((function(e){t!==e&&e.setState("",!o)})),i.removeClass(s),t.setState()})).on("click",(function(e){var n=function(){t.setVisible&&t.setVisible(),a.allItems.forEach((function(e){t!==e&&e.setState(t.visible?"inactive":"",!o)}))};i.removeClass(s),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):c(t,"legendItemClick",e,n)}))}))},createCheckboxForItem:function(t){t.checkbox=i("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),a(t.checkbox,"click",(function(e){c(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}),u(r.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=g.lang,r=e.options.chart.resetZoomButton,a=r.theme,i=a.states,o="chart"===r.relativeTo||"spaceBox"===r.relativeTo?null:"plotBox";c(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,a,i&&i.hover).attr({align:r.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(r.position,!1,o)})),c(this,"afterShowResetZoom")},zoomOut:function(){c(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,n=this,r=n.pointer,a=!1,i=n.inverted?r.mouseDownX:r.mouseDownY;!t||t.resetSelection?(n.axes.forEach((function(t){e=t.zoom()})),r.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){var o=t.axis,u=n.inverted?o.left:o.top,c=n.inverted?u+o.width:u+o.height,l=o.isXAxis,h=!1;(!l&&i>=u&&i<=c||l||!s(i))&&(h=!0),r[l?"zoomX":"zoomY"]&&h&&(e=o.zoom(t.min,t.max),o.displayBtn&&(a=!0))}));var o=n.resetZoomButton;a&&!o?n.showResetZoom():!a&&p(o)&&(n.resetZoomButton=o.destroy()),e&&n.redraw(m(n.options.chart.animation,t&&t.animation,100>n.pointCount))},pan:function(e,n){var r,a=this,i=a.hoverPoints,s=a.options.chart,u=a.options.mapNavigation&&a.options.mapNavigation.enabled;n="object"===typeof n?n:{enabled:n,type:"x"},s&&s.panning&&(s.panning=n);var l=n.type;c(this,"pan",{originalEvent:e},(function(){i&&i.forEach((function(t){t.setState()}));var n=[1];"xy"===l?n=[1,0]:"y"===l&&(n=[0]),n.forEach((function(n){var i=a[n?"xAxis":"yAxis"][0],o=i.options,s=i.horiz,c=e[s?"chartX":"chartY"],h=a[s=s?"mouseDownX":"mouseDownY"],p=(i.pointRange||0)/2,d=i.reversed&&!a.inverted||!i.reversed&&a.inverted?-1:1,v=i.getExtremes(),m=i.toValue(h-c,!0)+p*d,g=(d=i.toValue(h+i.len-c,!0)-p*d)<m;h=g?d:m,m=g?m:d;var y=i.hasVerticalPanning(),b=i.panningState;i.series.forEach((function(t){if(y&&!n&&(!b||b.isDirty)){var e=t.getProcessedData(!0);t=t.getExtremes(e.yData,!0),b||(b={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),f(t.dataMin)&&f(t.dataMax)&&(b.startMin=Math.min(t.dataMin,b.startMin),b.startMax=Math.max(t.dataMax,b.startMax))}})),d=Math.min(t.pick(null===b||void 0===b?void 0:b.startMin,v.dataMin),p?v.min:i.toValue(i.toPixels(v.min)-i.minPixelPadding)),p=Math.max(t.pick(null===b||void 0===b?void 0:b.startMax,v.dataMax),p?v.max:i.toValue(i.toPixels(v.max)+i.minPixelPadding)),i.panningState=b,o.ordinal||(0<(o=d-h)&&(m+=o,h=d),0<(o=m-p)&&(m=p,h-=o),(i.series.length&&h!==v.min&&m!==v.max&&n||b&&h>=d&&m<=p)&&(i.setExtremes(h,m,!1,!1,{trigger:"pan"}),a.resetZoomButton||u||!l.match("y")||(a.showResetZoom(),i.displayBtn=!1),r=!0),a[s]=c)})),r&&a.redraw(!1),o(a.container,{cursor:"move"})}))}}),u(n.prototype,{select:function(t,e){var n=this,r=n.series,a=r.chart;this.selectedStaging=t=m(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){n.selected=n.options.selected=t,r.options.data[r.data.indexOf(n)]=n.options,n.setState(t&&"select"),e||a.getSelectedPoints().forEach((function(t){var e=t.series;t.selected&&t!==n&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(a.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=this,e=d(t.series.options.point,t.options).events;t.events=e,v(e,(function(e,n){h(e)&&a(t,n,e)})),this.hasImportedEvents=!0}},setState:function(t,e){var n,r=this.series,a=this.state,i=r.options.states[t||"normal"]||{},o=y[r.type].marker&&r.options.marker,s=o&&!1===o.enabled,l=o&&o.states&&o.states[t||"normal"]||{},h=!1===l.enabled,f=r.stateMarkerGraphic,p=this.marker||{},d=r.chart,v=r.halo,g=o&&r.markerAttribs;if(!((t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===i.enabled||t&&(h||s&&!1===l.enabled)||t&&p.states&&p.states[t]&&!1===p.states[t].enabled)){if(this.state=t,g&&(n=r.markerAttribs(this,t)),this.graphic){if(a&&this.graphic.removeClass("highcharts-point-"+a),t&&this.graphic.addClass("highcharts-point-"+t),!d.styledMode){var b=r.pointAttribs(this,t),x=m(d.options.chart.animation,i.animation);r.options.inactiveOtherPoints&&b.opacity&&((this.dataLabels||[]).forEach((function(t){t&&t.animate({opacity:b.opacity},x)})),this.connector&&this.connector.animate({opacity:b.opacity},x)),this.graphic.animate(b,x)}n&&this.graphic.animate(n,m(d.options.chart.animation,l.animation,o.animation)),f&&f.hide()}else t&&l&&(a=p.symbol||r.symbol,f&&f.currentSymbol!==a&&(f=f.destroy()),n&&(f?f[e?"animate":"attr"]({x:n.x,y:n.y}):a&&(r.stateMarkerGraphic=f=d.renderer.symbol(a,n.x,n.y,n.width,n.height).add(r.markerGroup),f.currentSymbol=a)),!d.styledMode&&f&&f.attr(r.pointAttribs(this,t))),f&&(f[t&&this.isInside?"show":"hide"](),f.element.point=this);t=i.halo,i=(f=this.graphic||f)&&f.visibility||"inherit",t&&t.size&&f&&"hidden"!==i&&!this.isCluster?(v||(r.halo=v=d.renderer.path().add(f.parentGroup)),v.show()[e?"animate":"attr"]({d:this.haloPath(t.size)}),v.attr({class:"highcharts-halo highcharts-color-"+m(this.colorIndex,r.colorIndex)+(this.className?" "+this.className:""),visibility:i,zIndex:-1}),v.point=this,d.styledMode||v.attr(u({fill:this.color||r.color,"fill-opacity":t.opacity},t.attributes))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)},null,v.hide),c(this,"afterSetState")}},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(x.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;t.pointer.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&c(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,r=e.hoverPoint;e.hoverSeries=null,r&&r.onMouseOut(),this&&t.events.mouseOut&&c(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),e.series.forEach((function(t){t.setState("",!0)}))},setState:function(t,e){var n=this,r=n.options,a=n.graph,i=r.inactiveOtherPoints,o=r.states,s=r.lineWidth,u=r.opacity,c=m(o[t||"normal"]&&o[t||"normal"].animation,n.chart.options.chart.animation);if(r=0,t=t||"",n.state!==t&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach((function(e){e&&(n.state&&e.removeClass("highcharts-series-"+n.state),t&&e.addClass("highcharts-series-"+t))})),n.state=t,!n.chart.styledMode)){if(o[t]&&!1===o[t].enabled)return;if(t&&(s=o[t].lineWidth||s+(o[t].lineWidthPlus||0),u=m(o[t].opacity,u)),a&&!a.dashstyle)for(o={"stroke-width":s},a.animate(o,c);n["zone-graph-"+r];)n["zone-graph-"+r].attr(o),r+=1;i||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach((function(t){t&&t.animate({opacity:u},c)}))}e&&i&&n.points&&n.setAllPointsToState(t)},setAllPointsToState:function(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))},setVisible:function(t,e){var n=this,r=n.chart,a=n.legendItem,i=r.options.chart.ignoreHiddenSeries,o=n.visible,s=(n.visible=t=n.options.visible=n.userOptions.visible="undefined"===typeof t?!o:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(t){n[t]&&n[t][s]()})),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),a&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&r.series.forEach((function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),n.linkedSeries.forEach((function(e){e.setVisible(t,!1)})),i&&(r.isDirtyBox=!0),c(n,s),!1!==e&&r.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=this.options.selected="undefined"===typeof t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),c(this,t?"select":"unselect")},drawTracker:k.drawTrackerGraph})})),e(n,"parts/Responsive.js",[n["parts/Globals.js"],n["parts/Utilities.js"]],(function(t,e){var n=e.find,r=e.isArray,a=e.isObject,i=e.merge,o=e.objectEach,s=e.pick,u=e.splat,c=e.uniqueKey;(t=t.Chart).prototype.setResponsive=function(t,e){var r=this.options.responsive,a=[],o=this.currentResponsive;!e&&r&&r.rules&&r.rules.forEach((function(t){"undefined"===typeof t._id&&(t._id=c()),this.matchResponsiveRule(t,a)}),this),(e=i.apply(0,a.map((function(t){return n(r.rules,(function(e){return e._id===t})).chartOptions})))).isResponsiveOptions=!0,(a=a.toString()||void 0)!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,t,!0),a?((o=this.currentOptions(e)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:a,mergedOptions:e,undoOptions:o},this.update(e,t,!0)):this.currentResponsive=void 0)},t.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=s(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(n.minWidth,0)&&this.chartHeight>=s(n.minHeight,0)}).call(this)&&e.push(t._id)},t.prototype.currentOptions=function(t){var e=this,n={};return function t(n,i,s,c){var l;o(n,(function(n,o){if(!c&&-1<e.collectionsWithUpdate.indexOf(o))for(n=u(n),s[o]=[],l=0;l<n.length;l++)i[o][l]&&(s[o][l]={},t(n[l],i[o][l],s[o][l],c+1));else a(n)?(s[o]=r(n)?[]:{},t(n,i[o]||{},s[o],c+1)):s[o]="undefined"===typeof i[o]?null:i[o]}))}(t,this.options,n,0),n}})),e(n,"masters/highcharts.src.js",[n["parts/Globals.js"]],(function(t){return t})),n["masters/highcharts.src.js"]._modules=n,n["masters/highcharts.src.js"]}))},function(t,e,n){var r=n(117);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(73);t.exports=function(t){return r(t)&&t!=+t}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){t.exports=!n(54)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(21),a=n(123);t.exports=function(t){return null!=t&&a(t.length)&&!r(t)}},function(t,e,n){var r=n(58),a=n(55);t.exports=function(t){return"symbol"==typeof t||a(t)&&"[object Symbol]"==r(t)}},function(t,e){t.exports=function(t){return t}},function(t,e){var n,r,a=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(t){return[]},a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(58),a=n(55);t.exports=function(t){return"number"==typeof t||a(t)&&"[object Number]"==r(t)}},function(t,e,n){var r=n(172),a=n(399),i=n(165),o=n(98),s=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&o(t,e[0],e[1])?e=[]:n>2&&o(e[0],e[1],e[2])&&(e=[e[0]]),a(t,r(e,1),[])}));t.exports=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(82);function a(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){var r,a;"undefined"!=typeof self&&self,t.exports=(r=n(3),a=n(62),function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n.n(i),s=n(2),u=n.n(s),c="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,l=Object(i.forwardRef)((function(t,e){var n=Object(i.useRef)(),s=Object(i.useRef)();return c((function(){function e(){var e=t.highcharts||u.a,r=t.constructorType||"chart";e?e[r]?t.options?s.current=e[r](n.current,t.options,t.callback?t.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(s.current){if(!1!==t.allowChartUpdate)if(!t.immutable&&s.current){var r;(r=s.current).update.apply(r,[t.options].concat(a(t.updateArgs||[!0,!0])))}else e()}else e()})),c((function(){return function(){s.current&&(s.current.destroy(),s.current=null)}}),[]),Object(i.useImperativeHandle)(e,(function(){return{get chart(){return s.current},container:n}}),[]),o.a.createElement("div",r({},t.containerProps,{ref:n}))}));e.default=Object(i.memo)(l)},function(t,e){t.exports=r},function(t,e){t.exports=a}]))},function(t,e,n){var r=n(51),a=n(369);t.exports=function(t,e){return t&&t.length?a(t,r(e,2)):[]}},function(t,e,n){var r=n(421)();t.exports=r},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(45).Symbol;t.exports=r},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a}},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";(function(t,r){var a;function i(){if(null==a){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof t)e=t;else if("undefined"!==typeof r)e=r;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}a=e}return a}function o(t,e){var n=function(){var t=i();return null==t._tfGlobals&&(t._tfGlobals=new Map),t._tfGlobals}();if(n.has(t))return n.get(t);var r=e();return n.set(t,r),n.get(t)}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}))}).call(this,n(59),n(70))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={float32:4,int32:4,uint16:2,uint8:1,bool:1}},function(t,e,n){var r=n(174),a=n(404),i=n(69);t.exports=function(t){return t&&t.length?r(t,i,a):void 0}},function(t,e,n){t.exports=n(428)},function(t,e,n){"use strict";var r=n(3),a=n.n(r);function i(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var o=function(t,e){var n;void 0===e&&(e=i);var r,a=[],o=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return o&&n===this&&e(i,a)||(r=t.apply(this,i),o=!0,n=this,a=i),r}},s=n(215),u=n.n(s);var c=function(){function t(t){this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.before=null}var e=t.prototype;return e.insert=function(t){if(this.ctr%(this.isSpeedy?65e3:1)===0){var e,n=function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e}(this);e=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,e),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(r);try{var i=105===t.charCodeAt(1)&&64===t.charCodeAt(0);a.insertRule(t,i?0:a.cssRules.length)}catch(o){0}}else r.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}();var l=function(t){function e(t,e,r){var a=e.trim().split(d);e=a;var i=a.length,o=t.length;switch(o){case 0:case 1:var s=0;for(t=0===o?"":t[0]+" ";s<i;++s)e[s]=n(t,e[s],r).trim();break;default:var u=s=0;for(e=[];s<i;++s)for(var c=0;c<o;++c)e[u++]=n(t[c]+" ",a[s],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(v,"$1"+t.trim());case 58:return t.trim()+e.replace(v,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(v,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,i){var o=t+";",s=2*e+3*n+4*i;if(944===s){t=o.indexOf(":",9)+1;var u=o.substring(t,o.length-1).trim();return u=o.substring(0,t).trim()+u+";",1===A||2===A&&a(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return f.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(e=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(e=(o=t).length-10,s=(u=(33===o.charCodeAt(e)?o.substring(0,e):o).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(O,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(O,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,i).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+i&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),I(2!==e?r:r.replace(k,"$1"),n,e)}function i(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(w," or ($1)").substring(4):"("+e+")"}function o(t,e,n,r,a,i,o,s,c,l){for(var h,f=0,p=e;f<N;++f)switch(h=M[f].call(u,t,p,n,r,a,i,o,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==e)return p}function s(t){return void 0!==(t=t.prefix)&&(I=null,t?"function"!==typeof t?A=1:(A=2,I=t):A=0),s}function u(t,n){var s=t;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<N){var u=o(-1,n,s,s,j,C,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var h=function t(n,s,u,h,f){for(var p,d,v,b,w,O=0,k=0,S=0,E=0,M=0,I=0,R=v=p=0,P=0,F=0,L=0,z=0,B=u.length,W=B-1,U="",V="",H="",G="";P<B;){if(d=u.charCodeAt(P),P===W&&0!==k+E+S+O&&(0!==k&&(d=47===k?10:47),E=S=O=0,B++,W++),0===k+E+S+O){if(P===W&&(0<F&&(U=U.replace(l,"")),0<U.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:U+=u.charAt(P)}d=59}switch(d){case 123:for(p=(U=U.trim()).charCodeAt(0),v=1,z=++P;P<B;){switch(d=u.charCodeAt(P)){case 123:v++;break;case 125:v--;break;case 47:switch(d=u.charCodeAt(P+1)){case 42:case 47:t:{for(R=P+1;R<W;++R)switch(u.charCodeAt(R)){case 47:if(42===d&&42===u.charCodeAt(R-1)&&P+2!==R){P=R+1;break t}break;case 10:if(47===d){P=R+1;break t}}P=R}}break;case 91:d++;case 40:d++;case 34:case 39:for(;P++<W&&u.charCodeAt(P)!==d;);}if(0===v)break;P++}switch(v=u.substring(z,P),0===p&&(p=(U=U.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<F&&(U=U.replace(l,"")),d=U.charCodeAt(1)){case 100:case 109:case 115:case 45:F=s;break;default:F=_}if(z=(v=t(s,F,v,d,f+1)).length,0<N&&(w=o(3,v,F=e(_,U,L),s,j,C,z,d,f,h),U=F.join(""),void 0!==w&&0===(z=(v=w.trim()).length)&&(d=0,v="")),0<z)switch(d){case 115:U=U.replace(x,i);case 100:case 109:case 45:v=U+"{"+v+"}";break;case 107:v=(U=U.replace(m,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=U+v,112===h&&(V+=v,v="")}else v="";break;default:v=t(s,e(s,U,L),v,h,f+1)}H+=v,v=L=F=R=p=0,U="",d=u.charCodeAt(++P);break;case 125:case 59:if(1<(z=(U=(0<F?U.replace(l,""):U).trim()).length))switch(0===R&&(p=U.charCodeAt(0),45===p||96<p&&123>p)&&(z=(U=U.replace(" ",":")).length),0<N&&void 0!==(w=o(1,U,s,n,j,C,V.length,h,f,h))&&0===(z=(U=w.trim()).length)&&(U="\0\0"),p=U.charCodeAt(0),d=U.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){G+=U+u.charAt(P);break}default:58!==U.charCodeAt(z-1)&&(V+=r(U,p,d,U.charCodeAt(2)))}L=F=R=p=0,U="",d=u.charCodeAt(++P)}}switch(d){case 13:case 10:47===k?k=0:0===1+p&&107!==h&&0<U.length&&(F=1,U+="\0"),0<N*D&&o(0,U,s,n,j,C,V.length,h,f,h),C=1,j++;break;case 59:case 125:if(0===k+E+S+O){C++;break}default:switch(C++,b=u.charAt(P),d){case 9:case 32:if(0===E+O+k)switch(M){case 44:case 58:case 9:case 32:b="";break;default:32!==d&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===E+k+O&&(F=L=1,b="\f"+b);break;case 108:if(0===E+k+O+T&&0<R)switch(P-R){case 2:112===M&&58===u.charCodeAt(P-3)&&(T=M);case 8:111===I&&(T=I)}break;case 58:0===E+k+O&&(R=P);break;case 44:0===k+S+E+O&&(F=1,b+="\r");break;case 34:case 39:0===k&&(E=E===d?0:0===E?d:E);break;case 91:0===E+k+S&&O++;break;case 93:0===E+k+S&&O--;break;case 41:0===E+k+O&&S--;break;case 40:if(0===E+k+O){if(0===p)switch(2*M+3*I){case 533:break;default:p=1}S++}break;case 64:0===k+S+E+O+R+v&&(v=1);break;case 42:case 47:if(!(0<E+O+S))switch(k){case 0:switch(2*d+3*u.charCodeAt(P+1)){case 235:k=47;break;case 220:z=P,k=42}break;case 42:47===d&&42===M&&z+2!==P&&(33===u.charCodeAt(z+2)&&(V+=u.substring(z,P+1)),b="",k=0)}}0===k&&(U+=b)}I=M,M=d,P++}if(0<(z=V.length)){if(F=s,0<N&&(void 0!==(w=o(2,V,F,n,j,C,z,h,f,h))&&0===(V=w).length))return G+V+H;if(V=F.join(",")+"{"+V+"}",0!==A*T){switch(2!==A||a(V,2)||(T=0),T){case 111:V=V.replace(y,":-moz-$1")+V;break;case 112:V=V.replace(g,"::-webkit-input-$1")+V.replace(g,"::-moz-$1")+V.replace(g,":-ms-input-$1")+V}T=0}}return G+V+H}(_,s,n,0,0);return 0<N&&(void 0!==(u=o(-2,h,s,s,j,C,h.length,0,0,0))&&(h=u)),"",T=0,C=j=1,h}var c=/^\0+/g,l=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,d=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,O=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,C=1,j=1,T=0,A=1,_=[],M=[],N=0,I=null,D=0;return u.use=function t(e){switch(e){case void 0:case null:N=M.length=0;break;default:if("function"===typeof e)M[N++]=e;else if("object"===typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else D=0|!!e}return t},u.set=s,void 0!==t&&s(t),u};function h(t){t&&f.current.insert(t+"}")}var f={current:null},p=function(t,e,n,r,a,i,o,s,u,c){switch(t){case 1:switch(e.charCodeAt(0)){case 64:return f.current.insert(e+";"),"";case 108:if(98===e.charCodeAt(2))return""}break;case 2:if(0===s)return e+"/*|*/";break;case 3:switch(s){case 102:case 112:return f.current.insert(n[0]+e),"";default:return e+(0===c?"/*|*/":"")}case-2:e.split("/*|*/}").forEach(h)}},d=function(t){void 0===t&&(t={});var e,n=t.key||"css";void 0!==t.prefix&&(e={prefix:t.prefix});var r=new l(e);var a,i={};a=t.container||document.head;var o,s=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(s,(function(t){t.getAttribute("data-emotion-"+n).split(" ").forEach((function(t){i[t]=!0})),t.parentNode!==a&&a.appendChild(t)})),r.use(t.stylisPlugins)(p),o=function(t,e,n,a){var i=e.name;f.current=n,r(t,e.styles),a&&(u.inserted[i]=!0)};var u={key:n,sheet:new c({key:n,container:a,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:i,registered:{},insert:o};return u};function v(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]):r+=n+" "})),r}var m=function(t,e,n){var r=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles),void 0===t.inserted[e.name]){var a=e;do{t.insert("."+r,a,t.sheet,!0);a=a.next}while(void 0!==a)}};var g=function(t){for(var e,n=0,r=0,a=t.length;a>=4;++r,a-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},y={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var b=/[A-Z]|^ms/g,x=/_EMO_([^_]+?)_([^]*?)_EMO_/g,w=function(t){return 45===t.charCodeAt(1)},O=function(t){return null!=t&&"boolean"!==typeof t},k=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){return w(t)?t:t.replace(b,"-$&").toLowerCase()})),S=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(x,(function(t,e,n){return C={name:e,styles:n,next:C},e}))}return 1===y[t]||w(t)||"number"!==typeof e||0===e?e:e+"px"};function E(t,e,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return C={name:n.name,styles:n.styles,next:C},n.name;if(void 0!==n.styles){var a=n.next;if(void 0!==a)for(;void 0!==a;)C={name:a.name,styles:a.styles,next:C},a=a.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=E(t,e,n[a],!1);else for(var i in n){var o=n[i];if("object"!==typeof o)null!=e&&void 0!==e[o]?r+=i+"{"+e[o]+"}":O(o)&&(r+=k(i)+":"+S(i,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=e&&void 0!==e[o[0]]){var s=E(t,e,o,!1);switch(i){case"animation":case"animationName":r+=k(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var u=0;u<o.length;u++)O(o[u])&&(r+=k(i)+":"+S(i,o[u])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=C,o=n(t);return C=i,E(t,e,o,r)}break;case"string":}if(null==e)return n;var s=e[n];return void 0===s||r?n:s}var C,j=/label:\s*([^\s;\n{]+)\s*;/g;var T=function(t,e,n){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,a="";C=void 0;var i=t[0];null==i||void 0===i.raw?(r=!1,a+=E(n,e,i,!1)):a+=i[0];for(var o=1;o<t.length;o++)a+=E(n,e,t[o],46===a.charCodeAt(a.length-1)),r&&(a+=i[o]);j.lastIndex=0;for(var s,u="";null!==(s=j.exec(a));)u+="-"+s[1];return{name:g(a)+u,styles:a,next:C}};var A=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T(e)},_=Object(r.createContext)("undefined"!==typeof HTMLElement?d():null),M=Object(r.createContext)({}),N=_.Provider,I=function(t){return Object(r.forwardRef)((function(e,n){return Object(r.createElement)(_.Consumer,null,(function(r){return t(e,r,n)}))}))},D="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",R=Object.prototype.hasOwnProperty,P=function(t,e,n,a){var i=null===n?e.css:e.css(n);"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[D],s=[i],u="";"string"===typeof e.className?u=v(t.registered,s,e.className):null!=e.className&&(u=e.className+" ");var c=T(s);m(t,c,"string"===typeof o);u+=t.key+"-"+c.name;var l={};for(var h in e)R.call(e,h)&&"css"!==h&&h!==D&&(l[h]=e[h]);return l.ref=a,l.className=u,Object(r.createElement)(o,l)},F=I((function(t,e,n){return"function"===typeof t.css?Object(r.createElement)(M.Consumer,null,(function(r){return P(e,t,r,n)})):P(e,t,null,n)}));var L=function(t,e){var n=arguments;if(null==e||!R.call(e,"css"))return r.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=F;var o={};for(var s in e)R.call(e,s)&&(o[s]=e[s]);o[D]=t,i[1]=o;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)},z=(r.Component,function t(e){for(var n=e.length,r=0,a="";r<n;r++){var i=e[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=t(i);else for(var s in o="",i)i[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=i}o&&(a&&(a+=" "),a+=o)}}return a});function B(t,e,n){var r=[],a=v(t,r,n);return r.length<2?n:a+e(r)}var W=I((function(t,e){return Object(r.createElement)(M.Consumer,null,(function(n){var r=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=T(n,e.registered);return m(e,a,!1),e.key+"-"+a.name},a={css:r,cx:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return B(e.registered,r,z(n))},theme:n},i=t.children(a);return!0,i}))})),U=n(52),V=n(1),H=n.n(V),G=function(){};function Y(t,e){return e?"-"===e[0]?t+e:t+"__"+e:t}function q(t,e,n){var r=[n];if(e&&t)for(var a in e)e.hasOwnProperty(a)&&e[a]&&r.push(""+Y(t,a));return r.filter((function(t){return t})).map((function(t){return String(t).trim()})).join(" ")}var X=function(t){return Array.isArray(t)?t.filter(Boolean):"object"===typeof t&&null!==t?[t]:[]};function K(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function $(t){return K(t)?window.pageYOffset:t.scrollTop}function J(t,e){K(t)?window.scrollTo(0,e):t.scrollTop=e}function Z(t,e,n,r){void 0===n&&(n=200),void 0===r&&(r=G);var a=$(t),i=e-a,o=0;!function e(){var s,u=i*((s=(s=o+=10)/n-1)*s*s+1)+a;J(t,u),o<n?window.requestAnimationFrame(e):r(t)}()}function Q(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}var tt=n(127),et=n.n(tt);function nt(){return(nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function rt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function at(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,a=t.placement,i=t.shouldScroll,o=t.isFixedPosition,s=t.theme.spacing,u=function(t){var e=getComputedStyle(t),n="absolute"===e.position,r=/(auto|scroll)/,a=document.documentElement;if("fixed"===e.position)return a;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),(!n||"static"!==e.position)&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return a}(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var l=u.getBoundingClientRect().height,h=n.getBoundingClientRect(),f=h.bottom,p=h.height,d=h.top,v=n.offsetParent.getBoundingClientRect().top,m=window.innerHeight,g=$(u),y=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),x=v-b,w=m-d,O=x+g,k=l-g-d,S=f-m+g+y,E=g+d-b;switch(a){case"auto":case"bottom":if(w>=p)return{placement:"bottom",maxHeight:e};if(k>=p&&!o)return i&&Z(u,S,160),{placement:"bottom",maxHeight:e};if(!o&&k>=r||o&&w>=r)return i&&Z(u,S,160),{placement:"bottom",maxHeight:o?w-y:k-y};if("auto"===a||o){var C=e,j=o?x:O;return j>=r&&(C=Math.min(j-y-s.controlHeight,e)),{placement:"top",maxHeight:C}}if("bottom"===a)return J(u,S),{placement:"bottom",maxHeight:e};break;case"top":if(x>=p)return{placement:"top",maxHeight:e};if(O>=p&&!o)return i&&Z(u,E,160),{placement:"top",maxHeight:e};if(!o&&O>=r||o&&x>=r){var T=e;return(!o&&O>=r||o&&x>=r)&&(T=o?x-b:O-b),i&&Z(u,E,160),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'+a+'".')}return c}var it=function(t){return"auto"===t?"bottom":t},ot=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,a=n.maxMenuHeight,i=n.menuPlacement,o=n.menuPosition,s=n.menuShouldScrollIntoView,u=n.theme,c=e.context.getPortalPlacement;if(t){var l="fixed"===o,h=at({maxHeight:a,menuEl:t,minHeight:r,placement:i,shouldScroll:s&&!l,isFixedPosition:l,theme:u});c&&c(h),e.setState(h)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||it(t);return nt({},e.props,{placement:n,maxHeight:e.state.maxHeight})},e}return rt(e,t),e.prototype.render=function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})},e}(r.Component);ot.contextTypes={getPortalPlacement:H.a.func};var st=function(t){var e=t.theme,n=e.spacing.baseUnit;return{color:e.colors.neutral40,padding:2*n+"px "+3*n+"px",textAlign:"center"}},ut=st,ct=st,lt=function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.innerProps;return L("div",nt({css:a("noOptionsMessage",t),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},i),e)};lt.defaultProps={children:"No options"};var ht=function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.innerProps;return L("div",nt({css:a("loadingMessage",t),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},i),e)};ht.defaultProps={children:"Loading..."};var ft=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==it(e.props.menuPlacement)&&e.setState({placement:n})},e}rt(e,t);var n=e.prototype;return n.getChildContext=function(){return{getPortalPlacement:this.getPortalPlacement}},n.render=function(){var t=this.props,e=t.appendTo,n=t.children,r=t.controlElement,a=t.menuPlacement,i=t.menuPosition,o=t.getStyles,s="fixed"===i;if(!e&&!s||!r)return null;var u=this.state.placement||it(a),c=function(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}(r),l=s?0:window.pageYOffset,h=c[u]+l,f=L("div",{css:o("menuPortal",{offset:h,position:i,rect:c})},n);return e?Object(U.createPortal)(f,e):f},e}(r.Component);ft.childContextTypes={getPortalPlacement:H.a.func};var pt=Array.isArray,dt=Object.keys,vt=Object.prototype.hasOwnProperty;function mt(t,e){try{return function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){var r,a,i,o=pt(e),s=pt(n);if(o&&s){if((a=e.length)!=n.length)return!1;for(r=a;0!==r--;)if(!t(e[r],n[r]))return!1;return!0}if(o!=s)return!1;var u=e instanceof Date,c=n instanceof Date;if(u!=c)return!1;if(u&&c)return e.getTime()==n.getTime();var l=e instanceof RegExp,h=n instanceof RegExp;if(l!=h)return!1;if(l&&h)return e.toString()==n.toString();var f=dt(e);if((a=f.length)!==dt(n).length)return!1;for(r=a;0!==r--;)if(!vt.call(n,f[r]))return!1;for(r=a;0!==r--;)if(("_owner"!==(i=f[r])||!e.$$typeof)&&!t(e[i],n[i]))return!1;return!0}return e!==e&&n!==n}(t,e)}catch(n){if(n.message&&n.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}function gt(){return(gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function yt(){var t=function(t,e){e||(e=t.slice(0));return t.raw=e,t}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]);return yt=function(){return t},t}function bt(){return(bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var xt={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},wt=function(t){var e=t.size,n=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,["size"]);return L("svg",bt({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:xt},n))},Ot=function(t){return L(wt,bt({size:20},t),L("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},kt=function(t){return L(wt,bt({size:20},t),L("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},St=function(t){var e=t.isFocused,n=t.theme,r=n.spacing.baseUnit,a=n.colors;return{label:"indicatorContainer",color:e?a.neutral60:a.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:e?a.neutral80:a.neutral40}}},Et=St,Ct=St,jt=function(){var t=A.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(yt()),Tt=function(t){var e=t.delay,n=t.offset;return L("span",{css:A({animation:jt+" 1s ease-in-out "+e+"ms infinite;",backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},At=function(t){var e=t.className,n=t.cx,r=t.getStyles,a=t.innerProps,i=t.isRtl;return L("div",bt({},a,{css:r("loadingIndicator",t),className:n({indicator:!0,"loading-indicator":!0},e)}),L(Tt,{delay:0,offset:i}),L(Tt,{delay:160,offset:!0}),L(Tt,{delay:320,offset:!i}))};function _t(){return(_t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}At.defaultProps={size:4};function Mt(){return(Mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Nt(){return(Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var It=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}};function Dt(){return(Dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Rt=function(t){var e=t.children,n=t.innerProps;return L("div",n,e)},Pt=Rt,Ft=Rt;var Lt=function(t){var e=t.children,n=t.className,r=t.components,a=t.cx,i=t.data,o=t.getStyles,s=t.innerProps,u=t.isDisabled,c=t.removeProps,l=t.selectProps,h=r.Container,f=r.Label,p=r.Remove;return L(W,null,(function(r){var d=r.css,v=r.cx;return L(h,{data:i,innerProps:Dt({},s,{className:v(d(o("multiValue",t)),a({"multi-value":!0,"multi-value--is-disabled":u},n))}),selectProps:l},L(f,{data:i,innerProps:{className:v(d(o("multiValueLabel",t)),a({"multi-value__label":!0},n))},selectProps:l},e),L(p,{data:i,innerProps:Dt({className:v(d(o("multiValueRemove",t)),a({"multi-value__remove":!0},n))},c),selectProps:l}))}))};function zt(){return(zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Lt.defaultProps={cropWithEllipsis:!0};function Bt(){return(Bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Wt(){return(Wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ut(){return(Ut=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var Vt={ClearIndicator:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.innerProps;return L("div",bt({},i,{css:a("clearIndicator",t),className:r({indicator:!0,"clear-indicator":!0},n)}),e||L(Ot,null))},Control:function(t){var e=t.children,n=t.cx,r=t.getStyles,a=t.className,i=t.isDisabled,o=t.isFocused,s=t.innerRef,u=t.innerProps,c=t.menuIsOpen;return L("div",_t({ref:s,css:r("control",t),className:n({control:!0,"control--is-disabled":i,"control--is-focused":o,"control--menu-is-open":c},a)},u),e)},DropdownIndicator:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.innerProps;return L("div",bt({},i,{css:a("dropdownIndicator",t),className:r({indicator:!0,"dropdown-indicator":!0},n)}),e||L(kt,null))},DownChevron:kt,CrossIcon:Ot,Group:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.Heading,o=t.headingProps,s=t.label,u=t.theme,c=t.selectProps;return L("div",{css:a("group",t),className:r({group:!0},n)},L(i,Mt({},o,{selectProps:c,theme:u,getStyles:a,cx:r}),s),L("div",null,e))},GroupHeading:function(t){var e=t.className,n=t.cx,r=t.getStyles,a=t.theme,i=(t.selectProps,function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,["className","cx","getStyles","theme","selectProps"]));return L("div",Mt({css:r("groupHeading",Mt({theme:a},i)),className:n({"group-heading":!0},e)},i))},IndicatorsContainer:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles;return L("div",{css:a("indicatorsContainer",t),className:r({indicators:!0},n)},e)},IndicatorSeparator:function(t){var e=t.className,n=t.cx,r=t.getStyles,a=t.innerProps;return L("span",bt({},a,{css:r("indicatorSeparator",t),className:n({"indicator-separator":!0},e)}))},Input:function(t){var e=t.className,n=t.cx,r=t.getStyles,a=t.innerRef,i=t.isHidden,o=t.isDisabled,s=t.theme,u=(t.selectProps,function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return L("div",{css:r("input",Nt({theme:s},u))},L(et.a,Nt({className:n({input:!0},e),inputRef:a,inputStyle:It(i),disabled:o},u)))},LoadingIndicator:At,Menu:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.innerRef,o=t.innerProps;return L("div",nt({css:a("menu",t),className:r({menu:!0},n)},o,{ref:i}),e)},MenuList:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.isMulti,o=t.innerRef;return L("div",{css:a("menuList",t),className:r({"menu-list":!0,"menu-list--is-multi":i},n),ref:o},e)},MenuPortal:ft,LoadingMessage:ht,NoOptionsMessage:lt,MultiValue:Lt,MultiValueContainer:Pt,MultiValueLabel:Ft,MultiValueRemove:function(t){var e=t.children,n=t.innerProps;return L("div",n,e||L(Ot,{size:14}))},Option:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.isDisabled,o=t.isFocused,s=t.isSelected,u=t.innerRef,c=t.innerProps;return L("div",zt({css:a("option",t),className:r({option:!0,"option--is-disabled":i,"option--is-focused":o,"option--is-selected":s},n),ref:u},c),e)},Placeholder:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.innerProps;return L("div",Bt({css:a("placeholder",t),className:r({placeholder:!0},n)},i),e)},SelectContainer:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.innerProps,o=t.isDisabled,s=t.isRtl;return L("div",gt({css:a("container",t),className:r({"--is-disabled":o,"--is-rtl":s},n)},i),e)},SingleValue:function(t){var e=t.children,n=t.className,r=t.cx,a=t.getStyles,i=t.isDisabled,o=t.innerProps;return L("div",Wt({css:a("singleValue",t),className:r({"single-value":!0,"single-value--is-disabled":i},n)},o),e)},ValueContainer:function(t){var e=t.children,n=t.className,r=t.cx,a=t.isMulti,i=t.getStyles,o=t.hasValue;return L("div",{css:i("valueContainer",t),className:r({"value-container":!0,"value-container--is-multi":a,"value-container--has-value":o},n)},e)}},Ht=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],Gt=function(t){for(var e=0;e<Ht.length;e++)t=t.replace(Ht[e].letters,Ht[e].base);return t};function Yt(){return(Yt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var qt=function(t){return t.replace(/^\s+|\s+$/g,"")},Xt=function(t){return t.label+" "+t.value};function Kt(){return(Kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var $t={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},Jt=function(t){return L("span",Kt({css:$t},t))};function Zt(){return(Zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Qt(t){t.in,t.out,t.onExited,t.appear,t.enter,t.exit;var e=t.innerRef,n=(t.emotion,function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return L("input",Zt({ref:e},n,{css:A({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}var te=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.props.innerRef(Object(U.findDOMNode)(this))},a.componentWillUnmount=function(){this.props.innerRef(null)},a.render=function(){return this.props.children},r}(r.Component),ee=["boxSizing","height","overflow","paddingRight","position"],ne={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function re(t){t.preventDefault()}function ae(t){t.stopPropagation()}function ie(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;0===t?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function oe(){return"ontouchstart"in window||navigator.maxTouchPoints}var se=!(!window.document||!window.document.createElement),ue=0,ce=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).originalStyles={},e.listenerOptions={capture:!1,passive:!1},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var t=this;if(se){var e=this.props,n=e.accountForScrollbars,r=e.touchScrollTarget,a=document.body,i=a&&a.style;if(n&&ee.forEach((function(e){var n=i&&i[e];t.originalStyles[e]=n})),n&&ue<1){var o=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,u=window.innerWidth-s+o||0;Object.keys(ne).forEach((function(t){var e=ne[t];i&&(i[t]=e)})),i&&(i.paddingRight=u+"px")}a&&oe()&&(a.addEventListener("touchmove",re,this.listenerOptions),r&&(r.addEventListener("touchstart",ie,this.listenerOptions),r.addEventListener("touchmove",ae,this.listenerOptions))),ue+=1}},a.componentWillUnmount=function(){var t=this;if(se){var e=this.props,n=e.accountForScrollbars,r=e.touchScrollTarget,a=document.body,i=a&&a.style;ue=Math.max(ue-1,0),n&&ue<1&&ee.forEach((function(e){var n=t.originalStyles[e];i&&(i[e]=n)})),a&&oe()&&(a.removeEventListener("touchmove",re,this.listenerOptions),r&&(r.removeEventListener("touchstart",ie,this.listenerOptions),r.removeEventListener("touchmove",ae,this.listenerOptions)))}},a.render=function(){return null},r}(r.Component);ce.defaultProps={accountForScrollbars:!0};var le={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},he=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).state={touchScrollTarget:null},e.getScrollTarget=function(t){t!==e.state.touchScrollTarget&&e.setState({touchScrollTarget:t})},e.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.render=function(){var t=this.props,e=t.children,n=t.isEnabled,r=this.state.touchScrollTarget;return n?L("div",null,L("div",{onClick:this.blurSelectInput,css:le}),L(te,{innerRef:this.getScrollTarget},e),r?L(ce,{touchScrollTarget:r}):null):e},r}(r.PureComponent);var fe=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).isBottom=!1,e.isTop=!1,e.scrollTarget=void 0,e.touchStart=void 0,e.cancelScroll=function(t){t.preventDefault(),t.stopPropagation()},e.handleEventDelta=function(t,n){var r=e.props,a=r.onBottomArrive,i=r.onBottomLeave,o=r.onTopArrive,s=r.onTopLeave,u=e.scrollTarget,c=u.scrollTop,l=u.scrollHeight,h=u.clientHeight,f=e.scrollTarget,p=n>0,d=l-h-c,v=!1;d>n&&e.isBottom&&(i&&i(t),e.isBottom=!1),p&&e.isTop&&(s&&s(t),e.isTop=!1),p&&n>d?(a&&!e.isBottom&&a(t),f.scrollTop=l,v=!0,e.isBottom=!0):!p&&-n>c&&(o&&!e.isTop&&o(t),f.scrollTop=0,v=!0,e.isTop=!0),v&&e.cancelScroll(t)},e.onWheel=function(t){e.handleEventDelta(t,t.deltaY)},e.onTouchStart=function(t){e.touchStart=t.changedTouches[0].clientY},e.onTouchMove=function(t){var n=e.touchStart-t.changedTouches[0].clientY;e.handleEventDelta(t,n)},e.getScrollTarget=function(t){e.scrollTarget=t},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this.startListening(this.scrollTarget)},i.componentWillUnmount=function(){this.stopListening(this.scrollTarget)},i.startListening=function(t){t&&("function"===typeof t.addEventListener&&t.addEventListener("wheel",this.onWheel,!1),"function"===typeof t.addEventListener&&t.addEventListener("touchstart",this.onTouchStart,!1),"function"===typeof t.addEventListener&&t.addEventListener("touchmove",this.onTouchMove,!1))},i.stopListening=function(t){"function"===typeof t.removeEventListener&&t.removeEventListener("wheel",this.onWheel,!1),"function"===typeof t.removeEventListener&&t.removeEventListener("touchstart",this.onTouchStart,!1),"function"===typeof t.removeEventListener&&t.removeEventListener("touchmove",this.onTouchMove,!1)},i.render=function(){return a.a.createElement(te,{innerRef:this.getScrollTarget},this.props.children)},r}(r.Component);function pe(t){var e=t.isEnabled,n=void 0===e||e,r=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,["isEnabled"]);return n?a.a.createElement(fe,r):r.children}var de=function(t,e){void 0===e&&(e={});var n=e,r=n.isSearchable,a=n.isMulti,i=n.label,o=n.isDisabled;switch(t){case"menu":return"Use Up and Down to choose options"+(o?"":", press Enter to select the currently focused option")+", press Escape to exit the menu, press Tab to select the option and exit the menu.";case"input":return(i||"Select")+" is focused "+(r?",type to refine list":"")+", press Down to open the menu, "+(a?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},ve=function(t,e){var n=e.value,r=e.isDisabled;if(n)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option "+n+", deselected.";case"select-option":return r?"option "+n+" is disabled. Select another option.":"option "+n+", selected."}},me=function(t){return!!t.isDisabled};var ge={clearIndicator:Ct,container:function(t){var e=t.isDisabled;return{label:"container",direction:t.isRtl?"rtl":null,pointerEvents:e?"none":null,position:"relative"}},control:function(t){var e=t.isDisabled,n=t.isFocused,r=t.theme,a=r.colors,i=r.borderRadius,o=r.spacing;return{label:"control",alignItems:"center",backgroundColor:e?a.neutral5:a.neutral0,borderColor:e?a.neutral10:n?a.primary:a.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px "+a.primary:null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?a.primary:a.neutral30}}},dropdownIndicator:Et,group:function(t){var e=t.theme.spacing;return{paddingBottom:2*e.baseUnit,paddingTop:2*e.baseUnit}},groupHeading:function(t){var e=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*e.baseUnit,paddingRight:3*e.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(t){var e=t.isDisabled,n=t.theme,r=n.spacing.baseUnit,a=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:e?a.neutral10:a.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,a=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:e?"hidden":"visible",color:a.neutral80}},loadingIndicator:function(t){var e=t.isFocused,n=t.size,r=t.theme,a=r.colors,i=r.spacing.baseUnit;return{label:"loadingIndicator",color:e?a.neutral60:a.neutral20,display:"flex",padding:2*i,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:ct,menu:function(t){var e,n=t.placement,r=t.theme,a=r.borderRadius,i=r.spacing,o=r.colors;return(e={label:"menu"})[function(t){return t?{bottom:"top",top:"bottom"}[t]:"bottom"}(n)]="100%",e.backgroundColor=o.neutral0,e.borderRadius=a,e.boxShadow="0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",e.marginBottom=i.menuGutter,e.marginTop=i.menuGutter,e.position="absolute",e.width="100%",e.zIndex=1,e},menuList:function(t){var e=t.maxHeight,n=t.theme.spacing.baseUnit;return{maxHeight:e,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(t){var e=t.rect,n=t.offset,r=t.position;return{left:e.left,position:r,top:n,width:e.width,zIndex:1}},multiValue:function(t){var e=t.theme,n=e.spacing,r=e.borderRadius;return{label:"multiValue",backgroundColor:e.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(t){var e=t.theme,n=e.borderRadius,r=e.colors,a=t.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:a?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(t){var e=t.theme,n=e.spacing,r=e.borderRadius,a=e.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:t.isFocused&&a.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}}},noOptionsMessage:ut,option:function(t){var e=t.isDisabled,n=t.isFocused,r=t.isSelected,a=t.theme,i=a.spacing,o=a.colors;return{label:"option",backgroundColor:r?o.primary:n?o.primary25:"transparent",color:e?o.neutral20:r?o.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:2*i.baseUnit+"px "+3*i.baseUnit+"px",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!e&&(r?o.primary:o.primary50)}}},placeholder:function(t){var e=t.theme,n=e.spacing;return{label:"placeholder",color:e.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(t){var e=t.isDisabled,n=t.theme,r=n.spacing,a=n.colors;return{label:"singleValue",color:e?a.neutral40:a.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - "+2*r.baseUnit+"px)",overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(t){var e=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:e.baseUnit/2+"px "+2*e.baseUnit+"px",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var ye={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}};function be(){return(be=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var we,Oe={backspaceRemovesValue:!0,blurInputOnSelect:Q(),captureMenuScroll:!Q(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(t,e){var n=Yt({ignoreCase:!0,ignoreAccents:!0,stringify:Xt,trim:!0,matchFrom:"any"},we),r=n.ignoreCase,a=n.ignoreAccents,i=n.stringify,o=n.trim,s=n.matchFrom,u=o?qt(e):e,c=o?qt(i(t)):i(t);return r&&(u=u.toLowerCase(),c=c.toLowerCase()),a&&(u=Gt(u),c=Gt(c)),"start"===s?c.substr(0,u.length)===u:c.indexOf(u)>-1},formatGroupLabel:function(t){return t.label},getOptionLabel:function(t){return t.label},getOptionValue:function(t){return t.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:me,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(t){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return e+" result"+(1!==e?"s":"")+" available"},styles:{},tabIndex:"0",tabSelectsValue:!0},ke=1,Se=function(t){var e,n;function r(e){var n;(n=t.call(this,e)||this).state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},n.blockOptionHover=!1,n.isComposing=!1,n.clearFocusValueOnUpdate=!1,n.commonProps=void 0,n.components=void 0,n.hasGroups=!1,n.initialTouchX=0,n.initialTouchY=0,n.inputIsHiddenAfterUpdate=void 0,n.instancePrefix="",n.openAfterFocus=!1,n.scrollToFocusedOptionOnUpdate=!1,n.userIsDragging=void 0,n.controlRef=null,n.getControlRef=function(t){n.controlRef=t},n.focusedOptionRef=null,n.getFocusedOptionRef=function(t){n.focusedOptionRef=t},n.menuListRef=null,n.getMenuListRef=function(t){n.menuListRef=t},n.inputRef=null,n.getInputRef=function(t){n.inputRef=t},n.cacheComponents=function(t){n.components=Ut({},Vt,{components:t}.components)},n.focus=n.focusInput,n.blur=n.blurInput,n.onChange=function(t,e){var r=n.props;(0,r.onChange)(t,be({},e,{name:r.name}))},n.setValue=function(t,e,r){void 0===e&&(e="set-value");var a=n.props,i=a.closeMenuOnSelect,o=a.isMulti;n.onInputChange("",{action:"set-value"}),i&&(n.inputIsHiddenAfterUpdate=!o,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(t,{action:e,option:r})},n.selectOption=function(t){var e=n.props,r=e.blurInputOnSelect,a=e.isMulti,i=n.state.selectValue;if(a)if(n.isOptionSelected(t,i)){var o=n.getOptionValue(t);n.setValue(i.filter((function(t){return n.getOptionValue(t)!==o})),"deselect-option",t),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(t)}})}else n.isOptionDisabled(t,i)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t),isDisabled:!0}}):(n.setValue([].concat(i,[t]),"select-option",t),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t)}}));else n.isOptionDisabled(t,i)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t),isDisabled:!0}}):(n.setValue(t,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(t)}}));r&&n.blurInput()},n.removeValue=function(t){var e=n.state.selectValue,r=n.getOptionValue(t),a=e.filter((function(t){return n.getOptionValue(t)!==r}));n.onChange(a.length?a:null,{action:"remove-value",removedValue:t}),n.announceAriaLiveSelection({event:"remove-value",context:{value:t?n.getOptionLabel(t):""}}),n.focusInput()},n.clearValue=function(){var t=n.props.isMulti;n.onChange(t?[]:null,{action:"clear"})},n.popValue=function(){var t=n.state.selectValue,e=t[t.length-1],r=t.slice(0,t.length-1);n.announceAriaLiveSelection({event:"pop-value",context:{value:e?n.getOptionLabel(e):""}}),n.onChange(r.length?r:null,{action:"pop-value",removedValue:e})},n.getOptionLabel=function(t){return n.props.getOptionLabel(t)},n.getOptionValue=function(t){return n.props.getOptionValue(t)},n.getStyles=function(t,e){var r=ge[t](e);r.boxSizing="border-box";var a=n.props.styles[t];return a?a(r,e):r},n.getElementId=function(t){return n.instancePrefix+"-"+t},n.getActiveDescendentId=function(){var t=n.props.menuIsOpen,e=n.state,r=e.menuOptions,a=e.focusedOption;if(a&&t){var i=r.focusable.indexOf(a),o=r.render[i];return o&&o.key}},n.announceAriaLiveSelection=function(t){var e=t.event,r=t.context;n.setState({ariaLiveSelection:ve(e,r)})},n.announceAriaLiveContext=function(t){var e=t.event,r=t.context;n.setState({ariaLiveContext:de(e,be({},r,{label:n.props["aria-label"]}))})},n.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),n.focusInput())},n.onMenuMouseMove=function(t){n.blockOptionHover=!1},n.onControlMouseDown=function(t){var e=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&n.onMenuClose():e&&n.openMenu("first"):(e&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&t.preventDefault()},n.onDropdownIndicatorMouseDown=function(t){if((!t||"mousedown"!==t.type||0===t.button)&&!n.props.isDisabled){var e=n.props,r=e.isMulti,a=e.menuIsOpen;n.focusInput(),a?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu("first"),t.preventDefault(),t.stopPropagation()}},n.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(n.clearValue(),t.stopPropagation(),n.openAfterFocus=!1,"touchend"===t.type?n.focusInput():setTimeout((function(){return n.focusInput()})))},n.onScroll=function(t){"boolean"===typeof n.props.closeMenuOnScroll?t.target instanceof HTMLElement&&K(t.target)&&n.props.onMenuClose():"function"===typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(t)&&n.props.onMenuClose()},n.onCompositionStart=function(){n.isComposing=!0},n.onCompositionEnd=function(){n.isComposing=!1},n.onTouchStart=function(t){var e=t.touches.item(0);e&&(n.initialTouchX=e.clientX,n.initialTouchY=e.clientY,n.userIsDragging=!1)},n.onTouchMove=function(t){var e=t.touches.item(0);if(e){var r=Math.abs(e.clientX-n.initialTouchX),a=Math.abs(e.clientY-n.initialTouchY);n.userIsDragging=r>5||a>5}},n.onTouchEnd=function(t){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(t.target)&&n.menuListRef&&!n.menuListRef.contains(t.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)},n.onControlTouchEnd=function(t){n.userIsDragging||n.onControlMouseDown(t)},n.onClearIndicatorTouchEnd=function(t){n.userIsDragging||n.onClearIndicatorMouseDown(t)},n.onDropdownIndicatorTouchEnd=function(t){n.userIsDragging||n.onDropdownIndicatorMouseDown(t)},n.handleInputChange=function(t){var e=t.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(e,{action:"input-change"}),n.onMenuOpen()},n.onInputFocus=function(t){var e=n.props,r=e.isSearchable,a=e.isMulti;n.props.onFocus&&n.props.onFocus(t),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:a}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1},n.onInputBlur=function(t){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(t),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))},n.onOptionHover=function(t){n.blockOptionHover||n.state.focusedOption===t||n.setState({focusedOption:t})},n.shouldHideSelectedOptions=function(){var t=n.props,e=t.hideSelectedOptions,r=t.isMulti;return void 0===e?r:e},n.onKeyDown=function(t){var e=n.props,r=e.isMulti,a=e.backspaceRemovesValue,i=e.escapeClearsValue,o=e.inputValue,s=e.isClearable,u=e.isDisabled,c=e.menuIsOpen,l=e.onKeyDown,h=e.tabSelectsValue,f=e.openMenuOnFocus,p=n.state,d=p.focusedOption,v=p.focusedValue,m=p.selectValue;if(!u&&("function"!==typeof l||(l(t),!t.defaultPrevented))){switch(n.blockOptionHover=!0,t.key){case"ArrowLeft":if(!r||o)return;n.focusValue("previous");break;case"ArrowRight":if(!r||o)return;n.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(v)n.removeValue(v);else{if(!a)return;r?n.popValue():s&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(t.shiftKey||!c||!h||!d||f&&n.isOptionSelected(d,m))return;n.selectOption(d);break;case"Enter":if(229===t.keyCode)break;if(c){if(!d)return;if(n.isComposing)return;n.selectOption(d);break}return;case"Escape":c?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):s&&i&&n.clearValue();break;case" ":if(o)return;if(!c){n.openMenu("first");break}if(!d)return;n.selectOption(d);break;case"ArrowUp":c?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":c?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!c)return;n.focusOption("pageup");break;case"PageDown":if(!c)return;n.focusOption("pagedown");break;case"Home":if(!c)return;n.focusOption("first");break;case"End":if(!c)return;n.focusOption("last");break;default:return}t.preventDefault()}},n.buildMenuOptions=function(t,e){var r=t.inputValue,a=void 0===r?"":r,i=t.options,o=function(t,r){var i=n.isOptionDisabled(t,e),o=n.isOptionSelected(t,e),s=n.getOptionLabel(t),u=n.getOptionValue(t);if(!(n.shouldHideSelectedOptions()&&o||!n.filterOption({label:s,value:u,data:t},a))){var c=i?void 0:function(){return n.onOptionHover(t)},l=i?void 0:function(){return n.selectOption(t)},h=n.getElementId("option")+"-"+r;return{innerProps:{id:h,onClick:l,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:t,isDisabled:i,isSelected:o,key:h,label:s,type:"option",value:u}}};return i.reduce((function(t,e,r){if(e.options){n.hasGroups||(n.hasGroups=!0);var a=e.options.map((function(e,n){var a=o(e,r+"-"+n);return a&&t.focusable.push(e),a})).filter(Boolean);if(a.length){var i=n.getElementId("group")+"-"+r;t.render.push({type:"group",key:i,data:e,options:a})}}else{var s=o(e,""+r);s&&(t.render.push(s),t.focusable.push(e))}return t}),{render:[],focusable:[]})};var r=e.value;n.cacheComponents=o(n.cacheComponents,mt).bind(xe(xe(n))),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++ke);var a=X(r);n.buildMenuOptions=o(n.buildMenuOptions,(function(t,e){var n=t,r=n[0],a=n[1],i=e,o=i[0];return mt(a,i[1])&&mt(r.inputValue,o.inputValue)&&mt(r.options,o.options)})).bind(xe(xe(n)));var i=e.menuIsOpen?n.buildMenuOptions(e,a):{render:[],focusable:[]};return n.state.menuOptions=i,n.state.selectValue=a,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()},i.UNSAFE_componentWillReceiveProps=function(t){var e=this.props,n=e.options,r=e.value,a=e.menuIsOpen,i=e.inputValue;if(this.cacheComponents(t.components),t.value!==r||t.options!==n||t.menuIsOpen!==a||t.inputValue!==i){var o=X(t.value),s=t.menuIsOpen?this.buildMenuOptions(t,o):{render:[],focusable:[]},u=this.getNextFocusedValue(o),c=this.getNextFocusedOption(s.focusable);this.setState({menuOptions:s,selectValue:o,focusedOption:c,focusedValue:u})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)},i.componentDidUpdate=function(t){var e=this.props,n=e.isDisabled,r=e.menuIsOpen,a=this.state.isFocused;(a&&!n&&t.isDisabled||a&&r&&!t.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),a=e.offsetHeight/3;r.bottom+a>n.bottom?J(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):r.top-a<n.top&&J(t,Math.max(e.offsetTop-a,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)},i.componentWillUnmount=function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)},i.onMenuOpen=function(){this.props.onMenuOpen()},i.onMenuClose=function(){var t=this.props,e=t.isSearchable,n=t.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:e,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()},i.onInputChange=function(t,e){this.props.onInputChange(t,e)},i.focusInput=function(){this.inputRef&&this.inputRef.focus()},i.blurInput=function(){this.inputRef&&this.inputRef.blur()},i.openMenu=function(t){var e=this,n=this.state,r=n.selectValue,a=n.isFocused,i=this.buildMenuOptions(this.props,r),o=this.props.isMulti,s="first"===t?0:i.focusable.length-1;if(!o){var u=i.focusable.indexOf(r[0]);u>-1&&(s=u)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:i,focusedValue:null,focusedOption:i.focusable[s]},(function(){e.onMenuOpen(),e.announceAriaLiveContext({event:"menu"})}))},i.focusValue=function(t){var e=this.props,n=e.isMulti,r=e.isSearchable,a=this.state,i=a.selectValue,o=a.focusedValue;if(n){this.setState({focusedOption:null});var s=i.indexOf(o);o||(s=-1,this.announceAriaLiveContext({event:"value"}));var u=i.length-1,c=-1;if(i.length){switch(t){case"previous":c=0===s?0:-1===s?u:s-1;break;case"next":s>-1&&s<u&&(c=s+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==c,focusedValue:i[c]})}}},i.focusOption=function(t){void 0===t&&(t="first");var e=this.props.pageSize,n=this.state,r=n.focusedOption,a=n.menuOptions.focusable;if(a.length){var i=0,o=a.indexOf(r);r||(o=-1,this.announceAriaLiveContext({event:"menu"})),"up"===t?i=o>0?o-1:a.length-1:"down"===t?i=(o+1)%a.length:"pageup"===t?(i=o-e)<0&&(i=0):"pagedown"===t?(i=o+e)>a.length-1&&(i=a.length-1):"last"===t&&(i=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[i],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:me(a[i])}})}},i.getTheme=function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(ye):be({},ye,this.props.theme):ye},i.getCommonProps=function(){var t=this.clearValue,e=this.getStyles,n=this.setValue,r=this.selectOption,a=this.props,i=a.classNamePrefix,o=a.isMulti,s=a.isRtl,u=a.options,c=this.state.selectValue,l=this.hasValue();return{cx:q.bind(null,i),clearValue:t,getStyles:e,getValue:function(){return c},hasValue:l,isMulti:o,isRtl:s,options:u,selectOption:r,setValue:n,selectProps:a,theme:this.getTheme()}},i.getNextFocusedValue=function(t){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var e=this.state,n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null},i.getNextFocusedOption=function(t){var e=this.state.focusedOption;return e&&t.indexOf(e)>-1?e:t[0]},i.hasValue=function(){return this.state.selectValue.length>0},i.hasOptions=function(){return!!this.state.menuOptions.render.length},i.countOptions=function(){return this.state.menuOptions.focusable.length},i.isClearable=function(){var t=this.props,e=t.isClearable,n=t.isMulti;return void 0===e?n:e},i.isOptionDisabled=function(t,e){return"function"===typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(t,e)},i.isOptionSelected=function(t,e){var n=this;if(e.indexOf(t)>-1)return!0;if("function"===typeof this.props.isOptionSelected)return this.props.isOptionSelected(t,e);var r=this.getOptionValue(t);return e.some((function(t){return n.getOptionValue(t)===r}))},i.filterOption=function(t,e){return!this.props.filterOption||this.props.filterOption(t,e)},i.formatOptionLabel=function(t,e){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(t,{context:e,inputValue:n,selectValue:r})}return this.getOptionLabel(t)},i.formatGroupLabel=function(t){return this.props.formatGroupLabel(t)},i.startListeningComposition=function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))},i.stopListeningComposition=function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))},i.startListeningToTouch=function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))},i.stopListeningToTouch=function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))},i.constructAriaLiveMessage=function(){var t=this.state,e=t.ariaLiveContext,n=t.selectValue,r=t.focusedValue,a=t.focusedOption,i=this.props,o=i.options,s=i.menuIsOpen,u=i.inputValue,c=i.screenReaderStatus;return(r?function(t){var e=t.focusedValue,n=t.getOptionLabel,r=t.selectValue;return"value "+n(e)+" focused, "+(r.indexOf(e)+1)+" of "+r.length+"."}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"")+" "+(a&&s?function(t){var e=t.focusedOption,n=t.getOptionLabel,r=t.options;return"option "+n(e)+" focused"+(e.isDisabled?" disabled":"")+", "+(r.indexOf(e)+1)+" of "+r.length+"."}({focusedOption:a,getOptionLabel:this.getOptionLabel,options:o}):"")+" "+function(t){var e=t.inputValue;return t.screenReaderMessage+(e?" for search term "+e:"")+"."}({inputValue:u,screenReaderMessage:c({count:this.countOptions()})})+" "+e},i.renderInput=function(){var t=this.props,e=t.isDisabled,n=t.isSearchable,r=t.inputId,i=t.inputValue,o=t.tabIndex,s=this.components.Input,u=this.state.inputIsHidden,c=r||this.getElementId("input"),l={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!n)return a.a.createElement(Qt,be({id:c,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:G,onFocus:this.onInputFocus,readOnly:!0,disabled:e,tabIndex:o,value:""},l));var h=this.commonProps,f=h.cx,p=h.theme,d=h.selectProps;return a.a.createElement(s,be({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:f,getStyles:this.getStyles,id:c,innerRef:this.getInputRef,isDisabled:e,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:d,spellCheck:"false",tabIndex:o,theme:p,type:"text",value:i},l))},i.renderPlaceholderOrValue=function(){var t=this,e=this.components,n=e.MultiValue,r=e.MultiValueContainer,i=e.MultiValueLabel,o=e.MultiValueRemove,s=e.SingleValue,u=e.Placeholder,c=this.commonProps,l=this.props,h=l.controlShouldRenderValue,f=l.isDisabled,p=l.isMulti,d=l.inputValue,v=l.placeholder,m=this.state,g=m.selectValue,y=m.focusedValue,b=m.isFocused;if(!this.hasValue()||!h)return d?null:a.a.createElement(u,be({},c,{key:"placeholder",isDisabled:f,isFocused:b}),v);if(p)return g.map((function(e,s){var u=e===y;return a.a.createElement(n,be({},c,{components:{Container:r,Label:i,Remove:o},isFocused:u,isDisabled:f,key:t.getOptionValue(e),index:s,removeProps:{onClick:function(){return t.removeValue(e)},onTouchEnd:function(){return t.removeValue(e)},onMouseDown:function(t){t.preventDefault(),t.stopPropagation()}},data:e}),t.formatOptionLabel(e,"value"))}));if(d)return null;var x=g[0];return a.a.createElement(s,be({},c,{data:x,isDisabled:f}),this.formatOptionLabel(x,"value"))},i.renderClearIndicator=function(){var t=this.components.ClearIndicator,e=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!t||r||!this.hasValue()||i)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return a.a.createElement(t,be({},e,{innerProps:s,isFocused:o}))},i.renderLoadingIndicator=function(){var t=this.components.LoadingIndicator,e=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!t||!i)return null;return a.a.createElement(t,be({},e,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:o}))},i.renderIndicatorSeparator=function(){var t=this.components,e=t.DropdownIndicator,n=t.IndicatorSeparator;if(!e||!n)return null;var r=this.commonProps,i=this.props.isDisabled,o=this.state.isFocused;return a.a.createElement(n,be({},r,{isDisabled:i,isFocused:o}))},i.renderDropdownIndicator=function(){var t=this.components.DropdownIndicator;if(!t)return null;var e=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return a.a.createElement(t,be({},e,{innerProps:i,isDisabled:n,isFocused:r}))},i.renderMenu=function(){var t=this,e=this.components,n=e.Group,r=e.GroupHeading,i=e.Menu,o=e.MenuList,s=e.MenuPortal,u=e.LoadingMessage,c=e.NoOptionsMessage,l=e.Option,h=this.commonProps,f=this.state,p=f.focusedOption,d=f.menuOptions,v=this.props,m=v.captureMenuScroll,g=v.inputValue,y=v.isLoading,b=v.loadingMessage,x=v.minMenuHeight,w=v.maxMenuHeight,O=v.menuIsOpen,k=v.menuPlacement,S=v.menuPosition,E=v.menuPortalTarget,C=v.menuShouldBlockScroll,j=v.menuShouldScrollIntoView,T=v.noOptionsMessage,A=v.onMenuScrollToTop,_=v.onMenuScrollToBottom;if(!O)return null;var M,N=function(e){var n=p===e.data;return e.innerRef=n?t.getFocusedOptionRef:void 0,a.a.createElement(l,be({},h,e,{isFocused:n}),t.formatOptionLabel(e.data,"menu"))};if(this.hasOptions())M=d.render.map((function(e){if("group"===e.type){e.type;var i=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(e,["type"]),o=e.key+"-heading";return a.a.createElement(n,be({},h,i,{Heading:r,headingProps:{id:o},label:t.formatGroupLabel(e.data)}),e.options.map((function(t){return N(t)})))}if("option"===e.type)return N(e)}));else if(y){var I=b({inputValue:g});if(null===I)return null;M=a.a.createElement(u,h,I)}else{var D=T({inputValue:g});if(null===D)return null;M=a.a.createElement(c,h,D)}var R={minMenuHeight:x,maxMenuHeight:w,menuPlacement:k,menuPosition:S,menuShouldScrollIntoView:j},P=a.a.createElement(ot,be({},h,R),(function(e){var n=e.ref,r=e.placerProps,s=r.placement,u=r.maxHeight;return a.a.createElement(i,be({},h,R,{innerRef:n,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:y,placement:s}),a.a.createElement(pe,{isEnabled:m,onTopArrive:A,onBottomArrive:_},a.a.createElement(he,{isEnabled:C},a.a.createElement(o,be({},h,{innerRef:t.getMenuListRef,isLoading:y,maxHeight:u}),M))))}));return E||"fixed"===S?a.a.createElement(s,be({},h,{appendTo:E,controlElement:this.controlRef,menuPlacement:k,menuPosition:S}),P):P},i.renderFormField=function(){var t=this,e=this.props,n=e.delimiter,r=e.isDisabled,i=e.isMulti,o=e.name,s=this.state.selectValue;if(o&&!r){if(i){if(n){var u=s.map((function(e){return t.getOptionValue(e)})).join(n);return a.a.createElement("input",{name:o,type:"hidden",value:u})}var c=s.length>0?s.map((function(e,n){return a.a.createElement("input",{key:"i-"+n,name:o,type:"hidden",value:t.getOptionValue(e)})})):a.a.createElement("input",{name:o,type:"hidden"});return a.a.createElement("div",null,c)}var l=s[0]?this.getOptionValue(s[0]):"";return a.a.createElement("input",{name:o,type:"hidden",value:l})}},i.renderLiveRegion=function(){return this.state.isFocused?a.a.createElement(Jt,{"aria-live":"polite"},a.a.createElement("p",{id:"aria-selection-event"},"\xa0",this.state.ariaLiveSelection),a.a.createElement("p",{id:"aria-context"},"\xa0",this.constructAriaLiveMessage())):null},i.render=function(){var t=this.components,e=t.Control,n=t.IndicatorsContainer,r=t.SelectContainer,i=t.ValueContainer,o=this.props,s=o.className,u=o.id,c=o.isDisabled,l=o.menuIsOpen,h=this.state.isFocused,f=this.commonProps=this.getCommonProps();return a.a.createElement(r,be({},f,{className:s,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:h}),this.renderLiveRegion(),a.a.createElement(e,be({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:h,menuIsOpen:l}),a.a.createElement(i,be({},f,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),a.a.createElement(n,be({},f,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())},r}(r.Component);function Ee(){return(Ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Se.defaultProps=Oe;var Ce={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null};r.Component;var je=function(t){var e,n;return n=e=function(e){var n,r;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).select=void 0,t.state={inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue},t.onChange=function(e,n){t.callProp("onChange",e,n),t.setState({value:e})},t.onInputChange=function(e,n){var r=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==r?r:e})},t.onMenuOpen=function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})},t.onMenuClose=function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})},t}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var o=i.prototype;return o.focus=function(){this.select.focus()},o.blur=function(){this.select.blur()},o.getProp=function(t){return void 0!==this.props[t]?this.props[t]:this.state[t]},o.callProp=function(t){if("function"===typeof this.props[t]){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=this.props)[t].apply(e,r)}},o.render=function(){var e=this,n=this.props,r=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return a.a.createElement(t,Ee({},r,{ref:function(t){e.select=t},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))},i}(r.Component),e.defaultProps=Ce,n}(Se);e.a=je},function(t,e,n){var r=n(65);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(305),a=n(306),i=n(307),o=n(308),s=n(309);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=o,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(114);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(60)(Object,"create");t.exports=r},function(t,e,n){var r=n(327);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(342),a=n(348),i=n(67);t.exports=function(t){return i(t)?r(t):a(t)}},function(t,e,n){var r=n(68);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(167),a=n(390)(r);t.exports=a},function(t,e,n){var r=n(114),a=n(67),i=n(122),o=n(37);t.exports=function(t,e,n){if(!o(n))return!1;var s=typeof e;return!!("number"==s?a(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";function r(){if("undefined"!==typeof navigator&&null!=navigator){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function a(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}n.r(e),n.d(e,"isMobile",(function(){return r})),n.d(e,"isBrowser",(function(){return a}))},function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=s(n(391)),a=s(n(396)),i=s(n(171)),o=s(n(168));function s(t){return t&&t.__esModule?t:{default:t}}t.exports={Transition:o.default,TransitionGroup:i.default,ReplaceTransition:a.default,CSSTransition:r.default}},function(t,e,n){var r=n(416),a=n(417),i=n(51),o=n(26),s=n(98);t.exports=function(t,e,n){var u=o(t)?r:a;return n&&s(t,e,n)&&(e=void 0),u(t,i(e,3))}},function(t,e,n){var r,a=n(408),i=n(409),o=n(411),s=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g;t.exports=function(t,e){function n(t,i,u){if(r++>100)throw r=0,new Error("Call stack overflow for "+u);if(""===t)throw new Error(i+"(): '"+u+"' must contain a non-whitespace string");var c=function(t){var e=[],n=[],r=/[\.0-9]([%a-z]+)/gi,a=r.exec(t);for(;a;)a&&a[1]&&(-1===n.indexOf(a[1].toLowerCase())&&(e.push(a[1]),n.push(a[1].toLowerCase())),a=r.exec(t));return e}(t=function(t,e){t=t.replace(/((?:\-[a-z]+\-)?calc)/g,"");var r,i="",o=t;for(;r=s.exec(o);){r[0].index>0&&(i+=o.substring(0,r[0].index));var u=a("(",")",o.substring([0].index));if(""===u.body)throw new Error("'"+t+"' must contain a non-whitespace string");var c=n(u.body,"",e);i+=u.pre+c,o=u.post}return i+o}(t,u));if(c.length>1||t.indexOf("var(")>-1)return i+"("+t+")";var l=c[0]||"";"%"===l&&(t=t.replace(/\b[0-9\.]+%/g,(function(t){return.01*parseFloat(t.slice(0,-1))})));var h,f=t.replace(new RegExp(l,"gi"),"");try{h=o.eval(f)}catch(p){return i+"("+t+")"}return"%"===l&&(h*=100),(i.length||"%"===l)&&(h=Math.round(h*e)/e),h+=l}return r=0,e=Math.pow(10,void 0===e?5:e),t=t.replace(/\n+/g," "),i(t,/((?:\-[a-z]+\-)?calc)\(/,n)}},function(t,e,n){var r=n(88),a=n(135),i=n(105),o=Object.defineProperty;e.f=n(66)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),a)try{return o(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(65);t.exports=function(t,e){if(!r(t))return t;var n,a;if(e&&"function"==typeof(n=t.toString)&&!r(a=n.call(t)))return a;if("function"==typeof(n=t.valueOf)&&!r(a=n.call(t)))return a;if(!e&&"function"==typeof(n=t.toString)&&!r(a=n.call(t)))return a;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(278),a=n(110);t.exports=function(t){return r(a(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(28),a=n(110),i=n(54),o=n(113),s="["+o+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t,e,n){var a={},s=i((function(){return!!o[t]()||"\u200b\x85"!="\u200b\x85"[t]()})),u=a[t]=s?e(h):o[t];n&&(a[n]=u),r(r.P+r.F*s,"String",a)},h=l.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t,e){t.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(60)(n(45),"Map");t.exports=r},function(t,e,n){var r=n(319),a=n(326),i=n(328),o=n(329),s=n(330);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=o,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(331),a=n(55);t.exports=function t(e,n,i,o,s){return e===n||(null==e||null==n||!a(e)&&!a(n)?e!==e&&n!==n:r(e,n,i,o,t,s))}},function(t,e,n){var r=n(116),a=n(332),i=n(333);function o(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,t.exports=o},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(344),a=n(55),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return a(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var r=n(26),a=n(68),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!a(t))||(o.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,n){"use strict";(function(t){var r=n(450),a=n(451),i=n(452);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"===typeof e?function(t,e,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),a=(t=s(t,r)).write(e,n);a!==r&&(t=t.slice(0,a));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(t,0):f(t,e);if("Buffer"===e.type&&i(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return B(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return j(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,a){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(a)return-1;n=t.length-1}else if(n<0){if(!a)return-1;n=0}if("string"===typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,a);if("number"===typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,a);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,a){var i,o=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(a){var l=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*o}else-1!==l&&(i-=i-l),l=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var h=!0,f=0;f<u;f++)if(c(t,i+f)!==c(e,f)){h=!1;break}if(h)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var a=t.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[n+o]=s}return o}function x(t,e,n,r){return U(B(e,t.length-n),t,n,r)}function w(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function O(t,e,n,r){return w(t,e,n,r)}function k(t,e,n,r){return U(W(e),t,n,r)}function S(t,e,n,r){return U(function(t,e){for(var n,r,a,i=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,a=n%256,i.push(a),i.push(r);return i}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],a=e;a<n;){var i,o,s,u,c=t[a],l=null,h=c>239?4:c>223?3:c>191?2:1;if(a+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128===(192&(i=t[a+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[a+1],o=t[a+2],128===(192&i)&&128===(192&o)&&(u=(15&c)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[a+1],o=t[a+2],s=t[a+3],128===(192&i)&&128===(192&o)&&128===(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),a+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=o(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"===typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,a=0,i=Math.min(n,r);a<i;++a)if(t[a]!==e[a]){n=t[a],r=e[a];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),a=0;for(n=0;n<t.length;++n){var o=t[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):v.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,a){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),e<0||n>t.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&e>=n)return 0;if(r>=a)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),s=Math.min(i,o),c=this.slice(r,a),l=t.slice(e,n),h=0;h<s;++h)if(c[h]!==l[h]){i=c[h],o=l[h];break}return i<o?-1:o<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-e;if((void 0===n||n>a)&&(n=a),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return O(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(127&t[a]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var a=e;a<n;++a)r+=String.fromCharCode(t[a]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=e;i<n;++i)a+=z(t[i]);return a}function _(t,e,n){for(var r=t.slice(e,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function M(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,a,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var a=0,i=Math.min(t.length-n,2);a<i;++a)t[n+a]=(e&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var a=0,i=Math.min(t.length-n,4);a<i;++a)t[n+a]=e>>>8*(r?a:3-a)&255}function R(t,e,n,r,a,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,i){return i||R(t,0,n,4),a.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,i){return i||R(t,0,n,8),a.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var a=e-t;n=new u(a,void 0);for(var i=0;i<a;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],a=1,i=0;++i<e&&(a*=256);)r+=this[t+i]*a;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t+--e],a=1;e>0&&(a*=256);)r+=this[t+--e]*a;return r},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],a=1,i=0;++i<e&&(a*=256);)r+=this[t+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=e,a=1,i=this[t+--r];r>0&&(a*=256);)i+=this[t+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),a.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),a.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),a.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),a.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[e]=255&t;++i<n&&(a*=256);)this[e+i]=t/a&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[e+a]=255&t;--a>=0&&(i*=256);)this[e+a]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);N(this,t,e,n,a-1,-a)}var i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var a=Math.pow(2,8*n-1);N(this,t,e,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var a,i=r-n;if(this===t&&n<e&&e<r)for(a=i-1;a>=0;--a)t[a+e]=this[a+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(i=e;i<n;++i)this[i]=t;else{var o=u.isBuffer(t)?t:B(new u(t,r).toString()),s=o.length;for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var r=t.length,a=null,i=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(e-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(L,"")).length<2)return"";for(;t.length%4!==0;)t+="=";return t}(t))}function U(t,e,n,r){for(var a=0;a<r&&!(a+n>=e.length||a>=t.length);++a)e[a+n]=t[a];return a}}).call(this,n(59))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(3),o=u(i),s=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},l=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],h=function(t,e){e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,e.style.textTransform=t.textTransform},f=!("undefined"===typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),p=function(){return f?"_"+Math.random().toString(36).substr(2,12):void 0},d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.inputRef=function(t){n.input=t,"function"===typeof n.props.inputRef&&n.props.inputRef(t)},n.placeHolderSizerRef=function(t){n.placeHolderSizer=t},n.sizerRef=function(t){n.sizer=t},n.state={inputWidth:t.minWidth,inputId:t.id||p()},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=t.id;e!==this.props.id&&this.setState({inputId:e||p()})}},{key:"componentDidUpdate",value:function(t,e){e.inputWidth!==this.state.inputWidth&&"function"===typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var t=this.input&&window.getComputedStyle(this.input);t&&(h(t,this.sizer),this.placeHolderSizer&&h(t,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var t=void 0;t=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(t+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(t=this.props.minWidth),t!==this.state.inputWidth&&this.setState({inputWidth:t})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var t=this.props.injectStyles;return f&&t?o.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var t=[this.props.defaultValue,this.props.value,""].reduce((function(t,e){return null!==t&&void 0!==t?t:e})),e=r({},this.props.style);e.display||(e.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),a=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(this.props,[]);return function(t){l.forEach((function(e){return delete t[e]}))}(a),a.className=this.props.inputClassName,a.id=this.state.inputId,a.style=n,o.default.createElement("div",{className:this.props.className,style:e},this.renderStyles(),o.default.createElement("input",r({},a,{ref:this.inputRef})),o.default.createElement("div",{ref:this.sizerRef,style:c},t),this.props.placeholder?o.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),e}(i.Component);d.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},d.defaultProps={minWidth:1,injectStyles:!0},e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getTickValues",{enumerable:!0,get:function(){return r.getTickValues}}),Object.defineProperty(e,"getNiceTickValues",{enumerable:!0,get:function(){return r.getNiceTickValues}}),Object.defineProperty(e,"getTickValuesFixedDomain",{enumerable:!0,get:function(){return r.getTickValuesFixedDomain}});var r=n(406)},function(t,e,n){var r=n(426),a=n(167),i=n(51);t.exports=function(t,e){var n={};return e=i(e,3),a(t,(function(t,a,i){r(n,a,e(t,a,i))})),n}},,,,function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(t,e){for(var n,s,u=o(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)i.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){var r=n(104),a=n(137);t.exports=n(66)?function(t,e,n){return r.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(66)&&!n(54)((function(){return 7!=Object.defineProperty(n(136)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(65),a=n(50).document,i=r(a)&&r(a.createElement);t.exports=function(t){return i?a.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(50),a=n(134),i=n(89),o=n(139)("src"),s=n(253),u=(""+s).split("toString");n(79).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(i(n,"name")||a(n,"name",e)),t[e]!==n&&(c&&(i(n,o)||a(n,o,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:a(t,e,n):(delete t[e],a(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(79),a=n(50),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(254)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(255);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,a){return t.call(e,n,r,a)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(277),a=n(137),i=n(109),o=n(105),s=n(89),u=n(135),c=Object.getOwnPropertyDescriptor;e.f=n(66)?c:function(t,e){if(t=i(t),e=o(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return a(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(89),a=n(109),i=n(280)(!1),o=n(145)("IE_PROTO");t.exports=function(t,e){var n,s=a(t),u=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(140)("keys"),a=n(139);t.exports=function(t){return r[t]||(r[t]=a(t))}},function(t,e,n){var r=n(108);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(65),a=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&a(t)===t}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(59))},function(t,e,n){var r=n(91),a=n(310),i=n(311),o=n(312),s=n(313),u=n(314);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=a,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(118),a=n(152),i=n(119);t.exports=function(t,e,n,o,s,u){var c=1&n,l=t.length,h=e.length;if(l!=h&&!(c&&h>l))return!1;var f=u.get(t);if(f&&u.get(e))return f==e;var p=-1,d=!0,v=2&n?new r:void 0;for(u.set(t,e),u.set(e,t);++p<l;){var m=t[p],g=e[p];if(o)var y=c?o(g,m,p,e,t,u):o(m,g,p,t,e,u);if(void 0!==y){if(y)continue;d=!1;break}if(v){if(!a(e,(function(t,e){if(!i(v,e)&&(m===t||s(m,t,n,o,u)))return v.push(e)}))){d=!1;break}}else if(m!==g&&!s(m,g,n,o,u)){d=!1;break}}return u.delete(t),u.delete(e),d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,a=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[a++]=o)}return i}},function(t,e,n){(function(t){var r=n(45),a=n(345),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||a;t.exports=u}).call(this,n(46)(t))},function(t,e,n){var r=n(346),a=n(124),i=n(347),o=i&&i.isTypedArray,s=o?a(o):r;t.exports=s},function(t,e,n){var r=n(60)(n(45),"Set");t.exports=r},function(t,e,n){var r=n(37);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(161),a=n(96);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[a(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(26),a=n(125),i=n(358),o=n(361);t.exports=function(t,e){return r(t)?t:a(t,e)?[t]:i(o(t))}},function(t,e,n){var r=n(370);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e){t.exports=function(t,e,n,r){for(var a=t.length,i=n+(r?1:-1);r?i--:++i<a;)if(e(t[i],i,t))return i;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,a=null==t?0:t.length;++r<a;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(69),a=n(379),i=n(381);t.exports=function(t,e){return i(a(t,e,r),t+"")}},function(t,e,n){var r=n(60),a=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=a},function(t,e,n){var r=n(388),a=n(95);t.exports=function(t,e){return t&&r(t,e,a)}},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(1)),a=s(n(3)),i=s(n(52)),o=n(169);n(170);function s(t){return t&&t.__esModule?t:{default:t}}e.UNMOUNTED="unmounted";e.EXITED="exited";e.ENTERING="entering";e.ENTERED="entered";e.EXITING="exiting";var u=function(t){var e,n;function r(e,n){var r;r=t.call(this,e,n)||this;var a,i=n.transitionGroup,o=i&&!i.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(a="exited",r.appearStatus="entering"):a="entered":a=e.unmountOnExit||e.mountOnEnter?"unmounted":"exited",r.state={status:a},r.nextCallback=null,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(t,e){return t.in&&"unmounted"===e.status?{status:"exited"}:null},o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(e="entering"):"entering"!==n&&"entered"!==n||(e="exiting")}this.updateStatus(!1,e)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},o.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=i.default.findDOMNode(this);"entering"===e?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},o.performEnter=function(t,e){var n=this,r=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,i=this.getTimeouts(),o=a?i.appear:i.enter;e||r?(this.props.onEnter(t,a),this.safeSetState({status:"entering"},(function(){n.props.onEntering(t,a),n.onTransitionEnd(t,o,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(t,a)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(t)}))},o.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},o.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(t,e,n){this.setNextCallback(n);var r=null==e&&!this.props.addEndListener;t&&!r?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},o.render=function(){var t=this.state.status;if("unmounted"===t)return null;var e=this.props,n=e.children,r=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(t,r);var i=a.default.Children.only(n);return a.default.cloneElement(i,r)},r}(a.default.Component);function c(){}u.contextTypes={transitionGroup:r.object},u.childContextTypes={transitionGroup:function(){}},u.propTypes={},u.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},u.UNMOUNTED=0,u.EXITED=1,u.ENTERING=2,u.ENTERED=3,u.EXITING=4;var l=(0,o.polyfill)(u);e.default=l},function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function a(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function i(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function o(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,o=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?o="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==s){var u=t.displayName||t.name,c="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=a),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",(function(){return o})),r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;var r;(r=n(1))&&r.__esModule;e.timeoutsShape=null;e.classNamesShape=null},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=s(n(1)),a=s(n(3)),i=n(169),o=n(397);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},h=function(t){var e,n;function r(e,n){var r,a=(r=t.call(this,e,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:a,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},i.componentDidMount=function(){this.appeared=!0,this.mounted=!0},i.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,o.getInitialChildMapping)(t,r):(0,o.getNextChildMapping)(t,n,r),firstRender:!1}},i.handleExited=function(t,e){var n=(0,o.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=u({},e.children);return delete n[t.key],{children:n}})))},i.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,["component","childFactory"]),i=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?i:a.default.createElement(e,r,i)},r}(a.default.Component);h.childContextTypes={transitionGroup:r.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(t){return t}};var f=(0,i.polyfill)(h);e.default=f,t.exports=e.default},function(t,e,n){var r=n(153),a=n(398);t.exports=function t(e,n,i,o,s){var u=-1,c=e.length;for(i||(i=a),s||(s=[]);++u<c;){var l=e[u];n>0&&i(l)?n>1?t(l,n-1,i,o,s):r(s,l):o||(s[s.length]=l)}return s}},function(t,e,n){var r=n(97),a=n(67);t.exports=function(t,e){var n=-1,i=a(t)?Array(t.length):[];return r(t,(function(t,r,a){i[++n]=e(t,r,a)})),i}},function(t,e,n){var r=n(68);t.exports=function(t,e,n){for(var a=-1,i=t.length;++a<i;){var o=t[a],s=e(o);if(null!=s&&(void 0===u?s===s&&!r(s):n(s,u)))var u=s,c=o}return c}},function(t,e,n){var r;!function(a){"use strict";var i,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,u="[DecimalError] ",c=u+"Invalid argument: ",l=u+"Exponent out of range: ",h=Math.floor,f=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,d=1e7,v=h(1286742750677284.5),m={};function g(t,e){var n,r,a,i,o,u,c,l,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),s?j(e,f):e;if(c=t.d,l=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a){for(i<0?(r=c,i=-i,u=l.length):(r=l,a=o,u=c.length),i>(u=(o=Math.ceil(f/7))>u?o+1:u+1)&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((u=c.length)-(i=l.length)<0&&(i=u,r=l,l=c,c=r),n=0;i;)n=(c[--i]=c[i]+l[i]+n)/d|0,c[i]%=d;for(n&&(c.unshift(n),++a),u=c.length;0==c[--u];)c.pop();return e.d=c,e.e=a,s?j(e,f):e}function y(t,e,n){if(t!==~~t||t<e||t>n)throw Error(c+t)}function b(t){var e,n,r,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)(n=7-(r=t[e]+"").length)&&(i+=S(n)),i+=r;(n=7-(r=(o=t[e])+"").length)&&(i+=S(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}m.absoluteValue=m.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t},m.comparedTo=m.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(e=0,n=(r=i.d.length)<(a=t.d.length)?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},m.decimalPlaces=m.dp=function(){var t=this,e=t.d.length-1,n=7*(e-t.e);if(e=t.d[e])for(;e%10==0;e/=10)n--;return n<0?0:n},m.dividedBy=m.div=function(t){return x(this,new this.constructor(t))},m.dividedToIntegerBy=m.idiv=function(t){var e=this.constructor;return j(x(this,new e(t),0,1),e.precision)},m.equals=m.eq=function(t){return!this.cmp(t)},m.exponent=function(){return O(this)},m.greaterThan=m.gt=function(t){return this.cmp(t)>0},m.greaterThanOrEqualTo=m.gte=function(t){return this.cmp(t)>=0},m.isInteger=m.isint=function(){return this.e>this.d.length-2},m.isNegative=m.isneg=function(){return this.s<0},m.isPositive=m.ispos=function(){return this.s>0},m.isZero=function(){return 0===this.s},m.lessThan=m.lt=function(t){return this.cmp(t)<0},m.lessThanOrEqualTo=m.lte=function(t){return this.cmp(t)<1},m.logarithm=m.log=function(t){var e,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===t)t=new r(10);else if((t=new r(t)).s<1||t.eq(i))throw Error(u+"NaN");if(n.s<1)throw Error(u+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,e=x(E(n,o),E(t,o),o),s=!0,j(e,a))},m.minus=m.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T(e,t):g(e,(t.s=-t.s,t))},m.modulo=m.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(!(t=new r(t)).s)throw Error(u+"NaN");return n.s?(s=!1,e=x(n,t,0,1).times(t),s=!0,n.minus(e)):j(new r(n),a)},m.naturalExponential=m.exp=function(){return w(this)},m.naturalLogarithm=m.ln=function(){return E(this)},m.negated=m.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t},m.plus=m.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?g(e,t):T(e,(t.s=-t.s,t))},m.precision=m.sd=function(t){var e,n,r,a=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(c+t);if(e=O(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n},m.squareRoot=m.sqrt=function(){var t,e,n,r,a,i,o,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(u+"NaN")}for(t=O(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((e=b(c.d)).length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=h((t+1)/2)-(t<0||t%2),r=new l(e=a==1/0?"1e"+t:(e=a.toExponential()).slice(0,e.indexOf("e")+1)+t)):r=new l(a.toString()),a=o=(n=l.precision)+3;;)if(r=(i=r).plus(x(c,i,o+2)).times(.5),b(i.d).slice(0,o)===(e=b(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&"4999"==e){if(j(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=e)break;o+=4}return s=!0,j(r,n)},m.times=m.mul=function(t){var e,n,r,a,i,o,u,c,l,h=this,f=h.constructor,p=h.d,v=(t=new f(t)).d;if(!h.s||!t.s)return new f(0);for(t.s*=h.s,n=h.e+t.e,(c=p.length)<(l=v.length)&&(i=p,p=v,v=i,o=c,c=l,l=o),i=[],r=o=c+l;r--;)i.push(0);for(r=l;--r>=0;){for(e=0,a=c+r;a>r;)u=i[a]+v[r]*p[a-r-1]+e,i[a--]=u%d|0,e=u/d|0;i[a]=(i[a]+e)%d|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,s?j(t,f.precision):t},m.toDecimalPlaces=m.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(y(t,0,1e9),void 0===e?e=r.rounding:y(e,0,8),j(n,t+O(n)+1,e))},m.toExponential=function(t,e){var n,r=this,a=r.constructor;return void 0===t?n=A(r,!0):(y(t,0,1e9),void 0===e?e=a.rounding:y(e,0,8),n=A(r=j(new a(r),t+1,e),!0,t+1)),n},m.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return void 0===t?A(a):(y(t,0,1e9),void 0===e?e=i.rounding:y(e,0,8),n=A((r=j(new i(a),t+O(a)+1,e)).abs(),!1,t+O(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},m.toInteger=m.toint=function(){var t=this,e=t.constructor;return j(new e(t),O(t)+1,e.rounding)},m.toNumber=function(){return+this},m.toPower=m.pow=function(t){var e,n,r,a,o,c,l=this,f=l.constructor,p=+(t=new f(t));if(!t.s)return new f(i);if(!(l=new f(l)).s){if(t.s<1)throw Error(u+"Infinity");return l}if(l.eq(i))return l;if(r=f.precision,t.eq(i))return j(l,r);if(c=(e=t.e)>=(n=t.d.length-1),o=l.s,c){if((n=p<0?-p:p)<=9007199254740991){for(a=new f(i),e=Math.ceil(r/7+4),s=!1;n%2&&_((a=a.times(l)).d,e),0!==(n=h(n/2));)_((l=l.times(l)).d,e);return s=!0,t.s<0?new f(i).div(a):j(a,r)}}else if(o<0)throw Error(u+"NaN");return o=o<0&&1&t.d[Math.max(e,n)]?-1:1,l.s=1,s=!1,a=t.times(E(l,r+12)),s=!0,(a=w(a)).s=o,a},m.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return void 0===t?r=A(a,(n=O(a))<=i.toExpNeg||n>=i.toExpPos):(y(t,1,1e9),void 0===e?e=i.rounding:y(e,0,8),r=A(a=j(new i(a),t,e),t<=(n=O(a))||n<=i.toExpNeg,t)),r},m.toSignificantDigits=m.tosd=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(y(t,1,1e9),void 0===e?e=n.rounding:y(e,0,8)),j(new n(this),t,e)},m.toString=m.valueOf=m.val=m.toJSON=function(){var t=this,e=O(t),n=t.constructor;return A(t,e<=n.toExpNeg||e>=n.toExpPos)};var x=function(){function t(t,e){var n,r=0,a=t.length;for(t=t.slice();a--;)n=t[a]*e+r,t[a]=n%d|0,r=n/d|0;return r&&t.unshift(r),t}function e(t,e,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(t[a]!=e[a]){i=t[a]>e[a]?1:-1;break}return i}function n(t,e,n){for(var r=0;n--;)t[n]-=r,r=t[n]<e[n]?1:0,t[n]=r*d+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,a,i,o){var s,c,l,h,f,p,v,m,g,y,b,x,w,k,S,E,C,T,A=r.constructor,_=r.s==a.s?1:-1,M=r.d,N=a.d;if(!r.s)return new A(r);if(!a.s)throw Error(u+"Division by zero");for(c=r.e-a.e,C=N.length,S=M.length,m=(v=new A(_)).d=[],l=0;N[l]==(M[l]||0);)++l;if(N[l]>(M[l]||0)&&--c,(x=null==i?i=A.precision:o?i+(O(r)-O(a))+1:i)<0)return new A(0);if(x=x/7+2|0,l=0,1==C)for(h=0,N=N[0],x++;(l<S||h)&&x--;l++)w=h*d+(M[l]||0),m[l]=w/N|0,h=w%N|0;else{for((h=d/(N[0]+1)|0)>1&&(N=t(N,h),M=t(M,h),C=N.length,S=M.length),k=C,y=(g=M.slice(0,C)).length;y<C;)g[y++]=0;(T=N.slice()).unshift(0),E=N[0],N[1]>=d/2&&++E;do{h=0,(s=e(N,g,C,y))<0?(b=g[0],C!=y&&(b=b*d+(g[1]||0)),(h=b/E|0)>1?(h>=d&&(h=d-1),1==(s=e(f=t(N,h),g,p=f.length,y=g.length))&&(h--,n(f,C<p?T:N,p))):(0==h&&(s=h=1),f=N.slice()),(p=f.length)<y&&f.unshift(0),n(g,f,y),-1==s&&(s=e(N,g,C,y=g.length))<1&&(h++,n(g,C<y?T:N,y)),y=g.length):0===s&&(h++,g=[0]),m[l++]=h,s&&g[0]?g[y++]=M[k]||0:(g=[M[k]],y=1)}while((k++<S||void 0!==g[0])&&x--)}return m[0]||m.shift(),v.e=c,j(v,o?i+O(v)+1:i)}}();function w(t,e){var n,r,a,o,u,c=0,h=0,p=t.constructor,d=p.precision;if(O(t)>16)throw Error(l+O(t));if(!t.s)return new p(i);for(null==e?(s=!1,u=d):u=e,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(u+=Math.log(f(2,h))/Math.LN10*2+5|0,n=r=a=new p(i),p.precision=u;;){if(r=j(r.times(t),u),n=n.times(++c),b((o=a.plus(x(r,n,u))).d).slice(0,u)===b(a.d).slice(0,u)){for(;h--;)a=j(a.times(a),u);return p.precision=d,null==e?(s=!0,j(a,d)):a}a=o}}function O(t){for(var e=7*t.e,n=t.d[0];n>=10;n/=10)e++;return e}function k(t,e,n){if(e>t.LN10.sd())throw s=!0,n&&(t.precision=n),Error(u+"LN10 precision limit exceeded");return j(new t(t.LN10),e)}function S(t){for(var e="";t--;)e+="0";return e}function E(t,e){var n,r,a,o,c,l,h,f,p,d=1,v=t,m=v.d,g=v.constructor,y=g.precision;if(v.s<1)throw Error(u+(v.s?"NaN":"-Infinity"));if(v.eq(i))return new g(0);if(null==e?(s=!1,f=y):f=e,v.eq(10))return null==e&&(s=!0),k(g,f);if(f+=10,g.precision=f,r=(n=b(m)).charAt(0),o=O(v),!(Math.abs(o)<15e14))return h=k(g,f+2,y).times(o+""),v=E(new g(r+"."+n.slice(1)),f-10).plus(h),g.precision=y,null==e?(s=!0,j(v,y)):v;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((v=v.times(t)).d)).charAt(0),d++;for(o=O(v),r>1?(v=new g("0."+n),o++):v=new g(r+"."+n.slice(1)),l=c=v=x(v.minus(i),v.plus(i),f),p=j(v.times(v),f),a=3;;){if(c=j(c.times(p),f),b((h=l.plus(x(c,new g(a),f))).d).slice(0,f)===b(l.d).slice(0,f))return l=l.times(2),0!==o&&(l=l.plus(k(g,f+2,y).times(o+""))),l=x(l,new g(d),f),g.precision=y,null==e?(s=!0,j(l,y)):l;l=h,a+=2}}function C(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);)++r;for(a=e.length;48===e.charCodeAt(a-1);)--a;if(e=e.slice(r,a)){if(a-=r,n=n-r-1,t.e=h(n/7),t.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=7;r<a;)t.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),s&&(t.e>v||t.e<-v))throw Error(l+n)}else t.s=0,t.e=0,t.d=[0];return t}function j(t,e,n){var r,a,i,o,u,c,p,m,g=t.d;for(o=1,i=g[0];i>=10;i/=10)o++;if((r=e-o)<0)r+=7,a=e,p=g[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=g.length))return t;for(p=i=g[m],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(u=p/(i=f(10,o-a-1))%10|0,c=e<0||void 0!==g[m+1]||p%i,c=n<4?(u||c)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||c||6==n&&(r>0?a>0?p/f(10,o-a):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return c?(i=O(t),g.length=1,e=e-i-1,g[0]=f(10,(7-e%7)%7),t.e=h(-e/7)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(0==r?(g.length=m,i=1,m--):(g.length=m+1,i=f(10,7-r),g[m]=a>0?(p/f(10,o-a)%f(10,a)|0)*i:0),c)for(;;){if(0==m){(g[0]+=i)==d&&(g[0]=1,++t.e);break}if(g[m]+=i,g[m]!=d)break;g[m--]=0,i=1}for(r=g.length;0===g[--r];)g.pop();if(s&&(t.e>v||t.e<-v))throw Error(l+O(t));return t}function T(t,e){var n,r,a,i,o,u,c,l,h,f,p=t.constructor,v=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),s?j(e,v):e;if(c=t.d,f=e.d,r=e.e,l=t.e,c=c.slice(),o=l-r){for((h=o<0)?(n=c,o=-o,u=f.length):(n=f,r=l,u=c.length),o>(a=Math.max(Math.ceil(v/7),u)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((h=(a=c.length)<(u=f.length))&&(u=a),a=0;a<u;a++)if(c[a]!=f[a]){h=c[a]<f[a];break}o=0}for(h&&(n=c,c=f,f=n,e.s=-e.s),u=c.length,a=f.length-u;a>0;--a)c[u++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&0===c[--i];)c[i]=d-1;--c[i],c[a]+=d}c[a]-=f[a]}for(;0===c[--u];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=r,s?j(e,v):e):new p(0)}function A(t,e,n){var r,a=O(t),i=b(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+S(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+S(-a-1)+i,n&&(r=n-o)>0&&(i+=S(r))):a>=o?(i+=S(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+S(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=S(r))),t.s<0?"-"+i:i}function _(t,e){if(t.length>e)return t.length=e,!0}function M(t){if(!t||"object"!==typeof t)throw Error(u+"Object expected");var e,n,r,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if(void 0!==(r=t[n=a[e]])){if(!(h(r)===r&&r>=a[e+1]&&r<=a[e+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=t[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}(o=function t(e){var n,r,a;function i(t){var e=this;if(!(e instanceof i))return new i(t);if(e.constructor=i,t instanceof i)return e.s=t.s,e.e=t.e,void(e.d=(t=t.d)?t.slice():t);if("number"===typeof t){if(0*t!==0)throw Error(c+t);if(t>0)e.s=1;else{if(!(t<0))return e.s=0,e.e=0,void(e.d=[0]);t=-t,e.s=-1}return t===~~t&&t<1e7?(e.e=0,void(e.d=[t])):C(e,t.toString())}if("string"!==typeof t)throw Error(c+t);if(45===t.charCodeAt(0)?(t=t.slice(1),e.s=-1):e.s=1,!p.test(t))throw Error(c+t);C(e,t)}if(i.prototype=m,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=t,i.config=i.set=M,void 0===e&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)e.hasOwnProperty(r=a[n++])||(e[r]=this[r]);return i.config(e),i}(o)).default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=e.reverse=e.compose=e.map=e.range=e.curry=e.PLACE_HOLDER=void 0;var a=function(t){return t},i={"@@functional/placeholder":!0};e.PLACE_HOLDER=i;var o=function(t){return t===i},s=function(t){return function e(){return 0===arguments.length||1===arguments.length&&o(arguments.length<=0?void 0:arguments[0])?e:t.apply(void 0,arguments)}},u=function(t){return function t(e,n){return 1===e?n:s((function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var l=u.filter((function(t){return t!==i})).length;return l>=e?n.apply(void 0,u):t(e-l,s((function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var i=u.map((function(t){return o(t)?e.shift():t}));return n.apply(void 0,r(i).concat(e))})))}))}(t.length,t)};e.curry=u;e.range=function(t,e){for(var n=[],r=t;r<e;++r)n[r-t]=r;return n};var c=u((function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map((function(t){return e[t]})).map(t)}));e.map=c;e.compose=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)return a;var r=e.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(t,e){return e(t)}),i.apply(void 0,arguments))}};e.reverse=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")};e.memoize=function(t){var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e&&a.every((function(t,n){return t===e[n]}))?n:(e=a,n=t.apply(void 0,a))}}},function(t,e,n){var r=n(178);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},function(t,e,n){var r=n(37),a=n(68),i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(a(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):o.test(t)?NaN:+t}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(39);function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var o=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(a(e)+"="+a(t))})))})),i=o.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(39),a=n(433),i={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=n(183)),t}(),transformRequest:[function(t,e){return a(e,"Accept"),a(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){s.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){s.headers[t]=r.merge(i)})),t.exports=s}).call(this,n(70))},function(t,e,n){"use strict";var r=n(39),a=n(434),i=n(180),o=n(436),s=n(439),u=n(440),c=n(184);t.exports=function(t){return new Promise((function(e,l){var h=t.data,f=t.headers;r.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",v=t.auth.password||"";f.Authorization="Basic "+btoa(d+":"+v)}var m=o(t.baseURL,t.url);if(p.open(t.method.toUpperCase(),i(m,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:t,request:p};a(e,l,r),p=null}},p.onabort=function(){p&&(l(c("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(c("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(c(e,t,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=n(441),y=(t.withCredentials||u(m))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in p&&r.forEach(f,(function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),t.responseType)try{p.responseType=t.responseType}catch(b){if("json"!==t.responseType)throw b}"function"===typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),l(t),p=null)})),void 0===h&&(h=null),p.send(h)}))}},function(t,e,n){"use strict";var r=n(435);t.exports=function(t,e,n,a,i){var o=new Error(t);return r(o,e,n,a,i)}},function(t,e,n){"use strict";var r=n(39);t.exports=function(t,e){e=e||{};var n={},a=["url","method","params","data"],i=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(a,(function(t){"undefined"!==typeof e[t]&&(n[t]=e[t])})),r.forEach(i,(function(a){r.isObject(e[a])?n[a]=r.deepMerge(t[a],e[a]):"undefined"!==typeof e[a]?n[a]=e[a]:r.isObject(t[a])?n[a]=r.deepMerge(t[a]):"undefined"!==typeof t[a]&&(n[a]=t[a])})),r.forEach(o,(function(r){"undefined"!==typeof e[r]?n[r]=e[r]:"undefined"!==typeof t[r]&&(n[r]=t[r])}));var s=a.concat(i).concat(o),u=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(u,(function(r){"undefined"!==typeof e[r]?n[r]=e[r]:"undefined"!==typeof t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var r="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof t?t:function(t){return t()};function a(){return new Promise((function(t){return r((function(){return t()}))}))}}).call(this,n(461).setImmediate)},function(t,e,n){var r=n(81),a=n(378),i=n(165),o=n(385),s=i((function(t){var e=r(t,o);return e.length&&e[0]===t[0]?a(e):[]}));t.exports=s},function(t,e,n){var r=n(154),a=n(387),i=n(51),o=n(26);t.exports=function(t,e){return(o(t)?r:a)(t,i(e,3))}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(172),a=n(405);t.exports=function(t,e){return r(a(t,e),1)}},function(t,e,n){var r=n(418)(n(419));t.exports=r},function(t,e,n){var r=n(423),a=n(37);t.exports=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return a(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),r(t,e,{leading:i,maxWait:e,trailing:o})}},function(t,e,n){var r=n(152),a=n(51),i=n(425),o=n(26),s=n(98);t.exports=function(t,e,n){var u=o(t)?r:i;return n&&s(t,e,n)&&(e=void 0),u(t,a(e,3))}},function(t,e,n){"use strict";var r,a="object"===typeof Reflect?Reflect:null,i=a&&"function"===typeof a.apply?a.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=a&&"function"===typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!==t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var a,i,o,s;if(c(n),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),o=i[e]),void 0===o)o=i[e]=n,++t._eventsCount;else if("function"===typeof o?o=i[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(a=l(t))>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},a=f.bind(r);return a.listener=n,r.wrapFn=a,a}function d(t,e,n){var r=t._events;if(void 0===r)return[];var a=r[e];return void 0===a?[]:"function"===typeof a?n?[a.listener||a]:[a]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(a):m(a,a.length)}function v(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!==typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[t];if(void 0===u)return!1;if("function"===typeof u)i(u,this,e);else{var c=u.length,l=m(u,c);for(n=0;n<c;++n)i(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,a,i,o;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){o=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,a),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"clip_value_min",name:"clipValueMin",type:"number"},{tfName:"clip_value_max",name:"clipValueMax",type:"number"}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"clipValueMin",name:"clipValueMin",type:"number",defaultValue:0},{tfName:"clipValueMax",name:"clipValueMax",type:"number",defaultValue:6}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"number"}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool",notSupported:!0}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},function(t,e,n){"use strict";n.r(e),n.d(e,"json",(function(){return r}));var r=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]}]},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return p}));var r=n(4),a=n.n(r),i=n(12),o=n(5),s=n(9),u=n(13),c=n(14),l=n(0),h=n(34),f=n(213),p=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"decodeUTF8",value:function(){return new d(this)}}]),n}(h.a),d=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this)).upstream=t,r.impl=new v(t),r}return Object(s.a)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var t=Object(i.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.impl.next());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(f.a),v=function(e){Object(u.a)(h,e);var r=Object(c.a)(h);function h(t){var e;if(Object(o.a)(this,h),(e=r.call(this)).upstream=t,Object(l.lb)().get("IS_BROWSER"))e.decoder=new TextDecoder("utf-8");else{var a=n(463).StringDecoder;e.decoder=new a("utf8")}return e}return Object(s.a)(h,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Utf8")}},{key:"pump",value:function(){var e=Object(i.a)(a.a.mark((function e(){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(n=e.sent).done){e.next=7;break}return e.abrupt("return",!1);case 7:r=n.value;case 8:return i=Object(l.lb)().get("IS_BROWSER")?this.decoder.decode(r,{stream:!0}):this.decoder.write(t.from(r.buffer)),this.outputQueue.push(i),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),h}(h.b)}).call(this,n(126).Buffer)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(15),a=n(4),i=n.n(a),o=n(12),s=n(5),u=n(9),c=n(13),l=n(14),h=n(34),f=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"split",value:function(t){return new p(this,t)}}]),n}(h.a),p=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t,r){var a;return Object(s.a)(this,n),(a=e.call(this)).upstream=t,a.impl=new d(t,r),a}return Object(u.a)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.impl.next());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(f),d=function(t){Object(c.a)(n,t);var e=Object(l.a)(n);function n(t,r){var a;return Object(s.a)(this,n),(a=e.call(this)).upstream=t,a.separator=r,a.carryover="",a}return Object(u.a)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Split('").concat(this.separator,"')")}},{key:"pump",value:function(){var t=Object(o.a)(i.a.mark((function t(){var e,n,a,o,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.upstream.next();case 2:if(!(e=t.sent).done){t.next=9;break}if(""!==this.carryover){t.next=6;break}return t.abrupt("return",!1);case 6:return this.outputQueue.push(this.carryover),this.carryover="",t.abrupt("return",!0);case 9:(n=e.value.split(this.separator))[0]=this.carryover+n[0],a=Object(r.a)(n.slice(0,-1));try{for(a.s();!(o=a.n()).done;)s=o.value,this.outputQueue.push(s)}catch(i){a.e(i)}finally{a.f()}return this.carryover=n[n.length-1],t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(h.b)},function(t,e,n){var r;"undefined"!==typeof self&&self,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=7)}([function(t,e,n){"use strict";t.exports=function(t,e,n,r,a,i,o,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,s],l=0;(u=new Error(e.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){"use strict";function r(t){return function(){return t}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(t){return t},t.exports=a},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(t,e){for(var n,s,u=o(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)i.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){"use strict";var r=n(1);t.exports=r},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,a){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(8),o=c(i),s=c(n(11)),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(14));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var f=function(t){function e(){var t,n,r;l(this,e);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=h(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),r.state={delayed:r.props.delay>0},h(r,n)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.delay;this.state.delayed&&(this.timeout=setTimeout((function(){t.setState({delayed:!1})}),e))}},{key:"componentWillUnmount",value:function(){var t=this.timeout;t&&clearTimeout(t)}},{key:"render",value:function(){var t=this.props,e=t.color,n=(t.delay,t.type),a=t.height,i=t.width,s=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["color","delay","type","height","width"]),c=this.state.delayed?"blank":n,l=u[c],h={fill:e,height:a,width:i};return o.default.createElement("div",r({style:h,dangerouslySetInnerHTML:{__html:l}},s))}}]),e}(i.Component);f.propTypes={color:s.default.string,delay:s.default.number,type:s.default.string,height:s.default.oneOfType([s.default.string,s.default.number]),width:s.default.oneOfType([s.default.string,s.default.number])},f.defaultProps={color:"#fff",delay:0,type:"balls",height:64,width:64},e.default=f},function(t,e,n){"use strict";t.exports=n(9)},function(t,e,n){"use strict";var r=n(2),a=n(0),i=n(5),o=n(1),s="function"===typeof Symbol&&Symbol.for,u=s?Symbol.for("react.element"):60103,c=s?Symbol.for("react.portal"):60106,l=s?Symbol.for("react.fragment"):60107,h=s?Symbol.for("react.strict_mode"):60108,f=s?Symbol.for("react.provider"):60109,p=s?Symbol.for("react.context"):60110,d=s?Symbol.for("react.async_mode"):60111,v=s?Symbol.for("react.forward_ref"):60112,m="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);a(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function b(t,e,n){this.props=t,this.context=e,this.refs=i,this.updater=n||y}function x(){}function w(t,e,n){this.props=t,this.context=e,this.refs=i,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&g("85"),this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=b.prototype;var O=w.prototype=new x;O.constructor=w,r(O,b.prototype),O.isPureReactComponent=!0;var k={current:null},S=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function C(t,e,n){var r=void 0,a={},i=null,o=null;if(null!=e)for(r in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(i=""+e.key),e)S.call(e,r)&&!E.hasOwnProperty(r)&&(a[r]=e[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:u,type:t,key:i,ref:o,props:a,_owner:k.current}}function j(t){return"object"===typeof t&&null!==t&&t.$$typeof===u}var T=/\/+/g,A=[];function _(t,e,n,r){if(A.length){var a=A.pop();return a.result=t,a.keyPrefix=e,a.func=n,a.context=r,a.count=0,a}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function M(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>A.length&&A.push(t)}function N(t,e,n,r){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var i=!1;if(null===t)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case u:case c:i=!0}}if(i)return n(r,t,""===e?"."+I(t,0):e),1;if(i=0,e=""===e?".":e+":",Array.isArray(t))for(var o=0;o<t.length;o++){var s=e+I(a=t[o],o);i+=N(a,s,n,r)}else if("function"===typeof(s=null===t||"undefined"===typeof t?null:"function"===typeof(s=m&&t[m]||t["@@iterator"])?s:null))for(t=s.call(t),o=0;!(a=t.next()).done;)i+=N(a=a.value,s=e+I(a,o++),n,r);else"object"===a&&g("31","[object Object]"===(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return i}function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function D(t,e){t.func.call(t.context,e,t.count++)}function R(t,e,n){var r=t.result,a=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?P(t,r,n,o.thatReturnsArgument):null!=t&&(j(t)&&(e=a+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(T,"$&/")+"/")+n,t={$$typeof:u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}),r.push(t))}function P(t,e,n,r,a){var i="";null!=n&&(i=(""+n).replace(T,"$&/")+"/"),e=_(e,i,r,a),null==t||N(t,"",R,e),M(e)}var F={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return P(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;e=_(null,null,e,n),null==t||N(t,"",D,e),M(e)},count:function(t){return null==t?0:N(t,"",o.thatReturnsNull,null)},toArray:function(t){var e=[];return P(t,e,null,o.thatReturnsArgument),e},only:function(t){return j(t)||g("143"),t}},createRef:function(){return{current:null}},Component:b,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:p,_calculateChangedBits:e,_defaultValue:t,_currentValue:t,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:v,render:t}},Fragment:l,StrictMode:h,unstable_AsyncMode:d,createElement:C,cloneElement:function(t,e,n){(null===t||void 0===t)&&g("267",t);var a=void 0,i=r({},t.props),o=t.key,s=t.ref,c=t._owner;if(null!=e){void 0!==e.ref&&(s=e.ref,c=k.current),void 0!==e.key&&(o=""+e.key);var l=void 0;for(a in t.type&&t.type.defaultProps&&(l=t.type.defaultProps),e)S.call(e,a)&&!E.hasOwnProperty(a)&&(i[a]=void 0===e[a]&&void 0!==l?l[a]:e[a])}if(1===(a=arguments.length-2))i.children=n;else if(1<a){l=Array(a);for(var h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:u,type:t.type,key:o,ref:s,props:i,_owner:c}},createFactory:function(t){var e=C.bind(null,t);return e.type=t,e},isValidElement:j,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:k,assign:r}},L=Object.freeze({default:F}),z=L&&F||L;t.exports=z.default?z.default:z},function(t,e,n){},function(t,e,n){t.exports=n(13)()},function(t,e,n){"use strict";var r=n(1),a=n(0),i=n(3),o=n(2),s=n(4),u=n(6);t.exports=function(t,e){var n="function"===typeof Symbol&&Symbol.iterator,c={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:h(r.thatReturnsNull),arrayOf:function(t){return h((function(e,n,r,a,i){if("function"!==typeof t)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var o=e[n];if(!Array.isArray(o))return new l("Invalid "+a+" `"+i+"` of type `"+d(o)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<o.length;u++){var c=t(o,u,r,a,i+"["+u+"]",s);if(c instanceof Error)return c}return null}))},element:h((function(e,n,r,a,i){var o=e[n];return t(o)?null:new l("Invalid "+a+" `"+i+"` of type `"+d(o)+"` supplied to `"+r+"`, expected a single ReactElement.")})),instanceOf:function(t){return h((function(e,n,r,a,i){if(!(e[n]instanceof t)){var o=t.name||"<<anonymous>>";return new l("Invalid "+a+" `"+i+"` of type `"+(((s=e[n]).constructor&&s.constructor.name?s.constructor.name:"<<anonymous>>")+"` supplied to `")+r+"`, expected instance of `"+o+"`.")}var s;return null}))},node:h((function(t,e,n,r,a){return p(t[e])?null:new l("Invalid "+r+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return h((function(e,n,r,a,i){if("function"!==typeof t)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var o=e[n],u=d(o);if("object"!==u)return new l("Invalid "+a+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in o)if(o.hasOwnProperty(c)){var h=t(o,c,r,a,i+"."+c,s);if(h instanceof Error)return h}return null}))},oneOf:function(t){return Array.isArray(t)?h((function(e,n,r,a,i){for(var o=e[n],s=0;s<t.length;s++)if(u=o,c=t[s],u===c?0!==u||1/u===1/c:u!==u&&c!==c)return null;var u,c;return new l("Invalid "+a+" `"+i+"` of value `"+o+"` supplied to `"+r+"`, expected one of "+JSON.stringify(t)+".")})):r.thatReturnsNull},oneOfType:function(t){if(!Array.isArray(t))return r.thatReturnsNull;for(var e=0;e<t.length;e++){var n=t[e];if("function"!==typeof n)return i(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",m(n),e),r.thatReturnsNull}return h((function(e,n,r,a,i){for(var o=0;o<t.length;o++)if(null==(0,t[o])(e,n,r,a,i,s))return null;return new l("Invalid "+a+" `"+i+"` supplied to `"+r+"`.")}))},shape:function(t){return h((function(e,n,r,a,i){var o=e[n],u=d(o);if("object"!==u)return new l("Invalid "+a+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in t){var h=t[c];if(h){var f=h(o,c,r,a,i+"."+c,s);if(f)return f}}return null}))},exact:function(t){return h((function(e,n,r,a,i){var u=e[n],c=d(u);if("object"!==c)return new l("Invalid "+a+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var h=o({},e[n],t);for(var f in h){var p=t[f];if(!p)return new l("Invalid "+a+" `"+i+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var v=p(u,f,r,a,i+"."+f,s);if(v)return v}return null}))}};function l(t){this.message=t,this.stack=""}function h(t){function n(n,r,i,o,u,c,h){return o=o||"<<anonymous>>",c=c||i,h!==s&&e&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),null==r[i]?n?null===r[i]?new l("The "+u+" `"+c+"` is marked as required in `"+o+"`, but its value is `null`."):new l("The "+u+" `"+c+"` is marked as required in `"+o+"`, but its value is `undefined`."):null:t(r,i,o,u,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function f(t){return h((function(e,n,r,a,i,o){var s=e[n];return d(s)!==t?new l("Invalid "+a+" `"+i+"` of type `"+v(s)+"` supplied to `"+r+"`, expected `"+t+"`."):null}))}function p(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(p);if(null===e||t(e))return!0;var r=function(t){var e=t&&(n&&t[n]||t["@@iterator"]);if("function"===typeof e)return e}(e);if(!r)return!1;var a,i=r.call(e);if(r!==e.entries){for(;!(a=i.next()).done;)if(!p(a.value))return!1}else for(;!(a=i.next()).done;){var o=a.value;if(o&&!p(o[1]))return!1}return!0;default:return!1}}function d(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"===typeof Symbol&&e instanceof Symbol}(e,t)?"symbol":e}function v(t){if("undefined"===typeof t||null===t)return""+t;var e=d(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function m(t){var e=v(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return l.prototype=Error.prototype,c.checkPropTypes=u,c.PropTypes=c,c}},function(t,e,n){"use strict";var r=n(1),a=n(0),i=n(4);t.exports=function(){function t(t,e,n,r,o,s){s!==i&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15);Object.defineProperty(e,"blank",{enumerable:!0,get:function(){return f(r).default}});var a=n(16);Object.defineProperty(e,"balls",{enumerable:!0,get:function(){return f(a).default}});var i=n(17);Object.defineProperty(e,"bars",{enumerable:!0,get:function(){return f(i).default}});var o=n(18);Object.defineProperty(e,"bubbles",{enumerable:!0,get:function(){return f(o).default}});var s=n(19);Object.defineProperty(e,"cubes",{enumerable:!0,get:function(){return f(s).default}});var u=n(20);Object.defineProperty(e,"cylon",{enumerable:!0,get:function(){return f(u).default}});var c=n(21);Object.defineProperty(e,"spin",{enumerable:!0,get:function(){return f(c).default}});var l=n(22);Object.defineProperty(e,"spinningBubbles",{enumerable:!0,get:function(){return f(l).default}});var h=n(23);function f(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"spokes",{enumerable:!0,get:function(){return f(h).default}})},function(t,e){t.exports='<svg class="icon-blank" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"></svg>\n'},function(t,e){t.exports='<svg class="icon-loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(-8 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(2 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(12 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(24 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n</svg>\n'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> \n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(8)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(14)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n  <path transform="translate(20)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n  <path transform="translate(26)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n</svg>\n'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <circle transform="translate(8 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="translate(16 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="translate(24 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n</svg>\n'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(-8 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(2 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(12 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(24 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n</svg>\n'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n  <path opacity="0.5" transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.1s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n  <path opacity="0.25" transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.2s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n</svg>\n'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/>\n  <path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z">\n    <animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" />\n  </path>\n</svg>\n'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <circle cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(45 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.125s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(90 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.25s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(135 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.375s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(225 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.625s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(270 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.75s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(315 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.875s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n</svg>\n'},function(t,e){t.exports='<svg id="loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(0 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(45 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.125s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(90 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.25s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(135 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.375s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(180 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.5s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(225 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.675s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(270 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.75s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(315 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.875s"/>\n  </path>\n</svg>\n'}])},t.exports=r()},function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(133),a="function"===typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,o=a?Symbol.for("react.portal"):60106,s=a?Symbol.for("react.fragment"):60107,u=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,l=a?Symbol.for("react.provider"):60109,h=a?Symbol.for("react.context"):60110,f=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,d=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function x(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}function w(){}function O(t,e,n){this.props=t,this.context=e,this.refs=b,this.updater=n||y}x.prototype.isReactComponent={},x.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},x.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=x.prototype;var k=O.prototype=new w;k.constructor=O,r(k,x.prototype),k.isPureReactComponent=!0;var S={current:null},E=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function j(t,e,n){var r,a={},o=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,r)&&!C.hasOwnProperty(r)&&(a[r]=e[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:t,key:o,ref:s,props:a,_owner:S.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var A=/\/+/g,_=[];function M(t,e,n,r){if(_.length){var a=_.pop();return a.result=t,a.keyPrefix=e,a.func=n,a.context=r,a.count=0,a}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function N(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>_.length&&_.push(t)}function I(t,e,n){return null==t?0:function t(e,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return r(a,e,""===n?"."+D(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+D(s=e[c],c);u+=t(s,l,r,a)}else if(null===e||"object"!==typeof e?l=null:l="function"===typeof(l=m&&e[m]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=t(s=s.value,l=n+D(s,c++),r,a);else if("object"===s)throw r=""+e,Error(g(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function D(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function R(t,e){t.func.call(t.context,e,t.count++)}function P(t,e,n){var r=t.result,a=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(T(t)&&(t=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,a+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(A,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,a){var i="";null!=n&&(i=(""+n).replace(A,"$&/")+"/"),I(t,P,e=M(e,i,r,a)),N(e)}var L={current:null};function z(){var t=L.current;if(null===t)throw Error(g(321));return t}var B={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;I(t,R,e=M(null,null,e,n)),N(e)},count:function(t){return I(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!T(t))throw Error(g(143));return t}},e.Component=x,e.Fragment=s,e.Profiler=c,e.PureComponent=O,e.StrictMode=u,e.Suspense=p,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(g(267,t));var a=r({},t.props),o=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)E.call(e,l)&&!C.hasOwnProperty(l)&&(a[l]=void 0===e[l]&&void 0!==c?c[l]:e[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:i,type:t.type,key:o,ref:s,props:a,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:h,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:t},t.Consumer=t},e.createElement=j,e.createFactory=function(t){var e=j.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:v,_ctor:t,_status:-1,_result:null}},e.memo=function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return z().useCallback(t,e)},e.useContext=function(t,e){return z().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return z().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return z().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return z().useLayoutEffect(t,e)},e.useMemo=function(t,e){return z().useMemo(t,e)},e.useReducer=function(t,e,n){return z().useReducer(t,e,n)},e.useRef=function(t){return z().useRef(t)},e.useState=function(t){return z().useState(t)},e.version="16.13.1"},function(t,e,n){"use strict";var r=n(3),a=n(133),i=n(248);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function s(t,e,n,r,a,i,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,h=null,f={onError:function(t){u=!0,c=t}};function p(t,e,n,r,a,i,o,l,h){u=!1,c=null,s.apply(f,arguments)}var d=null,v=null,m=null;function g(t,e,n){var r=t.type||"unknown-event";t.currentTarget=m(n),function(t,e,n,r,a,i,s,f,d){if(p.apply(this,arguments),u){if(!u)throw Error(o(198));var v=c;u=!1,c=null,l||(l=!0,h=v)}}(r,e,void 0,t),t.currentTarget=null}var y=null,b={};function x(){if(y)for(var t in b){var e=b[t],n=y.indexOf(t);if(!(-1<n))throw Error(o(96,t));if(!O[n]){if(!e.extractEvents)throw Error(o(97,t));for(var r in O[n]=e,n=e.eventTypes){var a=void 0,i=n[r],s=e,u=r;if(k.hasOwnProperty(u))throw Error(o(99,u));k[u]=i;var c=i.phasedRegistrationNames;if(c){for(a in c)c.hasOwnProperty(a)&&w(c[a],s,u);a=!0}else i.registrationName?(w(i.registrationName,s,u),a=!0):a=!1;if(!a)throw Error(o(98,r,t))}}}}function w(t,e,n){if(S[t])throw Error(o(100,t));S[t]=e,E[t]=e.eventTypes[n].dependencies}var O=[],k={},S={},E={};function C(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!b.hasOwnProperty(e)||b[e]!==r){if(b[e])throw Error(o(102,e));b[e]=r,n=!0}}n&&x()}var j=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),T=null,A=null,_=null;function M(t){if(t=v(t)){if("function"!==typeof T)throw Error(o(280));var e=t.stateNode;e&&(e=d(e),T(t.stateNode,t.type,e))}}function N(t){A?_?_.push(t):_=[t]:A=t}function I(){if(A){var t=A,e=_;if(_=A=null,M(t),e)for(t=0;t<e.length;t++)M(e[t])}}function D(t,e){return t(e)}function R(t,e,n,r,a){return t(e,n,r,a)}function P(){}var F=D,L=!1,z=!1;function B(){null===A&&null===_||(P(),I())}function W(t,e,n){if(z)return t(e,n);z=!0;try{return F(t,e,n)}finally{z=!1,B()}}var U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V=Object.prototype.hasOwnProperty,H={},G={};function Y(t,e,n,r,a,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){q[t]=new Y(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];q[e]=new Y(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){q[t]=new Y(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){q[t]=new Y(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){q[t]=new Y(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){q[t]=new Y(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){q[t]=new Y(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){q[t]=new Y(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){q[t]=new Y(t,5,!1,t.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function K(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(X,K);q[e]=new Y(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(X,K);q[e]=new Y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(X,K);q[e]=new Y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){q[t]=new Y(t,1,!1,t.toLowerCase(),null,!1)})),q.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){q[t]=new Y(t,1,!1,t.toLowerCase(),null,!0)}));var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(t,e,n,r){var a=q.hasOwnProperty(e)?q[e]:null;(null!==a?0===a.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,a,r)&&(n=null),r||null===a?function(t){return!!V.call(G,t)||!V.call(H,t)&&(U.test(t)?G[t]=!0:(H[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=null===n?3!==a.type&&"":n:(e=a.attributeName,r=a.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,Q="function"===typeof Symbol&&Symbol.for,tt=Q?Symbol.for("react.element"):60103,et=Q?Symbol.for("react.portal"):60106,nt=Q?Symbol.for("react.fragment"):60107,rt=Q?Symbol.for("react.strict_mode"):60108,at=Q?Symbol.for("react.profiler"):60114,it=Q?Symbol.for("react.provider"):60109,ot=Q?Symbol.for("react.context"):60110,st=Q?Symbol.for("react.concurrent_mode"):60111,ut=Q?Symbol.for("react.forward_ref"):60112,ct=Q?Symbol.for("react.suspense"):60113,lt=Q?Symbol.for("react.suspense_list"):60120,ht=Q?Symbol.for("react.memo"):60115,ft=Q?Symbol.for("react.lazy"):60116,pt=Q?Symbol.for("react.block"):60121,dt="function"===typeof Symbol&&Symbol.iterator;function vt(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=dt&&t[dt]||t["@@iterator"])?t:null}function mt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case nt:return"Fragment";case et:return"Portal";case at:return"Profiler";case rt:return"StrictMode";case ct:return"Suspense";case lt:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case ot:return"Context.Consumer";case it:return"Context.Provider";case ut:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ht:return mt(t.type);case pt:return mt(t.render);case ft:if(t=1===t._status?t._result:null)return mt(t)}return null}function gt(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,a=t._debugSource,i=mt(t.type);n=null,r&&(n=mt(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace(Z,"")+":"+a.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}e+=n,t=t.return}while(t);return e}function yt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function bt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function xt(t){t._valueTracker||(t._valueTracker=function(t){var e=bt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(t){r=""+t,i.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function wt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Ot(t,e){var n=e.checked;return a({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function kt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=yt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function St(t,e){null!=(e=e.checked)&&J(t,"checked",e,!1)}function Et(t,e){St(t,e);var n=yt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?jt(t,e.type,n):e.hasOwnProperty("defaultValue")&&jt(t,e.type,yt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Ct(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function jt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Tt(t,e){return t=a({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function At(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yt(n),e=null,a=0;a<t.length;a++){if(t[a].value===n)return t[a].selected=!0,void(r&&(t[a].defaultSelected=!0));null!==e||t[a].disabled||(e=t[a])}null!==e&&(e.selected=!0)}}function _t(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return a({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:yt(n)}}function Nt(t,e){var n=yt(e.value),r=yt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function It(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Dt="http://www.w3.org/1999/xhtml",Rt="http://www.w3.org/2000/svg";function Pt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Pt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Lt,zt=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,a){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==Rt||"innerHTML"in t)t.innerHTML=e;else{for((Lt=Lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Bt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Wt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ut={animationend:Wt("Animation","AnimationEnd"),animationiteration:Wt("Animation","AnimationIteration"),animationstart:Wt("Animation","AnimationStart"),transitionend:Wt("Transition","TransitionEnd")},Vt={},Ht={};function Gt(t){if(Vt[t])return Vt[t];if(!Ut[t])return t;var e,n=Ut[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ht)return Vt[t]=n[e];return t}j&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete Ut.animationend.animation,delete Ut.animationiteration.animation,delete Ut.animationstart.animation),"TransitionEvent"in window||delete Ut.transitionend.transition);var Yt=Gt("animationend"),qt=Gt("animationiteration"),Xt=Gt("animationstart"),Kt=Gt("transitionend"),$t="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jt=new("function"===typeof WeakMap?WeakMap:Map);function Zt(t){var e=Jt.get(t);return void 0===e&&(e=new Map,Jt.set(t,e)),e}function Qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function ee(t){if(Qt(t)!==t)throw Error(o(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return ee(a),t;if(i===r)return ee(a),e;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function re(t,e){if(null==e)throw Error(o(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function ae(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var ie=null;function oe(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)g(t,e[r],n[r]);else e&&g(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function se(t){if(null!==t&&(ie=re(ie,t)),t=ie,ie=null,t){if(ae(t,oe),ie)throw Error(o(95));if(l)throw t=h,l=!1,h=null,t}}function ue(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function ce(t){if(!j)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"===typeof e[t]),e}var le=[];function he(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>le.length&&le.push(t)}function fe(t,e,n,r){if(le.length){var a=le.pop();return a.topLevelType=t,a.eventSystemFlags=r,a.nativeEvent=e,a.targetInst=n,a}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function pe(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=jn(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var a=ue(t.nativeEvent);r=t.topLevelType;var i=t.nativeEvent,o=t.eventSystemFlags;0===n&&(o|=64);for(var s=null,u=0;u<O.length;u++){var c=O[u];c&&(c=c.extractEvents(r,e,i,a,o))&&(s=re(s,c))}se(s)}}function de(t,e,n){if(!n.has(t)){switch(t){case"scroll":Xe(e,"scroll",!0);break;case"focus":case"blur":Xe(e,"focus",!0),Xe(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ce(t)&&Xe(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$t.indexOf(t)&&qe(t,e)}n.set(t,null)}}var ve,me,ge,ye=!1,be=[],xe=null,we=null,Oe=null,ke=new Map,Se=new Map,Ee=[],Ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),je="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Te(t,e,n,r,a){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:a,container:r}}function Ae(t,e){switch(t){case"focus":case"blur":xe=null;break;case"dragenter":case"dragleave":we=null;break;case"mouseover":case"mouseout":Oe=null;break;case"pointerover":case"pointerout":ke.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Se.delete(e.pointerId)}}function _e(t,e,n,r,a,i){return null===t||t.nativeEvent!==i?(t=Te(e,n,r,a,i),null!==e&&(null!==(e=Tn(e))&&me(e)),t):(t.eventSystemFlags|=r,t)}function Me(t){var e=jn(t.target);if(null!==e){var n=Qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void i.unstable_runWithPriority(t.priority,(function(){ge(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ne(t){if(null!==t.blockedOn)return!1;var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=Tn(e);return null!==n&&me(n),t.blockedOn=e,!1}return!0}function Ie(t,e,n){Ne(t)&&n.delete(e)}function De(){for(ye=!1;0<be.length;){var t=be[0];if(null!==t.blockedOn){null!==(t=Tn(t.blockedOn))&&ve(t);break}var e=Ze(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:be.shift()}null!==xe&&Ne(xe)&&(xe=null),null!==we&&Ne(we)&&(we=null),null!==Oe&&Ne(Oe)&&(Oe=null),ke.forEach(Ie),Se.forEach(Ie)}function Re(t,e){t.blockedOn===e&&(t.blockedOn=null,ye||(ye=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,De)))}function Pe(t){function e(e){return Re(e,t)}if(0<be.length){Re(be[0],t);for(var n=1;n<be.length;n++){var r=be[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==xe&&Re(xe,t),null!==we&&Re(we,t),null!==Oe&&Re(Oe,t),ke.forEach(e),Se.forEach(e),n=0;n<Ee.length;n++)(r=Ee[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ee.length&&null===(n=Ee[0]).blockedOn;)Me(n),null===n.blockedOn&&Ee.shift()}var Fe={},Le=new Map,ze=new Map,Be=["abort","abort",Yt,"animationEnd",qt,"animationIteration",Xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kt,"transitionEnd","waiting","waiting"];function We(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],a=t[n+1],i="on"+(a[0].toUpperCase()+a.slice(1));i={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[r],eventPriority:e},ze.set(r,e),Le.set(r,i),Fe[a]=i}}We("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),We("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),We(Be,2);for(var Ue="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ve=0;Ve<Ue.length;Ve++)ze.set(Ue[Ve],0);var He=i.unstable_UserBlockingPriority,Ge=i.unstable_runWithPriority,Ye=!0;function qe(t,e){Xe(e,t,!1)}function Xe(t,e,n){var r=ze.get(e);switch(void 0===r?2:r){case 0:r=Ke.bind(null,e,1,t);break;case 1:r=$e.bind(null,e,1,t);break;default:r=Je.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Ke(t,e,n,r){L||P();var a=Je,i=L;L=!0;try{R(a,t,e,n,r)}finally{(L=i)||B()}}function $e(t,e,n,r){Ge(He,Je.bind(null,t,e,n,r))}function Je(t,e,n,r){if(Ye)if(0<be.length&&-1<Ce.indexOf(t))t=Te(null,t,e,n,r),be.push(t);else{var a=Ze(t,e,n,r);if(null===a)Ae(t,r);else if(-1<Ce.indexOf(t))t=Te(a,t,e,n,r),be.push(t);else if(!function(t,e,n,r,a){switch(e){case"focus":return xe=_e(xe,t,e,n,r,a),!0;case"dragenter":return we=_e(we,t,e,n,r,a),!0;case"mouseover":return Oe=_e(Oe,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return ke.set(i,_e(ke.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Se.set(i,_e(Se.get(i)||null,t,e,n,r,a)),!0}return!1}(a,t,e,n,r)){Ae(t,r),t=fe(t,r,null,e);try{W(pe,t)}finally{he(t)}}}}function Ze(t,e,n,r){if(null!==(n=jn(n=ue(r)))){var a=Qt(n);if(null===a)n=null;else{var i=a.tag;if(13===i){if(null!==(n=te(a)))return n;n=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}t=fe(t,r,n,e);try{W(pe,t)}finally{he(t)}return null}var Qe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function en(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Qe.hasOwnProperty(t)&&Qe[t]?(""+e).trim():e+"px"}function nn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=en(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}Object.keys(Qe).forEach((function(t){tn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qe[e]=Qe[t]}))}));var rn=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(t,e){if(e){if(rn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62,""))}}function on(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Dt;function un(t,e){var n=Zt(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=E[e];for(var r=0;r<e.length;r++)de(e[r],t,n)}function cn(){}function ln(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fn(t,e){var n,r=hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hn(r)}}function pn(){for(var t=window,e=ln();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=ln((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vn=null,mn=null;function gn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function yn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,xn="function"===typeof clearTimeout?clearTimeout:void 0;function wn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function On(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var kn=Math.random().toString(36).slice(2),Sn="__reactInternalInstance$"+kn,En="__reactEventHandlers$"+kn,Cn="__reactContainere$"+kn;function jn(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cn]||n[Sn]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=On(t);null!==t;){if(n=t[Sn])return n;t=On(t)}return e}n=(t=n).parentNode}return null}function Tn(t){return!(t=t[Sn]||t[Cn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function An(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function _n(t){return t[En]||null}function Mn(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Nn(t,e){var n=t.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}function In(t,e,n){(e=Nn(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Dn(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Mn(e);for(e=n.length;0<e--;)In(n[e],"captured",t);for(e=0;e<n.length;e++)In(n[e],"bubbled",t)}}function Rn(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Nn(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=re(n._dispatchListeners,e),n._dispatchInstances=re(n._dispatchInstances,t))}function Pn(t){t&&t.dispatchConfig.registrationName&&Rn(t._targetInst,null,t)}function Fn(t){ae(t,Dn)}var Ln=null,zn=null,Bn=null;function Wn(){if(Bn)return Bn;var t,e,n=zn,r=n.length,a="value"in Ln?Ln.value:Ln.textContent,i=a.length;for(t=0;t<r&&n[t]===a[t];t++);var o=r-t;for(e=1;e<=o&&n[r-e]===a[i-e];e++);return Bn=a.slice(t,1<e?1-e:void 0)}function Un(){return!0}function Vn(){return!1}function Hn(t,e,n,r){for(var a in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(a)&&((e=t[a])?this[a]=e(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Un:Vn,this.isPropagationStopped=Vn,this}function Gn(t,e,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,t,e,n,r),a}return new this(t,e,n,r)}function Yn(t){if(!(t instanceof this))throw Error(o(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function qn(t){t.eventPool=[],t.getPooled=Gn,t.release=Yn}a(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){this.isPersistent=Un},isPersistent:Vn,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,t),n.extend=r.extend,qn(n),n},qn(Hn);var Xn=Hn.extend({data:null}),Kn=Hn.extend({data:null}),$n=[9,13,27,32],Jn=j&&"CompositionEvent"in window,Zn=null;j&&"documentMode"in document&&(Zn=document.documentMode);var Qn=j&&"TextEvent"in window&&!Zn,tr=j&&(!Jn||Zn&&8<Zn&&11>=Zn),er=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ar(t,e){switch(t){case"keyup":return-1!==$n.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ir(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var or=!1;var sr={eventTypes:nr,extractEvents:function(t,e,n,r){var a;if(Jn)t:{switch(t){case"compositionstart":var i=nr.compositionStart;break t;case"compositionend":i=nr.compositionEnd;break t;case"compositionupdate":i=nr.compositionUpdate;break t}i=void 0}else or?ar(t,n)&&(i=nr.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=nr.compositionStart);return i?(tr&&"ko"!==n.locale&&(or||i!==nr.compositionStart?i===nr.compositionEnd&&or&&(a=Wn()):(zn="value"in(Ln=r)?Ln.value:Ln.textContent,or=!0)),i=Xn.getPooled(i,e,n,r),a?i.data=a:null!==(a=ir(n))&&(i.data=a),Fn(i),a=i):a=null,(t=Qn?function(t,e){switch(t){case"compositionend":return ir(e);case"keypress":return 32!==e.which?null:(rr=!0,er);case"textInput":return(t=e.data)===er&&rr?null:t;default:return null}}(t,n):function(t,e){if(or)return"compositionend"===t||!Jn&&ar(t,e)?(t=Wn(),Bn=zn=Ln=null,or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Kn.getPooled(nr.beforeInput,e,n,r)).data=t,Fn(e)):e=null,null===a?e:null===e?a:[a,e]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!ur[t.type]:"textarea"===e}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hr(t,e,n){return(t=Hn.getPooled(lr.change,t,e,n)).type="change",N(n),Fn(t),t}var fr=null,pr=null;function dr(t){se(t)}function vr(t){if(wt(An(t)))return t}function mr(t,e){if("change"===t)return e}var gr=!1;function yr(){fr&&(fr.detachEvent("onpropertychange",br),pr=fr=null)}function br(t){if("value"===t.propertyName&&vr(pr))if(t=hr(pr,t,ue(t)),L)se(t);else{L=!0;try{D(dr,t)}finally{L=!1,B()}}}function xr(t,e,n){"focus"===t?(yr(),pr=n,(fr=e).attachEvent("onpropertychange",br)):"blur"===t&&yr()}function wr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return vr(pr)}function Or(t,e){if("click"===t)return vr(e)}function kr(t,e){if("input"===t||"change"===t)return vr(e)}j&&(gr=ce("input")&&(!document.documentMode||9<document.documentMode));var Sr={eventTypes:lr,_isInputEventSupported:gr,extractEvents:function(t,e,n,r){var a=e?An(e):window,i=a.nodeName&&a.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===a.type)var o=mr;else if(cr(a))if(gr)o=kr;else{o=wr;var s=xr}else(i=a.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(o=Or);if(o&&(o=o(t,e)))return hr(o,n,r);s&&s(t,a,e),"blur"===t&&(t=a._wrapperState)&&t.controlled&&"number"===a.type&&jt(a,"number",a.value)}},Er=Hn.extend({view:null,detail:null}),Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cr[t])&&!!e[t]}function Tr(){return jr}var Ar=0,_r=0,Mr=!1,Nr=!1,Ir=Er.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Tr,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ar;return Ar=t.screenX,Mr?"mousemove"===t.type?t.screenX-e:0:(Mr=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=_r;return _r=t.screenY,Nr?"mousemove"===t.type?t.screenY-e:0:(Nr=!0,0)}}),Dr=Ir.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Rr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Pr={eventTypes:Rr,extractEvents:function(t,e,n,r,a){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&0===(32&a)&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o)?(o=e,null!==(e=(e=n.relatedTarget||n.toElement)?jn(e):null)&&(e!==Qt(e)||5!==e.tag&&6!==e.tag)&&(e=null)):o=null;if(o===e)return null;if("mouseout"===t||"mouseover"===t)var s=Ir,u=Rr.mouseLeave,c=Rr.mouseEnter,l="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Dr,u=Rr.pointerLeave,c=Rr.pointerEnter,l="pointer");if(t=null==o?i:An(o),i=null==e?i:An(e),(u=s.getPooled(u,o,n,r)).type=l+"leave",u.target=t,u.relatedTarget=i,(n=s.getPooled(c,e,n,r)).type=l+"enter",n.target=i,n.relatedTarget=t,l=e,(r=o)&&l)t:{for(c=l,o=0,t=s=r;t;t=Mn(t))o++;for(t=0,e=c;e;e=Mn(e))t++;for(;0<o-t;)s=Mn(s),o--;for(;0<t-o;)c=Mn(c),t--;for(;o--;){if(s===c||s===c.alternate)break t;s=Mn(s),c=Mn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)s.push(r),r=Mn(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Mn(l);for(l=0;l<s.length;l++)Rn(s[l],"bubbled",u);for(l=r.length;0<l--;)Rn(r[l],"captured",n);return 0===(64&a)?[u]:[u,n]}};var Fr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},Lr=Object.prototype.hasOwnProperty;function zr(t,e){if(Fr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Lr.call(e,n[r])||!Fr(t[n[r]],e[n[r]]))return!1;return!0}var Br=j&&"documentMode"in document&&11>=document.documentMode,Wr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ur=null,Vr=null,Hr=null,Gr=!1;function Yr(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Gr||null==Ur||Ur!==ln(n)?null:("selectionStart"in(n=Ur)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Hr&&zr(Hr,n)?null:(Hr=n,(t=Hn.getPooled(Wr.select,Vr,t,e)).type="select",t.target=Ur,Fn(t),t))}var qr={eventTypes:Wr,extractEvents:function(t,e,n,r,a,i){if(!(i=!(a=i||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{a=Zt(a),i=E.onSelect;for(var o=0;o<i.length;o++)if(!a.has(i[o])){a=!1;break t}a=!0}i=!a}if(i)return null;switch(a=e?An(e):window,t){case"focus":(cr(a)||"true"===a.contentEditable)&&(Ur=a,Vr=e,Hr=null);break;case"blur":Hr=Vr=Ur=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gr=!1,Yr(n,r);case"selectionchange":if(Br)break;case"keydown":case"keyup":return Yr(n,r)}return null}},Xr=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kr=Hn.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$r=Er.extend({relatedTarget:null});function Jr(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ta=Er.extend({key:function(t){if(t.key){var e=Zr[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Jr(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Qr[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Tr,charCode:function(t){return"keypress"===t.type?Jr(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Jr(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ea=Ir.extend({dataTransfer:null}),na=Er.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Tr}),ra=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),aa=Ir.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),ia={eventTypes:Fe,extractEvents:function(t,e,n,r){var a=Le.get(t);if(!a)return null;switch(t){case"keypress":if(0===Jr(n))return null;case"keydown":case"keyup":t=ta;break;case"blur":case"focus":t=$r;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=ea;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=na;break;case Yt:case qt:case Xt:t=Xr;break;case Kt:t=ra;break;case"scroll":t=Er;break;case"wheel":t=aa;break;case"copy":case"cut":case"paste":t=Kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Dr;break;default:t=Hn}return Fn(e=t.getPooled(a,e,n,r)),e}};if(y)throw Error(o(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),d=_n,v=Tn,m=An,C({SimpleEventPlugin:ia,EnterLeaveEventPlugin:Pr,ChangeEventPlugin:Sr,SelectEventPlugin:qr,BeforeInputEventPlugin:sr});var oa=[],sa=-1;function ua(t){0>sa||(t.current=oa[sa],oa[sa]=null,sa--)}function ca(t,e){sa++,oa[sa]=t.current,t.current=e}var la={},ha={current:la},fa={current:!1},pa=la;function da(t,e){var n=t.type.contextTypes;if(!n)return la;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=e[a];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function va(t){return null!==(t=t.childContextTypes)&&void 0!==t}function ma(){ua(fa),ua(ha)}function ga(t,e,n){if(ha.current!==la)throw Error(o(168));ca(ha,e),ca(fa,n)}function ya(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,mt(e)||"Unknown",i));return a({},n,{},r)}function ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||la,pa=ha.current,ca(ha,t),ca(fa,fa.current),!0}function xa(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=ya(t,e,pa),r.__reactInternalMemoizedMergedChildContext=t,ua(fa),ua(ha),ca(ha,t)):ua(fa),ca(fa,n)}var wa=i.unstable_runWithPriority,Oa=i.unstable_scheduleCallback,ka=i.unstable_cancelCallback,Sa=i.unstable_requestPaint,Ea=i.unstable_now,Ca=i.unstable_getCurrentPriorityLevel,ja=i.unstable_ImmediatePriority,Ta=i.unstable_UserBlockingPriority,Aa=i.unstable_NormalPriority,_a=i.unstable_LowPriority,Ma=i.unstable_IdlePriority,Na={},Ia=i.unstable_shouldYield,Da=void 0!==Sa?Sa:function(){},Ra=null,Pa=null,Fa=!1,La=Ea(),za=1e4>La?Ea:function(){return Ea()-La};function Ba(){switch(Ca()){case ja:return 99;case Ta:return 98;case Aa:return 97;case _a:return 96;case Ma:return 95;default:throw Error(o(332))}}function Wa(t){switch(t){case 99:return ja;case 98:return Ta;case 97:return Aa;case 96:return _a;case 95:return Ma;default:throw Error(o(332))}}function Ua(t,e){return t=Wa(t),wa(t,e)}function Va(t,e,n){return t=Wa(t),Oa(t,e,n)}function Ha(t){return null===Ra?(Ra=[t],Pa=Oa(ja,Ya)):Ra.push(t),Na}function Ga(){if(null!==Pa){var t=Pa;Pa=null,ka(t)}Ya()}function Ya(){if(!Fa&&null!==Ra){Fa=!0;var t=0;try{var e=Ra;Ua(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ra=null}catch(n){throw null!==Ra&&(Ra=Ra.slice(t+1)),Oa(ja,Ga),n}finally{Fa=!1}}}function qa(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Xa(t,e){if(t&&t.defaultProps)for(var n in e=a({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Ka={current:null},$a=null,Ja=null,Za=null;function Qa(){Za=Ja=$a=null}function ti(t){var e=Ka.current;ua(Ka),t.type._context._currentValue=e}function ei(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ni(t,e){$a=t,Za=Ja=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(_o=!0),t.firstContext=null)}function ri(t,e){if(Za!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Za=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Ja){if(null===$a)throw Error(o(308));Ja=e,$a.dependencies={expirationTime:0,firstContext:e,responders:null}}else Ja=Ja.next=e;return t._currentValue}var ai=!1;function ii(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function oi(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function si(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function ui(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function ci(t,e){var n=t.alternate;null!==n&&oi(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function li(t,e,n,r){var i=t.updateQueue;ai=!1;var o=i.baseQueue,s=i.shared.pending;if(null!==s){if(null!==o){var u=o.next;o.next=s.next,s.next=u}o=s,i.shared.pending=null,null!==(u=t.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==o){u=o.next;var c=i.baseState,l=0,h=null,f=null,p=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var v={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(f=p=v,h=c):p=p.next=v,s>l&&(l=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),iu(s,d.suspenseConfig);t:{var m=t,g=d;switch(s=e,v=n,g.tag){case 1:if("function"===typeof(m=g.payload)){c=m.call(v,c,s);break t}c=m;break t;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(s="function"===typeof(m=g.payload)?m.call(v,c,s):m)||void 0===s)break t;c=a({},c,s);break t;case 2:ai=!0}}null!==d.callback&&(t.effectTag|=32,null===(s=i.effects)?i.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=i.shared.pending))break;d=o.next=s.next,s.next=u,i.baseQueue=o=s,i.shared.pending=null}}null===p?h=c:p.next=f,i.baseState=h,i.baseQueue=p,ou(l),t.expirationTime=l,t.memoizedState=c}}function hi(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],a=r.callback;if(null!==a){if(r.callback=null,r=a,a=n,"function"!==typeof r)throw Error(o(191,r));r.call(a)}}}var fi=$.ReactCurrentBatchConfig,pi=(new r.Component).refs;function di(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:a({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var vi={isMounted:function(t){return!!(t=t._reactInternalFiber)&&Qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Ys(),a=fi.suspense;(a=si(r=qs(r,t,a),a)).payload=e,void 0!==n&&null!==n&&(a.callback=n),ui(t,a),Xs(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Ys(),a=fi.suspense;(a=si(r=qs(r,t,a),a)).tag=1,a.payload=e,void 0!==n&&null!==n&&(a.callback=n),ui(t,a),Xs(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Ys(),r=fi.suspense;(r=si(n=qs(n,t,r),r)).tag=2,void 0!==e&&null!==e&&(r.callback=e),ui(t,r),Xs(t,n)}};function mi(t,e,n,r,a,i,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,i,o):!e.prototype||!e.prototype.isPureReactComponent||(!zr(n,r)||!zr(a,i))}function gi(t,e,n){var r=!1,a=la,i=e.contextType;return"object"===typeof i&&null!==i?i=ri(i):(a=va(e)?pa:ha.current,i=(r=null!==(r=e.contextTypes)&&void 0!==r)?da(t,a):la),e=new e(n,i),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=vi,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function yi(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vi.enqueueReplaceState(e,e.state,null)}function bi(t,e,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs=pi,ii(t);var i=e.contextType;"object"===typeof i&&null!==i?a.context=ri(i):(i=va(e)?pa:ha.current,a.context=da(t,i)),li(t,n,a,r),a.state=t.memoizedState,"function"===typeof(i=e.getDerivedStateFromProps)&&(di(t,e,i,n),a.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(e=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),e!==a.state&&vi.enqueueReplaceState(a,a.state,null),li(t,n,a,r),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.effectTag|=4)}var xi=Array.isArray;function wi(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:((e=function(t){var e=r.refs;e===pi&&(e=r.refs={}),null===t?delete e[a]:e[a]=t})._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function Oi(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function ki(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e){return(t=Cu(t,e)).index=0,t.sibling=null,t}function i(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Au(n,t.mode,r)).return=t,e):((e=a(e,n)).return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?((r=a(e,n.props)).ref=wi(t,e,n),r.return=t,r):((r=ju(n.type,n.key,n.props,null,t.mode,r)).ref=wi(t,e,n),r.return=t,r)}function l(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=_u(n,t.mode,r)).return=t,e):((e=a(e,n.children||[])).return=t,e)}function h(t,e,n,r,i){return null===e||7!==e.tag?((e=Tu(n,t.mode,r,i)).return=t,e):((e=a(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Au(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case tt:return(n=ju(e.type,e.key,e.props,null,t.mode,n)).ref=wi(t,null,e),n.return=t,n;case et:return(e=_u(e,t.mode,n)).return=t,e}if(xi(e)||vt(e))return(e=Tu(e,t.mode,n,null)).return=t,e;Oi(t,e)}return null}function p(t,e,n,r){var a=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case tt:return n.key===a?n.type===nt?h(t,e,n.props.children,r,a):c(t,e,n,r):null;case et:return n.key===a?l(t,e,n,r):null}if(xi(n)||vt(n))return null!==a?null:h(t,e,n,r,null);Oi(t,n)}return null}function d(t,e,n,r,a){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case tt:return t=t.get(null===r.key?n:r.key)||null,r.type===nt?h(e,t,r.props.children,a,r.key):c(e,t,r,a);case et:return l(e,t=t.get(null===r.key?n:r.key)||null,r,a)}if(xi(r)||vt(r))return h(e,t=t.get(n)||null,r,a,null);Oi(e,r)}return null}function v(a,o,s,u){for(var c=null,l=null,h=o,v=o=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=p(a,h,s[v],u);if(null===g){null===h&&(h=m);break}t&&h&&null===g.alternate&&e(a,h),o=i(g,o,v),null===l?c=g:l.sibling=g,l=g,h=m}if(v===s.length)return n(a,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(a,s[v],u))&&(o=i(h,o,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(a,h);v<s.length;v++)null!==(m=d(h,a,v,s[v],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?v:m.key),o=i(m,o,v),null===l?c=m:l.sibling=m,l=m);return t&&h.forEach((function(t){return e(a,t)})),c}function m(a,s,u,c){var l=vt(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(a,v,y.value,c);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(a,v),s=i(b,s,m),null===h?l=b:h.sibling=b,h=b,v=g}if(y.done)return n(a,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(a,y.value,c))&&(s=i(y,s,m),null===h?l=y:h.sibling=y,h=y);return l}for(v=r(a,v);!y.done;m++,y=u.next())null!==(y=d(v,a,m,y.value,c))&&(t&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=i(y,s,m),null===h?l=y:h.sibling=y,h=y);return t&&v.forEach((function(t){return e(a,t)})),l}return function(t,r,i,u){var c="object"===typeof i&&null!==i&&i.type===nt&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case tt:t:{for(l=i.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(i.type===nt){n(t,c.sibling),(r=a(c,i.props.children)).return=t,t=r;break t}break;default:if(c.elementType===i.type){n(t,c.sibling),(r=a(c,i.props)).ref=wi(t,c,i),r.return=t,t=r;break t}}n(t,c);break}e(t,c),c=c.sibling}i.type===nt?((r=Tu(i.props.children,t.mode,u,i.key)).return=t,t=r):((u=ju(i.type,i.key,i.props,null,t.mode,u)).ref=wi(t,r,i),u.return=t,t=u)}return s(t);case et:t:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(t,r.sibling),(r=a(r,i.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=_u(i,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(t,r.sibling),(r=a(r,i)).return=t,t=r):(n(t,r),(r=Au(i,t.mode,u)).return=t,t=r),s(t);if(xi(i))return v(t,r,i,u);if(vt(i))return m(t,r,i,u);if(l&&Oi(t,i),"undefined"===typeof i&&!c)switch(t.tag){case 1:case 0:throw t=t.type,Error(o(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Si=ki(!0),Ei=ki(!1),Ci={},ji={current:Ci},Ti={current:Ci},Ai={current:Ci};function _i(t){if(t===Ci)throw Error(o(174));return t}function Mi(t,e){switch(ca(Ai,e),ca(Ti,t),ca(ji,Ci),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ft(null,"");break;default:e=Ft(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ua(ji),ca(ji,e)}function Ni(){ua(ji),ua(Ti),ua(Ai)}function Ii(t){_i(Ai.current);var e=_i(ji.current),n=Ft(e,t.type);e!==n&&(ca(Ti,t),ca(ji,n))}function Di(t){Ti.current===t&&(ua(ji),ua(Ti))}var Ri={current:0};function Pi(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Fi(t,e){return{responder:t,props:e}}var Li=$.ReactCurrentDispatcher,zi=$.ReactCurrentBatchConfig,Bi=0,Wi=null,Ui=null,Vi=null,Hi=!1;function Gi(){throw Error(o(321))}function Yi(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function qi(t,e,n,r,a,i){if(Bi=i,Wi=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Li.current=null===t||null===t.memoizedState?go:yo,t=n(r,a),e.expirationTime===Bi){i=0;do{if(e.expirationTime=0,!(25>i))throw Error(o(301));i+=1,Vi=Ui=null,e.updateQueue=null,Li.current=bo,t=n(r,a)}while(e.expirationTime===Bi)}if(Li.current=mo,e=null!==Ui&&null!==Ui.next,Bi=0,Vi=Ui=Wi=null,Hi=!1,e)throw Error(o(300));return t}function Xi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vi?Wi.memoizedState=Vi=t:Vi=Vi.next=t,Vi}function Ki(){if(null===Ui){var t=Wi.alternate;t=null!==t?t.memoizedState:null}else t=Ui.next;var e=null===Vi?Wi.memoizedState:Vi.next;if(null!==e)Vi=e,Ui=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Ui=t).memoizedState,baseState:Ui.baseState,baseQueue:Ui.baseQueue,queue:Ui.queue,next:null},null===Vi?Wi.memoizedState=Vi=t:Vi=Vi.next=t}return Vi}function $i(t,e){return"function"===typeof e?e(t):e}function Ji(t){var e=Ki(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=Ui,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var u=s=i=null,c=a;do{var l=c.expirationTime;if(l<Bi){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,i=r):u=u.next=h,l>Wi.expirationTime&&(Wi.expirationTime=l,ou(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),iu(l,c.suspenseConfig),r=c.eagerReducer===t?c.eagerState:t(r,c.action);c=c.next}while(null!==c&&c!==a);null===u?i=r:u.next=s,Fr(r,e.memoizedState)||(_o=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Zi(t){var e=Ki(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=t(i,s.action),s=s.next}while(s!==a);Fr(i,e.memoizedState)||(_o=!0),e.memoizedState=i,null===e.baseQueue&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Qi(t){var e=Xi();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t}).dispatch=vo.bind(null,Wi,t),[e.memoizedState,t]}function to(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Wi.updateQueue)?(e={lastEffect:null},Wi.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function eo(){return Ki().memoizedState}function no(t,e,n,r){var a=Xi();Wi.effectTag|=t,a.memoizedState=to(1|e,n,void 0,void 0===r?null:r)}function ro(t,e,n,r){var a=Ki();r=void 0===r?null:r;var i=void 0;if(null!==Ui){var o=Ui.memoizedState;if(i=o.destroy,null!==r&&Yi(r,o.deps))return void to(e,n,i,r)}Wi.effectTag|=t,a.memoizedState=to(1|e,n,i,r)}function ao(t,e){return no(516,4,t,e)}function io(t,e){return ro(516,4,t,e)}function oo(t,e){return ro(4,2,t,e)}function so(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function uo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ro(4,2,so.bind(null,e,t),n)}function co(){}function lo(t,e){return Xi().memoizedState=[t,void 0===e?null:e],t}function ho(t,e){var n=Ki();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Yi(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fo(t,e){var n=Ki();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Yi(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function po(t,e,n){var r=Ba();Ua(98>r?98:r,(function(){t(!0)})),Ua(97<r?97:r,(function(){var r=zi.suspense;zi.suspense=void 0===e?null:e;try{t(!1),n()}finally{zi.suspense=r}}))}function vo(t,e,n){var r=Ys(),a=fi.suspense;a={expirationTime:r=qs(r,t,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var i=e.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),e.pending=a,i=t.alternate,t===Wi||null!==i&&i===Wi)Hi=!0,a.expirationTime=Bi,Wi.expirationTime=Bi;else{if(0===t.expirationTime&&(null===i||0===i.expirationTime)&&null!==(i=e.lastRenderedReducer))try{var o=e.lastRenderedState,s=i(o,n);if(a.eagerReducer=i,a.eagerState=s,Fr(s,o))return}catch(u){}Xs(t,r)}}var mo={readContext:ri,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useResponder:Gi,useDeferredValue:Gi,useTransition:Gi},go={readContext:ri,useCallback:lo,useContext:ri,useEffect:ao,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,no(4,2,so.bind(null,e,t),n)},useLayoutEffect:function(t,e){return no(4,2,t,e)},useMemo:function(t,e){var n=Xi();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xi();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=vo.bind(null,Wi,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Xi().memoizedState=t},useState:Qi,useDebugValue:co,useResponder:Fi,useDeferredValue:function(t,e){var n=Qi(t),r=n[0],a=n[1];return ao((function(){var n=zi.suspense;zi.suspense=void 0===e?null:e;try{a(t)}finally{zi.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Qi(!1),n=e[0];return e=e[1],[lo(po.bind(null,e,t),[e,t]),n]}},yo={readContext:ri,useCallback:ho,useContext:ri,useEffect:io,useImperativeHandle:uo,useLayoutEffect:oo,useMemo:fo,useReducer:Ji,useRef:eo,useState:function(){return Ji($i)},useDebugValue:co,useResponder:Fi,useDeferredValue:function(t,e){var n=Ji($i),r=n[0],a=n[1];return io((function(){var n=zi.suspense;zi.suspense=void 0===e?null:e;try{a(t)}finally{zi.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Ji($i),n=e[0];return e=e[1],[ho(po.bind(null,e,t),[e,t]),n]}},bo={readContext:ri,useCallback:ho,useContext:ri,useEffect:io,useImperativeHandle:uo,useLayoutEffect:oo,useMemo:fo,useReducer:Zi,useRef:eo,useState:function(){return Zi($i)},useDebugValue:co,useResponder:Fi,useDeferredValue:function(t,e){var n=Zi($i),r=n[0],a=n[1];return io((function(){var n=zi.suspense;zi.suspense=void 0===e?null:e;try{a(t)}finally{zi.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Zi($i),n=e[0];return e=e[1],[ho(po.bind(null,e,t),[e,t]),n]}},xo=null,wo=null,Oo=!1;function ko(t,e){var n=Su(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function So(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Eo(t){if(Oo){var e=wo;if(e){var n=e;if(!So(t,e)){if(!(e=wn(n.nextSibling))||!So(t,e))return t.effectTag=-1025&t.effectTag|2,Oo=!1,void(xo=t);ko(xo,n)}xo=t,wo=wn(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Oo=!1,xo=t}}function Co(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;xo=t}function jo(t){if(t!==xo)return!1;if(!Oo)return Co(t),Oo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!yn(e,t.memoizedProps))for(e=wo;e;)ko(t,e),e=wn(e.nextSibling);if(Co(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){wo=wn(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}wo=null}}else wo=xo?wn(t.stateNode.nextSibling):null;return!0}function To(){wo=xo=null,Oo=!1}var Ao=$.ReactCurrentOwner,_o=!1;function Mo(t,e,n,r){e.child=null===t?Ei(e,null,n,r):Si(e,t.child,n,r)}function No(t,e,n,r,a){n=n.render;var i=e.ref;return ni(e,a),r=qi(t,e,n,r,i,a),null===t||_o?(e.effectTag|=1,Mo(t,e,r,a),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=a&&(t.expirationTime=0),Xo(t,e,a))}function Io(t,e,n,r,a,i){if(null===t){var o=n.type;return"function"!==typeof o||Eu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=ju(n.type,null,r,null,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Do(t,e,o,r,a,i))}return o=t.child,a<i&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:zr)(a,r)&&t.ref===e.ref)?Xo(t,e,i):(e.effectTag|=1,(t=Cu(o,r)).ref=e.ref,t.return=e,e.child=t)}function Do(t,e,n,r,a,i){return null!==t&&zr(t.memoizedProps,r)&&t.ref===e.ref&&(_o=!1,a<i)?(e.expirationTime=t.expirationTime,Xo(t,e,i)):Po(t,e,n,r,i)}function Ro(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Po(t,e,n,r,a){var i=va(n)?pa:ha.current;return i=da(e,i),ni(e,a),n=qi(t,e,n,r,i,a),null===t||_o?(e.effectTag|=1,Mo(t,e,n,a),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=a&&(t.expirationTime=0),Xo(t,e,a))}function Fo(t,e,n,r,a){if(va(n)){var i=!0;ba(e)}else i=!1;if(ni(e,a),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),gi(e,n,r),bi(e,n,r,a),r=!0;else if(null===t){var o=e.stateNode,s=e.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ri(c):c=da(e,c=va(n)?pa:ha.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&yi(e,o,r,c),ai=!1;var f=e.memoizedState;o.state=f,li(e,r,o,a),u=e.memoizedState,s!==r||f!==u||fa.current||ai?("function"===typeof l&&(di(e,n,l,r),u=e.memoizedState),(s=ai||mi(e,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.effectTag|=4)):("function"===typeof o.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(e.effectTag|=4),r=!1)}else o=e.stateNode,oi(t,e),s=e.memoizedProps,o.props=e.type===e.elementType?s:Xa(e.type,s),u=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ri(c):c=da(e,c=va(n)?pa:ha.current),(h="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&yi(e,o,r,c),ai=!1,u=e.memoizedState,o.state=u,li(e,r,o,a),f=e.memoizedState,s!==r||u!==f||fa.current||ai?("function"===typeof l&&(di(e,n,l,r),f=e.memoizedState),(l=ai||mi(e,n,s,r,u,f,c))?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof o.componentDidUpdate&&(e.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Lo(t,e,n,r,i,a)}function Lo(t,e,n,r,a,i){Ro(t,e);var o=0!==(64&e.effectTag);if(!r&&!o)return a&&xa(e,n,!1),Xo(t,e,i);r=e.stateNode,Ao.current=e;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&o?(e.child=Si(e,t.child,null,i),e.child=Si(e,null,s,i)):Mo(t,e,s,i),e.memoizedState=r.state,a&&xa(e,n,!0),e.child}function zo(t){var e=t.stateNode;e.pendingContext?ga(0,e.pendingContext,e.pendingContext!==e.context):e.context&&ga(0,e.context,!1),Mi(t,e.containerInfo)}var Bo,Wo,Uo,Vo={dehydrated:null,retryTime:0};function Ho(t,e,n){var r,a=e.mode,i=e.pendingProps,o=Ri.current,s=!1;if((r=0!==(64&e.effectTag))||(r=0!==(2&o)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ca(Ri,1&o),null===t){if(void 0!==i.fallback&&Eo(e),s){if(s=i.fallback,(i=Tu(null,a,0,null)).return=e,0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,i.child=t;null!==t;)t.return=i,t=t.sibling;return(n=Tu(s,a,n,null)).return=e,i.sibling=n,e.memoizedState=Vo,e.child=i,n}return a=i.children,e.memoizedState=null,e.child=Ei(e,null,a,n)}if(null!==t.memoizedState){if(a=(t=t.child).sibling,s){if(i=i.fallback,(n=Cu(t,t.pendingProps)).return=e,0===(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(a=Cu(a,i)).return=e,n.sibling=a,n.childExpirationTime=0,e.memoizedState=Vo,e.child=n,a}return n=Si(e,t.child,i.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=i.fallback,(i=Tu(null,a,0,null)).return=e,i.child=t,null!==t&&(t.return=i),0===(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,i.child=t;null!==t;)t.return=i,t=t.sibling;return(n=Tu(s,a,n,null)).return=e,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,e.memoizedState=Vo,e.child=i,n}return e.memoizedState=null,e.child=Si(e,t,i.children,n)}function Go(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ei(t.return,e)}function Yo(t,e,n,r,a,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:a,lastEffect:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=a,o.lastEffect=i)}function qo(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;if(Mo(t,e,r.children,n),0!==(2&(r=Ri.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!==(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Go(t,n);else if(19===t.tag)Go(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ca(Ri,r),0===(2&e.mode))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;null!==n;)null!==(t=n.alternate)&&null===Pi(t)&&(a=n),n=n.sibling;null===(n=a)?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Yo(e,!1,a,n,i,e.lastEffect);break;case"backwards":for(n=null,a=e.child,e.child=null;null!==a;){if(null!==(t=a.alternate)&&null===Pi(t)){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Yo(e,!0,n,null,i,e.lastEffect);break;case"together":Yo(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Xo(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&ou(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Cu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Cu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ko(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $o(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return va(e.type)&&ma(),null;case 3:return Ni(),ua(fa),ua(ha),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!jo(e)||(e.effectTag|=4),null;case 5:Di(e),n=_i(Ai.current);var i=e.type;if(null!==t&&null!=e.stateNode)Wo(t,e,i,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(o(166));return null}if(t=_i(ji.current),jo(e)){r=e.stateNode,i=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[En]=s,i){case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(t=0;t<$t.length;t++)qe($t[t],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"form":qe("reset",r),qe("submit",r);break;case"details":qe("toggle",r);break;case"input":kt(r,s),qe("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r),un(n,"onChange");break;case"textarea":Mt(r,s),qe("invalid",r),un(n,"onChange")}for(var u in an(i,s),t=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(t=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(t=["children",""+c]):S.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(i){case"input":xt(r),Ct(r,s,!0);break;case"textarea":xt(r),It(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,t===sn&&(t=Pt(i)),t===sn?"script"===i?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(i,{is:r.is}):(t=u.createElement(i),"select"===i&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,i),t[Sn]=e,t[En]=r,Bo(t,e),e.stateNode=t,u=on(i,r),i){case"iframe":case"object":case"embed":qe("load",t),c=r;break;case"video":case"audio":for(c=0;c<$t.length;c++)qe($t[c],t);c=r;break;case"source":qe("error",t),c=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),c=r;break;case"form":qe("reset",t),qe("submit",t),c=r;break;case"details":qe("toggle",t),c=r;break;case"input":kt(t,r),c=Ot(t,r),qe("invalid",t),un(n,"onChange");break;case"option":c=Tt(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},c=a({},r,{value:void 0}),qe("invalid",t),un(n,"onChange");break;case"textarea":Mt(t,r),c=_t(t,r),qe("invalid",t),un(n,"onChange");break;default:c=r}an(i,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?nn(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&zt(t,h):"children"===s?"string"===typeof h?("textarea"!==i||""!==h)&&Bt(t,h):"number"===typeof h&&Bt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=h&&un(n,s):null!=h&&J(t,s,h,u))}switch(i){case"input":xt(t),Ct(t,r,!1);break;case"textarea":xt(t),It(t);break;case"option":null!=r.value&&t.setAttribute("value",""+yt(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?At(t,!!r.multiple,n,!1):null!=r.defaultValue&&At(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(t.onclick=cn)}gn(i,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Uo(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));n=_i(Ai.current),_i(ji.current),jo(e)?(n=e.stateNode,r=e.memoizedProps,n[Sn]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Sn]=e,e.stateNode=n)}return null;case 13:return ua(Ri),r=e.memoizedState,0!==(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&jo(e):(r=null!==(i=t.memoizedState),n||null===i||null!==(i=t.child.sibling)&&(null!==(s=e.firstEffect)?(e.firstEffect=i,i.nextEffect=s):(e.firstEffect=e.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Ri.current)?js===xs&&(js=ws):(js!==xs&&js!==ws||(js=Os),0!==Ns&&null!==Ss&&(Iu(Ss,Cs),Du(Ss,Ns)))),(n||r)&&(e.effectTag|=4),null);case 4:return Ni(),null;case 10:return ti(e),null;case 17:return va(e.type)&&ma(),null;case 19:if(ua(Ri),null===(r=e.memoizedState))return null;if(i=0!==(64&e.effectTag),null===(s=r.rendering)){if(i)Ko(r,!1);else if(js!==xs||null!==t&&0!==(64&t.effectTag))for(s=e.child;null!==s;){if(null!==(t=Pi(s))){for(e.effectTag|=64,Ko(r,!1),null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)s=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(t=i.alternate)?(i.childExpirationTime=0,i.expirationTime=s,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,s=t.dependencies,i.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ca(Ri,1&Ri.current|2),e.child}s=s.sibling}}else{if(!i)if(null!==(t=Pi(s))){if(e.effectTag|=64,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Ko(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*za()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,Ko(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(s.sibling=e.child,e.child=s):(null!==(n=r.last)?n.sibling=s:e.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=za()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=za(),n.sibling=null,e=Ri.current,ca(Ri,i?1&e|2:1&e),n):null}throw Error(o(156,e.tag))}function Jo(t){switch(t.tag){case 1:va(t.type)&&ma();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ni(),ua(fa),ua(ha),0!==(64&(e=t.effectTag)))throw Error(o(285));return t.effectTag=-4097&e|64,t;case 5:return Di(t),null;case 13:return ua(Ri),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ua(Ri),null;case 4:return Ni(),null;case 10:return ti(t),null;default:return null}}function Zo(t,e){return{value:t,source:e,stack:gt(e)}}Bo=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wo=function(t,e,n,r,i){var o=t.memoizedProps;if(o!==r){var s,u,c=e.stateNode;switch(_i(ji.current),t=null,n){case"input":o=Ot(c,o),r=Ot(c,r),t=[];break;case"option":o=Tt(c,o),r=Tt(c,r),t=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),t=[];break;case"textarea":o=_t(c,o),r=_t(c,r),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(s in an(n,r),n=null,o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in c=o[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(t||(t=[]),t.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(t=t||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(t=t||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=l&&un(i,s),t||c===l||(t=[])):(t=t||[]).push(s,l))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&(e.effectTag|=4)}},Uo=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Qo="function"===typeof WeakSet?WeakSet:Set;function ts(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=gt(n)),null!==n&&mt(n.type),e=e.value,null!==t&&1===t.tag&&mt(t.type);try{console.error(e)}catch(a){setTimeout((function(){throw a}))}}function es(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){yu(t,n)}else e.current=null}function ns(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Xa(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function rs(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function as(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function is(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void as(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Xa(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&hi(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}hi(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&gn(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Pe(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function os(t,e,n){switch("function"===typeof Ou&&Ou(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Ua(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var a=e;try{n()}catch(i){yu(a,i)}}t=t.next}while(t!==r)}))}break;case 1:es(e),"function"===typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){yu(t,n)}}(e,n);break;case 5:es(e);break;case 4:ls(t,e,n)}}function ss(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&ss(e)}function us(t){return 5===t.tag||3===t.tag||4===t.tag}function cs(t){t:{for(var e=t.return;null!==e;){if(us(e)){var n=e;break t}e=e.return}throw Error(o(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Bt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?function t(e,n,r){var a=e.tag,i=5===a||6===a;if(i)e=i?e.stateNode:e.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(8===r.nodeType?(n=r.parentNode).insertBefore(e,r):(n=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==a&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e):function t(e,n,r){var a=e.tag,i=5===a||6===a;if(i)e=i?e.stateNode:e.stateNode.instance,n?r.insertBefore(e,n):r.appendChild(e);else if(4!==a&&null!==(e=e.child))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}(t,n,e)}function ls(t,e,n){for(var r,a,i=e,s=!1;;){if(!s){s=i.return;t:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:a=!1;break t;case 3:case 4:r=r.containerInfo,a=!0;break t}s=s.return}s=!0}if(5===i.tag||6===i.tag){t:for(var u=t,c=i,l=n,h=c;;)if(os(u,h,l),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break t;for(;null===h.sibling;){if(null===h.return||h.return===c)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}a?(u=r,c=i.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(os(t,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function hs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,a=null!==t?t.memoizedProps:r;t=e.type;var i=e.updateQueue;if(e.updateQueue=null,null!==i){for(n[En]=r,"input"===t&&"radio"===r.type&&null!=r.name&&St(n,r),on(t,a),e=on(t,r),a=0;a<i.length;a+=2){var s=i[a],u=i[a+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?zt(n,u):"children"===s?Bt(n,u):J(n,s,u,e)}switch(t){case"input":Et(n,r);break;case"textarea":Nt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?At(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?At(n,!!r.multiple,r.defaultValue,!0):At(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Pe(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Ds=za()),null!==n)t:for(t=n;;){if(5===t.tag)i=t.stateNode,r?"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=t.stateNode,a=void 0!==(a=t.memoizedProps.style)&&null!==a&&a.hasOwnProperty("display")?a.display:null,i.style.display=en("display",a));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(i=t.child.sibling).return=t,t=i;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void fs(e);case 19:return void fs(e);case 17:return}throw Error(o(163))}function fs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Qo),e.forEach((function(e){var r=xu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function ds(t,e,n){(n=si(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ps||(Ps=!0,Fs=r),ts(t,e)},n}function vs(t,e,n){(n=si(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var a=e.value;n.payload=function(){return ts(t,e),r(a)}}var i=t.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ls?Ls=new Set([this]):Ls.add(this),ts(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var ms,gs=Math.ceil,ys=$.ReactCurrentDispatcher,bs=$.ReactCurrentOwner,xs=0,ws=3,Os=4,ks=0,Ss=null,Es=null,Cs=0,js=xs,Ts=null,As=1073741823,_s=1073741823,Ms=null,Ns=0,Is=!1,Ds=0,Rs=null,Ps=!1,Fs=null,Ls=null,zs=!1,Bs=null,Ws=90,Us=null,Vs=0,Hs=null,Gs=0;function Ys(){return 0!==(48&ks)?1073741821-(za()/10|0):0!==Gs?Gs:Gs=1073741821-(za()/10|0)}function qs(t,e,n){if(0===(2&(e=e.mode)))return 1073741823;var r=Ba();if(0===(4&e))return 99===r?1073741823:1073741822;if(0!==(16&ks))return Cs;if(null!==n)t=qa(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=qa(t,150,100);break;case 97:case 96:t=qa(t,5e3,250);break;case 95:t=2;break;default:throw Error(o(326))}return null!==Ss&&t===Cs&&--t,t}function Xs(t,e){if(50<Vs)throw Vs=0,Hs=null,Error(o(185));if(null!==(t=Ks(t,e))){var n=Ba();1073741823===e?0!==(8&ks)&&0===(48&ks)?Qs(t):(Js(t),0===ks&&Ga()):Js(t),0===(4&ks)||98!==n&&99!==n||(null===Us?Us=new Map([[t,e]]):(void 0===(n=Us.get(t))||n>e)&&Us.set(t,e))}}function Ks(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,a=null;if(null===r&&3===t.tag)a=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return null!==a&&(Ss===a&&(ou(e),js===Os&&Iu(a,Cs)),Du(a,e)),a}function $s(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Nu(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Js(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Ha(Qs.bind(null,t));else{var e=$s(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Ys();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var a=t.callbackPriority;if(t.callbackExpirationTime===e&&a>=r)return;n!==Na&&ka(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Ha(Qs.bind(null,t)):Va(r,Zs.bind(null,t),{timeout:10*(1073741821-e)-za()}),t.callbackNode=e}}}function Zs(t,e){if(Gs=0,e)return Ru(t,e=Ys()),Js(t),null;var n=$s(t);if(0!==n){if(e=t.callbackNode,0!==(48&ks))throw Error(o(327));if(vu(),t===Ss&&n===Cs||nu(t,n),null!==Es){var r=ks;ks|=16;for(var a=au();;)try{uu();break}catch(u){ru(t,u)}if(Qa(),ks=r,ys.current=a,1===js)throw e=Ts,nu(t,n),Iu(t,n),Js(t),e;if(null===Es)switch(a=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=js,Ss=null,r){case xs:case 1:throw Error(o(345));case 2:Ru(t,2<n?2:n);break;case ws:if(Iu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(a)),1073741823===As&&10<(a=Ds+500-za())){if(Is){var i=t.lastPingedTime;if(0===i||i>=n){t.lastPingedTime=n,nu(t,n);break}}if(0!==(i=$s(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=bn(fu.bind(null,t),a);break}fu(t);break;case Os:if(Iu(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=hu(a)),Is&&(0===(a=t.lastPingedTime)||a>=n)){t.lastPingedTime=n,nu(t,n);break}if(0!==(a=$s(t))&&a!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==_s?r=10*(1073741821-_s)-za():1073741823===As?r=0:(r=10*(1073741821-As)-5e3,0>(r=(a=za())-r)&&(r=0),(n=10*(1073741821-n)-a)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gs(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=bn(fu.bind(null,t),r);break}fu(t);break;case 5:if(1073741823!==As&&null!==Ms){i=As;var s=Ms;if(0>=(r=0|s.busyMinDurationMs)?r=0:(a=0|s.busyDelayMs,r=(i=za()-(10*(1073741821-i)-(0|s.timeoutMs||5e3)))<=a?0:a+r-i),10<r){Iu(t,n),t.timeoutHandle=bn(fu.bind(null,t),r);break}}fu(t);break;default:throw Error(o(329))}if(Js(t),t.callbackNode===e)return Zs.bind(null,t)}}return null}function Qs(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!==(48&ks))throw Error(o(327));if(vu(),t===Ss&&e===Cs||nu(t,e),null!==Es){var n=ks;ks|=16;for(var r=au();;)try{su();break}catch(a){ru(t,a)}if(Qa(),ks=n,ys.current=r,1===js)throw n=Ts,nu(t,e),Iu(t,e),Js(t),n;if(null!==Es)throw Error(o(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ss=null,fu(t),Js(t)}return null}function tu(t,e){var n=ks;ks|=1;try{return t(e)}finally{0===(ks=n)&&Ga()}}function eu(t,e){var n=ks;ks&=-2,ks|=8;try{return t(e)}finally{0===(ks=n)&&Ga()}}function nu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,xn(n)),null!==Es)for(n=Es.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ma();break;case 3:Ni(),ua(fa),ua(ha);break;case 5:Di(r);break;case 4:Ni();break;case 13:case 19:ua(Ri);break;case 10:ti(r)}n=n.return}Ss=t,Es=Cu(t.current,null),Cs=e,js=xs,Ts=null,_s=As=1073741823,Ms=null,Ns=0,Is=!1}function ru(t,e){for(;;){try{if(Qa(),Li.current=mo,Hi)for(var n=Wi.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Bi=0,Vi=Ui=Wi=null,Hi=!1,null===Es||null===Es.return)return js=1,Ts=e,Es=null;t:{var a=t,i=Es.return,o=Es,s=e;if(e=Cs,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&Ri.current),h=i;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var d=h.memoizedProps;f=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(f){var v=h.updateQueue;if(null===v){var m=new Set;m.add(u),h.updateQueue=m}else v.add(u);if(0===(2&h.mode)){if(h.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var g=si(1073741823,null);g.tag=2,ui(o,g)}o.expirationTime=1073741823;break t}s=void 0,o=e;var y=a.pingCache;if(null===y?(y=a.pingCache=new ps,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(o)){s.add(o);var b=bu.bind(null,a,u,o);u.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((mt(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+gt(o))}5!==js&&(js=2),s=Zo(s,o),h=i;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=e,ci(h,ds(h,u,e));break t;case 1:u=s;var x=h.type,w=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ls||!Ls.has(w)))){h.effectTag|=4096,h.expirationTime=e,ci(h,vs(h,u,e));break t}}h=h.return}while(null!==h)}Es=lu(Es)}catch(O){e=O;continue}break}}function au(){var t=ys.current;return ys.current=mo,null===t?mo:t}function iu(t,e){t<As&&2<t&&(As=t),null!==e&&t<_s&&2<t&&(_s=t,Ms=e)}function ou(t){t>Ns&&(Ns=t)}function su(){for(;null!==Es;)Es=cu(Es)}function uu(){for(;null!==Es&&!Ia();)Es=cu(Es)}function cu(t){var e=ms(t.alternate,t,Cs);return t.memoizedProps=t.pendingProps,null===e&&(e=lu(t)),bs.current=null,e}function lu(t){Es=t;do{var e=Es.alternate;if(t=Es.return,0===(2048&Es.effectTag)){if(e=$o(e,Es,Cs),1===Cs||1!==Es.childExpirationTime){for(var n=0,r=Es.child;null!==r;){var a=r.expirationTime,i=r.childExpirationTime;a>n&&(n=a),i>n&&(n=i),r=r.sibling}Es.childExpirationTime=n}if(null!==e)return e;null!==t&&0===(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Es.firstEffect),null!==Es.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Es.firstEffect),t.lastEffect=Es.lastEffect),1<Es.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Es:t.firstEffect=Es,t.lastEffect=Es))}else{if(null!==(e=Jo(Es)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Es.sibling))return e;Es=t}while(null!==Es);return js===xs&&(js=5),null}function hu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function fu(t){var e=Ba();return Ua(99,pu.bind(null,t,e)),null}function pu(t,e){do{vu()}while(null!==Bs);if(0!==(48&ks))throw Error(o(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var a=hu(n);if(t.firstPendingTime=a,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ss&&(Es=Ss=null,Cs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,a=n.firstEffect):a=n:a=n.firstEffect,null!==a){var i=ks;ks|=32,bs.current=null,vn=Ye;var s=pn();if(dn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{u.nodeType,h.nodeType}catch(C){u=null;break t}var f=0,p=-1,d=-1,v=0,m=0,g=s,y=null;e:for(;;){for(var b;g!==u||0!==l&&3!==g.nodeType||(p=f+l),g!==h||0!==c&&3!==g.nodeType||(d=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break e;if(y===u&&++v===l&&(p=f),y===h&&++m===c&&(d=f),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:u},Ye=!1,Rs=a;do{try{du()}catch(C){if(null===Rs)throw Error(o(330));yu(Rs,C),Rs=Rs.nextEffect}}while(null!==Rs);Rs=a;do{try{for(s=t,u=e;null!==Rs;){var x=Rs.effectTag;if(16&x&&Bt(Rs.stateNode,""),128&x){var w=Rs.alternate;if(null!==w){var O=w.ref;null!==O&&("function"===typeof O?O(null):O.current=null)}}switch(1038&x){case 2:cs(Rs),Rs.effectTag&=-3;break;case 6:cs(Rs),Rs.effectTag&=-3,hs(Rs.alternate,Rs);break;case 1024:Rs.effectTag&=-1025;break;case 1028:Rs.effectTag&=-1025,hs(Rs.alternate,Rs);break;case 4:hs(Rs.alternate,Rs);break;case 8:ls(s,l=Rs,u),ss(l)}Rs=Rs.nextEffect}}catch(C){if(null===Rs)throw Error(o(330));yu(Rs,C),Rs=Rs.nextEffect}}while(null!==Rs);if(O=mn,w=pn(),x=O.focusedElem,u=O.selectionRange,w!==x&&x&&x.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(x.ownerDocument.documentElement,x)){null!==u&&dn(x)&&(w=u.start,void 0===(O=u.end)&&(O=w),"selectionStart"in x?(x.selectionStart=w,x.selectionEnd=Math.min(O,x.value.length)):(O=(w=x.ownerDocument||document)&&w.defaultView||window).getSelection&&(O=O.getSelection(),l=x.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!O.extend&&s>u&&(l=u,u=s,s=l),l=fn(x,s),h=fn(x,u),l&&h&&(1!==O.rangeCount||O.anchorNode!==l.node||O.anchorOffset!==l.offset||O.focusNode!==h.node||O.focusOffset!==h.offset)&&((w=w.createRange()).setStart(l.node,l.offset),O.removeAllRanges(),s>u?(O.addRange(w),O.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),O.addRange(w))))),w=[];for(O=x;O=O.parentNode;)1===O.nodeType&&w.push({element:O,left:O.scrollLeft,top:O.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<w.length;x++)(O=w[x]).element.scrollLeft=O.left,O.element.scrollTop=O.top}Ye=!!vn,mn=vn=null,t.current=n,Rs=a;do{try{for(x=t;null!==Rs;){var k=Rs.effectTag;if(36&k&&is(x,Rs.alternate,Rs),128&k){w=void 0;var S=Rs.ref;if(null!==S){var E=Rs.stateNode;switch(Rs.tag){case 5:w=E;break;default:w=E}"function"===typeof S?S(w):S.current=w}}Rs=Rs.nextEffect}}catch(C){if(null===Rs)throw Error(o(330));yu(Rs,C),Rs=Rs.nextEffect}}while(null!==Rs);Rs=null,Da(),ks=i}else t.current=n;if(zs)zs=!1,Bs=t,Ws=e;else for(Rs=a;null!==Rs;)e=Rs.nextEffect,Rs.nextEffect=null,Rs=e;if(0===(e=t.firstPendingTime)&&(Ls=null),1073741823===e?t===Hs?Vs++:(Vs=0,Hs=t):Vs=0,"function"===typeof wu&&wu(n.stateNode,r),Js(t),Ps)throw Ps=!1,t=Fs,Fs=null,t;return 0!==(8&ks)||Ga(),null}function du(){for(;null!==Rs;){var t=Rs.effectTag;0!==(256&t)&&ns(Rs.alternate,Rs),0===(512&t)||zs||(zs=!0,Va(97,(function(){return vu(),null}))),Rs=Rs.nextEffect}}function vu(){if(90!==Ws){var t=97<Ws?97:Ws;return Ws=90,Ua(t,mu)}}function mu(){if(null===Bs)return!1;var t=Bs;if(Bs=null,0!==(48&ks))throw Error(o(331));var e=ks;for(ks|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),as(5,n)}}catch(r){if(null===t)throw Error(o(330));yu(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return ks=e,Ga(),!0}function gu(t,e,n){ui(t,e=ds(t,e=Zo(n,e),1073741823)),null!==(t=Ks(t,1073741823))&&Js(t)}function yu(t,e){if(3===t.tag)gu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){gu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ls||!Ls.has(r))){ui(n,t=vs(n,t=Zo(e,t),1073741823)),null!==(n=Ks(n,1073741823))&&Js(n);break}}n=n.return}}function bu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Ss===t&&Cs===n?js===Os||js===ws&&1073741823===As&&za()-Ds<500?nu(t,Cs):Is=!0:Nu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Js(t)))}function xu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=qs(e=Ys(),t,null)),null!==(t=Ks(t,e))&&Js(t)}ms=function(t,e,n){var r=e.expirationTime;if(null!==t){var a=e.pendingProps;if(t.memoizedProps!==a||fa.current)_o=!0;else{if(r<n){switch(_o=!1,e.tag){case 3:zo(e),To();break;case 5:if(Ii(e),4&e.mode&&1!==n&&a.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:va(e.type)&&ba(e);break;case 4:Mi(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,a=e.type._context,ca(Ka,a._currentValue),a._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?Ho(t,e,n):(ca(Ri,1&Ri.current),null!==(e=Xo(t,e,n))?e.sibling:null);ca(Ri,1&Ri.current);break;case 19:if(r=e.childExpirationTime>=n,0!==(64&t.effectTag)){if(r)return qo(t,e,n);e.effectTag|=64}if(null!==(a=e.memoizedState)&&(a.rendering=null,a.tail=null),ca(Ri,Ri.current),!r)return null}return Xo(t,e,n)}_o=!1}}else _o=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,a=da(e,ha.current),ni(e,n),a=qi(null,e,r,t,a,n),e.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,va(r)){var i=!0;ba(e)}else i=!1;e.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ii(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&di(e,r,s,t),a.updater=vi,e.stateNode=a,a._reactInternalFiber=e,bi(e,r,t,n),e=Lo(null,e,r,!0,i,n)}else e.tag=0,Mo(null,e,a,n),e=e.child;return e;case 16:t:{if(a=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(a),1!==a._status)throw a._result;switch(a=a._result,e.type=a,i=e.tag=function(t){if("function"===typeof t)return Eu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===ut)return 11;if(t===ht)return 14}return 2}(a),t=Xa(a,t),i){case 0:e=Po(null,e,a,t,n);break t;case 1:e=Fo(null,e,a,t,n);break t;case 11:e=No(null,e,a,t,n);break t;case 14:e=Io(null,e,a,Xa(a.type,t),r,n);break t}throw Error(o(306,a,""))}return e;case 0:return r=e.type,a=e.pendingProps,Po(t,e,r,a=e.elementType===r?a:Xa(r,a),n);case 1:return r=e.type,a=e.pendingProps,Fo(t,e,r,a=e.elementType===r?a:Xa(r,a),n);case 3:if(zo(e),r=e.updateQueue,null===t||null===r)throw Error(o(282));if(r=e.pendingProps,a=null!==(a=e.memoizedState)?a.element:null,oi(t,e),li(e,r,null,n),(r=e.memoizedState.element)===a)To(),e=Xo(t,e,n);else{if((a=e.stateNode.hydrate)&&(wo=wn(e.stateNode.containerInfo.firstChild),xo=e,a=Oo=!0),a)for(n=Ei(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Mo(t,e,r,n),To();e=e.child}return e;case 5:return Ii(e),null===t&&Eo(e),r=e.type,a=e.pendingProps,i=null!==t?t.memoizedProps:null,s=a.children,yn(r,a)?s=null:null!==i&&yn(r,i)&&(e.effectTag|=16),Ro(t,e),4&e.mode&&1!==n&&a.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Mo(t,e,s,n),e=e.child),e;case 6:return null===t&&Eo(e),null;case 13:return Ho(t,e,n);case 4:return Mi(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Si(e,null,r,n):Mo(t,e,r,n),e.child;case 11:return r=e.type,a=e.pendingProps,No(t,e,r,a=e.elementType===r?a:Xa(r,a),n);case 7:return Mo(t,e,e.pendingProps,n),e.child;case 8:case 12:return Mo(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value;var u=e.type._context;if(ca(Ka,u._currentValue),u._currentValue=i,null!==s)if(u=s.value,0===(i=Fr(u,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,i):1073741823))){if(s.children===a.children&&!fa.current){e=Xo(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===u.tag&&((l=si(n,null)).tag=2,ui(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),ei(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Mo(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,r=(i=e.pendingProps).children,ni(e,n),r=r(a=ri(a,i.unstable_observedBits)),e.effectTag|=1,Mo(t,e,r,n),e.child;case 14:return i=Xa(a=e.type,e.pendingProps),Io(t,e,a,i=Xa(a.type,i),r,n);case 15:return Do(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:Xa(r,a),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,va(r)?(t=!0,ba(e)):t=!1,ni(e,n),gi(e,r,a),bi(e,r,a,n),Lo(null,e,r,!0,t,n);case 19:return qo(t,e,n)}throw Error(o(156,e.tag))};var wu=null,Ou=null;function ku(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Su(t,e,n,r){return new ku(t,e,n,r)}function Eu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Cu(t,e){var n=t.alternate;return null===n?((n=Su(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ju(t,e,n,r,a,i){var s=2;if(r=t,"function"===typeof t)Eu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case nt:return Tu(n.children,a,i,e);case st:s=8,a|=7;break;case rt:s=8,a|=1;break;case at:return(t=Su(12,n,e,8|a)).elementType=at,t.type=at,t.expirationTime=i,t;case ct:return(t=Su(13,n,e,a)).type=ct,t.elementType=ct,t.expirationTime=i,t;case lt:return(t=Su(19,n,e,a)).elementType=lt,t.expirationTime=i,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case it:s=10;break t;case ot:s=9;break t;case ut:s=11;break t;case ht:s=14;break t;case ft:s=16,r=null;break t;case pt:s=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Su(s,n,e,a)).elementType=t,e.type=r,e.expirationTime=i,e}function Tu(t,e,n,r){return(t=Su(7,t,r,e)).expirationTime=n,t}function Au(t,e,n){return(t=Su(6,t,null,e)).expirationTime=n,t}function _u(t,e,n){return(e=Su(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Nu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Iu(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Du(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Ru(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Pu(t,e,n,r){var a=e.current,i=Ys(),s=fi.suspense;i=qs(i,a,s);t:if(n){e:{if(Qt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(va(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(va(c)){n=ya(n,c,u);break t}}n=u}else n=la;return null===e.context?e.context=n:e.pendingContext=n,(e=si(i,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),ui(a,e),Xs(a,i),i}function Fu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Lu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function zu(t,e){Lu(t,e),(t=t.alternate)&&Lu(t,e)}function Bu(t,e,n){var r=new Mu(t,e,n=null!=n&&!0===n.hydrate),a=Su(3,null,null,2===e?7:1===e?3:0);r.current=a,a.stateNode=r,ii(a),t[Cn]=r.current,n&&0!==e&&function(t,e){var n=Zt(e);Ce.forEach((function(t){de(t,e,n)})),je.forEach((function(t){de(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Wu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Uu(t,e,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var s=a;a=function(){var t=Fu(o);s.call(t)}}Pu(e,o,t,a)}else{if(i=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Bu(t,0,e?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var u=a;a=function(){var t=Fu(o);u.call(t)}}eu((function(){Pu(e,o,t,a)}))}return Fu(o)}function Vu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Hu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Wu(e))throw Error(o(200));return Vu(t,e,null,n)}Bu.prototype.render=function(t){Pu(t,this._internalRoot,null,null)},Bu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Pu(null,t,null,(function(){e[Cn]=null}))},ve=function(t){if(13===t.tag){var e=qa(Ys(),150,100);Xs(t,e),zu(t,e)}},me=function(t){13===t.tag&&(Xs(t,3),zu(t,3))},ge=function(t){if(13===t.tag){var e=Ys();Xs(t,e=qs(e,t,null)),zu(t,e)}},T=function(t,e,n){switch(e){case"input":if(Et(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=_n(r);if(!a)throw Error(o(90));wt(r),Et(r,a)}}}break;case"textarea":Nt(t,n);break;case"select":null!=(e=n.value)&&At(t,!!n.multiple,e,!1)}},D=tu,R=function(t,e,n,r,a){var i=ks;ks|=4;try{return Ua(98,t.bind(null,e,n,r,a))}finally{0===(ks=i)&&Ga()}},P=function(){0===(49&ks)&&(function(){if(null!==Us){var t=Us;Us=null,t.forEach((function(t,e){Ru(e,t),Js(e)})),Ga()}}(),vu())},F=function(t,e){var n=ks;ks|=2;try{return t(e)}finally{0===(ks=n)&&Ga()}};var Gu={Events:[Tn,An,_n,C,k,Fn,function(t){ae(t,Pn)},N,I,Je,se,vu,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);wu=function(t){try{e.onCommitFiberRoot(n,t,void 0,64===(64&t.current.effectTag))}catch(r){}},Ou=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(a({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:jn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gu,e.createPortal=Hu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return t=null===(t=ne(e))?null:t.stateNode},e.flushSync=function(t,e){if(0!==(48&ks))throw Error(o(187));var n=ks;ks|=1;try{return Ua(99,t.bind(null,e))}finally{ks=n,Ga()}},e.hydrate=function(t,e,n){if(!Wu(e))throw Error(o(200));return Uu(null,t,e,!0,n)},e.render=function(t,e,n){if(!Wu(e))throw Error(o(200));return Uu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Wu(t))throw Error(o(40));return!!t._reactRootContainer&&(eu((function(){Uu(null,null,t,!1,(function(){t._reactRootContainer=null,t[Cn]=null}))})),!0)},e.unstable_batchedUpdates=tu,e.unstable_createPortal=function(t,e){return Hu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wu(n))throw Error(o(200));if(null==t||void 0===t._reactInternalFiber)throw Error(o(38));return Uu(t,e,n,!1,r)},e.version="16.13.1"},function(t,e,n){"use strict";t.exports=n(249)},function(t,e,n){"use strict";var r,a,i,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function t(){if(null!==u)try{var n=e.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(t,0),r}},h=Date.now();e.unstable_now=function(){return Date.now()-h},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(l,0))},a=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},o=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.performance,p=window.Date,d=window.setTimeout,v=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)e.unstable_now=function(){return f.now()};else{var g=p.now();e.unstable_now=function(){return p.now()-g}}var y=!1,b=null,x=-1,w=5,O=0;o=function(){return e.unstable_now()>=O},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var k=new MessageChannel,S=k.port2;k.port1.onmessage=function(){if(null!==b){var t=e.unstable_now();O=t+w;try{b(!0,t)?S.postMessage(null):(y=!1,b=null)}catch(n){throw S.postMessage(null),n}}else y=!1},r=function(t){b=t,y||(y=!0,S.postMessage(null))},a=function(t,n){x=d((function(){t(e.unstable_now())}),n)},i=function(){v(x),x=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,a=t[r];if(!(void 0!==a&&0<T(a,e)))break t;t[r]=e,t[n]=a,n=r}}function C(t){return void 0===(t=t[0])?null:t}function j(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,a=t.length;r<a;){var i=2*(r+1)-1,o=t[i],s=i+1,u=t[s];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(t[r]=u,t[s]=n,r=s):(t[r]=o,t[i]=n,r=i);else{if(!(void 0!==u&&0>T(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var A=[],_=[],M=1,N=null,I=3,D=!1,R=!1,P=!1;function F(t){for(var e=C(_);null!==e;){if(null===e.callback)j(_);else{if(!(e.startTime<=t))break;j(_),e.sortIndex=e.expirationTime,E(A,e)}e=C(_)}}function L(t){if(P=!1,F(t),!R)if(null!==C(A))R=!0,r(z);else{var e=C(_);null!==e&&a(L,e.startTime-t)}}function z(t,n){R=!1,P&&(P=!1,i()),D=!0;var r=I;try{for(F(n),N=C(A);null!==N&&(!(N.expirationTime>n)||t&&!o());){var s=N.callback;if(null!==s){N.callback=null,I=N.priorityLevel;var u=s(N.expirationTime<=n);n=e.unstable_now(),"function"===typeof u?N.callback=u:N===C(A)&&j(A),F(n)}else j(A);N=C(A)}if(null!==N)var c=!0;else{var l=C(_);null!==l&&a(L,l.startTime-n),c=!1}return c}finally{N=null,I=r,D=!1}}function B(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var W=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||D||(R=!0,r(z))},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return C(A)},e.unstable_next=function(t){switch(I){case 1:case 2:case 3:var e=3;break;default:e=I}var n=I;I=e;try{return t()}finally{I=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=W,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=I;I=t;try{return e()}finally{I=n}},e.unstable_scheduleCallback=function(t,n,o){var s=e.unstable_now();if("object"===typeof o&&null!==o){var u=o.delay;u="number"===typeof u&&0<u?s+u:s,o="number"===typeof o.timeout?o.timeout:B(t)}else o=B(t),u=s;return t={id:M++,callback:n,priorityLevel:t,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>s?(t.sortIndex=u,E(_,t),null===C(A)&&t===C(_)&&(P?i():P=!0,a(L,u-s))):(t.sortIndex=o,E(A,t),R||D||(R=!0,r(z))),t},e.unstable_shouldYield=function(){var t=e.unstable_now();F(t);var n=C(A);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<N.expirationTime||o()},e.unstable_wrapCallback=function(t){var e=I;return function(){var n=I;I=e;try{return t.apply(this,arguments)}finally{I=n}}}},,function(t,e,n){n(252),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),t.exports=n(79).Math},function(t,e,n){var r=n(28),a=n(142),i=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:a(t-1+i(t-1)*i(t+1))}})},function(t,e,n){t.exports=n(140)("native-function-to-string",Function.toString)},function(t,e){t.exports=!1},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(28),a=Math.asinh;r(r.S+r.F*!(a&&1/a(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(28),a=Math.atanh;r(r.S+r.F*!(a&&1/a(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(28),a=n(106);r(r.S,"Math",{cbrt:function(t){return a(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(28);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(28),a=Math.exp;r(r.S,"Math",{cosh:function(t){return(a(t=+t)+a(-t))/2}})},function(t,e,n){var r=n(28),a=n(107);r(r.S+r.F*(a!=Math.expm1),"Math",{expm1:a})},function(t,e,n){var r=n(28);r(r.S,"Math",{fround:n(263)})},function(t,e,n){var r=n(106),a=Math.pow,i=a(2,-52),o=a(2,-23),s=a(2,127)*(2-o),u=a(2,-126);t.exports=Math.fround||function(t){var e,n,a=Math.abs(t),c=r(t);return a<u?c*(a/u/o+1/i-1/i)*u*o:(n=(e=(1+o/i)*a)-(e-a))>s||n!=n?c*(1/0):c*n}},function(t,e,n){var r=n(28),a=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,i=0,o=0,s=arguments.length,u=0;o<s;)u<(n=a(arguments[o++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(i)}})},function(t,e,n){var r=n(28),a=Math.imul;r(r.S+r.F*n(54)((function(){return-5!=a(4294967295,5)||2!=a.length})),"Math",{imul:function(t,e){var n=+t,r=+e,a=65535&n,i=65535&r;return 0|a*i+((65535&n>>>16)*i+a*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(28);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(28);r(r.S,"Math",{log1p:n(142)})},function(t,e,n){var r=n(28);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(28);r(r.S,"Math",{sign:n(106)})},function(t,e,n){var r=n(28),a=n(107),i=Math.exp;r(r.S+r.F*n(54)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(a(t)-a(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(28),a=n(107),i=Math.exp;r(r.S,"Math",{tanh:function(t){var e=a(t=+t),n=a(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){var r=n(28);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){n(274),n(287),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(299),t.exports=n(79).Number},function(t,e,n){"use strict";var r=n(50),a=n(89),i=n(108),o=n(275),s=n(105),u=n(54),c=n(279).f,l=n(143).f,h=n(104).f,f=n(112).trim,p=r.Number,d=p,v=p.prototype,m="Number"==i(n(283)(v)),g="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,a,i=(e=g?e.trim():f(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+e}for(var o,u=e.slice(2),c=0,l=u.length;c<l;c++)if((o=u.charCodeAt(c))<48||o>a)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(m?u((function(){v.valueOf.call(n)})):"Number"!=i(n))?o(new d(y(e)),n,p):y(e)};for(var b,x=n(66)?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)a(d,b=x[w])&&!a(p,b)&&h(p,b,l(d,b));p.prototype=v,v.constructor=p,n(138)(r,"Number",p)}},function(t,e,n){var r=n(65),a=n(276).set;t.exports=function(t,e,n){var i,o=e.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(t,i),t}},function(t,e,n){var r=n(65),a=n(88),i=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(141)(Function.call,n(143).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(108);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(144),a=n(111).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},function(t,e,n){var r=n(109),a=n(281),i=n(282);t.exports=function(t){return function(e,n,o){var s,u=r(e),c=a(u.length),l=i(o,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(90),a=Math.min;t.exports=function(t){return t>0?a(r(t),9007199254740991):0}},function(t,e,n){var r=n(90),a=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?a(t+e,0):i(t,e)}},function(t,e,n){var r=n(88),a=n(284),i=n(111),o=n(145)("IE_PROTO"),s=function(){},u=function(){var t,e=n(136)("iframe"),r=i.length;for(e.style.display="none",n(286).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[o]=t):n=u(),void 0===e?n:a(n,e)}},function(t,e,n){var r=n(104),a=n(88),i=n(285);t.exports=n(66)?Object.defineProperties:function(t,e){a(t);for(var n,o=i(e),s=o.length,u=0;s>u;)r.f(t,n=o[u++],e[n]);return t}},function(t,e,n){var r=n(144),a=n(111);t.exports=Object.keys||function(t){return r(t,a)}},function(t,e,n){var r=n(50).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(28),a=n(90),i=n(146),o=n(288),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+o.call("0",7-n.length)+n}return e},d=function t(e,n,r){return 0===n?r:n%2===1?t(e,n-1,r*e):t(e*e,n/2,r)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(54)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,n,r,s,u=i(this,l),c=a(t),v="",m="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),r=c;r>=7;)h(1e7,0),r-=7;for(h(d(10,r,1),0),r=e-1;r>=23;)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),m=p()}else h(0,n),h(1<<-e,0),m=p()+o.call("0",c);return m=c>0?v+((s=m.length)<=c?"0."+o.call("0",c-s)+m:m.slice(0,s-c)+"."+m.slice(s-c)):v+m}})},function(t,e,n){"use strict";var r=n(90),a=n(110);t.exports=function(t){var e=String(a(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(28),a=n(54),i=n(146),o=1..toPrecision;r(r.P+r.F*(a((function(){return"1"!==o.call(1,void 0)}))||!a((function(){o.call({})}))),"Number",{toPrecision:function(t){var e=i(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},function(t,e,n){var r=n(28);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(28),a=n(50).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&a(t)}})},function(t,e,n){var r=n(28);r(r.S,"Number",{isInteger:n(147)})},function(t,e,n){var r=n(28);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(28),a=n(147),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return a(t)&&i(t)<=9007199254740991}})},function(t,e,n){var r=n(28);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(28);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(28),a=n(298);r(r.S+r.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},function(t,e,n){var r=n(50).parseFloat,a=n(112).trim;t.exports=1/r(n(113)+"-0")!==-1/0?function(t){var e=a(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(28),a=n(300);r(r.S+r.F*(Number.parseInt!=a),"Number",{parseInt:a})},function(t,e,n){var r=n(50).parseInt,a=n(112).trim,i=n(113),o=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var n=a(String(t),3);return r(n,e>>>0||(o.test(n)?16:10))}:r},function(t,e,n){var r=n(80),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var a=o.call(t);return r&&(e?t[s]=n:delete t[s]),a}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(304),a=n(356),i=n(159);t.exports=function(t){var e=a(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(149),a=n(117);t.exports=function(t,e,n,i){var o=n.length,s=o,u=!i;if(null==t)return!s;for(t=Object(t);o--;){var c=n[o];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<s;){var l=(c=n[o])[0],h=t[l],f=c[1];if(u&&c[2]){if(void 0===h&&!(l in t))return!1}else{var p=new r;if(i)var d=i(h,f,l,t,e,p);if(!(void 0===d?a(f,h,3,i,p):d))return!1}}return!0}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(92),a=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(92);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(92);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(92);t.exports=function(t,e){var n=this.__data__,a=r(n,t);return a<0?(++this.size,n.push([t,e])):n[a][1]=e,this}},function(t,e,n){var r=n(91);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(91),a=n(115),i=n(116);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!a||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(o)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(21),a=n(316),i=n(37),o=n(150),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||a(t))&&(r(t)?f:s).test(o(t))}},function(t,e,n){var r=n(317),a=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!a&&a in t}},function(t,e,n){var r=n(45)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(320),a=n(91),i=n(115);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(t,e,n){var r=n(321),a=n(322),i=n(323),o=n(324),s=n(325);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=o,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(93);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(93),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(93),a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:a.call(e,t)}},function(t,e,n){var r=n(93);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(94);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(94);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(94);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(94);t.exports=function(t,e){var n=r(this,t),a=n.size;return n.set(t,e),this.size+=n.size==a?0:1,this}},function(t,e,n){var r=n(149),a=n(151),i=n(334),o=n(337),s=n(352),u=n(26),c=n(155),l=n(156),h="[object Object]",f=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,p,d,v){var m=u(t),g=u(e),y=m?"[object Array]":s(t),b=g?"[object Array]":s(e),x=(y="[object Arguments]"==y?h:y)==h,w=(b="[object Arguments]"==b?h:b)==h,O=y==b;if(O&&c(t)){if(!c(e))return!1;m=!0,x=!1}if(O&&!x)return v||(v=new r),m||l(t)?a(t,e,n,p,d,v):i(t,e,y,n,p,d,v);if(!(1&n)){var k=x&&f.call(t,"__wrapped__"),S=w&&f.call(e,"__wrapped__");if(k||S){var E=k?t.value():t,C=S?e.value():e;return v||(v=new r),d(E,C,n,p,v)}}return!!O&&(v||(v=new r),o(t,e,n,p,d,v))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(80),a=n(335),i=n(114),o=n(151),s=n(336),u=n(120),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,h,f){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new a(t),new a(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=s;case"[object Set]":var d=1&r;if(p||(p=u),t.size!=e.size&&!d)return!1;var v=f.get(t);if(v)return v==e;r|=2,f.set(t,e);var m=o(p(t),p(e),r,c,h,f);return f.delete(t),m;case"[object Symbol]":if(l)return l.call(t)==l.call(e)}return!1}},function(t,e,n){var r=n(45).Uint8Array;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(338),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,o,s){var u=1&n,c=r(t),l=c.length;if(l!=r(e).length&&!u)return!1;for(var h=l;h--;){var f=c[h];if(!(u?f in e:a.call(e,f)))return!1}var p=s.get(t);if(p&&s.get(e))return p==e;var d=!0;s.set(t,e),s.set(e,t);for(var v=u;++h<l;){var m=t[f=c[h]],g=e[f];if(i)var y=u?i(g,m,f,e,t,s):i(m,g,f,t,e,s);if(!(void 0===y?m===g||o(m,g,n,i,s):y)){d=!1;break}v||(v="constructor"==f)}if(d&&!v){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(d=!1)}return s.delete(t),s.delete(e),d}},function(t,e,n){var r=n(339),a=n(340),i=n(95);t.exports=function(t){return r(t,i,a)}},function(t,e,n){var r=n(153),a=n(26);t.exports=function(t,e,n){var i=e(t);return a(t)?i:r(i,n(t))}},function(t,e,n){var r=n(154),a=n(341),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),r(o(t),(function(e){return i.call(t,e)})))}:a;t.exports=s},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(343),a=n(121),i=n(26),o=n(155),s=n(122),u=n(156),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&a(t),h=!n&&!l&&o(t),f=!n&&!l&&!h&&u(t),p=n||l||h||f,d=p?r(t.length,String):[],v=d.length;for(var m in t)!e&&!c.call(t,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||d.push(m);return d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(58),a=n(55);t.exports=function(t){return a(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(58),a=n(123),i=n(55),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&a(t.length)&&!!o[r(t)]}},function(t,e,n){(function(t){var r=n(148),a=e&&!e.nodeType&&e,i=a&&"object"==typeof t&&t&&!t.nodeType&&t,o=i&&i.exports===a&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=s}).call(this,n(46)(t))},function(t,e,n){var r=n(349),a=n(350),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return a(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(351)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(353),a=n(115),i=n(354),o=n(157),s=n(355),u=n(58),c=n(150),l=c(r),h=c(a),f=c(i),p=c(o),d=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=v(new a)||i&&"[object Promise]"!=v(i.resolve())||o&&"[object Set]"!=v(new o)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(60)(n(45),"DataView");t.exports=r},function(t,e,n){var r=n(60)(n(45),"Promise");t.exports=r},function(t,e,n){var r=n(60)(n(45),"WeakMap");t.exports=r},function(t,e,n){var r=n(158),a=n(95);t.exports=function(t){for(var e=a(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,r(o)]}return e}},function(t,e,n){var r=n(117),a=n(44),i=n(363),o=n(125),s=n(158),u=n(159),c=n(96);t.exports=function(t,e){return o(t)&&s(e)?u(c(t),e):function(n){var o=a(n,t);return void 0===o&&o===e?i(n,t):r(e,o,3)}}},function(t,e,n){var r=n(359),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(a,(function(t,n,r,a){e.push(r?a.replace(i,"$1"):n||t)})),e}));t.exports=o},function(t,e,n){var r=n(360);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(116);function a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(a.Cache||r),n}a.Cache=r,t.exports=a},function(t,e,n){var r=n(362);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(80),a=n(81),i=n(26),o=n(68),s=r?r.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return a(e,t)+"";if(o(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(364),a=n(365);t.exports=function(t,e){return null!=t&&a(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(161),a=n(121),i=n(26),o=n(122),s=n(123),u=n(96);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,h=!1;++c<l;){var f=u(e[c]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++c!=l?h:!!(l=null==t?0:t.length)&&s(l)&&o(f,l)&&(i(t)||a(t))}},function(t,e,n){var r=n(367),a=n(368),i=n(125),o=n(96);t.exports=function(t){return i(t)?r(o(t)):a(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(160);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(118),a=n(162),i=n(164),o=n(119),s=n(373),u=n(120);t.exports=function(t,e,n){var c=-1,l=a,h=t.length,f=!0,p=[],d=p;if(n)f=!1,l=i;else if(h>=200){var v=e?null:s(t);if(v)return u(v);f=!1,l=o,d=new r}else d=e?[]:p;t:for(;++c<h;){var m=t[c],g=e?e(m):m;if(m=n||0!==m?m:0,f&&g===g){for(var y=d.length;y--;)if(d[y]===g)continue t;e&&d.push(g),p.push(m)}else l(d,g,n)||(d!==p&&d.push(g),p.push(m))}return p}},function(t,e,n){var r=n(163),a=n(371),i=n(372);t.exports=function(t,e,n){return e===e?i(t,e,n):r(t,a,n)}},function(t,e){t.exports=function(t){return t!==t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,a=t.length;++r<a;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(157),a=n(374),i=n(120),o=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:a;t.exports=o},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r=n(376);function a(){}function i(){}i.resetWarningCache=a,t.exports=function(){function t(t,e,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){(function(e){(function(){var n,r,a,i,o,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-o)/1e6},r=e.hrtime,i=(n=function(){var t;return 1e9*(t=r())[0]+t[1]})(),s=1e9*e.uptime(),o=i-s):Date.now?(t.exports=function(){return Date.now()-a},a=Date.now()):(t.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(this,n(70))},function(t,e,n){var r=n(118),a=n(162),i=n(164),o=n(81),s=n(124),u=n(119),c=Math.min;t.exports=function(t,e,n){for(var l=n?i:a,h=t[0].length,f=t.length,p=f,d=Array(f),v=1/0,m=[];p--;){var g=t[p];p&&e&&(g=o(g,s(e))),v=c(g.length,v),d[p]=!n&&(e||h>=120&&g.length>=120)?new r(p&&g):void 0}g=t[0];var y=-1,b=d[0];t:for(;++y<h&&m.length<v;){var x=g[y],w=e?e(x):x;if(x=n||0!==x?x:0,!(b?u(b,w):l(m,w,n))){for(p=f;--p;){var O=d[p];if(!(O?u(O,w):l(t[p],w,n)))continue t}b&&b.push(w),m.push(x)}}return m}},function(t,e,n){var r=n(380),a=Math.max;t.exports=function(t,e,n){return e=a(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=a(i.length-e,0),u=Array(s);++o<s;)u[o]=i[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=i[o];return c[e]=n(u),r(t,this,c)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(382),a=n(384)(r);t.exports=a},function(t,e,n){var r=n(383),a=n(166),i=n(69),o=a?function(t,e){return a(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=o},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var a=n(),i=16-(a-r);if(r=a,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(386);t.exports=function(t){return r(t)?t:[]}},function(t,e,n){var r=n(67),a=n(55);t.exports=function(t){return a(t)&&r(t)}},function(t,e,n){var r=n(97);t.exports=function(t,e){var n=[];return r(t,(function(t,r,a){e(t,r,a)&&n.push(t)})),n}},function(t,e,n){var r=n(389)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var a=-1,i=Object(e),o=r(e),s=o.length;s--;){var u=o[t?s:++a];if(!1===n(i[u],u,i))break}return e}}},function(t,e,n){var r=n(67);t.exports=function(t,e){return function(n,a){if(null==n)return n;if(!r(n))return t(n,a);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&!1!==a(s[o],o,s););return n}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}e.default=t}(n(1));var r=s(n(392)),a=s(n(395)),i=s(n(3)),o=s(n(168));n(170);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var c=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,r.default)(t,e)}))},l=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return(0,a.default)(t,e)}))},h=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).onEnter=function(t,n){var r=e.getClassNames(n?"appear":"enter").className;e.removeClasses(t,"exit"),c(t,r),e.props.onEnter&&e.props.onEnter(t,n)},e.onEntering=function(t,n){var r=e.getClassNames(n?"appear":"enter").activeClassName;e.reflowAndAddClass(t,r),e.props.onEntering&&e.props.onEntering(t,n)},e.onEntered=function(t,n){var r=e.getClassNames("appear").doneClassName,a=e.getClassNames("enter").doneClassName,i=n?r+" "+a:a;e.removeClasses(t,n?"appear":"enter"),c(t,i),e.props.onEntered&&e.props.onEntered(t,n)},e.onExit=function(t){var n=e.getClassNames("exit").className;e.removeClasses(t,"appear"),e.removeClasses(t,"enter"),c(t,n),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){var n=e.getClassNames("exit").activeClassName;e.reflowAndAddClass(t,n),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){var n=e.getClassNames("exit").doneClassName;e.removeClasses(t,"exit"),c(t,n),e.props.onExited&&e.props.onExited(t)},e.getClassNames=function(t){var n=e.props.classNames,r="string"===typeof n,a=r?(r&&n?n+"-":"")+t:n[t];return{className:a,activeClassName:r?a+"-active":n[t+"Active"],doneClassName:r?a+"-done":n[t+"Done"]}},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.removeClasses=function(t,e){var n=this.getClassNames(e),r=n.className,a=n.activeClassName,i=n.doneClassName;r&&l(t,r),a&&l(t,a),i&&l(t,i)},a.reflowAndAddClass=function(t,e){e&&(t&&t.scrollTop,c(t,e))},a.render=function(){var t=u({},this.props);return delete t.classNames,i.default.createElement(o.default,u({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(i.default.Component);h.defaultProps={classNames:""},h.propTypes={};var f=h;e.default=f,t.exports=e.default},function(t,e,n){"use strict";var r=n(393);e.__esModule=!0,e.default=function(t,e){t.classList?t.classList.add(e):(0,a.default)(t,e)||("string"===typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var a=r(n(394));t.exports=e.default},function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"===typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;o(n(1));var r=o(n(3)),a=n(52),i=o(n(171));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e,n;function o(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).handleEnter=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEnter",0,n)},e.handleEntering=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntering",0,n)},e.handleEntered=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntered",0,n)},e.handleExit=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExit",1,n)},e.handleExiting=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExiting",1,n)},e.handleExited=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExited",1,n)},e}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=o.prototype;return s.handleLifecycle=function(t,e,n){var i,o=this.props.children,s=r.default.Children.toArray(o)[e];s.props[t]&&(i=s.props)[t].apply(i,n),this.props[t]&&this.props[t]((0,a.findDOMNode)(this))},s.render=function(){var t=this.props,e=t.children,n=t.in,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,["children","in"]),o=r.default.Children.toArray(e),s=o[0],u=o[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,r.default.createElement(i.default,a,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},o}(r.default.Component);s.propTypes={};var u=s;e.default=u,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=a,e.mergeChildMappings=i,e.getInitialChildMapping=function(t,e){return a(t.children,(function(n){return(0,r.cloneElement)(n,{onExited:e.bind(null,n),in:!0,appear:o(n,"appear",t),enter:o(n,"enter",t),exit:o(n,"exit",t)})}))},e.getNextChildMapping=function(t,e,n){var s=a(t.children),u=i(e,s);return Object.keys(u).forEach((function(a){var i=u[a];if((0,r.isValidElement)(i)){var c=a in e,l=a in s,h=e[a],f=(0,r.isValidElement)(h)&&!h.props.in;!l||c&&!f?l||!c||f?l&&c&&(0,r.isValidElement)(h)&&(u[a]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:h.props.in,exit:o(i,"exit",t),enter:o(i,"enter",t)})):u[a]=(0,r.cloneElement)(i,{in:!1}):u[a]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:o(i,"exit",t),enter:o(i,"enter",t)})}})),u};var r=n(3);function a(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function i(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,a=Object.create(null),i=[];for(var o in t)o in e?i.length&&(a[o]=i,i=[]):i.push(o);var s={};for(var u in e){if(a[u])for(r=0;r<a[u].length;r++){var c=a[u][r];s[a[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}function o(t,e,n){return null!=n[e]?n[e]:t.props[e]}},function(t,e,n){var r=n(80),a=n(121),i=n(26),o=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||a(t)||!!(o&&t&&t[o])}},function(t,e,n){var r=n(81),a=n(51),i=n(173),o=n(400),s=n(124),u=n(401),c=n(69);t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[c],s(a));var h=i(t,(function(t,n,a){return{criteria:r(e,(function(e){return e(t)})),index:++l,value:t}}));return o(h,(function(t,e){return u(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(402);t.exports=function(t,e,n){for(var a=-1,i=t.criteria,o=e.criteria,s=i.length,u=n.length;++a<s;){var c=r(i[a],o[a]);if(c)return a>=u?c:c*("desc"==n[a]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(68);t.exports=function(t,e){if(t!==e){var n=void 0!==t,a=null===t,i=t===t,o=r(t),s=void 0!==e,u=null===e,c=e===e,l=r(e);if(!u&&!l&&!o&&t>e||o&&s&&c&&!u&&!l||a&&s&&c||!n&&c||!i)return 1;if(!a&&!o&&!l&&t<e||l&&n&&i&&!a&&!o||u&&n&&i||!s&&i||!c)return-1}return 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){var r=n(81),a=n(51),i=n(173),o=n(26);t.exports=function(t,e){return(o(t)?r:i)(t,a(e,3))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTickValuesFixedDomain=e.getTickValues=e.getNiceTickValues=void 0;var r=o(n(175)),a=n(176),i=o(n(407));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(t){var e=u(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function l(t,e,n){if(t.lte(0))return new r.default(0);var a=i.default.getDigitCount(t.toNumber()),o=new r.default(10).pow(a),s=t.div(o),u=1!==a?.05:.1,c=new r.default(Math.ceil(s.div(u).toNumber())).add(n).mul(u).mul(o);return e?c:new r.default(Math.ceil(c))}function h(t,e,n){var o=1,s=new r.default(t);if(!s.isint()&&n){var u=Math.abs(t);u<1?(o=new r.default(10).pow(i.default.getDigitCount(t)-1),s=new r.default(Math.floor(s.div(o).toNumber())).mul(o)):u>1&&(s=new r.default(Math.floor(t)))}else 0===t?s=new r.default(Math.floor((e-1)/2)):n||(s=new r.default(Math.floor(t)));var c=Math.floor((e-1)/2);return(0,a.compose)((0,a.map)((function(t){return s.add(new r.default(t-c).mul(o)).toNumber()})),a.range)(0,e)}function f(t,e,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new r.default(0),tickMin:new r.default(0),tickMax:new r.default(0)};var o,s=l(new r.default(e).sub(t).div(n-1),a,i);o=t<=0&&e>=0?new r.default(0):(o=new r.default(t).add(e).div(2)).sub(new r.default(o).mod(s));var u=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new r.default(e).sub(o).div(s).toNumber()),h=u+c+1;return h>n?f(t,e,n,a,i+1):(h<n&&(c=e>0?c+(n-h):c,u=e>0?u:u+(n-h)),{step:s,tickMin:o.sub(new r.default(u).mul(s)),tickMax:o.add(new r.default(c).mul(s))})}var p=(0,a.memoize)((function(t){var e=u(t,2),n=e[0],o=e[1],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,p=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=Math.max(l,2),v=c([n,o]),m=u(v,2),g=m[0],y=m[1];if(g===-1/0||y===1/0){var b=y===1/0?[g].concat(s((0,a.range)(0,l-1).map((function(){return 1/0})))):s((0,a.range)(0,l-1).map((function(){return-1/0}))).concat([y]);return n>o?(0,a.reverse)(b):b}if(g===y)return h(g,l,p);var x=f(g,y,d,p),w=x.step,O=x.tickMin,k=x.tickMax,S=i.default.rangeStep(O,k.add(new r.default(.1).mul(w)),w);return n>o?(0,a.reverse)(S):S}));e.getNiceTickValues=p;var d=(0,a.memoize)((function(t){var e=u(t,2),n=e[0],i=e[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=Math.max(o,2),p=c([n,i]),d=u(p,2),v=d[0],m=d[1];if(v===-1/0||m===1/0)return[n,i];if(v===m)return h(v,o,s);var g=l(new r.default(m).sub(v).div(f-1),s,0),y=(0,a.compose)((0,a.map)((function(t){return new r.default(v).add(new r.default(t).mul(g)).toNumber()})),a.range),b=y(0,f).filter((function(t){return t>=v&&t<=m}));return n>i?(0,a.reverse)(b):b}));e.getTickValues=d;var v=(0,a.memoize)((function(t,e){var n=u(t,2),o=n[0],h=n[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=c([o,h]),d=u(p,2),v=d[0],m=d[1];if(v===-1/0||m===1/0)return[o,h];if(v===m)return[v];var g=Math.max(e,2),y=l(new r.default(m).sub(v).div(g-1),f,0),b=s(i.default.rangeStep(new r.default(v),new r.default(m).sub(new r.default(.99).mul(y)),y)).concat([m]);return o>h?(0,a.reverse)(b):b}));e.getTickValuesFixedDomain=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,a=(r=n(175))&&r.__esModule?r:{default:r},i=n(176);var o={rangeStep:function(t,e,n){for(var r=new a.default(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(t){return 0===t?1:Math.floor(new a.default(t).abs().log(10).toNumber())+1},interpolateNumber:(0,i.curry)((function(t,e,n){var r=+t;return r+n*(+e-r)})),uninterpolateNumber:(0,i.curry)((function(t,e,n){var r=e-+t;return(n-t)/(r=r||1/0)})),uninterpolateTruncation:(0,i.curry)((function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))}))};e.default=o},function(t,e){function n(t,e,n){t instanceof RegExp&&(t=r(t,n)),e instanceof RegExp&&(e=r(e,n));var i=a(t,e,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+t.length,i[1]),post:n.slice(i[1]+e.length)}}function r(t,e){var n=e.match(t);return n?n[0]:null}function a(t,e,n){var r,a,i,o,s,u=n.indexOf(t),c=n.indexOf(e,u+1),l=u;if(u>=0&&c>0){for(r=[],i=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(t,l+1)):1==r.length?s=[r.pop(),c]:((a=r.pop())<i&&(i=a,o=c),c=n.indexOf(e,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[i,o])}return s}t.exports=n,n.range=a},function(t,e,n){var r=n(410);function a(t,e,n){var i=t;return function(t,e){var n=[],a="string"===typeof e?new RegExp("\\b("+e+")\\("):e;do{var i=a.exec(t);if(!i)return n;if(void 0===i[1])throw new Error("Missing the first couple of parenthesis to get the function identifier in "+e);var o=i[1],s=i.index,u=r("(",")",t.substring(s));if(!u||u.start!==i[0].length-1)throw new SyntaxError(o+"(): missing closing ')' in the value '"+t+"'");n.push({matches:u,functionIdentifier:o}),t=u.post}while(a.test(t));return n}(t,e).reduce((function(t,r){return t.replace(r.functionIdentifier+"("+r.matches.body+")",function(t,e,n,r,i){return n(a(t,i,n),e,r)}(r.matches.body,r.functionIdentifier,n,i,e))}),t)}t.exports=a},function(t,e,n){"use strict";function r(t,e,n){t instanceof RegExp&&(t=a(t,n)),e instanceof RegExp&&(e=a(e,n));var r=i(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function a(t,e){var n=e.match(t);return n?n[0]:null}function i(t,e,n){var r,a,i,o,s,u=n.indexOf(t),c=n.indexOf(e,u+1),l=u;if(u>=0&&c>0){for(r=[],i=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(t,l+1)):1==r.length?s=[r.pop(),c]:((a=r.pop())<i&&(i=a,o=c),c=n.indexOf(e,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[i,o])}return s}t.exports=r,r.range=i},function(t,e,n){var r=n(412);r.prototype.formulaEval=function(){"use strict";for(var t,e,n,r=[],a=this.value,i=0;i<a.length;i++)1===a[i].type||3===a[i].type?r.push({value:3===a[i].type?a[i].show:a[i].value,type:1}):13===a[i].type?r.push({value:a[i].show,type:1}):0===a[i].type?r[r.length-1]={value:a[i].show+("-"!=a[i].show?"(":"")+r[r.length-1].value+("-"!=a[i].show?")":""),type:0}:7===a[i].type?r[r.length-1]={value:(1!=r[r.length-1].type?"(":"")+r[r.length-1].value+(1!=r[r.length-1].type?")":"")+a[i].show,type:7}:10===a[i].type?(t=r.pop(),e=r.pop(),"P"===a[i].show||"C"===a[i].show?r.push({value:"<sup>"+e.value+"</sup>"+a[i].show+"<sub>"+t.value+"</sub>",type:10}):r.push({value:(1!=e.type?"(":"")+e.value+(1!=e.type?")":"")+"<sup>"+t.value+"</sup>",type:1})):2===a[i].type||9===a[i].type?(t=r.pop(),e=r.pop(),r.push({value:(1!=e.type?"(":"")+e.value+(1!=e.type?")":"")+a[i].show+(1!=t.type?"(":"")+t.value+(1!=t.type?")":""),type:a[i].type})):12===a[i].type&&(t=r.pop(),e=r.pop(),n=r.pop(),r.push({value:a[i].show+"("+n.value+","+e.value+","+t.value+")",type:12}));return r[0].value},t.exports=r},function(t,e,n){var r=n(413);r.prototype.postfixEval=function(t){"use strict";(t=t||{}).PI=Math.PI,t.E=Math.E;for(var e,n,a,i=[],o=this.value,s="undefined"!==typeof t.n,u=0;u<o.length;u++)1===o[u].type?i.push({value:o[u].value,type:1}):3===o[u].type?i.push({value:t[o[u].value],type:1}):0===o[u].type||7===o[u].type?"undefined"===typeof i[i.length-1].type?i[i.length-1].value.push(o[u]):i[i.length-1].value=o[u].value(i[i.length-1].value):8===o[u].type?(e=i.pop(),n=i.pop(),i.push({type:1,value:o[u].value(n.value,e.value)})):10===o[u].type?(e=i.pop(),"undefined"===typeof(n=i.pop()).type?(n.value=n.concat(e),n.value.push(o[u]),i.push(n)):"undefined"===typeof e.type?(e.unshift(n),e.push(o[u]),i.push(e)):i.push({type:1,value:o[u].value(n.value,e.value)})):2===o[u].type||9===o[u].type?(e=i.pop(),"undefined"===typeof(n=i.pop()).type?(console.log(n),(n=n.concat(e)).push(o[u]),i.push(n)):"undefined"===typeof e.type?(e.unshift(n),e.push(o[u]),i.push(e)):i.push({type:1,value:o[u].value(n.value,e.value)})):12===o[u].type?("undefined"!==typeof(e=i.pop()).type&&(e=[e]),n=i.pop(),a=i.pop(),i.push({type:1,value:o[u].value(a.value,n.value,new r(e))})):13===o[u].type&&(s?i.push({value:t[o[u].value],type:3}):i.push([o[u]]));if(i.length>1)throw new r.exception("Uncaught Syntax error");return i[0].value>1e15?"Infinity":parseFloat(i[0].value.toFixed(15))},r.eval=function(t,e,n){return"undefined"===typeof e?this.lex(t).toPostfix().postfixEval():"undefined"===typeof n?"undefined"!==typeof e.length?this.lex(t,e).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(e):this.lex(t,e).toPostfix().postfixEval(n)},t.exports=r},function(t,e,n){var r=n(414);r.prototype.toPostfix=function(){"use strict";for(var t,e,n,a,i,o=[],s=[{value:"(",type:4,pre:0}],u=this.value,c=1;c<u.length;c++)if(1===u[c].type||3===u[c].type||13===u[c].type)1===u[c].type&&(u[c].value=Number(u[c].value)),o.push(u[c]);else if(4===u[c].type)s.push(u[c]);else if(5===u[c].type)for(;4!==(e=s.pop()).type;)o.push(e);else if(11===u[c].type){for(;4!==(e=s.pop()).type;)o.push(e);s.push(e)}else{a=(t=u[c]).pre,n=(i=s[s.length-1]).pre;var l="Math.pow"==i.value&&"Math.pow"==t.value;if(a>n)s.push(t);else{for(;n>=a&&!l||l&&a<n;)e=s.pop(),i=s[s.length-1],o.push(e),n=i.pre,l="Math.pow"==t.value&&"Math.pow"==i.value;s.push(t)}}return new r(o)},t.exports=r},function(t,e,n){var r=n(415);function a(t,e){for(var n=0;n<t.length;n++)t[n]+=e;return t}var i=["sin","cos","tan","pi","(",")","P","C","asin","acos","atan","7","8","9","int","cosh","acosh","ln","^","root","4","5","6","/","!","tanh","atanh","Mod","1","2","3","*","sinh","asinh","e","log","0",".","+","-",",","Sigma","n","Pi","pow"],o=["sin","cos","tan","&pi;","(",")","P","C","asin","acos","atan","7","8","9","Int","cosh","acosh"," ln","^","root","4","5","6","&divide;","!","tanh","atanh"," Mod ","1","2","3","&times;","sinh","asinh","e"," log","0",".","+","-",",","&Sigma;","n","&Pi;","pow"],s=[r.math.sin,r.math.cos,r.math.tan,"PI","(",")",r.math.P,r.math.C,r.math.asin,r.math.acos,r.math.atan,"7","8","9",Math.floor,r.math.cosh,r.math.acosh,Math.log,Math.pow,Math.sqrt,"4","5","6",r.math.div,r.math.fact,r.math.tanh,r.math.atanh,r.math.mod,"1","2","3",r.math.mul,r.math.sinh,r.math.asinh,"E",r.math.log,"0",".",r.math.add,r.math.sub,",",r.math.sigma,"n",r.math.Pi,Math.pow],u={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0},c=[0,0,0,3,4,5,10,10,0,0,0,1,1,1,0,0,0,0,10,0,1,1,1,2,7,0,0,2,1,1,1,2,0,0,3,0,1,6,9,9,11,12,13,12,8],l={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0},h={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0},f={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0},p={},d={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0},v={1:!0},m=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function g(t,e,n,r){for(var a=0;a<r;a++)if(t[n+a]!==e[a])return!1;return!0}r.addToken=function(t){for(var e=0;e<t.length;e++){var n=t[e].token.length,r=-1;if(n<m.length)for(var a=0;a<m[n].length;a++)if(t[e].token===m[n][a]){r=i.indexOf(m[n][a]);break}-1===r?(i.push(t[e].token),c.push(t[e].type),m.length<=t[e].token.length&&(m[t[e].token.length]=[]),m[t[e].token.length].push(t[e].token),s.push(t[e].value),o.push(t[e].show)):(i[r]=t[e].token,c[r]=t[e].type,s[r]=t[e].value,o[r]=t[e].show)}},r.lex=function(t,e){"use strict";var n,y,b,x,w={value:r.math.changeSign,type:0,pre:21,show:"-"},O={value:")",show:")",type:5,pre:0},k={value:"(",type:4,pre:0,show:"("},S=[k],E=[],C=t,j=l,T=0,A=p,_="";"undefined"!==typeof e&&r.addToken(e);var M={};for(y=0;y<C.length;y++)if(" "!==C[y]){for(n="",b=C.length-y>m.length-2?m.length-1:C.length-y;b>0;b--)if(void 0!==m[b])for(x=0;x<m[b].length;x++)g(C,m[b][x],y,b)&&(n=m[b][x],x=m[b].length,b=0);if(y+=n.length-1,""===n)throw new r.Exception("Can't understand after "+C.slice(y));var N,I=i.indexOf(n),D=n,R=c[I],P=s[I],F=u[R],L=o[I],z=S[S.length-1];for(N=E.length;N--&&0===E[N];)if(-1!==[0,2,3,4,5,9,11,12,13].indexOf(R)){if(!0!==j[R])throw new r.Exception(n+" is not allowed after "+_);S.push(O),j=h,A=d,a(E,-1).pop()}if(!0!==j[R])throw new r.Exception(n+" is not allowed after "+_);if(!0===A[R]&&(R=2,P=r.math.mul,L="&times;",F=3,y-=n.length),M={value:P,type:R,pre:F,show:L},0===R)j=l,A=p,a(E,2).push(2),S.push(M),S.push(k);else if(1===R)1===z.type?(z.value+=P,a(E,1)):S.push(M),j=h,A=f;else if(2===R)j=l,A=p,a(E,2),S.push(M);else if(3===R)S.push(M),j=h,A=d;else if(4===R)a(E,1),T++,j=l,A=p,S.push(M);else if(5===R){if(!T)throw new r.Exception("Closing parenthesis are more than opening one, wait What!!!");T--,j=h,A=d,S.push(M)}else if(6===R){if(z.hasDec)throw new r.Exception("Two decimals are not allowed in one number");1!==z.type&&(z={value:0,type:1,pre:0},S.push(z),a(E,-1)),j=v,a(E,1),A=p,z.value+=P,z.hasDec=!0}else 7===R&&(j=h,A=d,a(E,1),S.push(M));8===R?(j=l,A=p,a(E,4).push(4),S.push(M),S.push(k)):9===R?(9===z.type?z.value===r.math.add?(z.value=P,z.show=L,a(E,1)):z.value===r.math.sub&&"-"===L&&(z.value=r.math.add,z.show="+",a(E,1)):5!==z.type&&7!==z.type&&1!==z.type&&3!==z.type&&13!==z.type?"-"===D&&(j=l,A=p,a(E,2).push(2),S.push(w),S.push(k)):(S.push(M),a(E,2)),j=l,A=p):10===R?(j=l,A=p,a(E,2),S.push(M)):11===R?(j=l,A=p,S.push(M)):12===R?(j=l,A=p,a(E,6).push(6),S.push(M),S.push(k)):13===R&&(j=h,A=d,S.push(M)),a(E,-1),_=n}for(N=E.length;N--&&0===E[N];)S.push(O),a(E,-1).pop();if(!0!==j[5])throw new r.Exception("complete the expression");for(;T--;)S.push(O);return S.push(O),new r(S)},t.exports=r},function(t,e){var n=function(t){this.value=t};n.math={isDegree:!0,acos:function(t){return n.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,e){return t+e},asin:function(t){return n.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return n.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,e){var r=1,a=t-e,i=e;i<a&&(i=a,a=e);for(var o=i+1;o<=t;o++)r*=o;return r/n.math.fact(a)},changeSign:function(t){return-t},cos:function(t){return n.math.isDegree&&(t=n.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,e){return t/e},fact:function(t){if(t%1!==0)return"NaN";for(var e=1,n=2;n<=t;n++)e*=n;return e},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,e){return t%e},mul:function(t,e){return t*e},P:function(t,e){for(var n=1,r=Math.floor(t)-Math.floor(e)+1;r<=Math.floor(t);r++)n*=r;return n},Pi:function(t,e,n){for(var r=1,a=t;a<=e;a++)r*=Number(n.postfixEval({n:a}));return r},pow10x:function(t){for(var e=1;t--;)e*=10;return e},sigma:function(t,e,n){for(var r=0,a=t;a<=e;a++)r+=Number(n.postfixEval({n:a}));return r},sin:function(t){return n.math.isDegree&&(t=n.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,e){return t-e},tan:function(t){return n.math.isDegree&&(t=n.math.toRadian(t)),Math.tan(t)},tanh:function(t){return n.sinha(t)/n.cosha(t)},toRadian:function(t){return t*Math.PI/180}},n.Exception=function(t){this.message=t},t.exports=n},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},function(t,e,n){var r=n(97);t.exports=function(t,e){var n=!0;return r(t,(function(t,r,a){return n=!!e(t,r,a)})),n}},function(t,e,n){var r=n(51),a=n(67),i=n(95);t.exports=function(t){return function(e,n,o){var s=Object(e);if(!a(e)){var u=r(n,3);e=i(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,o);return c>-1?s[u?e[c]:c]:void 0}}},function(t,e,n){var r=n(163),a=n(51),i=n(420),o=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:i(n);return u<0&&(u=o(s+u,0)),r(t,a(e,3),u)}},function(t,e,n){var r=n(177);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},function(t,e,n){var r=n(422),a=n(98),i=n(177);t.exports=function(t){return function(e,n,o){return o&&"number"!=typeof o&&a(e,n,o)&&(n=o=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),o=void 0===o?e<n?1:-1:i(o),r(e,n,o,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,a,i){for(var o=-1,s=r(n((e-t)/(a||1)),0),u=Array(s);s--;)u[i?s:++o]=t,t+=a;return u}},function(t,e,n){var r=n(37),a=n(424),i=n(178),o=Math.max,s=Math.min;t.exports=function(t,e,n){var u,c,l,h,f,p,d=0,v=!1,m=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=u,r=c;return u=c=void 0,d=e,h=t.apply(r,n)}function b(t){return d=t,f=setTimeout(w,e),v?y(t):h}function x(t){var n=t-p;return void 0===p||n>=e||n<0||m&&t-d>=l}function w(){var t=a();if(x(t))return O(t);f=setTimeout(w,function(t){var n=e-(t-p);return m?s(n,l-(t-d)):n}(t))}function O(t){return f=void 0,g&&u?y(t):(u=c=void 0,h)}function k(){var t=a(),n=x(t);if(u=arguments,c=this,p=t,n){if(void 0===f)return b(p);if(m)return clearTimeout(f),f=setTimeout(w,e),y(p)}return void 0===f&&(f=setTimeout(w,e)),h}return e=i(e)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?o(i(n.maxWait)||0,e):l,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==f&&clearTimeout(f),d=0,u=p=c=f=void 0},k.flush=function(){return void 0===f?h:O(a())},k}},function(t,e,n){var r=n(45);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(97);t.exports=function(t,e){var n;return r(t,(function(t,r,a){return!(n=e(t,r,a))})),!!n}},function(t,e,n){var r=n(166);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},,function(t,e,n){"use strict";var r=n(39),a=n(179),i=n(429),o=n(185);function s(t){var e=new i(t),n=a(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=s(n(182));u.Axios=i,u.create=function(t){return s(o(u.defaults,t))},u.Cancel=n(186),u.CancelToken=n(442),u.isCancel=n(181),u.all=function(t){return Promise.all(t)},u.spread=n(443),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var r=n(39),a=n(180),i=n(430),o=n(431),s=n(185);function u(t){this.defaults=t,this.interceptors={request:new i,response:new i}}u.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),a(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,a){return this.request(r.merge(a||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){"use strict";var r=n(39);function a(){this.handlers=[]}a.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},a.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},a.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=a},function(t,e,n){"use strict";var r=n(39),a=n(432),i=n(181),o=n(182);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=a(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return s(t),e.data=a(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=a(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(39);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(39);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(184);t.exports=function(t,e,n){var a=n.config.validateStatus;!a||a(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,a){return t.config=e,n&&(t.code=n),t.request=r,t.response=a,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(437),a=n(438);t.exports=function(t,e){return t&&!r(e)?a(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(39),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,o={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(o[e]&&a.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},function(t,e,n){"use strict";var r=n(39);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=a(window.location.href),function(e){var n=r.isString(e)?a(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(39);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,a,i,o){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(186);function a(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var t;return{token:new a((function(e){t=e})),cancel:t}},t.exports=a},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},,function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(t,e,n,r){var a=e&&e.prototype instanceof l?e:l,i=Object.create(a.prototype),o=new O(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return S()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,o),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=s;var c={};function l(){}function h(){}function f(){}var p={};p[a]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(k([])));v&&v!==e&&n.call(v,a)&&(p=v);var m=f.prototype=l.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var r;this._invoke=function(a,i){function o(){return new e((function(r,o){!function r(a,i,o,s){var c=u(t[a],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){l.value=t,o(l)}),(function(t){return r("throw",t,o,s)}))}s(c.arg)}(a,i,r,o)}))}return r=r?r.then(o,o):o()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m.constructor=f,f.constructor=h,f[o]=h.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(y.prototype),y.prototype[i]=function(){return this},t.AsyncIterator=y,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new y(s(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},g(m),m[o]="Generator",m[a]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";(function(t){var e=n(99),r=n(23),a=Object(r.b)();a.registerFlag("DEBUG",(function(){return!1}),(function(t){t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),a.registerFlag("IS_BROWSER",(function(){return e.isBrowser()})),a.registerFlag("IS_NODE",(function(){return"undefined"!==typeof t&&"undefined"!==typeof t.versions&&"undefined"!==typeof t.versions.node})),a.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),a.registerFlag("PROD",(function(){return!1})),a.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return a.getBool("DEBUG")})),a.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),a.registerFlag("IS_TEST",(function(){return!1}))}).call(this,n(70))},function(t,e,n){"use strict";(function(t){var e,r=n(5),a=n(9),i=n(23),o=function(){return n(448)};var s=function(){function s(){Object(r.a)(this,s),this.util=n(449),this.textEncoder=new this.util.TextEncoder}return Object(a.a)(s,[{key:"fetch",value:function(t,n){return null!=Object(i.b)().global.fetch?Object(i.b)().global.fetch(t,n):(null==e&&(e=o()),e(t,n))}},{key:"now",value:function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(t,e){if("utf-8"!==e&&"utf8"!==e)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(e));return this.textEncoder.encode(t)}},{key:"decode",value:function(t,e){return 0===t.length?"":new this.util.TextDecoder(e).decode(t)}}]),s}();Object(i.b)().get("IS_NODE")&&Object(i.b)().setPlatform("node",new s)}).call(this,n(70))},,,function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),o=r[0],s=r[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,o,s)),l=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)e=a[t.charCodeAt(n)]<<18|a[t.charCodeAt(n+1)]<<12|a[t.charCodeAt(n+2)]<<6|a[t.charCodeAt(n+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=a[t.charCodeAt(n)]<<2|a[t.charCodeAt(n+1)]>>4,u[l++]=255&e);1===s&&(e=a[t.charCodeAt(n)]<<10|a[t.charCodeAt(n+1)]<<4|a[t.charCodeAt(n+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,a=n%3,i=[],o=0,s=n-a;o<s;o+=16383)i.push(l(t,o,o+16383>s?s:o+16383));1===a?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===a&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],a=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],a[o.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var a,i,o=[],s=e;s<n;s+=3)a=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(r[(i=a)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,a){var i,o,s=8*a-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?a-1:0,f=n?-1:1,p=t[e+h];for(h+=f,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+h],h+=f,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=256*o+t[e+h],h+=f,l-=8);if(0===i)i=1-c;else{if(i===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),i-=c}return(p?-1:1)*o*Math.pow(2,i-r)},e.write=function(t,e,n,r,a,i){var o,s,u,c=8*i-a-1,l=(1<<c)-1,h=l>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=l?(s=0,o=l):o+h>=1?(s=(e*u-1)*Math.pow(2,a),o+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,a),o=0));a>=8;t[n+p]=255&s,p+=d,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;t[n+p]=255&o,p+=d,o/=256,c-=8);t[n+p-d]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){var r;!function(t,a,i){function o(t){var e=this,n=function(){var t=4022871197;return function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function u(t,e){var n=new o(t),r=e&&e.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(41)&&n(71)?void 0===(r=function(){return u}.call(e,n,e,a))||(a.exports=r):this.alea=u}(0,t,n(41))}).call(this,n(46)(t))},function(t,e,n){(function(t){var r;!function(t,a,i){function o(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function u(t,e){var n=new o(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(41)&&n(71)?void 0===(r=function(){return u}.call(e,n,e,a))||(a.exports=r):this.xor128=u}(0,t,n(41))}).call(this,n(46)(t))},function(t,e,n){(function(t){var r;!function(t,a,i){function o(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function u(t,e){var n=new o(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(41)&&n(71)?void 0===(r=function(){return u}.call(e,n,e,a))||(a.exports=r):this.xorwow=u}(0,t,n(41))}).call(this,n(46)(t))},function(t,e,n){(function(t){var r;!function(t,a,i){function o(t){var e=this;e.next=function(){var t,n,r=e.x,a=e.i;return t=r[a],n=(t^=t>>>7)^t<<24,n^=(t=r[a+1&7])^t>>>10,n^=(t=r[a+3&7])^t>>>3,n^=(t=r[a+4&7])^t<<7,t=r[a+7&7],n^=(t^=t<<13)^t<<9,r[a]=n,e.i=a+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(41)&&n(71)?void 0===(r=function(){return u}.call(e,n,e,a))||(a.exports=r):this.xorshift7=u}(0,t,n(41))}).call(this,n(46)(t))},function(t,e,n){(function(t){var r;!function(t,a,i){function o(t){var e=this;e.next=function(){var t,n,r=e.w,a=e.X,i=e.i;return e.w=r=r+1640531527|0,n=a[i+34&127],t=a[i=i+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=a[i]=n^t,e.i=i,n+(r^r>>>16)|0},function(t,e){var n,r,a,i,o,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),a=0,i=-32;i<u;++i)e&&(r^=e.charCodeAt((i+32)%e.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=s[127&i]^=r+o)?a+1:0);for(a>=128&&(s[127&(e&&e.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;t.w=o,t.X=s,t.i=a}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(41)&&n(71)?void 0===(r=function(){return u}.call(e,n,e,a))||(a.exports=r):this.xor4096=u}(0,t,n(41))}).call(this,n(46)(t))},function(t,e,n){(function(t){var r;!function(t,a,i){function o(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,a=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^a,e.a=a-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function u(t,e){var n=new o(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(41)&&n(71)?void 0===(r=function(){return u}.call(e,n,e,a))||(a.exports=r):this.tychei=u}(0,t,n(41))}).call(this,n(46)(t))},function(t,e,n){var r;!function(a,i){var o,s=this,u=i.pow(256,6),c=i.pow(2,52),l=2*c;function h(t,e,n){var r=[],h=d(function t(e,n){var r,a=[],i=typeof e;if(n&&"object"==i)for(r in e)try{a.push(t(e[r],n-1))}catch(o){}return a.length?a:"string"==i?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,v(a)]:null==t?function(){try{var t;return o&&(t=o.randomBytes)?t=t(256):(t=new Uint8Array(256),(s.crypto||s.msCrypto).getRandomValues(t)),v(t)}catch(r){var e=s.navigator,n=e&&e.plugins;return[+new Date,s,n,s.screen,v(a)]}}():t,3),r),m=new f(r),g=function(){for(var t=m.g(6),e=u,n=0;t<c;)t=256*(t+n),e*=256,n=m.g(1);for(;t>=l;)t/=2,e/=2,n>>>=1;return(t+n)/e};return g.int32=function(){return 0|m.g(4)},g.quick=function(){return m.g(4)/4294967296},g.double=g,d(v(m.S),a),(e.pass||n||function(t,e,n,r){return r&&(r.S&&p(r,m),t.state=function(){return p(m,{})}),n?(i.random=t,e):t})(g,h,"global"in e?e.global:this==i,e.state)}function f(t){var e,n=t.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(t=[n++]);a<256;)o[a]=a++;for(a=0;a<256;a++)o[a]=o[i=255&i+t[a%n]+(e=o[a])],o[i]=e;(r.g=function(t){for(var e,n=0,a=r.i,i=r.j,o=r.S;t--;)e=o[a=255&a+1],n=256*n+o[255&(o[a]=o[i=255&i+e])+(o[i]=e)];return r.i=a,r.j=i,n})(256)}function p(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function d(t,e){for(var n,r=t+"",a=0;a<r.length;)e[255&a]=255&(n^=19*e[255&a])+r.charCodeAt(a++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}if(i.seedrandom=h,d(i.random(),a),t.exports){t.exports=h;try{o=n(460)}catch(m){}}else void 0===(r=function(){return h}.call(e,n,e,t))||(t.exports=r)}([],Math)},,function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,a=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(a.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(a.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(462),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(59))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,a=1,i={},o=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){l(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&l(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){l(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){l(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(l,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return i[a]=o,r(a),a++},u.clearImmediate=c}function c(t){delete i[t]}function l(t){if(o)setTimeout(l,0,t);else{var e=i[t];if(e){o=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{c(t),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(59),n(70))},,,,,,,,,function(t,e,n){var r=n(472),a=n(473);r.memo=a,t.exports=r},function(t,e){t.exports=function(t,e,n,r,a,i){var o,s;if(function(t,e,n,r,a,i){return!!t.length&&(!(i<=0)&&(!(i>a)&&(!(e<0||e>1)&&(!(n<0||n>1)&&!(r<0||r>1)))))}(t,e,n,r,a,i))return o=t.length/a,st_1=t[0],b_1=function(t,e){for(var n=0,r=0;r<e;r++)n+=t[e+r]-t[r];return n/(e*e)}(t,a),s=function(t,e,n){var r,a,i,o,s;for(r=Array(n),a=Array(t.length),i=Array(e),o=0;o<n;o++)r[o]=0;for(o=0;o<e;o++)i[o]=0;for(o=0;o<n;o++){for(s=0;s<e;s++)r[o]+=t[o*e+s];r[o]/=e}for(o=0;o<n;o++)for(s=0;s<e;s++)a[o*e+s]=t[o*e+s]/r[o];for(o=0;o<e;o++){for(s=0;s<n;s++)i[o]+=a[s*e+o];i[o]/=n}return i}(t,a,o),function(t,e,n,r,a,i,o,s,u){var c=t.length,l=Array(c),h=Array(c),f=Array(c),p=Array(c);for(l[1]=e,h[1]=n,d=0;d<c;d++)p[d]=0;for(d=0;d<s;d++)f[d]=o[d];for(var d=2;d<c;d++)l[d]=d-s>=0?r*t[d]/f[d-s]+(1-r)*(l[d-1]+h[d-1]):r*t[d]+(1-r)*(l[d-1]+h[d-1]),h[d]=i*(l[d]-l[d-1])+(1-i)*h[d-1],d-s>=0&&(f[d]=a*t[d]/l[d]+(1-a)*f[d-s]),d+u>=s&&(p[d+u]=(l[d]+u*h[d])*f[d-s+u]);return p}(t,st_1,b_1,e,n,r,s,a,i)}},function(t,e){t.exports=function(t){var e=t.length,n=t.alpha,r=t.beta,a=t.gamma,i=t.period,o=t.m,s=e/i,u=Array(s),c=Array(e),l=Array(i),h=Array(e),f=Array(e),p=Array(e),d=Array(e);return function(t,e,n,r,a,i){return!!t&&(!(i<=0)&&(!(i>a)&&(!(e<0||e>1)&&(!(n<0||n>1)&&!(r<0||r>1)))))}(e,n,r,a,i,o)?function(t){return function(t,e,n,r,a,i,o,s,u,c,l,h,f,p){var d;for(l[1]=n,h[1]=r,d=0;d<e;d++)p[d]=0;for(d=0;d<u;d++)f[d]=s[d];for(d=2;d<e;d++)l[d]=d-u>=0?a*t[d]/f[d-u]+(1-a)*(l[d-1]+h[d-1]):a*t[d]+(1-a)*(l[d-1]+h[d-1]),h[d]=o*(l[d]-l[d-1])+(1-o)*h[d-1],d-u>=0&&(f[d]=i*t[d]/l[d]+(1-i)*f[d-u]),d+c>=u&&(p[d+c]=(l[d]+c*h[d])*f[d-u+c]);return p}(t,e,t[0],function(t,e){for(var n=0,r=0;r<e;r++)n+=t[e+r]-t[r];return n/(e*e)}(t,i),n,r,a,function(t,e,n,r,a,i){var o,s;for(o=0;o<n;o++)r[o]=0;for(o=0;o<e;o++)i[o]=0;for(o=0;o<n;o++){for(s=0;s<e;s++)r[o]+=t[o*e+s];r[o]/=e}for(o=0;o<n;o++)for(s=0;s<e;s++)a[o*e+s]=t[o*e+s]/r[o];for(o=0;o<e;o++){for(s=0;s<n;s++)i[o]+=a[s*e+o];i[o]/=n}return i}(t,i,s,u,c,l),i,o,h,f,p,d)}:function(){throw new Error("could not initialize")}}}]]);
//# sourceMappingURL=2.5ea9a69d.chunk.js.map