(this["webpackJsonpcovid-charts"]=this["webpackJsonpcovid-charts"]||[]).push([[0],{185:function(e,t,n){e.exports=n(385)},190:function(e,t,n){},367:function(e,t,n){},384:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(15),o=n.n(c),i=(n(190),n(11)),l=n(52),u=n(53),s=n(57),d=n(56),f=n(60),m=n(20),v=n(59),p=n(154),h=n.n(p),y=(n(367),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return r.a.createElement("div",{className:"stuffie-loading"},r.a.createElement(h.a,{type:"spin",color:"#00f",height:t,width:t}),e&&r.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),n}(a.Component)),g=n(51),b=n(87),S=n.n(b),E=function(e){return e&&e.some((function(e){return""!==e.Province}))},C=function(e){return e&&e.some((function(e){return""!==e.City}))},O=function(e){var t={};return e.forEach((function(e){var n=""===e.Province?"Undefined":e.Province,a=""===e.City?"Undefined":e.City,r=Object(i.a)(Object(i.a)({},e),{},{Province:n,City:a});Object.keys(t).includes(r.Province)?t[r.Province].push(r):t=Object(i.a)(Object(i.a)({},t),{},Object(g.a)({},r.Province,[r]))})),t},j=function(e,t){return e[t.label].map((function(e){return e.City})).filter((function(e,t,n){return n.indexOf(e)===t})).sort().map((function(e){return{value:e,name:e,label:e}}))},D=function(e,t,n){return e[t.label].filter((function(e){return e.City===n.label}))},k=function(e){if(e.length){for(var t=e[0],n=[t.Confirmed],a=[S()(t.Date).format("MMM Do")],r=1;r<e.length;r++){t=e[r];var c=e[r-1],o=t.Confirmed-c.Confirmed;n[r]=o,a.push(S()(t.Date).format("MMM Do"))}return e.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{Confirmed:n[t],Date:a[t]})}))}},x=function(e){return Object.keys(e).sort().map((function(e){return{name:e,label:e,value:e}}))},w=n(38),M=n.n(w),_={"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},N=function(){return"https://api.covid19api.com/countries"},P=function(e){return"https://api.covid19api.com/dayone/country/".concat(e)},L=function(e){return M.a.get(P(e),{headers:_})},z=(n(384),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={defaultCountrySlug:"mexico",menu:{fn:null},all:null,country:[],countryData:[],countries:[],countrySelected:{name:null,Country:"",value:"",label:null},isLoading:!1,provinces:[],provinceData:[],provinceSelected:{name:null,value:"",label:null},cities:[],citySelected:{name:null,value:"",label:null},usMap:{}},e.getCountryInfo=function(){var t=e.state.countrySelected;e.setState({isLoading:!0}),L(t.value).then((function(t){var n,a,r,c,o,i=t.data;E(i)?(n=O(i),r=(a=x(n))[0],C(i)&&(o=(c=j(n,r))[0]),e.setState({usMap:n,country:i,cities:c,provinces:a,provinceSelected:r,citySelected:o})):e.setState({country:i,usMap:{},provinceSelected:{name:null},provinces:[],provinceData:[],citySelected:{name:null},cities:[]})})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state.defaultCountrySlug;M.a.get(N(),{headers:_}).then((function(n){var a=Object(v.sortBy)(n.data,["Slug"]),r=0,c=a.map((function(e,n){return e.Slug===t&&(r=n),Object(i.a)(Object(i.a)({},e),{},{value:e.Slug,label:e.Country,name:e.Slug})}));e.setState({countries:c,countrySelected:c[r]})}))}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.isLoading)if(Object(v.isEqual)(t.countrySelected,this.state.countrySelected)){if(!Object(v.isEqual)(t.provinceSelected,this.state.provinceSelected)&&C(this.state.country)){var n=j(this.state.usMap,this.state.provinceSelected);this.setState({cities:n,citySelected:n[0]})}}else this.getCountryInfo()}},{key:"renderChart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,a=n.provinceSelected,c=n.usMap,o=n.citySelected,i=C(e)?D(c,a,o):E(e)?c[a.label]:e;return(i=t?k(i):i)&&i.length?r.a.createElement(m.b,{width:500,height:250,data:i,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorDeaths",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorConfirmed",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(m.e,{dataKey:"Date"}),r.a.createElement(m.f,null),r.a.createElement(m.c,{strokeDasharray:"3 3"}),r.a.createElement(m.d,null),r.a.createElement(m.a,{type:"monotone",dataKey:"Confirmed",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorConfirmed)"}),r.a.createElement(m.a,{type:"monotone",dataKey:"Deaths",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorDeaths)"})):r.a.createElement("div",null,"No data")}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.country,c=n.countries,o=n.countrySelected,i=n.isLoading,l=n.provinces,u=n.provinceSelected,s=n.cities,d=n.citySelected,m=null!==(e=o.label)&&void 0!==e?e:"Country";if(!c.length||i)return r.a.createElement(y,{size:"xl",message:"Loading ".concat(m," Data")});var v=E(a),p=C(a);return r.a.createElement("div",null,r.a.createElement("h2",null,"COVID ",o.label," Charts"),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__dropdowns"},r.a.createElement(f.a,{onChange:function(e){return t.setState({countrySelected:e})},options:c,value:o}),v&&r.a.createElement(f.a,{onChange:function(e){return t.setState({provinceSelected:e})},options:l,value:u}),p&&r.a.createElement(f.a,{onChange:function(e){return t.setState({citySelected:e})},options:s,value:d})),r.a.createElement("hr",null),this.renderChart(a),r.a.createElement("hr",null),this.renderChart(a,!0),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__texts"},r.a.createElement("div",{className:"covid__text"},o.label),v&&r.a.createElement("div",{className:"covid__text"},null===u||void 0===u?void 0:u.label),p&&r.a.createElement("div",{className:"covid__text"},null===d||void 0===d?void 0:d.label)))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[185,1,2]]]);
//# sourceMappingURL=main.ce1902d9.chunk.js.map