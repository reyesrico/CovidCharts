(this["webpackJsonpcovid-charts"]=this["webpackJsonpcovid-charts"]||[]).push([[0],{185:function(e,t,n){e.exports=n(386)},190:function(e,t,n){},367:function(e,t,n){},368:function(e,t,n){},385:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(15),o=n.n(c),i=(n(190),n(9)),l=n(30),s=n(31),u=n(35),d=n(34),f=n(60),m=n(20),v=n(59),h=(n(367),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("hr",null),"Covid Charts\u2122 is a platform coded by \xa0",r.a.createElement("a",{href:"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html",target:"_blank",rel:"noopener noreferrer"},"Carlos Reyes-Rico"),".")}}]),n}(a.Component)),p=n(153),y=n.n(p),b=(n(368),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return r.a.createElement("div",{className:"stuffie-loading"},r.a.createElement(y.a,{type:"spin",color:"#00f",height:t,width:t}),e&&r.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),n}(a.Component)),E=n(55),g=n(154),C=n.n(g),S=function(e){return e&&e.some((function(e){return""!==e.Province}))},O=function(e){return e&&e.some((function(e){return""!==e.City}))},j=function(e){var t={};return e.forEach((function(e){var n=""===e.Province?"Undefined":e.Province,a=""===e.City?"Undefined":e.City,r=Object(i.a)(Object(i.a)({},e),{},{Province:n,City:a});Object.keys(t).includes(r.Province)?t[r.Province].push(r):t=Object(i.a)(Object(i.a)({},t),{},Object(E.a)({},r.Province,[r]))})),t},_=function(e,t){return e[t.label].map((function(e){return e.City})).filter((function(e,t,n){return n.indexOf(e)===t})).sort().map((function(e){return{value:e,name:e,label:e}}))},D=function(e,t,n){return e[t.label].filter((function(e){return e.City===n.label}))},k=function(e){if(e.length){for(var t=e[0],n=[t.Confirmed],a=1;a<e.length;a++){t=e[a];var r=e[a-1],c=t.Confirmed-r.Confirmed;n[a]=c}return e.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{Confirmed:n[t]})}))}},w=function(e){return Object.keys(e).sort().map((function(e){return{name:e,label:e,value:e}}))},x=function(e){return e.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{Date:C()(e.Date).format("MMM Do")})}))},N=n(42),M=n.n(N),P={"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},L=function(){return"https://api.covid19api.com/countries"},z=function(e){return"https://api.covid19api.com/dayone/country/".concat(e)},I=function(e){return M.a.get(z(e),{headers:P})},B=(n(385),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={defaultCountrySlug:"mexico",menu:{fn:null},all:null,country:[],countryData:[],countries:[],countrySelected:{name:null,Country:"",value:"",label:null},isLoading:!1,provinces:[],provinceData:[],provinceSelected:{name:null,value:"",label:null},cities:[],citySelected:{name:null,value:"",label:null},usMap:{}},e.getCountryInfo=function(){var t=e.state.countrySelected;e.setState({isLoading:!0}),I(t.value).then((function(t){var n,a,r,c,o,i=t.data;S(i)?(n=j(i),r=(a=w(n))[0],O(i)&&(o=(c=_(n,r))[0]),e.setState({usMap:n,country:i,cities:c,provinces:a,provinceSelected:r,citySelected:o})):e.setState({country:i,usMap:{},provinceSelected:{name:null},provinces:[],provinceData:[],citySelected:{name:null},cities:[]})})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state.defaultCountrySlug;M.a.get(L(),{headers:P}).then((function(n){var a=Object(v.sortBy)(n.data,["Slug"]),r=0,c=a.map((function(e,n){return e.Slug===t&&(r=n),Object(i.a)(Object(i.a)({},e),{},{value:e.Slug,label:e.Country,name:e.Slug})}));e.setState({countries:c,countrySelected:c[r]})}))}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.isLoading)if(Object(v.isEqual)(t.countrySelected,this.state.countrySelected)){if(!Object(v.isEqual)(t.provinceSelected,this.state.provinceSelected)&&O(this.state.country)){var n=_(this.state.usMap,this.state.provinceSelected);this.setState({cities:n,citySelected:n[0]})}}else this.getCountryInfo()}},{key:"renderChart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,a=n.provinceSelected,c=n.usMap,o=n.citySelected,i=O(e)?D(c,a,o):S(e)?c[a.label]:e;if(i=x(i),!(i=t?k(i):i)||!i.length)return r.a.createElement("div",null,"No data");var l=window.innerWidth,s=l>=500?500:.9*l;return r.a.createElement(m.b,{width:s,height:250,data:i,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorDeaths",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorConfirmed",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(m.e,{dataKey:"Date"}),r.a.createElement(m.f,null),r.a.createElement(m.c,{strokeDasharray:"3 3"}),r.a.createElement(m.d,null),r.a.createElement(m.a,{type:"monotone",dataKey:"Confirmed",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorConfirmed)"}),r.a.createElement(m.a,{type:"monotone",dataKey:"Deaths",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorDeaths)"}))}},{key:"render",value:function(){var e,t=this,n=this.state,a=n.country,c=n.countries,o=n.countrySelected,i=n.isLoading,l=n.provinces,s=n.provinceSelected,u=n.cities,d=n.citySelected,m=null!==(e=o.label)&&void 0!==e?e:"Country";if(!c.length||i)return r.a.createElement(b,{size:"xl",message:"Loading ".concat(m," Data")});var v=S(a),p=O(a);return r.a.createElement("div",{className:"covid"},r.a.createElement("h2",{className:"covid__title"},"COVID ",o.label," Charts"),r.a.createElement("div",{className:"covid__dropdowns"},r.a.createElement(f.a,{onChange:function(e){return t.setState({countrySelected:e})},options:c,value:o}),v&&r.a.createElement(f.a,{onChange:function(e){return t.setState({provinceSelected:e})},options:l,value:s}),p&&r.a.createElement(f.a,{onChange:function(e){return t.setState({citySelected:e})},options:u,value:d})),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__charts"},r.a.createElement("h3",{className:"covid__chart-text"},"Total Confirmed and Deaths"),this.renderChart(a),r.a.createElement("hr",null),r.a.createElement("h3",{className:"covid__chart-text"},"Incremental Confirmed (To Date - One Day Before) and Deaths"),this.renderChart(a,!0),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__texts"},r.a.createElement("div",{className:"covid__text"},o.label),v&&r.a.createElement("div",{className:"covid__text"},null===s||void 0===s?void 0:s.label),p&&r.a.createElement("div",{className:"covid__text"},null===d||void 0===d?void 0:d.label))),r.a.createElement(h,null))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[185,1,2]]]);
//# sourceMappingURL=main.a0d21e80.chunk.js.map