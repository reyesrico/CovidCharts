(this["webpackJsonpcovid-charts"]=this["webpackJsonpcovid-charts"]||[]).push([[0],{185:function(e,t,a){e.exports=a(387)},190:function(e,t,a){},367:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(15),o=a.n(c),l=(a(190),a(9)),i=a(19),s=a(20),u=a(22),d=a(21),m=a(60),f=a(24),v=a(59),h=(a(367),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",null,"Covid Charts\u2122 is a platform coded by \xa0",r.a.createElement("a",{href:"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html",target:"_blank",rel:"noopener noreferrer"},"Carlos Reyes-Rico"),"."),r.a.createElement("div",null,"Why?: Click ",r.a.createElement("a",{href:"https://github.com/reyesrico/CovidCharts/blob/master/README.md"},"here")),r.a.createElement("div",null,"Code: ",r.a.createElement("a",{href:"https://github.com/reyesrico/CovidCharts"},"https://github.com/reyesrico/CovidCharts")),r.a.createElement("div",null,"Contact and Follow Me! Twitter: ",r.a.createElement("a",{href:"https://twitter.com/reyesrico"},"@reyesrico")))}}]),a}(n.Component)),p=(a(368),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.countrySelected;return r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",{className:"instructions__title"},"Instructions"),r.a.createElement("ol",{className:"instructions__list"},r.a.createElement("li",null,"Select a country"),r.a.createElement("li",null,"If country has states data: select a state"),r.a.createElement("li",null,"If country has cities data: select a city")),r.a.createElement("div",{className:"instructions__examples"},r.a.createElement("div",null,"Flatten Curves Examples: ",r.a.createElement("b",null,"Germany, Korea (South), United States (NY, NY)")),r.a.createElement("button",{className:"instructions__button",onClick:function(t){return t&&localStorage.setItem("country",e.value)}},"Save Default Country")))}}]),a}(n.Component)),y=a(153),E=a.n(y),b=(a(369),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return r.a.createElement("div",{className:"stuffie-loading"},r.a.createElement(E.a,{type:"spin",color:"#00f",height:t,width:t}),e&&r.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),a}(n.Component)),C=a(55),g=a(154),S=a.n(g),O=function(e){return e&&e.some((function(e){return""!==e.Province}))},j=function(e){return e&&e.some((function(e){return""!==e.City}))},_=function(e){var t={};return e.forEach((function(e){var a=""===e.Province?"Undefined":e.Province,n=""===e.City?"Undefined":e.City,r=Object(l.a)(Object(l.a)({},e),{},{Province:a,City:n});Object.keys(t).includes(r.Province)?t[r.Province].push(r):t=Object(l.a)(Object(l.a)({},t),{},Object(C.a)({},r.Province,[r]))})),t},k=function(e,t){return e[t.label].map((function(e){return e.City})).filter((function(e,t,a){return a.indexOf(e)===t})).sort().map((function(e){return{value:e,name:e,label:e}}))},D=function(e,t,a){return e[t.label].filter((function(e){return e.City===a.label}))},N=function(e){if(e.length){for(var t=e[0],a=[t.Confirmed],n=1;n<e.length;n++){t=e[n];var r=e[n-1],c=t.Confirmed-r.Confirmed;a[n]=c}return e.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{Confirmed:a[t]})}))}},w=function(e){return Object.keys(e).sort().map((function(e){return{name:e,label:e,value:e}}))},x=function(e){return e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{Date:S()(e.Date).format("MMM Do")})}))},M=a(42),I=a.n(M),P={"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},L=function(){return"https://api.covid19api.com/countries"},z=function(e){return"https://api.covid19api.com/dayone/country/".concat(e)},B=function(e){return I.a.get(z(e),{headers:P})},K=(a(386),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={defaultCountrySlug:localStorage.getItem("country")||"mexico",menu:{fn:null},all:null,country:[],countryData:[],countries:[],countrySelected:{name:null,Country:"",value:"",label:null},isLoading:!1,provinces:[],provinceData:[],provinceSelected:{name:null,value:"",label:null},cities:[],citySelected:{name:null,value:"",label:null},usMap:{}},e.getCountryInfo=function(){var t=e.state.countrySelected;e.setState({isLoading:!0}),B(t.value).then((function(t){var a,n,r,c,o,l=t.data;O(l)?(a=_(l),r=(n=w(a))[0],j(l)&&(o=(c=k(a,r))[0]),e.setState({usMap:a,country:l,cities:c,provinces:n,provinceSelected:r,citySelected:o})):e.setState({country:l,usMap:{},provinceSelected:{name:null},provinces:[],provinceData:[],citySelected:{name:null},cities:[]})})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.defaultCountrySlug;I.a.get(L(),{headers:P}).then((function(a){var n=Object(v.sortBy)(a.data,["Slug"]),r=0,c=n.map((function(e,a){return e.Slug===t&&(r=a),Object(l.a)(Object(l.a)({},e),{},{value:e.Slug,label:e.Country,name:e.Slug})}));e.setState({countries:c,countrySelected:c[r]})}))}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.isLoading)if(Object(v.isEqual)(t.countrySelected,this.state.countrySelected)){if(!Object(v.isEqual)(t.provinceSelected,this.state.provinceSelected)&&j(this.state.country)){var a=k(this.state.usMap,this.state.provinceSelected);this.setState({cities:a,citySelected:a[0]})}}else this.getCountryInfo()}},{key:"renderChart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.state,n=a.provinceSelected,c=a.usMap,o=a.citySelected,l=j(e)?D(c,n,o):O(e)?c[n.label]:e;if(l=x(l),!(l=t?N(l):l)||!l.length)return r.a.createElement("div",null,"No data");var i=window.innerWidth,s=i>=500?500:.8*i;return r.a.createElement(f.b,{width:s,height:250,data:l,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorDeaths",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorConfirmed",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(f.e,{dataKey:"Date"}),r.a.createElement(f.f,null),r.a.createElement(f.c,{strokeDasharray:"3 3"}),r.a.createElement(f.d,null),r.a.createElement(f.a,{type:"monotone",dataKey:"Confirmed",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorConfirmed)"}),r.a.createElement(f.a,{type:"monotone",dataKey:"Deaths",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorDeaths)"}))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.country,c=a.countries,o=a.countrySelected,l=a.isLoading,i=a.provinces,s=a.provinceSelected,u=a.cities,d=a.citySelected,f=null!==(e=o.label)&&void 0!==e?e:"Country";if(!c.length||l)return r.a.createElement(b,{size:"xl",message:"Loading ".concat(f," Data")});var v=O(n),y=j(n);return r.a.createElement("div",{className:"covid"},r.a.createElement("h2",{className:"covid__title"},"COVID ",o.label," Charts"),r.a.createElement(p,{countrySelected:o}),r.a.createElement("div",{className:"covid__dropdowns"},r.a.createElement(m.a,{onChange:function(e){return t.setState({countrySelected:e})},options:c,value:o}),v&&r.a.createElement(m.a,{onChange:function(e){return t.setState({provinceSelected:e})},options:i,value:s}),y&&r.a.createElement(m.a,{onChange:function(e){return t.setState({citySelected:e})},options:u,value:d})),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__charts"},r.a.createElement("h3",{className:"covid__chart-text"},"Total Confirmed and Deaths"),this.renderChart(n),r.a.createElement("hr",null),r.a.createElement("h3",{className:"covid__chart-text"},"Incremental Confirmed (To Date - One Day Before) and Deaths"),this.renderChart(n,!0),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__texts"},r.a.createElement("div",{className:"covid__text"},o.label),v&&r.a.createElement("div",{className:"covid__text"},null===s||void 0===s?void 0:s.label),y&&r.a.createElement("div",{className:"covid__text"},null===d||void 0===d?void 0:d.label))),r.a.createElement(h,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[185,1,2]]]);
//# sourceMappingURL=main.634ead55.chunk.js.map