(this["webpackJsonpcovid-charts"]=this["webpackJsonpcovid-charts"]||[]).push([[0],{187:function(e,t,a){e.exports=a(392)},192:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),o=a.n(c),i=(a(192),a(7)),l=a(12),s=a(13),u=a(15),d=a(14),m=a(46),h=a(9),v=a(24),p=(a(369),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",null,"Covid Charts\u2122 is a platform coded by \xa0",r.a.createElement("a",{href:"http://stuffie.azurewebsites.net/PM_Carlos-Reyes2.html",target:"_blank",rel:"noopener noreferrer"},"Carlos Reyes-Rico"),"."),r.a.createElement("div",null,"Why?: Click ",r.a.createElement("a",{href:"https://github.com/reyesrico/CovidCharts/blob/master/README.md"},"here")),r.a.createElement("div",null,"Code: ",r.a.createElement("a",{href:"https://github.com/reyesrico/CovidCharts"},"https://github.com/reyesrico/CovidCharts")),r.a.createElement("div",null,"Contact and Follow Me! Twitter: ",r.a.createElement("a",{href:"https://twitter.com/reyesrico"},"@reyesrico")))}}]),a}(n.Component)),f=(a(370),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.countrySelected;return r.a.createElement("div",{className:"instructions"},r.a.createElement("h4",{className:"instructions__title"},"Instructions"),r.a.createElement("ol",{className:"instructions__list"},r.a.createElement("li",null,"Select a country"),r.a.createElement("li",null,"If country has states data: select a state"),r.a.createElement("li",null,"If country has cities data: select a city")),r.a.createElement("div",{className:"instructions__examples"},r.a.createElement("div",null,"Flatten Curves Examples: ",r.a.createElement("b",null,"Germany, Korea (South), United States (NY, NY)")),r.a.createElement("button",{className:"instructions__button",onClick:function(t){return t&&localStorage.setItem("country",e.value)}},"Save Default Country")))}}]),a}(n.Component)),y=a(155),E=a.n(y),C=(a(371),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"getSize",value:function(){switch(this.props.size){case"sm":return 8;case"md":return 16;case"lg":return 32;case"xl":return 64;default:return 8}}},{key:"render",value:function(){var e=this.props.message,t=this.getSize();return r.a.createElement("div",{className:"stuffie-loading"},r.a.createElement(E.a,{type:"spin",color:"#00f",height:t,width:t}),e&&r.a.createElement("div",{className:"stuffie-loading__message"},e))}}]),a}(n.Component)),b=a(16),O=a(85),g=a.n(O),D=a(156),S=a.n(D),j=a(10),_=a.n(j),k={chart:{height:250,zoomType:"x"},title:{text:""},legend:{enabled:!1},xAxis:{type:"datetime"},tooltip:{shared:!0},credits:{enabled:!1},plotOptions:{areaspline:{fillOpacity:.1}}},I=(a(372),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={series:{},yValues:{Confirmed:!0,Deaths:!1,Recovered:!1,Active:!1,ConfirmedInc:!1,DeathsInc:!1,RecoveredInc:!1,ActiveInc:!1}},e.clearYValues=function(){var t={};Object.keys(e.state.yValues).forEach((function(e){var a="Confirmed"===e;t=Object(i.a)(Object(i.a)({},t),{},Object(b.a)({},e,a))})),e.setState({yValues:t})},e.yValuesFalse=function(){return!Object.values(e.state.yValues).reduce((function(e,t){return e||t}))},e.renderOptions=function(){var t=e.state.yValues;return r.a.createElement("div",{className:"make-chart__options"},r.a.createElement("div",{className:"make-chart__values"},"Values (Y Axis)"),Object.keys(t).map((function(a,n){var c=t[a];return r.a.createElement("div",{key:n},r.a.createElement("input",{checked:c,type:"checkbox",name:"yaxis",value:a,id:a,onChange:function(t){return t&&e.changeInput(a)}}),a)})))},e.getData=function(){var t=e.props.data,a=e.state.yValues;if(!e.yValuesFalse()){var n=[],r=[],c=[],o=[],i=[],l=[],s=[],u=[];t.forEach((function(e,d){if(a.Confirmed&&n.push([_()(e.Date).valueOf(),e.Confirmed]),a.Deaths&&r.push([_()(e.Date).valueOf(),e.Deaths]),a.Recovered&&c.push([_()(e.Date).valueOf(),e.Recovered]),a.Active&&o.push([_()(e.Date).valueOf(),e.Active]),0===d)a.ConfirmedInc&&i.push([_()(e.Date).valueOf(),0]),a.DeathsInc&&l.push([_()(e.Date).valueOf(),0]),a.RecoveredInc&&s.push([_()(e.Date).valueOf(),0]),a.ActiveInc&&u.push([_()(e.Date).valueOf(),0]);else{var m=t[d-1];a.ConfirmedInc&&i.push([_()(e.Date).valueOf(),e.Confirmed-m.Confirmed]),a.DeathsInc&&l.push([_()(e.Date).valueOf(),e.Deaths-m.Deaths]),a.RecoveredInc&&s.push([_()(e.Date).valueOf(),e.Recovered-m.Recovered]),a.ActiveInc&&u.push([_()(e.Date).valueOf(),e.Active-m.Active])}}));var d=[];a.Confirmed&&d.push({type:"area",name:"Confirmed",data:n}),a.Deaths&&d.push({type:"area",name:"Deaths",data:r}),a.Recovered&&d.push({type:"area",name:"Recovered",data:c}),a.Active&&d.push({type:"area",name:"Active",data:o}),a.ConfirmedInc&&d.push({type:"area",name:"ConfirmedInc",data:i}),a.DeathsInc&&d.push({type:"area",name:"DeathsInc",data:l}),a.RecoveredInc&&d.push({type:"area",name:"RecoveredInc",data:s}),a.ActiveInc&&d.push({type:"area",name:"ActiveInc",data:u}),e.setState({series:d})}},e.renderChart=function(){var t=e.props.width,a=e.state.series,n=Object(i.a)(Object(i.a)({},k),{},{chart:Object(i.a)(Object(i.a)({},k.chart),{},{width:t}),series:a});if(!Object(v.isEmpty)(a))return r.a.createElement(S.a,{highcharts:g.a,options:n})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.yValues;Object(v.isEqual)(t.yValues,a)||(this.yValuesFalse()?this.clearYValues():this.getData())}},{key:"changeInput",value:function(e){var t=this.state.yValues[e],a=Object(i.a)({},this.state.yValues);a[e]=!t,this.setState({yValues:a})}},{key:"render",value:function(){return r.a.createElement("div",{className:"make-chart"},this.renderOptions(),r.a.createElement("hr",null),this.renderChart())}}]),a}(n.Component)),x=function(e){return e&&e.some((function(e){return""!==e.Province}))},w=function(e){return e&&e.some((function(e){return""!==e.City}))},N=function(e){var t={};return e.forEach((function(e){var a=""===e.Province?"Undefined":e.Province,n=""===e.City?"Undefined":e.City,r=Object(i.a)(Object(i.a)({},e),{},{Province:a,City:n});Object.keys(t).includes(r.Province)?t[r.Province].push(r):t=Object(i.a)(Object(i.a)({},t),{},Object(b.a)({},r.Province,[r]))})),t},A=function(e,t){return e[t.label].map((function(e){return e.City})).filter((function(e,t,a){return a.indexOf(e)===t})).sort().map((function(e){return{value:e,name:e,label:e}}))},V=function(e,t,a){return e[t.label].filter((function(e){return e.City===a.label}))},R=function(e){if(e.length){for(var t=e[0],a=[t.Confirmed],n=[t.Deaths],r=1;r<e.length;r++){t=e[r];var c=e[r-1];a[r]=t.Confirmed-c.Confirmed,n[r]=t.Deaths-c.Deaths}return e.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{Confirmed:a[t]})}))}},M=function(e){return Object.keys(e).sort().map((function(e){return{name:e,label:e,value:e}}))},P=function(e){return e.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{Date:_()(e.Date).format("MMM Do")})}))},Y=a(45),L=a.n(Y),G={"cache-control":"no-cache","x-apikey":"5c932ad1cac6621685acc11e"},K=function(){return"https://api.covid19api.com/countries"},T=function(e){return"https://api.covid19api.com/dayone/country/".concat(e)},z=function(e){return L.a.get(T(e),{headers:G})},U=(a(389),a(390),function(e){var t=e.options,a=e.selected,n=e.onChange;return r.a.createElement("div",{className:"chart-options"},t.map((function(e,t){return r.a.createElement("label",{key:t},r.a.createElement("input",{type:"radio",name:"vote",value:e.value,key:t,checked:a===e.value,onChange:n}),e.text)})))}),F=(a(391),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={isLoading:!1,countryData:[],yValues:[{value:"Confirmed",text:"Confirmed"},{value:"Deaths",text:"Deaths"},{value:"Recovered",text:"Recovered"},{value:"Active",text:"Active"}],selectedY:"Confirmed"},e.getCountryInfo=function(){var t=e.props,a=t.countryCompare,n=t.hasProvinces;e.setState({countryData:[]}),n||(e.setState({isLoading:!0}),z(a.value).then((function(t){return e.setState({countryData:t.data})})).finally((function(){return e.setState({isLoading:!1})})))},e.getData=function(){var t=e.props,a=t.data,n=t.countryCompare,r=e.state,c=r.countryData,o=r.selectedY,l=[];if(a.length&&c.length){var s={};c.forEach((function(e){s=Object(i.a)(Object(i.a)({},s),{},Object(b.a)({},e.Date,e))})),l=a.map((function(e){var t,a=s[e.Date];return t={},Object(b.a)(t,e.Country,e[o]),Object(b.a)(t,n.label,a?a[o]:0),Object(b.a)(t,"Date",e.Date),t}))}return l},e.renderChart=function(){var t=e.props.width,a=e.getData();if(!a||!a.length)return r.a.createElement("div",null,"Data no available");a=P(a);var n=Object.keys(a[0]);return r.a.createElement(h.b,{width:t,height:250,data:a,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"color1",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})),r.a.createElement("linearGradient",{id:"color2",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0}))),r.a.createElement(h.e,{dataKey:"Date"}),r.a.createElement(h.f,null),r.a.createElement(h.c,{strokeDasharray:"3 3"}),r.a.createElement(h.d,null),r.a.createElement(h.a,{type:"monotone",dataKey:n[0],stroke:"#82ca9d",fillOpacity:1,fill:"url(#color1)"}),r.a.createElement(h.a,{type:"monotone",dataKey:n[1],stroke:"#8884d8",fillOpacity:1,fill:"url(#color2)"}))},e.renderOptions=function(){var t=e.state,a=t.yValues,n=t.selectedY;return r.a.createElement("div",{className:"compare-chart__options"},r.a.createElement("div",{className:"compare-chart__values"},"Values (Y Axis)"),r.a.createElement(U,{options:a,selected:n,onChange:function(t){return t&&e.setState({selectedY:t.target.value})}}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getCountryInfo()}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.countryCompare;Object(v.isEqual)(e.countryCompare,a)||this.getCountryInfo()}},{key:"render",value:function(){return this.props.hasProvinces?r.a.createElement("div",null,"Country not available to compare"):r.a.createElement("div",{className:"compare-chart"},this.renderOptions(),r.a.createElement("hr",null),this.renderChart())}}]),a}(n.Component)),q=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={defaultCountrySlug:localStorage.getItem("country")||"mexico",menu:{fn:null},all:null,country:[],countryData:[],countries:[],countrySelected:{name:null,Country:"",value:"",label:null},countryCompare:{name:null,Country:"",value:"",label:null},isLoading:!1,provinces:[],provinceData:[],provinceSelected:{name:null,value:"",label:null},cities:[],citySelected:{name:null,value:"",label:null},usMap:{},isError:!1,width:500},e.getCountryInfo=function(){var t=e.state.countrySelected;e.setState({isLoading:!0,isError:!1}),z(t.value).then((function(t){var a,n,r,c,o,i=t.data;x(i)?(a=N(i),r=(n=M(a))[0],w(i)&&(o=(c=A(a,r))[0]),e.setState({usMap:a,country:i,cities:c,provinces:n,provinceSelected:r,citySelected:o})):e.setState({country:i,usMap:{},provinceSelected:{name:null},provinces:[],provinceData:[],citySelected:{name:null},cities:[]})})).catch((function(){return e.setState({isError:!0})})).finally((function(){return e.setState({isLoading:!1})}))},e.getData=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state,c=r.usMap,o=r.citySelected,i=r.provinceSelected,l=w(t)?V(c,i,o):x(t)?c[i.label]:t;return l=n?P(l):l,a?R(l):l},e.renderTitle=function(){var t,a,n=e.state,r=n.citySelected,c=n.provinceSelected,o=n.countrySelected;return null!==(t=null!==(a=null===r||void 0===r?void 0:r.label)&&void 0!==a?a:null===c||void 0===c?void 0:c.label)&&void 0!==t?t:o.label},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.defaultCountrySlug,a=window.innerWidth,n=a>=500?500:.8*a;L.a.get(K(),{headers:G}).then((function(a){var r=Object(v.sortBy)(a.data,["Slug"]),c=0,o=r.map((function(e,a){return e.Slug===t&&(c=a),Object(i.a)(Object(i.a)({},e),{},{value:e.Slug,label:e.Country,name:e.Slug})}));e.setState({countries:o,countrySelected:o[c],countryCompare:o[81],width:n})}))}},{key:"componentDidUpdate",value:function(e,t){if(this.state.isError)this.getCountryInfo();else if(!this.state.isLoading)if(Object(v.isEqual)(t.countrySelected,this.state.countrySelected)){if(!Object(v.isEqual)(t.provinceSelected,this.state.provinceSelected)&&w(this.state.country)){var a=A(this.state.usMap,this.state.provinceSelected);this.setState({cities:a,citySelected:a[0]})}}else this.getCountryInfo()}},{key:"renderChart",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.state.width,n=this.getData(e,t);return n&&n.length?r.a.createElement(h.b,{width:a,height:250,data:n,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"colorDeaths",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),r.a.createElement("linearGradient",{id:"colorConfirmed",x1:"0",y1:"0",x2:"0",y2:"1"},r.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),r.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),r.a.createElement(h.e,{dataKey:"Date"}),r.a.createElement(h.f,null),r.a.createElement(h.c,{strokeDasharray:"3 3"}),r.a.createElement(h.d,null),r.a.createElement(h.a,{type:"monotone",dataKey:"Confirmed",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorConfirmed)"}),r.a.createElement(h.a,{type:"monotone",dataKey:"Deaths",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorDeaths)"})):r.a.createElement("div",null,"No data")}},{key:"renderCompareChart",value:function(e){var t=this,a=this.state,n=a.country,c=a.countries,o=a.countryCompare,i=a.width;return r.a.createElement("div",{className:"covid__chart"},r.a.createElement("h3",{className:"covid__chart-text"},"Compare with other country"),r.a.createElement("div",{className:"covid__chart-select"},r.a.createElement(m.a,{onChange:function(e){return t.setState({countryCompare:e})},options:c,value:o})),n.length&&r.a.createElement(F,{data:this.getData(n,!1,!1),width:i,countryCompare:o,hasProvinces:e}))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.country,c=a.countries,o=a.countrySelected,i=a.isLoading,l=a.provinces,s=a.provinceSelected,u=a.cities,d=a.citySelected,h=a.usMap,v=a.width,y=a.isError,E=null!==(e=o.label)&&void 0!==e?e:"Country";if(!c.length||i)return r.a.createElement(C,{size:"xl",message:"Loading ".concat(E," Data")});var b=x(n),O=w(n);return r.a.createElement("div",{className:"covid"},r.a.createElement("h2",{className:"covid__title"},"COVID ",o.label," Charts"),r.a.createElement("h3",{className:"covid__subtitle"},"Data Source: ",r.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19"},"Johns Hopkins CSSE")),r.a.createElement(f,{countrySelected:o}),y&&r.a.createElement("div",{className:"covid__error"},"Error Getting Data: Try Again"),r.a.createElement("div",{className:"covid__dropdowns"},r.a.createElement(m.a,{onChange:function(e){return t.setState({countrySelected:e})},options:c,value:o}),b&&r.a.createElement(m.a,{onChange:function(e){return t.setState({provinceSelected:e})},options:l,value:s}),O&&r.a.createElement(m.a,{onChange:function(e){return t.setState({citySelected:e})},options:u,value:d})),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__charts"},r.a.createElement("h3",{className:"covid__chart-text"},"Total Confirmed and Deaths"),this.renderChart(n),r.a.createElement("hr",null),r.a.createElement("h3",{className:"covid__chart-text"},"Incremental Confirmed (To Date - One Day Before) and Deaths"),this.renderChart(n,!0),r.a.createElement("hr",null),!b&&this.renderCompareChart(b),r.a.createElement("hr",null),r.a.createElement("h3",{className:"covid__chart-text"},"Make Your Own ",this.renderTitle()," Chart"),r.a.createElement(I,{countries:c,data:this.getData(n,!1,!1),map:h,width:v}),r.a.createElement("hr",null),r.a.createElement("div",{className:"covid__texts"},r.a.createElement("div",{className:"covid__text"},o.label),b&&r.a.createElement("div",{className:"covid__text"},null===s||void 0===s?void 0:s.label),O&&r.a.createElement("div",{className:"covid__text"},null===d||void 0===d?void 0:d.label))),r.a.createElement(p,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[187,1,2]]]);
//# sourceMappingURL=main.9e713798.chunk.js.map